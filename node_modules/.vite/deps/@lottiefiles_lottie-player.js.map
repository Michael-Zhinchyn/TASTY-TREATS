{
  "version": 3,
  "sources": ["../../@lottiefiles/lottie-player/node_modules/tslib/tslib.es6.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/css-tag.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/reactive-element.js", "../../@lottiefiles/lottie-player/node_modules/lit-html/lit-html.js", "../../@lottiefiles/lottie-player/node_modules/lit-element/lit-element.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/custom-element.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/property.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/state.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/base.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/event-options.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/query.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/query-all.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/query-async.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/query-assigned-elements.js", "../../@lottiefiles/lottie-player/node_modules/@lit/reactive-element/decorators/query-assigned-nodes.js", "../../@lottiefiles/lottie-player/node_modules/lottie-web/build/player/lottie.js", "../../@lottiefiles/lottie-player/src/lottie-player.styles.ts", "../../@lottiefiles/lottie-player/src/versions.ts", "../../@lottiefiles/lottie-player/src/lottie-player.ts"],
  "sourcesContent": ["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n", "/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,e=Symbol(),n=new Map;class s{constructor(t,n){if(this._$cssResult$=!0,n!==e)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t}get styleSheet(){let e=n.get(this.cssText);return t&&void 0===e&&(n.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const o=t=>new s(\"string\"==typeof t?t:t+\"\",e),r=(t,...n)=>{const o=1===t.length?t[0]:n.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(n)+t[s+1]),t[0]);return new s(o,e)},i=(e,n)=>{t?e.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((t=>{const n=document.createElement(\"style\"),s=window.litNonce;void 0!==s&&n.setAttribute(\"nonce\",s),n.textContent=t.cssText,e.appendChild(n)}))},S=t?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const n of t.cssRules)e+=n.cssText;return o(e)})(t):t;export{s as CSSResult,i as adoptStyles,r as css,S as getCompatibleStyle,t as supportsAdoptingStyleSheets,o as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n", "import{getCompatibleStyle as t,adoptStyles as i}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var s;const e=window.trustedTypes,r=e?e.emptyScript:\"\",h=window.reactiveElementPolyfillSupport,o={toAttribute(t,i){switch(i){case Boolean:t=t?r:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},n=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:o,reflect:!1,hasChanged:n};class a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var i;null!==(i=this.l)&&void 0!==i||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Eh(s,i);void 0!==e&&(this._$Eu.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty(\"finalized\"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(t(i))}else void 0!==i&&s.push(t(i));return s}static _$Eh(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$Eg)&&void 0!==i?i:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$Eg)||void 0===i||i.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Et.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$ES(t,i,s=l){var e,r;const h=this.constructor._$Eh(t,s);if(void 0!==h&&!0===s.reflect){const n=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:o.toAttribute)(i,s.type);this._$Ei=t,null==n?this.removeAttribute(h):this.setAttribute(h,n),this._$Ei=null}}_$AK(t,i){var s,e,r;const h=this.constructor,n=h._$Eu.get(t);if(void 0!==n&&this._$Ei!==n){const t=h.getPropertyOptions(n),l=t.converter,a=null!==(r=null!==(e=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==e?e:\"function\"==typeof l?l:null)&&void 0!==r?r:o.fromAttribute;this._$Ei=n,this[n]=a(i,t.type),this._$Ei=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||n)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,i)=>this[i]=t)),this._$Et=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$EU()}catch(t){throw i=!1,this._$EU(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$Eg)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$E_&&(this._$E_.forEach(((t,i)=>this._$ES(i,this[i],t))),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}}a.finalized=!0,a.elementProperties=new Map,a.elementStyles=[],a.shadowRootOptions={mode:\"open\"},null==h||h({ReactiveElement:a}),(null!==(s=globalThis.reactiveElementVersions)&&void 0!==s?s:globalThis.reactiveElementVersions=[]).push(\"1.2.1\");export{a as ReactiveElement,o as defaultConverter,n as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=globalThis.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=`lit$${(Math.random()+\"\").slice(9)}$`,o=\"?\"+e,n=`<${o}>`,l=document,h=(t=\"\")=>l.createComment(t),r=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,d=Array.isArray,u=t=>{var i;return d(t)||\"function\"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},c=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ \t\\n\f\\r](?:([^\\s\"'>=/]+)([ \t\\n\f\\r]*=[ \t\\n\f\\r]*(?:[^ \t\\n\f\\r\"'`<>=]|(\"|')|))|$)/g,_=/'/g,m=/\"/g,g=/^(?:script|style|textarea)$/i,p=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),$=p(1),y=p(2),b=Symbol.for(\"lit-noChange\"),w=Symbol.for(\"lit-nothing\"),T=new WeakMap,x=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(h(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l},A=l.createTreeWalker(l,129,null,!1),C=(t,i)=>{const o=t.length-1,l=[];let h,r=2===i?\"<svg>\":\"\",d=c;for(let i=0;i<o;i++){const s=t[i];let o,u,p=-1,$=0;for(;$<s.length&&(d.lastIndex=$,u=d.exec(s),null!==u);)$=d.lastIndex,d===c?\"!--\"===u[1]?d=v:void 0!==u[1]?d=a:void 0!==u[2]?(g.test(u[2])&&(h=RegExp(\"</\"+u[2],\"g\")),d=f):void 0!==u[3]&&(d=f):d===f?\">\"===u[0]?(d=null!=h?h:c,p=-1):void 0===u[1]?p=-2:(p=d.lastIndex-u[2].length,o=u[1],d=void 0===u[3]?f:'\"'===u[3]?m:_):d===m||d===_?d=f:d===v||d===a?d=c:(d=f,h=void 0);const y=d===f&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=d===c?s+n:p>=0?(l.push(o),s.slice(0,p)+\"$lit$\"+s.slice(p)+e+y):s+e+(-2===p?(l.push(void 0),i):y)}const u=r+(t[o]||\"<?>\")+(2===i?\"</svg>\":\"\");if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return[void 0!==s?s.createHTML(u):u,l]};class E{constructor({strings:t,_$litType$:s},n){let l;this.parts=[];let r=0,d=0;const u=t.length-1,c=this.parts,[v,a]=C(t,s);if(this.el=E.createElement(v,n),A.currentNode=this.el.content,2===s){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(e)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+\"$lit$\").split(e),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?M:\"?\"===i[1]?H:\"@\"===i[1]?I:S})}else c.push({type:6,index:r})}for(const i of t)l.removeAttribute(i)}if(g.test(l.tagName)){const t=l.textContent.split(e),s=t.length-1;if(s>0){l.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)l.append(t[i],h()),A.nextNode(),c.push({type:2,index:++r});l.append(t[s],h())}}}else if(8===l.nodeType)if(l.data===o)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=l.data.indexOf(e,t+1));)c.push({type:7,index:r}),t+=e.length-1}r++}}static createElement(t,i){const s=l.createElement(\"template\");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===b)return i;let d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu;const u=r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t),d._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}class V{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:l).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),h=0,r=0,d=e[0];for(;void 0!==d;){if(h===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new L(n,this,t)),this.v.push(i),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}m(t){let i=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),r(t)?t===w||null==t||\"\"===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):u(t)?this.A(t):this.$(t)}M(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.S(l.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=E.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{const t=new V(o,this),i=t.p(this.options);t.m(s),this.S(i),this._$AH=t}}_$AC(t){let i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new E(t)),i}A(t){d(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.M(h()),this.M(h()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cg=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class S{constructor(t,i,s,e,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!r(t)||t!==this._$AH&&t!==b,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===b&&(h=this._$AH[l]),n||(n=!r(h)||h!==this._$AH[l]),h===w?t=w:t!==w&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.k(t)}k(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class M extends S{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===w?void 0:t}}const k=i?i.emptyScript:\"\";class H extends S{constructor(){super(...arguments),this.type=4}k(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)===b)return;const e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const R={P:\"$lit$\",V:e,L:o,I:1,N:C,R:V,D:u,j:P,H:N,O:S,F:H,B:I,W:M,Z:L},z=window.litHtmlPolyfillSupport;null==z||z(E,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push(\"2.1.2\");export{R as _$LH,$ as html,b as noChange,w as nothing,x as render,y as svg};\n//# sourceMappingURL=lit-html.js.map\n", "import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var l,o;const r=t;class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return i}}s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});const n=globalThis.litElementPolyfillSupport;null==n||n({LitElement:s});const h={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push(\"3.1.2\");export{s as LitElement,r as UpdatingElement,h as _$LE};\n//# sourceMappingURL=lit-element.js.map\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst n=n=>e=>\"function\"==typeof e?((n,e)=>(window.customElements.define(n,e),e))(n,e):((n,e)=>{const{kind:t,elements:i}=e;return{kind:t,elements:i,finisher(e){window.customElements.define(n,e)}}})(n,e);export{n as customElement};\n//# sourceMappingURL=custom-element.js.map\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst i=(i,e)=>\"method\"===e.kind&&e.descriptor&&!(\"value\"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:\"field\",key:Symbol(),placement:\"own\",descriptor:{},originalKey:e.key,initializer(){\"function\"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}};function e(e){return(n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i)})(e,n,t):i(e,n)}export{e as property};\n//# sourceMappingURL=property.js.map\n", "import{property as r}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function t(t){return r({...t,state:!0})}export{t as state};\n//# sourceMappingURL=state.js.map\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,o)=>{Object.defineProperty(t,o,e)},t=(e,t)=>({kind:\"method\",placement:\"prototype\",key:t.key,descriptor:e}),o=({finisher:e,descriptor:t})=>(o,n)=>{var r;if(void 0===n){const n=null!==(r=o.originalKey)&&void 0!==r?r:o.key,i=null!=t?{kind:\"method\",placement:\"prototype\",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(i.finisher=function(t){e(t,n)}),i}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(r,n)}};export{o as decorateProperty,e as legacyPrototypeMethod,t as standardPrototypeMethod};\n//# sourceMappingURL=base.js.map\n", "import{decorateProperty as r}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e(e){return r({finisher:(r,t)=>{Object.assign(r.prototype[t],e)}})}export{e as eventOptions};\n//# sourceMappingURL=event-options.js.map\n", "import{decorateProperty as o}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function i(i,n){return o({descriptor:o=>{const t={get(){var o,n;return null!==(n=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(n){const n=\"symbol\"==typeof o?Symbol():\"__\"+o;t.get=function(){var o,t;return void 0===this[n]&&(this[n]=null!==(t=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==t?t:null),this[n]}}return t}})}export{i as query};\n//# sourceMappingURL=query.js.map\n", "import{decorateProperty as r}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e(e){return r({descriptor:r=>({get(){var r,o;return null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelectorAll(e))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})}export{e as queryAll};\n//# sourceMappingURL=query-all.js.map\n", "import{decorateProperty as r}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nfunction e(e){return r({descriptor:r=>({async get(){var r;return await this.updateComplete,null===(r=this.renderRoot)||void 0===r?void 0:r.querySelector(e)},enumerable:!0,configurable:!0})})}export{e as queryAsync};\n//# sourceMappingURL=query-async.js.map\n", "import{decorateProperty as o}from\"./base.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var n;const e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function l(n){const{slot:l,selector:t}=null!=n?n:{};return o({descriptor:o=>({get(){var o;const r=\"slot\"+(l?`[name=${l}]`:\":not([name])\"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}export{l as queryAssignedElements};\n//# sourceMappingURL=query-assigned-elements.js.map\n", "import{decorateProperty as e}from\"./base.js\";import{queryAssignedElements as t}from\"./query-assigned-elements.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function o(o,n,r){let l,s=o;return\"object\"==typeof o?(s=o.slot,l=o):l={flatten:n},r?t({slot:s,flatten:n,selector:r}):e({descriptor:e=>({get(){var e,t;const o=\"slot\"+(s?`[name=${s}]`:\":not([name])\"),n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(o);return null!==(t=null==n?void 0:n.assignedNodes(l))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}export{o as queryAssignedNodes};\n//# sourceMappingURL=query-assigned-nodes.js.map\n", "(typeof navigator !== \"undefined\") && (function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n  typeof define === 'function' && define.amd ? define(factory) :\r\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\r\n})(this, (function () { 'use strict';\r\n\r\n  var svgNS = 'http://www.w3.org/2000/svg';\r\n  var locationHref = '';\r\n  var _useWebWorker = false;\r\n  var initialDefaultFrame = -999999;\r\n\r\n  var setWebWorker = function setWebWorker(flag) {\r\n    _useWebWorker = !!flag;\r\n  };\r\n\r\n  var getWebWorker = function getWebWorker() {\r\n    return _useWebWorker;\r\n  };\r\n\r\n  var setLocationHref = function setLocationHref(value) {\r\n    locationHref = value;\r\n  };\r\n\r\n  var getLocationHref = function getLocationHref() {\r\n    return locationHref;\r\n  };\r\n\r\n  function createTag(type) {\r\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n    return document.createElement(type);\r\n  }\r\n\r\n  function extendPrototype(sources, destination) {\r\n    var i;\r\n    var len = sources.length;\r\n    var sourcePrototype;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      sourcePrototype = sources[i].prototype;\r\n\r\n      for (var attr in sourcePrototype) {\r\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n      }\r\n    }\r\n  }\r\n\r\n  function getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n  }\r\n\r\n  function createProxyFunction(prototype) {\r\n    function ProxyFunction() {}\r\n\r\n    ProxyFunction.prototype = prototype;\r\n    return ProxyFunction;\r\n  }\r\n\r\n  // import Howl from '../../3rd_party/howler';\r\n  var audioControllerFactory = function () {\r\n    function AudioController(audioFactory) {\r\n      this.audios = [];\r\n      this.audioFactory = audioFactory;\r\n      this._volume = 1;\r\n      this._isMuted = false;\r\n    }\r\n\r\n    AudioController.prototype = {\r\n      addAudio: function addAudio(audio) {\r\n        this.audios.push(audio);\r\n      },\r\n      pause: function pause() {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].pause();\r\n        }\r\n      },\r\n      resume: function resume() {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].resume();\r\n        }\r\n      },\r\n      setRate: function setRate(rateValue) {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].setRate(rateValue);\r\n        }\r\n      },\r\n      createAudio: function createAudio(assetPath) {\r\n        if (this.audioFactory) {\r\n          return this.audioFactory(assetPath);\r\n        }\r\n\r\n        if (window.Howl) {\r\n          return new window.Howl({\r\n            src: [assetPath]\r\n          });\r\n        }\r\n\r\n        return {\r\n          isPlaying: false,\r\n          play: function play() {\r\n            this.isPlaying = true;\r\n          },\r\n          seek: function seek() {\r\n            this.isPlaying = false;\r\n          },\r\n          playing: function playing() {},\r\n          rate: function rate() {},\r\n          setVolume: function setVolume() {}\r\n        };\r\n      },\r\n      setAudioFactory: function setAudioFactory(audioFactory) {\r\n        this.audioFactory = audioFactory;\r\n      },\r\n      setVolume: function setVolume(value) {\r\n        this._volume = value;\r\n\r\n        this._updateVolume();\r\n      },\r\n      mute: function mute() {\r\n        this._isMuted = true;\r\n\r\n        this._updateVolume();\r\n      },\r\n      unmute: function unmute() {\r\n        this._isMuted = false;\r\n\r\n        this._updateVolume();\r\n      },\r\n      getVolume: function getVolume() {\r\n        return this._volume;\r\n      },\r\n      _updateVolume: function _updateVolume() {\r\n        var i;\r\n        var len = this.audios.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n        }\r\n      }\r\n    };\r\n    return function () {\r\n      return new AudioController();\r\n    };\r\n  }();\r\n\r\n  var createTypedArray = function () {\r\n    function createRegularArray(type, len) {\r\n      var i = 0;\r\n      var arr = [];\r\n      var value;\r\n\r\n      switch (type) {\r\n        case 'int16':\r\n        case 'uint8c':\r\n          value = 1;\r\n          break;\r\n\r\n        default:\r\n          value = 1.1;\r\n          break;\r\n      }\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        arr.push(value);\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function createTypedArrayFactory(type, len) {\r\n      if (type === 'float32') {\r\n        return new Float32Array(len);\r\n      }\r\n\r\n      if (type === 'int16') {\r\n        return new Int16Array(len);\r\n      }\r\n\r\n      if (type === 'uint8c') {\r\n        return new Uint8ClampedArray(len);\r\n      }\r\n\r\n      return createRegularArray(type, len);\r\n    }\r\n\r\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n      return createTypedArrayFactory;\r\n    }\r\n\r\n    return createRegularArray;\r\n  }();\r\n\r\n  function createSizedArray(len) {\r\n    return Array.apply(null, {\r\n      length: len\r\n    });\r\n  }\r\n\r\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\r\n  var subframeEnabled = true;\r\n  var expressionsPlugin = null;\r\n  var expressionsInterfaces = null;\r\n  var idPrefix$1 = '';\r\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n  var _shouldRoundValues = false;\r\n  var bmPow = Math.pow;\r\n  var bmSqrt = Math.sqrt;\r\n  var bmFloor = Math.floor;\r\n  var bmMax = Math.max;\r\n  var bmMin = Math.min;\r\n  var BMMath = {};\r\n\r\n  (function () {\r\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n    var i;\r\n    var len = propertyNames.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n  })();\r\n\r\n  function ProjectInterface$1() {\r\n    return {};\r\n  }\r\n\r\n  BMMath.random = Math.random;\r\n\r\n  BMMath.abs = function (val) {\r\n    var tOfVal = _typeof$6(val);\r\n\r\n    if (tOfVal === 'object' && val.length) {\r\n      var absArr = createSizedArray(val.length);\r\n      var i;\r\n      var len = val.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        absArr[i] = Math.abs(val[i]);\r\n      }\r\n\r\n      return absArr;\r\n    }\r\n\r\n    return Math.abs(val);\r\n  };\r\n\r\n  var defaultCurveSegments = 150;\r\n  var degToRads = Math.PI / 180;\r\n  var roundCorner = 0.5519;\r\n\r\n  function roundValues(flag) {\r\n    _shouldRoundValues = !!flag;\r\n  }\r\n\r\n  function bmRnd(value) {\r\n    if (_shouldRoundValues) {\r\n      return Math.round(value);\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  function styleDiv(element) {\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = '0 0';\r\n    element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility = 'visible';\r\n    element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = 'preserve-3d';\r\n    element.style.webkitTransformStyle = 'preserve-3d';\r\n    element.style.mozTransformStyle = 'preserve-3d';\r\n  }\r\n\r\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n    this.type = type;\r\n    this.currentTime = currentTime;\r\n    this.totalTime = totalTime;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n  }\r\n\r\n  function BMCompleteEvent(type, frameMultiplier) {\r\n    this.type = type;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n  }\r\n\r\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n    this.type = type;\r\n    this.currentLoop = currentLoop;\r\n    this.totalLoops = totalLoops;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n  }\r\n\r\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n    this.type = type;\r\n    this.firstFrame = firstFrame;\r\n    this.totalFrames = totalFrames;\r\n  }\r\n\r\n  function BMDestroyEvent(type, target) {\r\n    this.type = type;\r\n    this.target = target;\r\n  }\r\n\r\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n    this.type = 'renderFrameError';\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n  }\r\n\r\n  function BMConfigErrorEvent(nativeError) {\r\n    this.type = 'configError';\r\n    this.nativeError = nativeError;\r\n  }\r\n\r\n  function BMAnimationConfigErrorEvent(type, nativeError) {\r\n    this.type = type;\r\n    this.nativeError = nativeError;\r\n  }\r\n\r\n  var createElementID = function () {\r\n    var _count = 0;\r\n    return function createID() {\r\n      _count += 1;\r\n      return idPrefix$1 + '__lottie_element_' + _count;\r\n    };\r\n  }();\r\n\r\n  function HSVtoRGB(h, s, v) {\r\n    var r;\r\n    var g;\r\n    var b;\r\n    var i;\r\n    var f;\r\n    var p;\r\n    var q;\r\n    var t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n\r\n    switch (i % 6) {\r\n      case 0:\r\n        r = v;\r\n        g = t;\r\n        b = p;\r\n        break;\r\n\r\n      case 1:\r\n        r = q;\r\n        g = v;\r\n        b = p;\r\n        break;\r\n\r\n      case 2:\r\n        r = p;\r\n        g = v;\r\n        b = t;\r\n        break;\r\n\r\n      case 3:\r\n        r = p;\r\n        g = q;\r\n        b = v;\r\n        break;\r\n\r\n      case 4:\r\n        r = t;\r\n        g = p;\r\n        b = v;\r\n        break;\r\n\r\n      case 5:\r\n        r = v;\r\n        g = p;\r\n        b = q;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return [r, g, b];\r\n  }\r\n\r\n  function RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var d = max - min;\r\n    var h;\r\n    var s = max === 0 ? 0 : d / max;\r\n    var v = max / 255;\r\n\r\n    switch (max) {\r\n      case min:\r\n        h = 0;\r\n        break;\r\n\r\n      case r:\r\n        h = g - b + d * (g < b ? 6 : 0);\r\n        h /= 6 * d;\r\n        break;\r\n\r\n      case g:\r\n        h = b - r + d * 2;\r\n        h /= 6 * d;\r\n        break;\r\n\r\n      case b:\r\n        h = r - g + d * 4;\r\n        h /= 6 * d;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return [h, s, v];\r\n  }\r\n\r\n  function addSaturationToRGB(color, offset) {\r\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n    hsv[1] += offset;\r\n\r\n    if (hsv[1] > 1) {\r\n      hsv[1] = 1;\r\n    } else if (hsv[1] <= 0) {\r\n      hsv[1] = 0;\r\n    }\r\n\r\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n  }\r\n\r\n  function addBrightnessToRGB(color, offset) {\r\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n    hsv[2] += offset;\r\n\r\n    if (hsv[2] > 1) {\r\n      hsv[2] = 1;\r\n    } else if (hsv[2] < 0) {\r\n      hsv[2] = 0;\r\n    }\r\n\r\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n  }\r\n\r\n  function addHueToRGB(color, offset) {\r\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n    hsv[0] += offset / 360;\r\n\r\n    if (hsv[0] > 1) {\r\n      hsv[0] -= 1;\r\n    } else if (hsv[0] < 0) {\r\n      hsv[0] += 1;\r\n    }\r\n\r\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n  }\r\n\r\n  var rgbToHex = function () {\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n\r\n    for (i = 0; i < 256; i += 1) {\r\n      hex = i.toString(16);\r\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function (r, g, b) {\r\n      if (r < 0) {\r\n        r = 0;\r\n      }\r\n\r\n      if (g < 0) {\r\n        g = 0;\r\n      }\r\n\r\n      if (b < 0) {\r\n        b = 0;\r\n      }\r\n\r\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n  }();\r\n\r\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\r\n    subframeEnabled = !!flag;\r\n  };\r\n\r\n  var getSubframeEnabled = function getSubframeEnabled() {\r\n    return subframeEnabled;\r\n  };\r\n\r\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\r\n    expressionsPlugin = value;\r\n  };\r\n\r\n  var getExpressionsPlugin = function getExpressionsPlugin() {\r\n    return expressionsPlugin;\r\n  };\r\n\r\n  var setExpressionInterfaces = function setExpressionInterfaces(value) {\r\n    expressionsInterfaces = value;\r\n  };\r\n\r\n  var getExpressionInterfaces = function getExpressionInterfaces() {\r\n    return expressionsInterfaces;\r\n  };\r\n\r\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\r\n    defaultCurveSegments = value;\r\n  };\r\n\r\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\r\n    return defaultCurveSegments;\r\n  };\r\n\r\n  var setIdPrefix = function setIdPrefix(value) {\r\n    idPrefix$1 = value;\r\n  };\r\n\r\n  var getIdPrefix = function getIdPrefix() {\r\n    return idPrefix$1;\r\n  };\r\n\r\n  function createNS(type) {\r\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n    return document.createElementNS(svgNS, type);\r\n  }\r\n\r\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\r\n\r\n  var dataManager = function () {\r\n    var _counterId = 1;\r\n    var processes = [];\r\n    var workerFn;\r\n    var workerInstance;\r\n    var workerProxy = {\r\n      onmessage: function onmessage() {},\r\n      postMessage: function postMessage(path) {\r\n        workerFn({\r\n          data: path\r\n        });\r\n      }\r\n    };\r\n    var _workerSelf = {\r\n      postMessage: function postMessage(data) {\r\n        workerProxy.onmessage({\r\n          data: data\r\n        });\r\n      }\r\n    };\r\n\r\n    function createWorker(fn) {\r\n      if (window.Worker && window.Blob && getWebWorker()) {\r\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\r\n          type: 'text/javascript'\r\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n\r\n        var url = URL.createObjectURL(blob);\r\n        return new Worker(url);\r\n      }\r\n\r\n      workerFn = fn;\r\n      return workerProxy;\r\n    }\r\n\r\n    function setupWorker() {\r\n      if (!workerInstance) {\r\n        workerInstance = createWorker(function workerStart(e) {\r\n          function dataFunctionManager() {\r\n            function completeLayers(layers, comps) {\r\n              var layerData;\r\n              var i;\r\n              var len = layers.length;\r\n              var j;\r\n              var jLen;\r\n              var k;\r\n              var kLen;\r\n\r\n              for (i = 0; i < len; i += 1) {\r\n                layerData = layers[i];\r\n\r\n                if ('ks' in layerData && !layerData.completed) {\r\n                  layerData.completed = true;\r\n\r\n                  if (layerData.hasMask) {\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (maskProps[j].pt.k.i) {\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                      } else {\r\n                        kLen = maskProps[j].pt.k.length;\r\n\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                          if (maskProps[j].pt.k[k].s) {\r\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                          }\r\n\r\n                          if (maskProps[j].pt.k[k].e) {\r\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n\r\n                  if (layerData.ty === 0) {\r\n                    layerData.layers = findCompLayers(layerData.refId, comps);\r\n                    completeLayers(layerData.layers, comps);\r\n                  } else if (layerData.ty === 4) {\r\n                    completeShapes(layerData.shapes);\r\n                  } else if (layerData.ty === 5) {\r\n                    completeText(layerData);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function completeChars(chars, assets) {\r\n              if (chars) {\r\n                var i = 0;\r\n                var len = chars.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (chars[i].t === 1) {\r\n                    // var compData = findComp(chars[i].data.refId, assets);\r\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\r\n                    // chars[i].data.op = 99999;\r\n                    // chars[i].data.st = 0;\r\n                    // chars[i].data.sr = 1;\r\n                    // chars[i].w = compData.w;\r\n                    // chars[i].data.ks = {\r\n                    //   a: { k: [0, 0, 0], a: 0 },\r\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\r\n                    //   r: { k: 0, a: 0 },\r\n                    //   s: { k: [100, 100], a: 0 },\r\n                    //   o: { k: 100, a: 0 },\r\n                    // };\r\n\r\n                    completeLayers(chars[i].data.layers, assets);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function findComp(id, comps) {\r\n              var i = 0;\r\n              var len = comps.length;\r\n\r\n              while (i < len) {\r\n                if (comps[i].id === id) {\r\n                  return comps[i];\r\n                }\r\n\r\n                i += 1;\r\n              }\r\n\r\n              return null;\r\n            }\r\n\r\n            function findCompLayers(id, comps) {\r\n              var comp = findComp(id, comps);\r\n\r\n              if (comp) {\r\n                if (!comp.layers.__used) {\r\n                  comp.layers.__used = true;\r\n                  return comp.layers;\r\n                }\r\n\r\n                return JSON.parse(JSON.stringify(comp.layers));\r\n              }\r\n\r\n              return null;\r\n            }\r\n\r\n            function completeShapes(arr) {\r\n              var i;\r\n              var len = arr.length;\r\n              var j;\r\n              var jLen;\r\n\r\n              for (i = len - 1; i >= 0; i -= 1) {\r\n                if (arr[i].ty === 'sh') {\r\n                  if (arr[i].ks.k.i) {\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                  } else {\r\n                    jLen = arr[i].ks.k.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (arr[i].ks.k[j].s) {\r\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                      }\r\n\r\n                      if (arr[i].ks.k[j].e) {\r\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (arr[i].ty === 'gr') {\r\n                  completeShapes(arr[i].it);\r\n                }\r\n              }\r\n            }\r\n\r\n            function convertPathsToAbsoluteValues(path) {\r\n              var i;\r\n              var len = path.i.length;\r\n\r\n              for (i = 0; i < len; i += 1) {\r\n                path.i[i][0] += path.v[i][0];\r\n                path.i[i][1] += path.v[i][1];\r\n                path.o[i][0] += path.v[i][0];\r\n                path.o[i][1] += path.v[i][1];\r\n              }\r\n            }\r\n\r\n            function checkVersion(minimum, animVersionString) {\r\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n\r\n              if (minimum[0] > animVersion[0]) {\r\n                return true;\r\n              }\r\n\r\n              if (animVersion[0] > minimum[0]) {\r\n                return false;\r\n              }\r\n\r\n              if (minimum[1] > animVersion[1]) {\r\n                return true;\r\n              }\r\n\r\n              if (animVersion[1] > minimum[1]) {\r\n                return false;\r\n              }\r\n\r\n              if (minimum[2] > animVersion[2]) {\r\n                return true;\r\n              }\r\n\r\n              if (animVersion[2] > minimum[2]) {\r\n                return false;\r\n              }\r\n\r\n              return null;\r\n            }\r\n\r\n            var checkText = function () {\r\n              var minimumVersion = [4, 4, 14];\r\n\r\n              function updateTextLayer(textLayer) {\r\n                var documentData = textLayer.t.d;\r\n                textLayer.t.d = {\r\n                  k: [{\r\n                    s: documentData,\r\n                    t: 0\r\n                  }]\r\n                };\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var i;\r\n                var len = layers.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (layers[i].ty === 5) {\r\n                    updateTextLayer(layers[i]);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkChars = function () {\r\n              var minimumVersion = [4, 7, 99];\r\n              return function (animationData) {\r\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n                  var i;\r\n                  var len = animationData.chars.length;\r\n\r\n                  for (i = 0; i < len; i += 1) {\r\n                    var charData = animationData.chars[i];\r\n\r\n                    if (charData.data && charData.data.shapes) {\r\n                      completeShapes(charData.data.shapes);\r\n                      charData.data.ip = 0;\r\n                      charData.data.op = 99999;\r\n                      charData.data.st = 0;\r\n                      charData.data.sr = 1;\r\n                      charData.data.ks = {\r\n                        p: {\r\n                          k: [0, 0],\r\n                          a: 0\r\n                        },\r\n                        s: {\r\n                          k: [100, 100],\r\n                          a: 0\r\n                        },\r\n                        a: {\r\n                          k: [0, 0],\r\n                          a: 0\r\n                        },\r\n                        r: {\r\n                          k: 0,\r\n                          a: 0\r\n                        },\r\n                        o: {\r\n                          k: 100,\r\n                          a: 0\r\n                        }\r\n                      };\r\n\r\n                      if (!animationData.chars[i].t) {\r\n                        charData.data.shapes.push({\r\n                          ty: 'no'\r\n                        });\r\n                        charData.data.shapes[0].it.push({\r\n                          p: {\r\n                            k: [0, 0],\r\n                            a: 0\r\n                          },\r\n                          s: {\r\n                            k: [100, 100],\r\n                            a: 0\r\n                          },\r\n                          a: {\r\n                            k: [0, 0],\r\n                            a: 0\r\n                          },\r\n                          r: {\r\n                            k: 0,\r\n                            a: 0\r\n                          },\r\n                          o: {\r\n                            k: 100,\r\n                            a: 0\r\n                          },\r\n                          sk: {\r\n                            k: 0,\r\n                            a: 0\r\n                          },\r\n                          sa: {\r\n                            k: 0,\r\n                            a: 0\r\n                          },\r\n                          ty: 'tr'\r\n                        });\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkPathProperties = function () {\r\n              var minimumVersion = [5, 7, 15];\r\n\r\n              function updateTextLayer(textLayer) {\r\n                var pathData = textLayer.t.p;\r\n\r\n                if (typeof pathData.a === 'number') {\r\n                  pathData.a = {\r\n                    a: 0,\r\n                    k: pathData.a\r\n                  };\r\n                }\r\n\r\n                if (typeof pathData.p === 'number') {\r\n                  pathData.p = {\r\n                    a: 0,\r\n                    k: pathData.p\r\n                  };\r\n                }\r\n\r\n                if (typeof pathData.r === 'number') {\r\n                  pathData.r = {\r\n                    a: 0,\r\n                    k: pathData.r\r\n                  };\r\n                }\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var i;\r\n                var len = layers.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (layers[i].ty === 5) {\r\n                    updateTextLayer(layers[i]);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkColors = function () {\r\n              var minimumVersion = [4, 1, 9];\r\n\r\n              function iterateShapes(shapes) {\r\n                var i;\r\n                var len = shapes.length;\r\n                var j;\r\n                var jLen;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (shapes[i].ty === 'gr') {\r\n                    iterateShapes(shapes[i].it);\r\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n                      jLen = shapes[i].c.k.length;\r\n\r\n                      for (j = 0; j < jLen; j += 1) {\r\n                        if (shapes[i].c.k[j].s) {\r\n                          shapes[i].c.k[j].s[0] /= 255;\r\n                          shapes[i].c.k[j].s[1] /= 255;\r\n                          shapes[i].c.k[j].s[2] /= 255;\r\n                          shapes[i].c.k[j].s[3] /= 255;\r\n                        }\r\n\r\n                        if (shapes[i].c.k[j].e) {\r\n                          shapes[i].c.k[j].e[0] /= 255;\r\n                          shapes[i].c.k[j].e[1] /= 255;\r\n                          shapes[i].c.k[j].e[2] /= 255;\r\n                          shapes[i].c.k[j].e[3] /= 255;\r\n                        }\r\n                      }\r\n                    } else {\r\n                      shapes[i].c.k[0] /= 255;\r\n                      shapes[i].c.k[1] /= 255;\r\n                      shapes[i].c.k[2] /= 255;\r\n                      shapes[i].c.k[3] /= 255;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var i;\r\n                var len = layers.length;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (layers[i].ty === 4) {\r\n                    iterateShapes(layers[i].shapes);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            var checkShapes = function () {\r\n              var minimumVersion = [4, 4, 18];\r\n\r\n              function completeClosingShapes(arr) {\r\n                var i;\r\n                var len = arr.length;\r\n                var j;\r\n                var jLen;\r\n\r\n                for (i = len - 1; i >= 0; i -= 1) {\r\n                  if (arr[i].ty === 'sh') {\r\n                    if (arr[i].ks.k.i) {\r\n                      arr[i].ks.k.c = arr[i].closed;\r\n                    } else {\r\n                      jLen = arr[i].ks.k.length;\r\n\r\n                      for (j = 0; j < jLen; j += 1) {\r\n                        if (arr[i].ks.k[j].s) {\r\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                        }\r\n\r\n                        if (arr[i].ks.k[j].e) {\r\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                        }\r\n                      }\r\n                    }\r\n                  } else if (arr[i].ty === 'gr') {\r\n                    completeClosingShapes(arr[i].it);\r\n                  }\r\n                }\r\n              }\r\n\r\n              function iterateLayers(layers) {\r\n                var layerData;\r\n                var i;\r\n                var len = layers.length;\r\n                var j;\r\n                var jLen;\r\n                var k;\r\n                var kLen;\r\n\r\n                for (i = 0; i < len; i += 1) {\r\n                  layerData = layers[i];\r\n\r\n                  if (layerData.hasMask) {\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (maskProps[j].pt.k.i) {\r\n                        maskProps[j].pt.k.c = maskProps[j].cl;\r\n                      } else {\r\n                        kLen = maskProps[j].pt.k.length;\r\n\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                          if (maskProps[j].pt.k[k].s) {\r\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                          }\r\n\r\n                          if (maskProps[j].pt.k[k].e) {\r\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n\r\n                  if (layerData.ty === 4) {\r\n                    completeClosingShapes(layerData.shapes);\r\n                  }\r\n                }\r\n              }\r\n\r\n              return function (animationData) {\r\n                if (checkVersion(minimumVersion, animationData.v)) {\r\n                  iterateLayers(animationData.layers);\r\n\r\n                  if (animationData.assets) {\r\n                    var i;\r\n                    var len = animationData.assets.length;\r\n\r\n                    for (i = 0; i < len; i += 1) {\r\n                      if (animationData.assets[i].layers) {\r\n                        iterateLayers(animationData.assets[i].layers);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n            }();\r\n\r\n            function completeData(animationData) {\r\n              if (animationData.__complete) {\r\n                return;\r\n              }\r\n\r\n              checkColors(animationData);\r\n              checkText(animationData);\r\n              checkChars(animationData);\r\n              checkPathProperties(animationData);\r\n              checkShapes(animationData);\r\n              completeLayers(animationData.layers, animationData.assets);\r\n              completeChars(animationData.chars, animationData.assets);\r\n              animationData.__complete = true;\r\n            }\r\n\r\n            function completeText(data) {\r\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\r\n              }\r\n            }\r\n\r\n            var moduleOb = {};\r\n            moduleOb.completeData = completeData;\r\n            moduleOb.checkColors = checkColors;\r\n            moduleOb.checkChars = checkChars;\r\n            moduleOb.checkPathProperties = checkPathProperties;\r\n            moduleOb.checkShapes = checkShapes;\r\n            moduleOb.completeLayers = completeLayers;\r\n            return moduleOb;\r\n          }\r\n\r\n          if (!_workerSelf.dataManager) {\r\n            _workerSelf.dataManager = dataFunctionManager();\r\n          }\r\n\r\n          if (!_workerSelf.assetLoader) {\r\n            _workerSelf.assetLoader = function () {\r\n              function formatResponse(xhr) {\r\n                // using typeof doubles the time of execution of this method,\r\n                // so if available, it's better to use the header to validate the type\r\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\r\n\r\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\r\n                  return xhr.response;\r\n                }\r\n\r\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\r\n                  return xhr.response;\r\n                }\r\n\r\n                if (xhr.response && typeof xhr.response === 'string') {\r\n                  return JSON.parse(xhr.response);\r\n                }\r\n\r\n                if (xhr.responseText) {\r\n                  return JSON.parse(xhr.responseText);\r\n                }\r\n\r\n                return null;\r\n              }\r\n\r\n              function loadAsset(path, fullPath, callback, errorCallback) {\r\n                var response;\r\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\r\n\r\n                try {\r\n                  // This crashes on Android WebView prior to KitKat\r\n                  xhr.responseType = 'json';\r\n                } catch (err) {} // eslint-disable-line no-empty\r\n\r\n\r\n                xhr.onreadystatechange = function () {\r\n                  if (xhr.readyState === 4) {\r\n                    if (xhr.status === 200) {\r\n                      response = formatResponse(xhr);\r\n                      callback(response);\r\n                    } else {\r\n                      try {\r\n                        response = formatResponse(xhr);\r\n                        callback(response);\r\n                      } catch (err) {\r\n                        if (errorCallback) {\r\n                          errorCallback(err);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                };\r\n\r\n                try {\r\n                  // Hack to workaround banner validation\r\n                  xhr.open(['G', 'E', 'T'].join(''), path, true);\r\n                } catch (error) {\r\n                  // Hack to workaround banner validation\r\n                  xhr.open(['G', 'E', 'T'].join(''), fullPath + '/' + path, true);\r\n                }\r\n\r\n                xhr.send();\r\n              }\r\n\r\n              return {\r\n                load: loadAsset\r\n              };\r\n            }();\r\n          }\r\n\r\n          if (e.data.type === 'loadAnimation') {\r\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\r\n              _workerSelf.dataManager.completeData(data);\r\n\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success'\r\n              });\r\n            }, function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error'\r\n              });\r\n            });\r\n          } else if (e.data.type === 'complete') {\r\n            var animation = e.data.animation;\r\n\r\n            _workerSelf.dataManager.completeData(animation);\r\n\r\n            _workerSelf.postMessage({\r\n              id: e.data.id,\r\n              payload: animation,\r\n              status: 'success'\r\n            });\r\n          } else if (e.data.type === 'loadData') {\r\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success'\r\n              });\r\n            }, function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error'\r\n              });\r\n            });\r\n          }\r\n        });\r\n\r\n        workerInstance.onmessage = function (event) {\r\n          var data = event.data;\r\n          var id = data.id;\r\n          var process = processes[id];\r\n          processes[id] = null;\r\n\r\n          if (data.status === 'success') {\r\n            process.onComplete(data.payload);\r\n          } else if (process.onError) {\r\n            process.onError();\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n    function createProcess(onComplete, onError) {\r\n      _counterId += 1;\r\n      var id = 'processId_' + _counterId;\r\n      processes[id] = {\r\n        onComplete: onComplete,\r\n        onError: onError\r\n      };\r\n      return id;\r\n    }\r\n\r\n    function loadAnimation(path, onComplete, onError) {\r\n      setupWorker();\r\n      var processId = createProcess(onComplete, onError);\r\n      workerInstance.postMessage({\r\n        type: 'loadAnimation',\r\n        path: path,\r\n        fullPath: window.location.origin + window.location.pathname,\r\n        id: processId\r\n      });\r\n    }\r\n\r\n    function loadData(path, onComplete, onError) {\r\n      setupWorker();\r\n      var processId = createProcess(onComplete, onError);\r\n      workerInstance.postMessage({\r\n        type: 'loadData',\r\n        path: path,\r\n        fullPath: window.location.origin + window.location.pathname,\r\n        id: processId\r\n      });\r\n    }\r\n\r\n    function completeAnimation(anim, onComplete, onError) {\r\n      setupWorker();\r\n      var processId = createProcess(onComplete, onError);\r\n      workerInstance.postMessage({\r\n        type: 'complete',\r\n        animation: anim,\r\n        id: processId\r\n      });\r\n    }\r\n\r\n    return {\r\n      loadAnimation: loadAnimation,\r\n      loadData: loadData,\r\n      completeAnimation: completeAnimation\r\n    };\r\n  }();\r\n\r\n  var ImagePreloader = function () {\r\n    var proxyImage = function () {\r\n      var canvas = createTag('canvas');\r\n      canvas.width = 1;\r\n      canvas.height = 1;\r\n      var ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = 'rgba(0,0,0,0)';\r\n      ctx.fillRect(0, 0, 1, 1);\r\n      return canvas;\r\n    }();\r\n\r\n    function imageLoaded() {\r\n      this.loadedAssets += 1;\r\n\r\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n        if (this.imagesLoadedCb) {\r\n          this.imagesLoadedCb(null);\r\n        }\r\n      }\r\n    }\r\n\r\n    function footageLoaded() {\r\n      this.loadedFootagesCount += 1;\r\n\r\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n        if (this.imagesLoadedCb) {\r\n          this.imagesLoadedCb(null);\r\n        }\r\n      }\r\n    }\r\n\r\n    function getAssetsPath(assetData, assetsPath, originalPath) {\r\n      var path = '';\r\n\r\n      if (assetData.e) {\r\n        path = assetData.p;\r\n      } else if (assetsPath) {\r\n        var imagePath = assetData.p;\r\n\r\n        if (imagePath.indexOf('images/') !== -1) {\r\n          imagePath = imagePath.split('/')[1];\r\n        }\r\n\r\n        path = assetsPath + imagePath;\r\n      } else {\r\n        path = originalPath;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n      }\r\n\r\n      return path;\r\n    }\r\n\r\n    function testImageLoaded(img) {\r\n      var _count = 0;\r\n      var intervalId = setInterval(function () {\r\n        var box = img.getBBox();\r\n\r\n        if (box.width || _count > 500) {\r\n          this._imageLoaded();\r\n\r\n          clearInterval(intervalId);\r\n        }\r\n\r\n        _count += 1;\r\n      }.bind(this), 50);\r\n    }\r\n\r\n    function createImageData(assetData) {\r\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n      var img = createNS('image');\r\n\r\n      if (isSafari) {\r\n        this.testImageLoaded(img);\r\n      } else {\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n      }\r\n\r\n      img.addEventListener('error', function () {\r\n        ob.img = proxyImage;\r\n\r\n        this._imageLoaded();\r\n      }.bind(this), false);\r\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n\r\n      if (this._elementHelper.append) {\r\n        this._elementHelper.append(img);\r\n      } else {\r\n        this._elementHelper.appendChild(img);\r\n      }\r\n\r\n      var ob = {\r\n        img: img,\r\n        assetData: assetData\r\n      };\r\n      return ob;\r\n    }\r\n\r\n    function createImgData(assetData) {\r\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n      var img = createTag('img');\r\n      img.crossOrigin = 'anonymous';\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n      img.addEventListener('error', function () {\r\n        ob.img = proxyImage;\r\n\r\n        this._imageLoaded();\r\n      }.bind(this), false);\r\n      img.src = path;\r\n      var ob = {\r\n        img: img,\r\n        assetData: assetData\r\n      };\r\n      return ob;\r\n    }\r\n\r\n    function createFootageData(data) {\r\n      var ob = {\r\n        assetData: data\r\n      };\r\n      var path = getAssetsPath(data, this.assetsPath, this.path);\r\n      dataManager.loadData(path, function (footageData) {\r\n        ob.img = footageData;\r\n\r\n        this._footageLoaded();\r\n      }.bind(this), function () {\r\n        ob.img = {};\r\n\r\n        this._footageLoaded();\r\n      }.bind(this));\r\n      return ob;\r\n    }\r\n\r\n    function loadAssets(assets, cb) {\r\n      this.imagesLoadedCb = cb;\r\n      var i;\r\n      var len = assets.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!assets[i].layers) {\r\n          if (!assets[i].t || assets[i].t === 'seq') {\r\n            this.totalImages += 1;\r\n            this.images.push(this._createImageData(assets[i]));\r\n          } else if (assets[i].t === 3) {\r\n            this.totalFootages += 1;\r\n            this.images.push(this.createFootageData(assets[i]));\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function setPath(path) {\r\n      this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path) {\r\n      this.assetsPath = path || '';\r\n    }\r\n\r\n    function getAsset(assetData) {\r\n      var i = 0;\r\n      var len = this.images.length;\r\n\r\n      while (i < len) {\r\n        if (this.images[i].assetData === assetData) {\r\n          return this.images[i].img;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    function destroy() {\r\n      this.imagesLoadedCb = null;\r\n      this.images.length = 0;\r\n    }\r\n\r\n    function loadedImages() {\r\n      return this.totalImages === this.loadedAssets;\r\n    }\r\n\r\n    function loadedFootages() {\r\n      return this.totalFootages === this.loadedFootagesCount;\r\n    }\r\n\r\n    function setCacheType(type, elementHelper) {\r\n      if (type === 'svg') {\r\n        this._elementHelper = elementHelper;\r\n        this._createImageData = this.createImageData.bind(this);\r\n      } else {\r\n        this._createImageData = this.createImgData.bind(this);\r\n      }\r\n    }\r\n\r\n    function ImagePreloaderFactory() {\r\n      this._imageLoaded = imageLoaded.bind(this);\r\n      this._footageLoaded = footageLoaded.bind(this);\r\n      this.testImageLoaded = testImageLoaded.bind(this);\r\n      this.createFootageData = createFootageData.bind(this);\r\n      this.assetsPath = '';\r\n      this.path = '';\r\n      this.totalImages = 0;\r\n      this.totalFootages = 0;\r\n      this.loadedAssets = 0;\r\n      this.loadedFootagesCount = 0;\r\n      this.imagesLoadedCb = null;\r\n      this.images = [];\r\n    }\r\n\r\n    ImagePreloaderFactory.prototype = {\r\n      loadAssets: loadAssets,\r\n      setAssetsPath: setAssetsPath,\r\n      setPath: setPath,\r\n      loadedImages: loadedImages,\r\n      loadedFootages: loadedFootages,\r\n      destroy: destroy,\r\n      getAsset: getAsset,\r\n      createImgData: createImgData,\r\n      createImageData: createImageData,\r\n      imageLoaded: imageLoaded,\r\n      footageLoaded: footageLoaded,\r\n      setCacheType: setCacheType\r\n    };\r\n    return ImagePreloaderFactory;\r\n  }();\r\n\r\n  function BaseEvent() {}\r\n\r\n  BaseEvent.prototype = {\r\n    triggerEvent: function triggerEvent(eventName, args) {\r\n      if (this._cbs[eventName]) {\r\n        var callbacks = this._cbs[eventName];\r\n\r\n        for (var i = 0; i < callbacks.length; i += 1) {\r\n          callbacks[i](args);\r\n        }\r\n      }\r\n    },\r\n    addEventListener: function addEventListener(eventName, callback) {\r\n      if (!this._cbs[eventName]) {\r\n        this._cbs[eventName] = [];\r\n      }\r\n\r\n      this._cbs[eventName].push(callback);\r\n\r\n      return function () {\r\n        this.removeEventListener(eventName, callback);\r\n      }.bind(this);\r\n    },\r\n    removeEventListener: function removeEventListener(eventName, callback) {\r\n      if (!callback) {\r\n        this._cbs[eventName] = null;\r\n      } else if (this._cbs[eventName]) {\r\n        var i = 0;\r\n        var len = this._cbs[eventName].length;\r\n\r\n        while (i < len) {\r\n          if (this._cbs[eventName][i] === callback) {\r\n            this._cbs[eventName].splice(i, 1);\r\n\r\n            i -= 1;\r\n            len -= 1;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (!this._cbs[eventName].length) {\r\n          this._cbs[eventName] = null;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  var markerParser = function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr\r\n        };\r\n\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i].cm\r\n            };\r\n          }\r\n        }\r\n\r\n        markers.push(markerData);\r\n      }\r\n\r\n      return markers;\r\n    };\r\n  }();\r\n\r\n  var ProjectInterface = function () {\r\n    function registerComposition(comp) {\r\n      this.compositions.push(comp);\r\n    }\r\n\r\n    return function () {\r\n      function _thisProjectFunction(name) {\r\n        var i = 0;\r\n        var len = this.compositions.length;\r\n\r\n        while (i < len) {\r\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n              this.compositions[i].prepareFrame(this.currentFrame);\r\n            }\r\n\r\n            return this.compositions[i].compInterface;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      _thisProjectFunction.compositions = [];\r\n      _thisProjectFunction.currentFrame = 0;\r\n      _thisProjectFunction.registerComposition = registerComposition;\r\n      return _thisProjectFunction;\r\n    };\r\n  }();\r\n\r\n  var renderers = {};\r\n\r\n  var registerRenderer = function registerRenderer(key, value) {\r\n    renderers[key] = value;\r\n  };\r\n\r\n  function getRenderer(key) {\r\n    return renderers[key];\r\n  }\r\n\r\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\r\n\r\n  var AnimationItem = function AnimationItem() {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.firstFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = createElementID();\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.isSubframeEnabled = getSubframeEnabled();\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this._completedLoop = false;\r\n    this.projectInterface = ProjectInterface();\r\n    this.imagePreloader = new ImagePreloader();\r\n    this.audioController = audioControllerFactory();\r\n    this.markers = [];\r\n    this.configAnimation = this.configAnimation.bind(this);\r\n    this.onSetupError = this.onSetupError.bind(this);\r\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\r\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\r\n  };\r\n\r\n  extendPrototype([BaseEvent], AnimationItem);\r\n\r\n  AnimationItem.prototype.setParams = function (params) {\r\n    if (params.wrapper || params.container) {\r\n      this.wrapper = params.wrapper || params.container;\r\n    }\r\n\r\n    var animType = 'svg';\r\n\r\n    if (params.animType) {\r\n      animType = params.animType;\r\n    } else if (params.renderer) {\r\n      animType = params.renderer;\r\n    }\r\n\r\n    var RendererClass = getRenderer(animType);\r\n    this.renderer = new RendererClass(this, params.rendererSettings);\r\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n\r\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\r\n      this.loop = true;\r\n    } else if (params.loop === false) {\r\n      this.loop = false;\r\n    } else {\r\n      this.loop = parseInt(params.loop, 10);\r\n    }\r\n\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name : '';\r\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n    this.assetsPath = params.assetsPath;\r\n    this.initialSegment = params.initialSegment;\r\n\r\n    if (params.audioFactory) {\r\n      this.audioController.setAudioFactory(params.audioFactory);\r\n    }\r\n\r\n    if (params.animationData) {\r\n      this.setupAnimation(params.animationData);\r\n    } else if (params.path) {\r\n      if (params.path.lastIndexOf('\\\\') !== -1) {\r\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n      } else {\r\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n      }\r\n\r\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.onSetupError = function () {\r\n    this.trigger('data_failed');\r\n  };\r\n\r\n  AnimationItem.prototype.setupAnimation = function (data) {\r\n    dataManager.completeAnimation(data, this.configAnimation);\r\n  };\r\n\r\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    if (animationData) {\r\n      if (_typeof$4(animationData) !== 'object') {\r\n        animationData = JSON.parse(animationData);\r\n      }\r\n    }\r\n\r\n    var params = {\r\n      wrapper: wrapper,\r\n      animationData: animationData\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n\r\n    if (loop === 'false') {\r\n      params.loop = false;\r\n    } else if (loop === 'true') {\r\n      params.loop = true;\r\n    } else if (loop !== '') {\r\n      params.loop = parseInt(loop, 10);\r\n    }\r\n\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== 'false';\r\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if (prerender === 'false') {\r\n      params.prerender = false;\r\n    }\r\n\r\n    this.setParams(params);\r\n  };\r\n\r\n  AnimationItem.prototype.includeLayers = function (data) {\r\n    if (data.op > this.animationData.op) {\r\n      this.animationData.op = data.op;\r\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n    }\r\n\r\n    var layers = this.animationData.layers;\r\n    var i;\r\n    var len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j;\r\n    var jLen = newLayers.length;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      i = 0;\r\n\r\n      while (i < len) {\r\n        if (layers[i].id === newLayers[j].id) {\r\n          layers[i] = newLayers[j];\r\n          break;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n    }\r\n\r\n    if (data.chars || data.fonts) {\r\n      this.renderer.globalData.fontManager.addChars(data.chars);\r\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n\r\n    if (data.assets) {\r\n      len = data.assets.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.animationData.assets.push(data.assets[i]);\r\n      }\r\n    }\r\n\r\n    this.animationData.__complete = false;\r\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\r\n  };\r\n\r\n  AnimationItem.prototype.onSegmentComplete = function (data) {\r\n    this.animationData = data;\r\n    var expressionsPlugin = getExpressionsPlugin();\r\n\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n\r\n    this.loadNextSegment();\r\n  };\r\n\r\n  AnimationItem.prototype.loadNextSegment = function () {\r\n    var segments = this.animationData.segments;\r\n\r\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n      this.trigger('data_ready');\r\n      this.timeCompleted = this.totalFrames;\r\n      return;\r\n    }\r\n\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\r\n      this.trigger('data_failed');\r\n    }.bind(this));\r\n  };\r\n\r\n  AnimationItem.prototype.loadSegments = function () {\r\n    var segments = this.animationData.segments;\r\n\r\n    if (!segments) {\r\n      this.timeCompleted = this.totalFrames;\r\n    }\r\n\r\n    this.loadNextSegment();\r\n  };\r\n\r\n  AnimationItem.prototype.imagesLoaded = function () {\r\n    this.trigger('loaded_images');\r\n    this.checkLoaded();\r\n  };\r\n\r\n  AnimationItem.prototype.preloadImages = function () {\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n  };\r\n\r\n  AnimationItem.prototype.configAnimation = function (animData) {\r\n    if (!this.renderer) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.animationData = animData;\r\n\r\n      if (this.initialSegment) {\r\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n        this.firstFrame = Math.round(this.initialSegment[0]);\r\n      } else {\r\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n        this.firstFrame = Math.round(this.animationData.ip);\r\n      }\r\n\r\n      this.renderer.configAnimation(animData);\r\n\r\n      if (!animData.assets) {\r\n        animData.assets = [];\r\n      }\r\n\r\n      this.assets = this.animationData.assets;\r\n      this.frameRate = this.animationData.fr;\r\n      this.frameMult = this.animationData.fr / 1000;\r\n      this.renderer.searchExtraCompositions(animData.assets);\r\n      this.markers = markerParser(animData.markers || []);\r\n      this.trigger('config_ready');\r\n      this.preloadImages();\r\n      this.loadSegments();\r\n      this.updaFrameModifier();\r\n      this.waitForFontsLoaded();\r\n\r\n      if (this.isPaused) {\r\n        this.audioController.pause();\r\n      }\r\n    } catch (error) {\r\n      this.triggerConfigError(error);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.waitForFontsLoaded = function () {\r\n    if (!this.renderer) {\r\n      return;\r\n    }\r\n\r\n    if (this.renderer.globalData.fontManager.isLoaded) {\r\n      this.checkLoaded();\r\n    } else {\r\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.checkLoaded = function () {\r\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\r\n      this.isLoaded = true;\r\n      var expressionsPlugin = getExpressionsPlugin();\r\n\r\n      if (expressionsPlugin) {\r\n        expressionsPlugin.initExpressions(this);\r\n      }\r\n\r\n      this.renderer.initItems();\r\n      setTimeout(function () {\r\n        this.trigger('DOMLoaded');\r\n      }.bind(this), 0);\r\n      this.gotoFrame();\r\n\r\n      if (this.autoplay) {\r\n        this.play();\r\n      }\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.resize = function (width, height) {\r\n    // Adding this validation for backwards compatibility in case an event object was being passed down\r\n    var _width = typeof width === 'number' ? width : undefined;\r\n\r\n    var _height = typeof height === 'number' ? height : undefined;\r\n\r\n    this.renderer.updateContainerSize(_width, _height);\r\n  };\r\n\r\n  AnimationItem.prototype.setSubframe = function (flag) {\r\n    this.isSubframeEnabled = !!flag;\r\n  };\r\n\r\n  AnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n      this.currentFrame = this.timeCompleted;\r\n    }\r\n\r\n    this.trigger('enterFrame');\r\n    this.renderFrame();\r\n    this.trigger('drawnFrame');\r\n  };\r\n\r\n  AnimationItem.prototype.renderFrame = function () {\r\n    if (this.isLoaded === false || !this.renderer) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n    } catch (error) {\r\n      this.triggerRenderFrameError(error);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.play = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    if (this.isPaused === true) {\r\n      this.isPaused = false;\r\n      this.trigger('_pause');\r\n      this.audioController.resume();\r\n\r\n      if (this._idle) {\r\n        this._idle = false;\r\n        this.trigger('_active');\r\n      }\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.pause = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    if (this.isPaused === false) {\r\n      this.isPaused = true;\r\n      this.trigger('_play');\r\n      this._idle = true;\r\n      this.trigger('_idle');\r\n      this.audioController.pause();\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.togglePause = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    if (this.isPaused === true) {\r\n      this.play();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.stop = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this._completedLoop = false;\r\n    this.setCurrentRawFrameValue(0);\r\n  };\r\n\r\n  AnimationItem.prototype.getMarkerData = function (markerName) {\r\n    var marker;\r\n\r\n    for (var i = 0; i < this.markers.length; i += 1) {\r\n      marker = this.markers[i];\r\n\r\n      if (marker.payload && marker.payload.name === markerName) {\r\n        return marker;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    var numValue = Number(value);\r\n\r\n    if (isNaN(numValue)) {\r\n      var marker = this.getMarkerData(value);\r\n\r\n      if (marker) {\r\n        this.goToAndStop(marker.time, true);\r\n      }\r\n    } else if (isFrame) {\r\n      this.setCurrentRawFrameValue(value);\r\n    } else {\r\n      this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n\r\n    this.pause();\r\n  };\r\n\r\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    var numValue = Number(value);\r\n\r\n    if (isNaN(numValue)) {\r\n      var marker = this.getMarkerData(value);\r\n\r\n      if (marker) {\r\n        if (!marker.duration) {\r\n          this.goToAndStop(marker.time, true);\r\n        } else {\r\n          this.playSegments([marker.time, marker.time + marker.duration], true);\r\n        }\r\n      }\r\n    } else {\r\n      this.goToAndStop(numValue, isFrame, name);\r\n    }\r\n\r\n    this.play();\r\n  };\r\n\r\n  AnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n      return;\r\n    }\r\n\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n      if (!this.loop || this.playCount === this.loop) {\r\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n          _isComplete = true;\r\n          nextValue = this.totalFrames - 1;\r\n        }\r\n      } else if (nextValue >= this.totalFrames) {\r\n        this.playCount += 1;\r\n\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n          this._completedLoop = true;\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n      }\r\n    } else if (nextValue < 0) {\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n          // eslint-disable-line no-plusplus\r\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\r\n\r\n          if (!this._completedLoop) {\r\n            this._completedLoop = true;\r\n          } else {\r\n            this.trigger('loopComplete');\r\n          }\r\n        } else {\r\n          _isComplete = true;\r\n          nextValue = 0;\r\n        }\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n\r\n    if (_isComplete) {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n      this.pause();\r\n      this.trigger('complete');\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n    this.playCount = 0;\r\n\r\n    if (arr[1] < arr[0]) {\r\n      if (this.frameModifier > 0) {\r\n        if (this.playSpeed < 0) {\r\n          this.setSpeed(-this.playSpeed);\r\n        } else {\r\n          this.setDirection(-1);\r\n        }\r\n      }\r\n\r\n      this.totalFrames = arr[0] - arr[1];\r\n      this.timeCompleted = this.totalFrames;\r\n      this.firstFrame = arr[1];\r\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if (arr[1] > arr[0]) {\r\n      if (this.frameModifier < 0) {\r\n        if (this.playSpeed < 0) {\r\n          this.setSpeed(-this.playSpeed);\r\n        } else {\r\n          this.setDirection(1);\r\n        }\r\n      }\r\n\r\n      this.totalFrames = arr[1] - arr[0];\r\n      this.timeCompleted = this.totalFrames;\r\n      this.firstFrame = arr[0];\r\n      this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n\r\n    this.trigger('segmentStart');\r\n  };\r\n\r\n  AnimationItem.prototype.setSegment = function (init, end) {\r\n    var pendingFrame = -1;\r\n\r\n    if (this.isPaused) {\r\n      if (this.currentRawFrame + this.firstFrame < init) {\r\n        pendingFrame = init;\r\n      } else if (this.currentRawFrame + this.firstFrame > end) {\r\n        pendingFrame = end - init;\r\n      }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.totalFrames = end - init;\r\n    this.timeCompleted = this.totalFrames;\r\n\r\n    if (pendingFrame !== -1) {\r\n      this.goToAndStop(pendingFrame, true);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n    if (forceFlag) {\r\n      this.segments.length = 0;\r\n    }\r\n\r\n    if (_typeof$4(arr[0]) === 'object') {\r\n      var i;\r\n      var len = arr.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.segments.push(arr[i]);\r\n      }\r\n    } else {\r\n      this.segments.push(arr);\r\n    }\r\n\r\n    if (this.segments.length && forceFlag) {\r\n      this.adjustSegment(this.segments.shift(), 0);\r\n    }\r\n\r\n    if (this.isPaused) {\r\n      this.play();\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip, this.animationData.op]);\r\n\r\n    if (forceFlag) {\r\n      this.checkSegments(0);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.checkSegments = function (offset) {\r\n    if (this.segments.length) {\r\n      this.adjustSegment(this.segments.shift(), offset);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  AnimationItem.prototype.destroy = function (name) {\r\n    if (name && this.name !== name || !this.renderer) {\r\n      return;\r\n    }\r\n\r\n    this.renderer.destroy();\r\n    this.imagePreloader.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = null;\r\n    this.onLoopComplete = null;\r\n    this.onComplete = null;\r\n    this.onSegmentStart = null;\r\n    this.onDestroy = null;\r\n    this.renderer = null;\r\n    this.renderer = null;\r\n    this.imagePreloader = null;\r\n    this.projectInterface = null;\r\n  };\r\n\r\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n  };\r\n\r\n  AnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n  };\r\n\r\n  AnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n  };\r\n\r\n  AnimationItem.prototype.setVolume = function (val, name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.audioController.setVolume(val);\r\n  };\r\n\r\n  AnimationItem.prototype.getVolume = function () {\r\n    return this.audioController.getVolume();\r\n  };\r\n\r\n  AnimationItem.prototype.mute = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.audioController.mute();\r\n  };\r\n\r\n  AnimationItem.prototype.unmute = function (name) {\r\n    if (name && this.name !== name) {\r\n      return;\r\n    }\r\n\r\n    this.audioController.unmute();\r\n  };\r\n\r\n  AnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n    this.audioController.setRate(this.playSpeed * this.playDirection);\r\n  };\r\n\r\n  AnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n  };\r\n\r\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (this.assetsPath) {\r\n      var imagePath = assetData.p;\r\n\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n\r\n      path = this.assetsPath + imagePath;\r\n    } else {\r\n      path = this.path;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n\r\n    return path;\r\n  };\r\n\r\n  AnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0;\r\n    var len = this.assets.length;\r\n\r\n    while (i < len) {\r\n      if (id === this.assets[i].id) {\r\n        return this.assets[i];\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  AnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n  };\r\n\r\n  AnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n  };\r\n\r\n  AnimationItem.prototype.getDuration = function (isFrame) {\r\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n  };\r\n\r\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\r\n    try {\r\n      var element = this.renderer.getElementByPath(path);\r\n      element.updateDocumentData(documentData, index);\r\n    } catch (error) {// TODO: decide how to handle catch case\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.trigger = function (name) {\r\n    if (this._cbs && this._cbs[name]) {\r\n      switch (name) {\r\n        case 'enterFrame':\r\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n          break;\r\n\r\n        case 'drawnFrame':\r\n          this.drawnFrameEvent.currentTime = this.currentFrame;\r\n          this.drawnFrameEvent.totalTime = this.totalFrames;\r\n          this.drawnFrameEvent.direction = this.frameModifier;\r\n          this.triggerEvent(name, this.drawnFrameEvent);\r\n          break;\r\n\r\n        case 'loopComplete':\r\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n          break;\r\n\r\n        case 'complete':\r\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n          break;\r\n\r\n        case 'segmentStart':\r\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n          break;\r\n\r\n        case 'destroy':\r\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n          break;\r\n\r\n        default:\r\n          this.triggerEvent(name);\r\n      }\r\n    }\r\n\r\n    if (name === 'enterFrame' && this.onEnterFrame) {\r\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n    }\r\n\r\n    if (name === 'loopComplete' && this.onLoopComplete) {\r\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n    }\r\n\r\n    if (name === 'complete' && this.onComplete) {\r\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n    }\r\n\r\n    if (name === 'segmentStart' && this.onSegmentStart) {\r\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n    }\r\n\r\n    if (name === 'destroy' && this.onDestroy) {\r\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n      this.onError.call(this, error);\r\n    }\r\n  };\r\n\r\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n      this.onError.call(this, error);\r\n    }\r\n  };\r\n\r\n  var animationManager = function () {\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n    var _isFrozen = false;\r\n\r\n    function removeElement(ev) {\r\n      var i = 0;\r\n      var animItem = ev.target;\r\n\r\n      while (i < len) {\r\n        if (registeredAnimations[i].animation === animItem) {\r\n          registeredAnimations.splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n\r\n          if (!animItem.isPaused) {\r\n            subtractPlayingCount();\r\n          }\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n    }\r\n\r\n    function registerAnimation(element, animationData) {\r\n      if (!element) {\r\n        return null;\r\n      }\r\n\r\n      var i = 0;\r\n\r\n      while (i < len) {\r\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n          return registeredAnimations[i].animation;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      var animItem = new AnimationItem();\r\n      setupAnimation(animItem, element);\r\n      animItem.setData(element, animationData);\r\n      return animItem;\r\n    }\r\n\r\n    function getRegisteredAnimations() {\r\n      var i;\r\n      var lenAnims = registeredAnimations.length;\r\n      var animations = [];\r\n\r\n      for (i = 0; i < lenAnims; i += 1) {\r\n        animations.push(registeredAnimations[i].animation);\r\n      }\r\n\r\n      return animations;\r\n    }\r\n\r\n    function addPlayingCount() {\r\n      playingAnimationsNum += 1;\r\n      activate();\r\n    }\r\n\r\n    function subtractPlayingCount() {\r\n      playingAnimationsNum -= 1;\r\n    }\r\n\r\n    function setupAnimation(animItem, element) {\r\n      animItem.addEventListener('destroy', removeElement);\r\n      animItem.addEventListener('_active', addPlayingCount);\r\n      animItem.addEventListener('_idle', subtractPlayingCount);\r\n      registeredAnimations.push({\r\n        elem: element,\r\n        animation: animItem\r\n      });\r\n      len += 1;\r\n    }\r\n\r\n    function loadAnimation(params) {\r\n      var animItem = new AnimationItem();\r\n      setupAnimation(animItem, null);\r\n      animItem.setParams(params);\r\n      return animItem;\r\n    }\r\n\r\n    function setSpeed(val, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.setSpeed(val, animation);\r\n      }\r\n    }\r\n\r\n    function setDirection(val, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.setDirection(val, animation);\r\n      }\r\n    }\r\n\r\n    function play(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.play(animation);\r\n      }\r\n    }\r\n\r\n    function resume(nowTime) {\r\n      var elapsedTime = nowTime - initTime;\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n      }\r\n\r\n      initTime = nowTime;\r\n\r\n      if (playingAnimationsNum && !_isFrozen) {\r\n        window.requestAnimationFrame(resume);\r\n      } else {\r\n        _stopped = true;\r\n      }\r\n    }\r\n\r\n    function first(nowTime) {\r\n      initTime = nowTime;\r\n      window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.pause(animation);\r\n      }\r\n    }\r\n\r\n    function goToAndStop(value, isFrame, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n      }\r\n    }\r\n\r\n    function stop(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.stop(animation);\r\n      }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.togglePause(animation);\r\n      }\r\n    }\r\n\r\n    function destroy(animation) {\r\n      var i;\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        registeredAnimations[i].animation.destroy(animation);\r\n      }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer) {\r\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\r\n      var i;\r\n      var lenAnims = animElements.length;\r\n\r\n      for (i = 0; i < lenAnims; i += 1) {\r\n        if (renderer) {\r\n          animElements[i].setAttribute('data-bm-type', renderer);\r\n        }\r\n\r\n        registerAnimation(animElements[i], animationData);\r\n      }\r\n\r\n      if (standalone && lenAnims === 0) {\r\n        if (!renderer) {\r\n          renderer = 'svg';\r\n        }\r\n\r\n        var body = document.getElementsByTagName('body')[0];\r\n        body.innerText = '';\r\n        var div = createTag('div');\r\n        div.style.width = '100%';\r\n        div.style.height = '100%';\r\n        div.setAttribute('data-bm-type', renderer);\r\n        body.appendChild(div);\r\n        registerAnimation(div, animationData);\r\n      }\r\n    }\r\n\r\n    function resize() {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.resize();\r\n      }\r\n    }\r\n\r\n    function activate() {\r\n      if (!_isFrozen && playingAnimationsNum) {\r\n        if (_stopped) {\r\n          window.requestAnimationFrame(first);\r\n          _stopped = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    function freeze() {\r\n      _isFrozen = true;\r\n    }\r\n\r\n    function unfreeze() {\r\n      _isFrozen = false;\r\n      activate();\r\n    }\r\n\r\n    function setVolume(val, animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.setVolume(val, animation);\r\n      }\r\n    }\r\n\r\n    function mute(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.mute(animation);\r\n      }\r\n    }\r\n\r\n    function unmute(animation) {\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        registeredAnimations[i].animation.unmute(animation);\r\n      }\r\n    }\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize; // moduleOb.start = start;\r\n\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    moduleOb.freeze = freeze;\r\n    moduleOb.unfreeze = unfreeze;\r\n    moduleOb.setVolume = setVolume;\r\n    moduleOb.mute = mute;\r\n    moduleOb.unmute = unmute;\r\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n    return moduleOb;\r\n  }();\r\n\r\n  /* eslint-disable */\r\n  var BezierFactory = function () {\r\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\r\n    var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a, b, c, d, nm) {\r\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n\r\n      if (beziers[str]) {\r\n        return beziers[str];\r\n      }\r\n\r\n      var bezEasing = new BezierEasing([a, b, c, d]);\r\n      beziers[str] = bezEasing;\r\n      return bezEasing;\r\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n\r\n\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n    var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n    function A(aA1, aA2) {\r\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\r\n    }\r\n\r\n    function B(aA1, aA2) {\r\n      return 3.0 * aA2 - 6.0 * aA1;\r\n    }\r\n\r\n    function C(aA1) {\r\n      return 3.0 * aA1;\r\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n\r\n\r\n    function calcBezier(aT, aA1, aA2) {\r\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n\r\n\r\n    function getSlope(aT, aA1, aA2) {\r\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n      var currentX,\r\n          currentT,\r\n          i = 0;\r\n\r\n      do {\r\n        currentT = aA + (aB - aA) / 2.0;\r\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n\r\n        if (currentX > 0.0) {\r\n          aB = currentT;\r\n        } else {\r\n          aA = currentT;\r\n        }\r\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n\r\n      return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n        if (currentSlope === 0.0) return aGuessT;\r\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n        aGuessT -= currentX / currentSlope;\r\n      }\r\n\r\n      return aGuessT;\r\n    }\r\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\r\n\r\n\r\n    function BezierEasing(points) {\r\n      this._p = points;\r\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n      this._precomputed = false;\r\n      this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n      get: function get(x) {\r\n        var mX1 = this._p[0],\r\n            mY1 = this._p[1],\r\n            mX2 = this._p[2],\r\n            mY2 = this._p[3];\r\n        if (!this._precomputed) this._precompute();\r\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n\r\n        if (x === 0) return 0;\r\n        if (x === 1) return 1;\r\n        return calcBezier(this._getTForX(x), mY1, mY2);\r\n      },\r\n      // Private part\r\n      _precompute: function _precompute() {\r\n        var mX1 = this._p[0],\r\n            mY1 = this._p[1],\r\n            mX2 = this._p[2],\r\n            mY2 = this._p[3];\r\n        this._precomputed = true;\r\n\r\n        if (mX1 !== mY1 || mX2 !== mY2) {\r\n          this._calcSampleValues();\r\n        }\r\n      },\r\n      _calcSampleValues: function _calcSampleValues() {\r\n        var mX1 = this._p[0],\r\n            mX2 = this._p[2];\r\n\r\n        for (var i = 0; i < kSplineTableSize; ++i) {\r\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n        }\r\n      },\r\n\r\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\r\n      _getTForX: function _getTForX(aX) {\r\n        var mX1 = this._p[0],\r\n            mX2 = this._p[2],\r\n            mSampleValues = this._mSampleValues;\r\n        var intervalStart = 0.0;\r\n        var currentSample = 1;\r\n        var lastSample = kSplineTableSize - 1;\r\n\r\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n          intervalStart += kSampleStepSize;\r\n        }\r\n\r\n        --currentSample; // Interpolate to provide an initial guess for t\r\n\r\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n        var guessForT = intervalStart + dist * kSampleStepSize;\r\n        var initialSlope = getSlope(guessForT, mX1, mX2);\r\n\r\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n        }\r\n\r\n        if (initialSlope === 0.0) {\r\n          return guessForT;\r\n        }\r\n\r\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n      }\r\n    };\r\n    return ob;\r\n  }();\r\n\r\n  var pooling = function () {\r\n    function _double(arr) {\r\n      return arr.concat(createSizedArray(arr.length));\r\n    }\r\n\r\n    return {\r\n      \"double\": _double\r\n    };\r\n  }();\r\n\r\n  var poolFactory = function () {\r\n    return function (initialLength, _create, _release) {\r\n      var _length = 0;\r\n      var _maxLength = initialLength;\r\n      var pool = createSizedArray(_maxLength);\r\n      var ob = {\r\n        newElement: newElement,\r\n        release: release\r\n      };\r\n\r\n      function newElement() {\r\n        var element;\r\n\r\n        if (_length) {\r\n          _length -= 1;\r\n          element = pool[_length];\r\n        } else {\r\n          element = _create();\r\n        }\r\n\r\n        return element;\r\n      }\r\n\r\n      function release(element) {\r\n        if (_length === _maxLength) {\r\n          pool = pooling[\"double\"](pool);\r\n          _maxLength *= 2;\r\n        }\r\n\r\n        if (_release) {\r\n          _release(element);\r\n        }\r\n\r\n        pool[_length] = element;\r\n        _length += 1;\r\n      }\r\n\r\n      return ob;\r\n    };\r\n  }();\r\n\r\n  var bezierLengthPool = function () {\r\n    function create() {\r\n      return {\r\n        addedLength: 0,\r\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\r\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\r\n      };\r\n    }\r\n\r\n    return poolFactory(8, create);\r\n  }();\r\n\r\n  var segmentsLengthPool = function () {\r\n    function create() {\r\n      return {\r\n        lengths: [],\r\n        totalLength: 0\r\n      };\r\n    }\r\n\r\n    function release(element) {\r\n      var i;\r\n      var len = element.lengths.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierLengthPool.release(element.lengths[i]);\r\n      }\r\n\r\n      element.lengths.length = 0;\r\n    }\r\n\r\n    return poolFactory(8, create, release);\r\n  }();\r\n\r\n  function bezFunction() {\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\r\n      return det1 > -0.001 && det1 < 0.001;\r\n    }\r\n\r\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n      }\r\n\r\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n      var diffDist;\r\n\r\n      if (dist1 > dist2) {\r\n        if (dist1 > dist3) {\r\n          diffDist = dist1 - dist2 - dist3;\r\n        } else {\r\n          diffDist = dist3 - dist2 - dist1;\r\n        }\r\n      } else if (dist3 > dist2) {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      } else {\r\n        diffDist = dist2 - dist1 - dist3;\r\n      }\r\n\r\n      return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = function () {\r\n      return function (pt1, pt2, pt3, pt4) {\r\n        var curveSegments = getDefaultCurveSegments();\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point = [];\r\n        var lastPoint = [];\r\n        var lengthData = bezierLengthPool.newElement();\r\n        len = pt3.length;\r\n\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n\r\n            if (lastPoint[i] !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n\r\n            lastPoint[i] = point[i];\r\n          }\r\n\r\n          if (ptDistance) {\r\n            ptDistance = bmSqrt(ptDistance);\r\n            addedLength += ptDistance;\r\n          }\r\n\r\n          lengthData.percents[k] = perc;\r\n          lengthData.lengths[k] = addedLength;\r\n        }\r\n\r\n        lengthData.addedLength = addedLength;\r\n        return lengthData;\r\n      };\r\n    }();\r\n\r\n    function getSegmentsLength(shapeData) {\r\n      var segmentsLength = segmentsLengthPool.newElement();\r\n      var closed = shapeData.c;\r\n      var pathV = shapeData.v;\r\n      var pathO = shapeData.o;\r\n      var pathI = shapeData.i;\r\n      var i;\r\n      var len = shapeData._length;\r\n      var lengths = segmentsLength.lengths;\r\n      var totalLength = 0;\r\n\r\n      for (i = 0; i < len - 1; i += 1) {\r\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n        totalLength += lengths[i].addedLength;\r\n      }\r\n\r\n      if (closed && len) {\r\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n        totalLength += lengths[i].addedLength;\r\n      }\r\n\r\n      segmentsLength.totalLength = totalLength;\r\n      return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length) {\r\n      this.segmentLength = 0;\r\n      this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial, point) {\r\n      this.partialLength = partial;\r\n      this.point = point;\r\n    }\r\n\r\n    var buildBezierData = function () {\r\n      var storedData = {};\r\n      return function (pt1, pt2, pt3, pt4) {\r\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n\r\n        if (!storedData[bezierName]) {\r\n          var curveSegments = getDefaultCurveSegments();\r\n          var k;\r\n          var i;\r\n          var len;\r\n          var ptCoord;\r\n          var perc;\r\n          var addedLength = 0;\r\n          var ptDistance;\r\n          var point;\r\n          var lastPoint = null;\r\n\r\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n            curveSegments = 2;\r\n          }\r\n\r\n          var bezierData = new BezierData(curveSegments);\r\n          len = pt3.length;\r\n\r\n          for (k = 0; k < curveSegments; k += 1) {\r\n            point = createSizedArray(len);\r\n            perc = k / (curveSegments - 1);\r\n            ptDistance = 0;\r\n\r\n            for (i = 0; i < len; i += 1) {\r\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n              point[i] = ptCoord;\r\n\r\n              if (lastPoint !== null) {\r\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n              }\r\n            }\r\n\r\n            ptDistance = bmSqrt(ptDistance);\r\n            addedLength += ptDistance;\r\n            bezierData.points[k] = new PointData(ptDistance, point);\r\n            lastPoint = point;\r\n          }\r\n\r\n          bezierData.segmentLength = addedLength;\r\n          storedData[bezierName] = bezierData;\r\n        }\r\n\r\n        return storedData[bezierName];\r\n      };\r\n    }();\r\n\r\n    function getDistancePerc(perc, bezierData) {\r\n      var percents = bezierData.percents;\r\n      var lengths = bezierData.lengths;\r\n      var len = percents.length;\r\n      var initPos = bmFloor((len - 1) * perc);\r\n      var lengthPos = perc * bezierData.addedLength;\r\n      var lPerc = 0;\r\n\r\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n        return percents[initPos];\r\n      }\r\n\r\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n      var flag = true;\r\n\r\n      while (flag) {\r\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n          flag = false;\r\n        } else {\r\n          initPos += dir;\r\n        }\r\n\r\n        if (initPos < 0 || initPos >= len - 1) {\r\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n          if (initPos === len - 1) {\r\n            return percents[initPos];\r\n          }\r\n\r\n          flag = false;\r\n        }\r\n      }\r\n\r\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n      var t1 = getDistancePerc(percent, bezierData);\r\n      var u1 = 1 - t1;\r\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n      return [ptX, ptY];\r\n    }\r\n\r\n    var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n      if (startPerc < 0) {\r\n        startPerc = 0;\r\n      } else if (startPerc > 1) {\r\n        startPerc = 1;\r\n      }\r\n\r\n      var t0 = getDistancePerc(startPerc, bezierData);\r\n      endPerc = endPerc > 1 ? 1 : endPerc;\r\n      var t1 = getDistancePerc(endPerc, bezierData);\r\n      var i;\r\n      var len = pt1.length;\r\n      var u0 = 1 - t0;\r\n      var u1 = 1 - t1;\r\n      var u0u0u0 = u0 * u0 * u0;\r\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n\r\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n\r\n      var t0t0t0 = t0 * t0 * t0; //\r\n\r\n      var u0u0u1 = u0 * u0 * u1;\r\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t0t1 = t0 * t0 * t1; //\r\n\r\n      var u0u1u1 = u0 * u1 * u1;\r\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t0t1t1 = t0 * t1 * t1; //\r\n\r\n      var u1u1u1 = u1 * u1 * u1;\r\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n\r\n      var t1t1t1 = t1 * t1 * t1;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n\r\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n\r\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n\r\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      }\r\n\r\n      return bezierSegmentPoints;\r\n    }\r\n\r\n    return {\r\n      getSegmentsLength: getSegmentsLength,\r\n      getNewSegment: getNewSegment,\r\n      getPointInSegment: getPointInSegment,\r\n      buildBezierData: buildBezierData,\r\n      pointOnLine2D: pointOnLine2D,\r\n      pointOnLine3D: pointOnLine3D\r\n    };\r\n  }\r\n\r\n  var bez = bezFunction();\r\n\r\n  var PropertyFactory = function () {\r\n    var initFrame = initialDefaultFrame;\r\n    var mathAbs = Math.abs;\r\n\r\n    function interpolateValue(frameNum, caching) {\r\n      var offsetTime = this.offsetTime;\r\n      var newValue;\r\n\r\n      if (this.propType === 'multidimensional') {\r\n        newValue = createTypedArray('float32', this.pv.length);\r\n      }\r\n\r\n      var iterationIndex = caching.lastIndex;\r\n      var i = iterationIndex;\r\n      var len = this.keyframes.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      var keyframeMetadata;\r\n\r\n      while (flag) {\r\n        keyData = this.keyframes[i];\r\n        nextKeyData = this.keyframes[i + 1];\r\n\r\n        if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n          if (keyData.h) {\r\n            keyData = nextKeyData;\r\n          }\r\n\r\n          iterationIndex = 0;\r\n          break;\r\n        }\r\n\r\n        if (nextKeyData.t - offsetTime > frameNum) {\r\n          iterationIndex = i;\r\n          break;\r\n        }\r\n\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          iterationIndex = 0;\r\n          flag = false;\r\n        }\r\n      }\r\n\r\n      keyframeMetadata = this.keyframesMetadata[i] || {};\r\n      var k;\r\n      var kLen;\r\n      var perc;\r\n      var jLen;\r\n      var j;\r\n      var fnc;\r\n      var nextKeyTime = nextKeyData.t - offsetTime;\r\n      var keyTime = keyData.t - offsetTime;\r\n      var endValue;\r\n\r\n      if (keyData.to) {\r\n        if (!keyframeMetadata.bezierData) {\r\n          keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n        }\r\n\r\n        var bezierData = keyframeMetadata.bezierData;\r\n\r\n        if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n          var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n          kLen = bezierData.points[ind].point.length;\r\n\r\n          for (k = 0; k < kLen; k += 1) {\r\n            newValue[k] = bezierData.points[ind].point[k];\r\n          } // caching._lastKeyframeIndex = -1;\r\n\r\n        } else {\r\n          if (keyframeMetadata.__fnct) {\r\n            fnc = keyframeMetadata.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n            keyframeMetadata.__fnct = fnc;\r\n          }\r\n\r\n          perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n          var distanceInLine = bezierData.segmentLength * perc;\r\n          var segmentPerc;\r\n          var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\r\n          j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\r\n          flag = true;\r\n          jLen = bezierData.points.length;\r\n\r\n          while (flag) {\r\n            addedLength += bezierData.points[j].partialLength;\r\n\r\n            if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n              kLen = bezierData.points[j].point.length;\r\n\r\n              for (k = 0; k < kLen; k += 1) {\r\n                newValue[k] = bezierData.points[j].point[k];\r\n              }\r\n\r\n              break;\r\n            } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n              segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n              kLen = bezierData.points[j].point.length;\r\n\r\n              for (k = 0; k < kLen; k += 1) {\r\n                newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n              }\r\n\r\n              break;\r\n            }\r\n\r\n            if (j < jLen - 1) {\r\n              j += 1;\r\n            } else {\r\n              flag = false;\r\n            }\r\n          }\r\n\r\n          caching._lastPoint = j;\r\n          caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n          caching._lastKeyframeIndex = i;\r\n        }\r\n      } else {\r\n        var outX;\r\n        var outY;\r\n        var inX;\r\n        var inY;\r\n        var keyValue;\r\n        len = keyData.s.length;\r\n        endValue = nextKeyData.s || keyData.e;\r\n\r\n        if (this.sh && keyData.h !== 1) {\r\n          if (frameNum >= nextKeyTime) {\r\n            newValue[0] = endValue[0];\r\n            newValue[1] = endValue[1];\r\n            newValue[2] = endValue[2];\r\n          } else if (frameNum <= keyTime) {\r\n            newValue[0] = keyData.s[0];\r\n            newValue[1] = keyData.s[1];\r\n            newValue[2] = keyData.s[2];\r\n          } else {\r\n            var quatStart = createQuaternion(keyData.s);\r\n            var quatEnd = createQuaternion(endValue);\r\n            var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n            quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n          }\r\n        } else {\r\n          for (i = 0; i < len; i += 1) {\r\n            if (keyData.h !== 1) {\r\n              if (frameNum >= nextKeyTime) {\r\n                perc = 1;\r\n              } else if (frameNum < keyTime) {\r\n                perc = 0;\r\n              } else {\r\n                if (keyData.o.x.constructor === Array) {\r\n                  if (!keyframeMetadata.__fnct) {\r\n                    keyframeMetadata.__fnct = [];\r\n                  }\r\n\r\n                  if (!keyframeMetadata.__fnct[i]) {\r\n                    outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\r\n                    outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\r\n                    inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\r\n                    inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\r\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                    keyframeMetadata.__fnct[i] = fnc;\r\n                  } else {\r\n                    fnc = keyframeMetadata.__fnct[i];\r\n                  }\r\n                } else if (!keyframeMetadata.__fnct) {\r\n                  outX = keyData.o.x;\r\n                  outY = keyData.o.y;\r\n                  inX = keyData.i.x;\r\n                  inY = keyData.i.y;\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyData.keyframeMetadata = fnc;\r\n                } else {\r\n                  fnc = keyframeMetadata.__fnct;\r\n                }\r\n\r\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n              }\r\n            }\r\n\r\n            endValue = nextKeyData.s || keyData.e;\r\n            keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n            if (this.propType === 'multidimensional') {\r\n              newValue[i] = keyValue;\r\n            } else {\r\n              newValue = keyValue;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      caching.lastIndex = iterationIndex;\r\n      return newValue;\r\n    } // based on @Toji's https://github.com/toji/gl-matrix/\r\n\r\n\r\n    function slerp(a, b, t) {\r\n      var out = [];\r\n      var ax = a[0];\r\n      var ay = a[1];\r\n      var az = a[2];\r\n      var aw = a[3];\r\n      var bx = b[0];\r\n      var by = b[1];\r\n      var bz = b[2];\r\n      var bw = b[3];\r\n      var omega;\r\n      var cosom;\r\n      var sinom;\r\n      var scale0;\r\n      var scale1;\r\n      cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n\r\n      if (cosom < 0.0) {\r\n        cosom = -cosom;\r\n        bx = -bx;\r\n        by = -by;\r\n        bz = -bz;\r\n        bw = -bw;\r\n      }\r\n\r\n      if (1.0 - cosom > 0.000001) {\r\n        omega = Math.acos(cosom);\r\n        sinom = Math.sin(omega);\r\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n        scale1 = Math.sin(t * omega) / sinom;\r\n      } else {\r\n        scale0 = 1.0 - t;\r\n        scale1 = t;\r\n      }\r\n\r\n      out[0] = scale0 * ax + scale1 * bx;\r\n      out[1] = scale0 * ay + scale1 * by;\r\n      out[2] = scale0 * az + scale1 * bz;\r\n      out[3] = scale0 * aw + scale1 * bw;\r\n      return out;\r\n    }\r\n\r\n    function quaternionToEuler(out, quat) {\r\n      var qx = quat[0];\r\n      var qy = quat[1];\r\n      var qz = quat[2];\r\n      var qw = quat[3];\r\n      var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n      var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n      var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n      out[0] = heading / degToRads;\r\n      out[1] = attitude / degToRads;\r\n      out[2] = bank / degToRads;\r\n    }\r\n\r\n    function createQuaternion(values) {\r\n      var heading = values[0] * degToRads;\r\n      var attitude = values[1] * degToRads;\r\n      var bank = values[2] * degToRads;\r\n      var c1 = Math.cos(heading / 2);\r\n      var c2 = Math.cos(attitude / 2);\r\n      var c3 = Math.cos(bank / 2);\r\n      var s1 = Math.sin(heading / 2);\r\n      var s2 = Math.sin(attitude / 2);\r\n      var s3 = Math.sin(bank / 2);\r\n      var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n      var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n      var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n      var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n      return [x, y, z, w];\r\n    }\r\n\r\n    function getValueAtCurrentTime() {\r\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n      var initTime = this.keyframes[0].t - this.offsetTime;\r\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n\r\n      if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\r\n        if (this._caching.lastFrame >= frameNum) {\r\n          this._caching._lastKeyframeIndex = -1;\r\n          this._caching.lastIndex = 0;\r\n        }\r\n\r\n        var renderResult = this.interpolateValue(frameNum, this._caching);\r\n        this.pv = renderResult;\r\n      }\r\n\r\n      this._caching.lastFrame = frameNum;\r\n      return this.pv;\r\n    }\r\n\r\n    function setVValue(val) {\r\n      var multipliedValue;\r\n\r\n      if (this.propType === 'unidimensional') {\r\n        multipliedValue = val * this.mult;\r\n\r\n        if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n          this.v = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n      } else {\r\n        var i = 0;\r\n        var len = this.v.length;\r\n\r\n        while (i < len) {\r\n          multipliedValue = val[i] * this.mult;\r\n\r\n          if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n            this.v[i] = multipliedValue;\r\n            this._mdf = true;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n      }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n      if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n        return;\r\n      }\r\n\r\n      if (this.lock) {\r\n        this.setVValue(this.pv);\r\n        return;\r\n      }\r\n\r\n      this.lock = true;\r\n      this._mdf = this._isFirstFrame;\r\n      var i;\r\n      var len = this.effectsSequence.length;\r\n      var finalValue = this.kf ? this.pv : this.data.k;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        finalValue = this.effectsSequence[i](finalValue);\r\n      }\r\n\r\n      this.setVValue(finalValue);\r\n      this._isFirstFrame = false;\r\n      this.lock = false;\r\n      this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n      this.effectsSequence.push(effectFunction);\r\n      this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    function ValueProperty(elem, data, mult, container) {\r\n      this.propType = 'unidimensional';\r\n      this.mult = mult || 1;\r\n      this.data = data;\r\n      this.v = mult ? data.k * mult : data.k;\r\n      this.pv = data.k;\r\n      this._mdf = false;\r\n      this.elem = elem;\r\n      this.container = container;\r\n      this.comp = elem.comp;\r\n      this.k = false;\r\n      this.kf = false;\r\n      this.vel = 0;\r\n      this.effectsSequence = [];\r\n      this._isFirstFrame = true;\r\n      this.getValue = processEffectsSequence;\r\n      this.setVValue = setVValue;\r\n      this.addEffect = addEffect;\r\n    }\r\n\r\n    function MultiDimensionalProperty(elem, data, mult, container) {\r\n      this.propType = 'multidimensional';\r\n      this.mult = mult || 1;\r\n      this.data = data;\r\n      this._mdf = false;\r\n      this.elem = elem;\r\n      this.container = container;\r\n      this.comp = elem.comp;\r\n      this.k = false;\r\n      this.kf = false;\r\n      this.frameId = -1;\r\n      var i;\r\n      var len = data.k.length;\r\n      this.v = createTypedArray('float32', len);\r\n      this.pv = createTypedArray('float32', len);\r\n      this.vel = createTypedArray('float32', len);\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.v[i] = data.k[i] * this.mult;\r\n        this.pv[i] = data.k[i];\r\n      }\r\n\r\n      this._isFirstFrame = true;\r\n      this.effectsSequence = [];\r\n      this.getValue = processEffectsSequence;\r\n      this.setVValue = setVValue;\r\n      this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedValueProperty(elem, data, mult, container) {\r\n      this.propType = 'unidimensional';\r\n      this.keyframes = data.k;\r\n      this.keyframesMetadata = [];\r\n      this.offsetTime = elem.data.st;\r\n      this.frameId = -1;\r\n      this._caching = {\r\n        lastFrame: initFrame,\r\n        lastIndex: 0,\r\n        value: 0,\r\n        _lastKeyframeIndex: -1\r\n      };\r\n      this.k = true;\r\n      this.kf = true;\r\n      this.data = data;\r\n      this.mult = mult || 1;\r\n      this.elem = elem;\r\n      this.container = container;\r\n      this.comp = elem.comp;\r\n      this.v = initFrame;\r\n      this.pv = initFrame;\r\n      this._isFirstFrame = true;\r\n      this.getValue = processEffectsSequence;\r\n      this.setVValue = setVValue;\r\n      this.interpolateValue = interpolateValue;\r\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n      this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n      this.propType = 'multidimensional';\r\n      var i;\r\n      var len = data.k.length;\r\n      var s;\r\n      var e;\r\n      var to;\r\n      var ti;\r\n\r\n      for (i = 0; i < len - 1; i += 1) {\r\n        if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n          s = data.k[i].s;\r\n          e = data.k[i + 1].s;\r\n          to = data.k[i].to;\r\n          ti = data.k[i].ti;\r\n\r\n          if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n\r\n          if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n            if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\r\n              data.k[i].to = null;\r\n              data.k[i].ti = null;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n      this.data = data;\r\n      this.keyframes = data.k;\r\n      this.keyframesMetadata = [];\r\n      this.offsetTime = elem.data.st;\r\n      this.k = true;\r\n      this.kf = true;\r\n      this._isFirstFrame = true;\r\n      this.mult = mult || 1;\r\n      this.elem = elem;\r\n      this.container = container;\r\n      this.comp = elem.comp;\r\n      this.getValue = processEffectsSequence;\r\n      this.setVValue = setVValue;\r\n      this.interpolateValue = interpolateValue;\r\n      this.frameId = -1;\r\n      var arrLen = data.k[0].s.length;\r\n      this.v = createTypedArray('float32', arrLen);\r\n      this.pv = createTypedArray('float32', arrLen);\r\n\r\n      for (i = 0; i < arrLen; i += 1) {\r\n        this.v[i] = initFrame;\r\n        this.pv[i] = initFrame;\r\n      }\r\n\r\n      this._caching = {\r\n        lastFrame: initFrame,\r\n        lastIndex: 0,\r\n        value: createTypedArray('float32', arrLen)\r\n      };\r\n      this.addEffect = addEffect;\r\n    }\r\n\r\n    function getProp(elem, data, type, mult, container) {\r\n      var p;\r\n\r\n      if (!data.k.length) {\r\n        p = new ValueProperty(elem, data, mult, container);\r\n      } else if (typeof data.k[0] === 'number') {\r\n        p = new MultiDimensionalProperty(elem, data, mult, container);\r\n      } else {\r\n        switch (type) {\r\n          case 0:\r\n            p = new KeyframedValueProperty(elem, data, mult, container);\r\n            break;\r\n\r\n          case 1:\r\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n\r\n      if (p.effectsSequence.length) {\r\n        container.addDynamicProperty(p);\r\n      }\r\n\r\n      return p;\r\n    }\r\n\r\n    var ob = {\r\n      getProp: getProp\r\n    };\r\n    return ob;\r\n  }();\r\n\r\n  function DynamicPropertyContainer() {}\r\n\r\n  DynamicPropertyContainer.prototype = {\r\n    addDynamicProperty: function addDynamicProperty(prop) {\r\n      if (this.dynamicProperties.indexOf(prop) === -1) {\r\n        this.dynamicProperties.push(prop);\r\n        this.container.addDynamicProperty(this);\r\n        this._isAnimated = true;\r\n      }\r\n    },\r\n    iterateDynamicProperties: function iterateDynamicProperties() {\r\n      this._mdf = false;\r\n      var i;\r\n      var len = this.dynamicProperties.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    },\r\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\r\n      this.container = container;\r\n      this.dynamicProperties = [];\r\n      this._mdf = false;\r\n      this._isAnimated = false;\r\n    }\r\n  };\r\n\r\n  var pointPool = function () {\r\n    function create() {\r\n      return createTypedArray('float32', 2);\r\n    }\r\n\r\n    return poolFactory(8, create);\r\n  }();\r\n\r\n  function ShapePath() {\r\n    this.c = false;\r\n    this._length = 0;\r\n    this._maxLength = 8;\r\n    this.v = createSizedArray(this._maxLength);\r\n    this.o = createSizedArray(this._maxLength);\r\n    this.i = createSizedArray(this._maxLength);\r\n  }\r\n\r\n  ShapePath.prototype.setPathData = function (closed, len) {\r\n    this.c = closed;\r\n    this.setLength(len);\r\n    var i = 0;\r\n\r\n    while (i < len) {\r\n      this.v[i] = pointPool.newElement();\r\n      this.o[i] = pointPool.newElement();\r\n      this.i[i] = pointPool.newElement();\r\n      i += 1;\r\n    }\r\n  };\r\n\r\n  ShapePath.prototype.setLength = function (len) {\r\n    while (this._maxLength < len) {\r\n      this.doubleArrayLength();\r\n    }\r\n\r\n    this._length = len;\r\n  };\r\n\r\n  ShapePath.prototype.doubleArrayLength = function () {\r\n    this.v = this.v.concat(createSizedArray(this._maxLength));\r\n    this.i = this.i.concat(createSizedArray(this._maxLength));\r\n    this.o = this.o.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  };\r\n\r\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n    var arr;\r\n    this._length = Math.max(this._length, pos + 1);\r\n\r\n    if (this._length >= this._maxLength) {\r\n      this.doubleArrayLength();\r\n    }\r\n\r\n    switch (type) {\r\n      case 'v':\r\n        arr = this.v;\r\n        break;\r\n\r\n      case 'i':\r\n        arr = this.i;\r\n        break;\r\n\r\n      case 'o':\r\n        arr = this.o;\r\n        break;\r\n\r\n      default:\r\n        arr = [];\r\n        break;\r\n    }\r\n\r\n    if (!arr[pos] || arr[pos] && !replace) {\r\n      arr[pos] = pointPool.newElement();\r\n    }\r\n\r\n    arr[pos][0] = x;\r\n    arr[pos][1] = y;\r\n  };\r\n\r\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n    this.setXYAt(vX, vY, 'v', pos, replace);\r\n    this.setXYAt(oX, oY, 'o', pos, replace);\r\n    this.setXYAt(iX, iY, 'i', pos, replace);\r\n  };\r\n\r\n  ShapePath.prototype.reverse = function () {\r\n    var newPath = new ShapePath();\r\n    newPath.setPathData(this.c, this._length);\r\n    var vertices = this.v;\r\n    var outPoints = this.o;\r\n    var inPoints = this.i;\r\n    var init = 0;\r\n\r\n    if (this.c) {\r\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n      init = 1;\r\n    }\r\n\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n    var i;\r\n\r\n    for (i = init; i < len; i += 1) {\r\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n      cnt -= 1;\r\n    }\r\n\r\n    return newPath;\r\n  };\r\n\r\n  ShapePath.prototype.length = function () {\r\n    return this._length;\r\n  };\r\n\r\n  var shapePool = function () {\r\n    function create() {\r\n      return new ShapePath();\r\n    }\r\n\r\n    function release(shapePath) {\r\n      var len = shapePath._length;\r\n      var i;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        pointPool.release(shapePath.v[i]);\r\n        pointPool.release(shapePath.i[i]);\r\n        pointPool.release(shapePath.o[i]);\r\n        shapePath.v[i] = null;\r\n        shapePath.i[i] = null;\r\n        shapePath.o[i] = null;\r\n      }\r\n\r\n      shapePath._length = 0;\r\n      shapePath.c = false;\r\n    }\r\n\r\n    function clone(shape) {\r\n      var cloned = factory.newElement();\r\n      var i;\r\n      var len = shape._length === undefined ? shape.v.length : shape._length;\r\n      cloned.setLength(len);\r\n      cloned.c = shape.c;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n      }\r\n\r\n      return cloned;\r\n    }\r\n\r\n    var factory = poolFactory(4, create, release);\r\n    factory.clone = clone;\r\n    return factory;\r\n  }();\r\n\r\n  function ShapeCollection() {\r\n    this._length = 0;\r\n    this._maxLength = 4;\r\n    this.shapes = createSizedArray(this._maxLength);\r\n  }\r\n\r\n  ShapeCollection.prototype.addShape = function (shapeData) {\r\n    if (this._length === this._maxLength) {\r\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n      this._maxLength *= 2;\r\n    }\r\n\r\n    this.shapes[this._length] = shapeData;\r\n    this._length += 1;\r\n  };\r\n\r\n  ShapeCollection.prototype.releaseShapes = function () {\r\n    var i;\r\n\r\n    for (i = 0; i < this._length; i += 1) {\r\n      shapePool.release(this.shapes[i]);\r\n    }\r\n\r\n    this._length = 0;\r\n  };\r\n\r\n  var shapeCollectionPool = function () {\r\n    var ob = {\r\n      newShapeCollection: newShapeCollection,\r\n      release: release\r\n    };\r\n    var _length = 0;\r\n    var _maxLength = 4;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    function newShapeCollection() {\r\n      var shapeCollection;\r\n\r\n      if (_length) {\r\n        _length -= 1;\r\n        shapeCollection = pool[_length];\r\n      } else {\r\n        shapeCollection = new ShapeCollection();\r\n      }\r\n\r\n      return shapeCollection;\r\n    }\r\n\r\n    function release(shapeCollection) {\r\n      var i;\r\n      var len = shapeCollection._length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapePool.release(shapeCollection.shapes[i]);\r\n      }\r\n\r\n      shapeCollection._length = 0;\r\n\r\n      if (_length === _maxLength) {\r\n        pool = pooling[\"double\"](pool);\r\n        _maxLength *= 2;\r\n      }\r\n\r\n      pool[_length] = shapeCollection;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var ShapePropertyFactory = function () {\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, caching) {\r\n      var iterationIndex = caching.lastIndex;\r\n      var keyPropS;\r\n      var keyPropE;\r\n      var isHold;\r\n      var j;\r\n      var k;\r\n      var jLen;\r\n      var kLen;\r\n      var perc;\r\n      var vertexValue;\r\n      var kf = this.keyframes;\r\n\r\n      if (frameNum < kf[0].t - this.offsetTime) {\r\n        keyPropS = kf[0].s[0];\r\n        isHold = true;\r\n        iterationIndex = 0;\r\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\r\n\r\n        isHold = true;\r\n      } else {\r\n        var i = iterationIndex;\r\n        var len = kf.length - 1;\r\n        var flag = true;\r\n        var keyData;\r\n        var nextKeyData;\r\n        var keyframeMetadata;\r\n\r\n        while (flag) {\r\n          keyData = kf[i];\r\n          nextKeyData = kf[i + 1];\r\n\r\n          if (nextKeyData.t - this.offsetTime > frameNum) {\r\n            break;\r\n          }\r\n\r\n          if (i < len - 1) {\r\n            i += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n\r\n        keyframeMetadata = this.keyframesMetadata[i] || {};\r\n        isHold = keyData.h === 1;\r\n        iterationIndex = i;\r\n\r\n        if (!isHold) {\r\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n            perc = 1;\r\n          } else if (frameNum < keyData.t - this.offsetTime) {\r\n            perc = 0;\r\n          } else {\r\n            var fnc;\r\n\r\n            if (keyframeMetadata.__fnct) {\r\n              fnc = keyframeMetadata.__fnct;\r\n            } else {\r\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n              keyframeMetadata.__fnct = fnc;\r\n            }\r\n\r\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\r\n          }\r\n\r\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n        }\r\n\r\n        keyPropS = keyData.s[0];\r\n      }\r\n\r\n      jLen = previousValue._length;\r\n      kLen = keyPropS.i[0].length;\r\n      caching.lastIndex = iterationIndex;\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        for (k = 0; k < kLen; k += 1) {\r\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n          previousValue.i[j][k] = vertexValue;\r\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n          previousValue.o[j][k] = vertexValue;\r\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n          previousValue.v[j][k] = vertexValue;\r\n        }\r\n      }\r\n    }\r\n\r\n    function interpolateShapeCurrentTime() {\r\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n      var initTime = this.keyframes[0].t - this.offsetTime;\r\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n      var lastFrame = this._caching.lastFrame;\r\n\r\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\r\n        /// /\r\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\r\n      }\r\n\r\n      this._caching.lastFrame = frameNum;\r\n      return this.pv;\r\n    }\r\n\r\n    function resetShape() {\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n        return false;\r\n      }\r\n\r\n      var i;\r\n      var len = shape1._length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    function setVValue(newPath) {\r\n      if (!shapesEqual(this.v, newPath)) {\r\n        this.v = shapePool.clone(newPath);\r\n        this.localShapeCollection.releaseShapes();\r\n        this.localShapeCollection.addShape(this.v);\r\n        this._mdf = true;\r\n        this.paths = this.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n      if (this.elem.globalData.frameId === this.frameId) {\r\n        return;\r\n      }\r\n\r\n      if (!this.effectsSequence.length) {\r\n        this._mdf = false;\r\n        return;\r\n      }\r\n\r\n      if (this.lock) {\r\n        this.setVValue(this.pv);\r\n        return;\r\n      }\r\n\r\n      this.lock = true;\r\n      this._mdf = false;\r\n      var finalValue;\r\n\r\n      if (this.kf) {\r\n        finalValue = this.pv;\r\n      } else if (this.data.ks) {\r\n        finalValue = this.data.ks.k;\r\n      } else {\r\n        finalValue = this.data.pt.k;\r\n      }\r\n\r\n      var i;\r\n      var len = this.effectsSequence.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        finalValue = this.effectsSequence[i](finalValue);\r\n      }\r\n\r\n      this.setVValue(finalValue);\r\n      this.lock = false;\r\n      this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function ShapeProperty(elem, data, type) {\r\n      this.propType = 'shape';\r\n      this.comp = elem.comp;\r\n      this.container = elem;\r\n      this.elem = elem;\r\n      this.data = data;\r\n      this.k = false;\r\n      this.kf = false;\r\n      this._mdf = false;\r\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n      this.v = shapePool.clone(pathData);\r\n      this.pv = shapePool.clone(this.v);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.paths.addShape(this.v);\r\n      this.reset = resetShape;\r\n      this.effectsSequence = [];\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n      this.effectsSequence.push(effectFunction);\r\n      this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = processEffectsSequence;\r\n    ShapeProperty.prototype.setVValue = setVValue;\r\n    ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    function KeyframedShapeProperty(elem, data, type) {\r\n      this.propType = 'shape';\r\n      this.comp = elem.comp;\r\n      this.elem = elem;\r\n      this.container = elem;\r\n      this.offsetTime = elem.data.st;\r\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n      this.keyframesMetadata = [];\r\n      this.k = true;\r\n      this.kf = true;\r\n      var len = this.keyframes[0].s[0].i.length;\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n      this.pv = shapePool.clone(this.v);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.paths.addShape(this.v);\r\n      this.lastFrame = initFrame;\r\n      this.reset = resetShape;\r\n      this._caching = {\r\n        lastFrame: initFrame,\r\n        lastIndex: 0\r\n      };\r\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n    }\r\n\r\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    var EllShapeProperty = function () {\r\n      var cPoint = roundCorner;\r\n\r\n      function EllShapePropertyFactory(elem, data) {\r\n        this.v = shapePool.newElement();\r\n        this.v.setPathData(true, 4);\r\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.localShapeCollection.addShape(this.v);\r\n        this.d = data.d;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.frameId = -1;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n\r\n        if (this.dynamicProperties.length) {\r\n          this.k = true;\r\n        } else {\r\n          this.k = false;\r\n          this.convertEllToPath();\r\n        }\r\n      }\r\n\r\n      EllShapePropertyFactory.prototype = {\r\n        reset: resetShape,\r\n        getValue: function getValue() {\r\n          if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n          }\r\n\r\n          this.frameId = this.elem.globalData.frameId;\r\n          this.iterateDynamicProperties();\r\n\r\n          if (this._mdf) {\r\n            this.convertEllToPath();\r\n          }\r\n        },\r\n        convertEllToPath: function convertEllToPath() {\r\n          var p0 = this.p.v[0];\r\n          var p1 = this.p.v[1];\r\n          var s0 = this.s.v[0] / 2;\r\n          var s1 = this.s.v[1] / 2;\r\n\r\n          var _cw = this.d !== 3;\r\n\r\n          var _v = this.v;\r\n          _v.v[0][0] = p0;\r\n          _v.v[0][1] = p1 - s1;\r\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n          _v.v[1][1] = p1;\r\n          _v.v[2][0] = p0;\r\n          _v.v[2][1] = p1 + s1;\r\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n          _v.v[3][1] = p1;\r\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n          _v.i[0][1] = p1 - s1;\r\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n          _v.i[1][1] = p1 - s1 * cPoint;\r\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n          _v.i[2][1] = p1 + s1;\r\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n          _v.i[3][1] = p1 + s1 * cPoint;\r\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n          _v.o[0][1] = p1 - s1;\r\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n          _v.o[1][1] = p1 + s1 * cPoint;\r\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n          _v.o[2][1] = p1 + s1;\r\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n          _v.o[3][1] = p1 - s1 * cPoint;\r\n        }\r\n      };\r\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n      return EllShapePropertyFactory;\r\n    }();\r\n\r\n    var StarShapeProperty = function () {\r\n      function StarShapePropertyFactory(elem, data) {\r\n        this.v = shapePool.newElement();\r\n        this.v.setPathData(true, 0);\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.data = data;\r\n        this.frameId = -1;\r\n        this.d = data.d;\r\n        this.initDynamicPropertyContainer(elem);\r\n\r\n        if (data.sy === 1) {\r\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n          this.convertToPath = this.convertStarToPath;\r\n        } else {\r\n          this.convertToPath = this.convertPolygonToPath;\r\n        }\r\n\r\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n        this.localShapeCollection.addShape(this.v);\r\n        this.paths = this.localShapeCollection;\r\n\r\n        if (this.dynamicProperties.length) {\r\n          this.k = true;\r\n        } else {\r\n          this.k = false;\r\n          this.convertToPath();\r\n        }\r\n      }\r\n\r\n      StarShapePropertyFactory.prototype = {\r\n        reset: resetShape,\r\n        getValue: function getValue() {\r\n          if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n          }\r\n\r\n          this.frameId = this.elem.globalData.frameId;\r\n          this.iterateDynamicProperties();\r\n\r\n          if (this._mdf) {\r\n            this.convertToPath();\r\n          }\r\n        },\r\n        convertStarToPath: function convertStarToPath() {\r\n          var numPts = Math.floor(this.pt.v) * 2;\r\n          var angle = Math.PI * 2 / numPts;\r\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\r\n\r\n          var longFlag = true;\r\n          var longRad = this.or.v;\r\n          var shortRad = this.ir.v;\r\n          var longRound = this.os.v;\r\n          var shortRound = this.is.v;\r\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\r\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\r\n          var i;\r\n          var rad;\r\n          var roundness;\r\n          var perimSegment;\r\n          var currentAng = -Math.PI / 2;\r\n          currentAng += this.r.v;\r\n          var dir = this.data.d === 3 ? -1 : 1;\r\n          this.v._length = 0;\r\n\r\n          for (i = 0; i < numPts; i += 1) {\r\n            rad = longFlag ? longRad : shortRad;\r\n            roundness = longFlag ? longRound : shortRound;\r\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n            var x = rad * Math.cos(currentAng);\r\n            var y = rad * Math.sin(currentAng);\r\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n            x += +this.p.v[0];\r\n            y += +this.p.v[1];\r\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\r\n\r\n            longFlag = !longFlag;\r\n            currentAng += angle * dir;\r\n          }\r\n        },\r\n        convertPolygonToPath: function convertPolygonToPath() {\r\n          var numPts = Math.floor(this.pt.v);\r\n          var angle = Math.PI * 2 / numPts;\r\n          var rad = this.or.v;\r\n          var roundness = this.os.v;\r\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\r\n          var i;\r\n          var currentAng = -Math.PI * 0.5;\r\n          var dir = this.data.d === 3 ? -1 : 1;\r\n          currentAng += this.r.v;\r\n          this.v._length = 0;\r\n\r\n          for (i = 0; i < numPts; i += 1) {\r\n            var x = rad * Math.cos(currentAng);\r\n            var y = rad * Math.sin(currentAng);\r\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n            x += +this.p.v[0];\r\n            y += +this.p.v[1];\r\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n            currentAng += angle * dir;\r\n          }\r\n\r\n          this.paths.length = 0;\r\n          this.paths[0] = this.v;\r\n        }\r\n      };\r\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n      return StarShapePropertyFactory;\r\n    }();\r\n\r\n    var RectShapeProperty = function () {\r\n      function RectShapePropertyFactory(elem, data) {\r\n        this.v = shapePool.newElement();\r\n        this.v.c = true;\r\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n        this.localShapeCollection.addShape(this.v);\r\n        this.paths = this.localShapeCollection;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.frameId = -1;\r\n        this.d = data.d;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n\r\n        if (this.dynamicProperties.length) {\r\n          this.k = true;\r\n        } else {\r\n          this.k = false;\r\n          this.convertRectToPath();\r\n        }\r\n      }\r\n\r\n      RectShapePropertyFactory.prototype = {\r\n        convertRectToPath: function convertRectToPath() {\r\n          var p0 = this.p.v[0];\r\n          var p1 = this.p.v[1];\r\n          var v0 = this.s.v[0] / 2;\r\n          var v1 = this.s.v[1] / 2;\r\n          var round = bmMin(v0, v1, this.r.v);\r\n          var cPoint = round * (1 - roundCorner);\r\n          this.v._length = 0;\r\n\r\n          if (this.d === 2 || this.d === 1) {\r\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n\r\n            if (round !== 0) {\r\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n            } else {\r\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n            }\r\n          } else {\r\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n\r\n            if (round !== 0) {\r\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n            } else {\r\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n            }\r\n          }\r\n        },\r\n        getValue: function getValue() {\r\n          if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n          }\r\n\r\n          this.frameId = this.elem.globalData.frameId;\r\n          this.iterateDynamicProperties();\r\n\r\n          if (this._mdf) {\r\n            this.convertRectToPath();\r\n          }\r\n        },\r\n        reset: resetShape\r\n      };\r\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n      return RectShapePropertyFactory;\r\n    }();\r\n\r\n    function getShapeProp(elem, data, type) {\r\n      var prop;\r\n\r\n      if (type === 3 || type === 4) {\r\n        var dataProp = type === 3 ? data.pt : data.ks;\r\n        var keys = dataProp.k;\r\n\r\n        if (keys.length) {\r\n          prop = new KeyframedShapeProperty(elem, data, type);\r\n        } else {\r\n          prop = new ShapeProperty(elem, data, type);\r\n        }\r\n      } else if (type === 5) {\r\n        prop = new RectShapeProperty(elem, data);\r\n      } else if (type === 6) {\r\n        prop = new EllShapeProperty(elem, data);\r\n      } else if (type === 7) {\r\n        prop = new StarShapeProperty(elem, data);\r\n      }\r\n\r\n      if (prop.k) {\r\n        elem.addDynamicProperty(prop);\r\n      }\r\n\r\n      return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n      return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n      return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n  }();\r\n\r\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\r\n\r\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\r\n\r\n  var Matrix = function () {\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset() {\r\n      this.props[0] = 1;\r\n      this.props[1] = 0;\r\n      this.props[2] = 0;\r\n      this.props[3] = 0;\r\n      this.props[4] = 0;\r\n      this.props[5] = 1;\r\n      this.props[6] = 0;\r\n      this.props[7] = 0;\r\n      this.props[8] = 0;\r\n      this.props[9] = 0;\r\n      this.props[10] = 1;\r\n      this.props[11] = 0;\r\n      this.props[12] = 0;\r\n      this.props[13] = 0;\r\n      this.props[14] = 0;\r\n      this.props[15] = 1;\r\n      return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle) {\r\n      if (angle === 0) {\r\n        return this;\r\n      }\r\n\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx, sy) {\r\n      return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay) {\r\n      return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle) {\r\n      var mCos = _cos(angle);\r\n\r\n      var mSin = _sin(angle);\r\n\r\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n      if (!sz && sz !== 0) {\r\n        sz = 1;\r\n      }\r\n\r\n      if (sx === 1 && sy === 1 && sz === 1) {\r\n        return this;\r\n      }\r\n\r\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n      this.props[0] = a;\r\n      this.props[1] = b;\r\n      this.props[2] = c;\r\n      this.props[3] = d;\r\n      this.props[4] = e;\r\n      this.props[5] = f;\r\n      this.props[6] = g;\r\n      this.props[7] = h;\r\n      this.props[8] = i;\r\n      this.props[9] = j;\r\n      this.props[10] = k;\r\n      this.props[11] = l;\r\n      this.props[12] = m;\r\n      this.props[13] = n;\r\n      this.props[14] = o;\r\n      this.props[15] = p;\r\n      return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n      tz = tz || 0;\r\n\r\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n      var _p = this.props;\r\n\r\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n        _p[12] = _p[12] * a2 + _p[15] * m2;\r\n        _p[13] = _p[13] * f2 + _p[15] * n2;\r\n        _p[14] = _p[14] * k2 + _p[15] * o2;\r\n        _p[15] *= p2; // }\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n      }\r\n\r\n      var a1 = _p[0];\r\n      var b1 = _p[1];\r\n      var c1 = _p[2];\r\n      var d1 = _p[3];\r\n      var e1 = _p[4];\r\n      var f1 = _p[5];\r\n      var g1 = _p[6];\r\n      var h1 = _p[7];\r\n      var i1 = _p[8];\r\n      var j1 = _p[9];\r\n      var k1 = _p[10];\r\n      var l1 = _p[11];\r\n      var m1 = _p[12];\r\n      var n1 = _p[13];\r\n      var o1 = _p[14];\r\n      var p1 = _p[15];\r\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\r\n\r\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n      if (!this._identityCalculated) {\r\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n        this._identityCalculated = true;\r\n      }\r\n\r\n      return this._identity;\r\n    }\r\n\r\n    function equals(matr) {\r\n      var i = 0;\r\n\r\n      while (i < 16) {\r\n        if (matr.props[i] !== this.props[i]) {\r\n          return false;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    function clone(matr) {\r\n      var i;\r\n\r\n      for (i = 0; i < 16; i += 1) {\r\n        matr.props[i] = this.props[i];\r\n      }\r\n\r\n      return matr;\r\n    }\r\n\r\n    function cloneFromProps(props) {\r\n      var i;\r\n\r\n      for (i = 0; i < 16; i += 1) {\r\n        this.props[i] = props[i];\r\n      }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n      return {\r\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n      };\r\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\r\n    }\r\n\r\n    function applyToX(x, y, z) {\r\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n\r\n    function applyToY(x, y, z) {\r\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n\r\n    function applyToZ(x, y, z) {\r\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function getInverseMatrix() {\r\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n      var a = this.props[5] / determinant;\r\n      var b = -this.props[1] / determinant;\r\n      var c = -this.props[4] / determinant;\r\n      var d = this.props[0] / determinant;\r\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n      var inverseMatrix = new Matrix();\r\n      inverseMatrix.props[0] = a;\r\n      inverseMatrix.props[1] = b;\r\n      inverseMatrix.props[4] = c;\r\n      inverseMatrix.props[5] = d;\r\n      inverseMatrix.props[12] = e;\r\n      inverseMatrix.props[13] = f;\r\n      return inverseMatrix;\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n      var inverseMatrix = this.getInverseMatrix();\r\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n    }\r\n\r\n    function inversePoints(pts) {\r\n      var i;\r\n      var len = pts.length;\r\n      var retPts = [];\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        retPts[i] = inversePoint(pts[i]);\r\n      }\r\n\r\n      return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n      var arr = createTypedArray('float32', 6);\r\n\r\n      if (this.isIdentity()) {\r\n        arr[0] = pt1[0];\r\n        arr[1] = pt1[1];\r\n        arr[2] = pt2[0];\r\n        arr[3] = pt2[1];\r\n        arr[4] = pt3[0];\r\n        arr[5] = pt3[1];\r\n      } else {\r\n        var p0 = this.props[0];\r\n        var p1 = this.props[1];\r\n        var p4 = this.props[4];\r\n        var p5 = this.props[5];\r\n        var p12 = this.props[12];\r\n        var p13 = this.props[13];\r\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function applyToPointArray(x, y, z) {\r\n      var arr;\r\n\r\n      if (this.isIdentity()) {\r\n        arr = [x, y, z];\r\n      } else {\r\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n      if (this.isIdentity()) {\r\n        return x + ',' + y;\r\n      }\r\n\r\n      var _p = this.props;\r\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n    }\r\n\r\n    function toCSS() {\r\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n\r\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\r\n      var i = 0;\r\n      var props = this.props;\r\n      var cssValue = 'matrix3d(';\r\n      var v = 10000;\r\n\r\n      while (i < 16) {\r\n        cssValue += _rnd(props[i] * v) / v;\r\n        cssValue += i === 15 ? ')' : ',';\r\n        i += 1;\r\n      }\r\n\r\n      return cssValue;\r\n    }\r\n\r\n    function roundMatrixProperty(val) {\r\n      var v = 10000;\r\n\r\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\r\n        return _rnd(val * v) / v;\r\n      }\r\n\r\n      return val;\r\n    }\r\n\r\n    function to2dCSS() {\r\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n\r\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\r\n      var props = this.props;\r\n\r\n      var _a = roundMatrixProperty(props[0]);\r\n\r\n      var _b = roundMatrixProperty(props[1]);\r\n\r\n      var _c = roundMatrixProperty(props[4]);\r\n\r\n      var _d = roundMatrixProperty(props[5]);\r\n\r\n      var _e = roundMatrixProperty(props[12]);\r\n\r\n      var _f = roundMatrixProperty(props[13]);\r\n\r\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n    }\r\n\r\n    return function () {\r\n      this.reset = reset;\r\n      this.rotate = rotate;\r\n      this.rotateX = rotateX;\r\n      this.rotateY = rotateY;\r\n      this.rotateZ = rotateZ;\r\n      this.skew = skew;\r\n      this.skewFromAxis = skewFromAxis;\r\n      this.shear = shear;\r\n      this.scale = scale;\r\n      this.setTransform = setTransform;\r\n      this.translate = translate;\r\n      this.transform = transform;\r\n      this.applyToPoint = applyToPoint;\r\n      this.applyToX = applyToX;\r\n      this.applyToY = applyToY;\r\n      this.applyToZ = applyToZ;\r\n      this.applyToPointArray = applyToPointArray;\r\n      this.applyToTriplePoints = applyToTriplePoints;\r\n      this.applyToPointStringified = applyToPointStringified;\r\n      this.toCSS = toCSS;\r\n      this.to2dCSS = to2dCSS;\r\n      this.clone = clone;\r\n      this.cloneFromProps = cloneFromProps;\r\n      this.equals = equals;\r\n      this.inversePoints = inversePoints;\r\n      this.inversePoint = inversePoint;\r\n      this.getInverseMatrix = getInverseMatrix;\r\n      this._t = this.transform;\r\n      this.isIdentity = isIdentity;\r\n      this._identity = true;\r\n      this._identityCalculated = false;\r\n      this.props = createTypedArray('float32', 16);\r\n      this.reset();\r\n    };\r\n  }();\r\n\r\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\r\n  var lottie = {};\r\n  var standalone = '__[STANDALONE]__';\r\n  var animationData = '__[ANIMATIONDATA]__';\r\n  var renderer = '';\r\n\r\n  function setLocation(href) {\r\n    setLocationHref(href);\r\n  }\r\n\r\n  function searchAnimations() {\r\n    if (standalone === true) {\r\n      animationManager.searchAnimations(animationData, standalone, renderer);\r\n    } else {\r\n      animationManager.searchAnimations();\r\n    }\r\n  }\r\n\r\n  function setSubframeRendering(flag) {\r\n    setSubframeEnabled(flag);\r\n  }\r\n\r\n  function setPrefix(prefix) {\r\n    setIdPrefix(prefix);\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    if (standalone === true) {\r\n      params.animationData = JSON.parse(animationData);\r\n    }\r\n\r\n    return animationManager.loadAnimation(params);\r\n  }\r\n\r\n  function setQuality(value) {\r\n    if (typeof value === 'string') {\r\n      switch (value) {\r\n        case 'high':\r\n          setDefaultCurveSegments(200);\r\n          break;\r\n\r\n        default:\r\n        case 'medium':\r\n          setDefaultCurveSegments(50);\r\n          break;\r\n\r\n        case 'low':\r\n          setDefaultCurveSegments(10);\r\n          break;\r\n      }\r\n    } else if (!isNaN(value) && value > 1) {\r\n      setDefaultCurveSegments(value);\r\n    }\r\n\r\n    if (getDefaultCurveSegments() >= 50) {\r\n      roundValues(false);\r\n    } else {\r\n      roundValues(true);\r\n    }\r\n  }\r\n\r\n  function inBrowser() {\r\n    return typeof navigator !== 'undefined';\r\n  }\r\n\r\n  function installPlugin(type, plugin) {\r\n    if (type === 'expressions') {\r\n      setExpressionsPlugin(plugin);\r\n    }\r\n  }\r\n\r\n  function getFactory(name) {\r\n    switch (name) {\r\n      case 'propertyFactory':\r\n        return PropertyFactory;\r\n\r\n      case 'shapePropertyFactory':\r\n        return ShapePropertyFactory;\r\n\r\n      case 'matrix':\r\n        return Matrix;\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  lottie.play = animationManager.play;\r\n  lottie.pause = animationManager.pause;\r\n  lottie.setLocationHref = setLocation;\r\n  lottie.togglePause = animationManager.togglePause;\r\n  lottie.setSpeed = animationManager.setSpeed;\r\n  lottie.setDirection = animationManager.setDirection;\r\n  lottie.stop = animationManager.stop;\r\n  lottie.searchAnimations = searchAnimations;\r\n  lottie.registerAnimation = animationManager.registerAnimation;\r\n  lottie.loadAnimation = loadAnimation;\r\n  lottie.setSubframeRendering = setSubframeRendering;\r\n  lottie.resize = animationManager.resize; // lottie.start = start;\r\n\r\n  lottie.goToAndStop = animationManager.goToAndStop;\r\n  lottie.destroy = animationManager.destroy;\r\n  lottie.setQuality = setQuality;\r\n  lottie.inBrowser = inBrowser;\r\n  lottie.installPlugin = installPlugin;\r\n  lottie.freeze = animationManager.freeze;\r\n  lottie.unfreeze = animationManager.unfreeze;\r\n  lottie.setVolume = animationManager.setVolume;\r\n  lottie.mute = animationManager.mute;\r\n  lottie.unmute = animationManager.unmute;\r\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\n  lottie.useWebWorker = setWebWorker;\r\n  lottie.setIDPrefix = setPrefix;\r\n  lottie.__getFactory = getFactory;\r\n  lottie.version = '5.10.0';\r\n\r\n  function checkReady() {\r\n    if (document.readyState === 'complete') {\r\n      clearInterval(readyStateCheckInterval);\r\n      searchAnimations();\r\n    }\r\n  }\r\n\r\n  function getQueryVariable(variable) {\r\n    var vars = queryString.split('&');\r\n\r\n    for (var i = 0; i < vars.length; i += 1) {\r\n      var pair = vars[i].split('=');\r\n\r\n      if (decodeURIComponent(pair[0]) == variable) {\r\n        // eslint-disable-line eqeqeq\r\n        return decodeURIComponent(pair[1]);\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  var queryString = '';\r\n\r\n  if (standalone) {\r\n    var scripts = document.getElementsByTagName('script');\r\n    var index = scripts.length - 1;\r\n    var myScript = scripts[index] || {\r\n      src: ''\r\n    };\r\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\r\n\r\n    renderer = getQueryVariable('renderer');\r\n  }\r\n\r\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\r\n\r\n  try {\r\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\r\n    ) {\r\n      window.bodymovin = lottie;\r\n    }\r\n  } catch (err) {//\r\n  }\r\n\r\n  var ShapeModifiers = function () {\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm, factory) {\r\n      if (!modifiers[nm]) {\r\n        modifiers[nm] = factory;\r\n      }\r\n    }\r\n\r\n    function getModifier(nm, elem, data) {\r\n      return new modifiers[nm](elem, data);\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  function ShapeModifier() {}\r\n\r\n  ShapeModifier.prototype.initModifierProperties = function () {};\r\n\r\n  ShapeModifier.prototype.addShapeToModifier = function () {};\r\n\r\n  ShapeModifier.prototype.addShape = function (data) {\r\n    if (!this.closed) {\r\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n      data.sh.container.addDynamicProperty(data.sh);\r\n      var shapeData = {\r\n        shape: data.sh,\r\n        data: data,\r\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\r\n      };\r\n      this.shapes.push(shapeData);\r\n      this.addShapeToModifier(shapeData);\r\n\r\n      if (this._isAnimated) {\r\n        data.setAsAnimated();\r\n      }\r\n    }\r\n  };\r\n\r\n  ShapeModifier.prototype.init = function (elem, data) {\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem, data);\r\n    this.frameId = initialDefaultFrame;\r\n    this.closed = false;\r\n    this.k = false;\r\n\r\n    if (this.dynamicProperties.length) {\r\n      this.k = true;\r\n    } else {\r\n      this.getValue(true);\r\n    }\r\n  };\r\n\r\n  ShapeModifier.prototype.processKeys = function () {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n  function TrimModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], TrimModifier);\r\n\r\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n  };\r\n\r\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n    shapeData.pathsData = [];\r\n  };\r\n\r\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n\r\n    if (e <= 1) {\r\n      segments.push({\r\n        s: s,\r\n        e: e\r\n      });\r\n    } else if (s >= 1) {\r\n      segments.push({\r\n        s: s - 1,\r\n        e: e - 1\r\n      });\r\n    } else {\r\n      segments.push({\r\n        s: s,\r\n        e: 1\r\n      });\r\n      segments.push({\r\n        s: 0,\r\n        e: e - 1\r\n      });\r\n    }\r\n\r\n    var shapeSegments = [];\r\n    var i;\r\n    var len = segments.length;\r\n    var segmentOb;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      segmentOb = segments[i];\r\n\r\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n        var shapeS;\r\n        var shapeE;\r\n\r\n        if (segmentOb.s * totalModifierLength <= addedLength) {\r\n          shapeS = 0;\r\n        } else {\r\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n        }\r\n\r\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n          shapeE = 1;\r\n        } else {\r\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\r\n        }\r\n\r\n        shapeSegments.push([shapeS, shapeE]);\r\n      }\r\n    }\r\n\r\n    if (!shapeSegments.length) {\r\n      shapeSegments.push([0, 0]);\r\n    }\r\n\r\n    return shapeSegments;\r\n  };\r\n\r\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\r\n    var i;\r\n    var len = pathsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      segmentsLengthPool.release(pathsData[i]);\r\n    }\r\n\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n  };\r\n\r\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var s;\r\n    var e;\r\n\r\n    if (this._mdf || _isFirstFrame) {\r\n      var o = this.o.v % 360 / 360;\r\n\r\n      if (o < 0) {\r\n        o += 1;\r\n      }\r\n\r\n      if (this.s.v > 1) {\r\n        s = 1 + o;\r\n      } else if (this.s.v < 0) {\r\n        s = 0 + o;\r\n      } else {\r\n        s = this.s.v + o;\r\n      }\r\n\r\n      if (this.e.v > 1) {\r\n        e = 1 + o;\r\n      } else if (this.e.v < 0) {\r\n        e = 0 + o;\r\n      } else {\r\n        e = this.e.v + o;\r\n      }\r\n\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n\r\n      s = Math.round(s * 10000) * 0.0001;\r\n      e = Math.round(e * 10000) * 0.0001;\r\n      this.sValue = s;\r\n      this.eValue = e;\r\n    } else {\r\n      s = this.sValue;\r\n      e = this.eValue;\r\n    }\r\n\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var pathsData;\r\n    var pathData;\r\n    var totalShapeLength;\r\n    var totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n      for (i = 0; i < len; i += 1) {\r\n        this.shapes[i].localShapeCollection.releaseShapes();\r\n        this.shapes[i].shape._mdf = true;\r\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n\r\n        if (this._mdf) {\r\n          this.shapes[i].pathsData.length = 0;\r\n        }\r\n      }\r\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\r\n      var segments = [];\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n\r\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n          shapeData.shape.paths = shapeData.localShapeCollection;\r\n        } else {\r\n          shapePaths = shapeData.shape.paths;\r\n          jLen = shapePaths._length;\r\n          totalShapeLength = 0;\r\n\r\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n            totalShapeLength = shapeData.totalShapeLength;\r\n          } else {\r\n            pathsData = this.releasePathsData(shapeData.pathsData);\r\n\r\n            for (j = 0; j < jLen; j += 1) {\r\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n              pathsData.push(pathData);\r\n              totalShapeLength += pathData.totalLength;\r\n            }\r\n\r\n            shapeData.totalShapeLength = totalShapeLength;\r\n            shapeData.pathsData = pathsData;\r\n          }\r\n\r\n          totalModifierLength += totalShapeLength;\r\n          shapeData.shape._mdf = true;\r\n        }\r\n      }\r\n\r\n      var shapeS = s;\r\n      var shapeE = e;\r\n      var addedLength = 0;\r\n      var edges;\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        shapeData = this.shapes[i];\r\n\r\n        if (shapeData.shape._mdf) {\r\n          localShapeCollection = shapeData.localShapeCollection;\r\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n\r\n          if (this.m === 2 && len > 1) {\r\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n            addedLength += shapeData.totalShapeLength;\r\n          } else {\r\n            edges = [[shapeS, shapeE]];\r\n          }\r\n\r\n          jLen = edges.length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            shapeS = edges[j][0];\r\n            shapeE = edges[j][1];\r\n            segments.length = 0;\r\n\r\n            if (shapeE <= 1) {\r\n              segments.push({\r\n                s: shapeData.totalShapeLength * shapeS,\r\n                e: shapeData.totalShapeLength * shapeE\r\n              });\r\n            } else if (shapeS >= 1) {\r\n              segments.push({\r\n                s: shapeData.totalShapeLength * (shapeS - 1),\r\n                e: shapeData.totalShapeLength * (shapeE - 1)\r\n              });\r\n            } else {\r\n              segments.push({\r\n                s: shapeData.totalShapeLength * shapeS,\r\n                e: shapeData.totalShapeLength\r\n              });\r\n              segments.push({\r\n                s: 0,\r\n                e: shapeData.totalShapeLength * (shapeE - 1)\r\n              });\r\n            }\r\n\r\n            var newShapesData = this.addShapes(shapeData, segments[0]);\r\n\r\n            if (segments[0].s !== segments[0].e) {\r\n              if (segments.length > 1) {\r\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n\r\n                if (lastShapeInCollection.c) {\r\n                  var lastShape = newShapesData.pop();\r\n                  this.addPaths(newShapesData, localShapeCollection);\r\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                } else {\r\n                  this.addPaths(newShapesData, localShapeCollection);\r\n                  newShapesData = this.addShapes(shapeData, segments[1]);\r\n                }\r\n              }\r\n\r\n              this.addPaths(newShapesData, localShapeCollection);\r\n            }\r\n          }\r\n\r\n          shapeData.shape.paths = localShapeCollection;\r\n        }\r\n      }\r\n    } else if (this._mdf) {\r\n      for (i = 0; i < len; i += 1) {\r\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n        // Don't remove this even if it's losing cached info.\r\n        this.shapes[i].pathsData.length = 0;\r\n        this.shapes[i].shape._mdf = true;\r\n      }\r\n    }\r\n  };\r\n\r\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n    var i;\r\n    var len = newPaths.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n  };\r\n\r\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n\r\n    if (newShape) {\r\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n  };\r\n\r\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n\r\n    if (newShape) {\r\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n  };\r\n\r\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i;\r\n    var len = shapeData.shape.paths._length;\r\n    var j;\r\n    var jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData;\r\n    var segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n\r\n    if (!shapePath) {\r\n      shapePath = shapePool.newElement();\r\n      segmentCount = 0;\r\n      initPos = 0;\r\n    } else {\r\n      segmentCount = shapePath._length;\r\n      initPos = shapePath._length;\r\n    }\r\n\r\n    shapes.push(shapePath);\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      lengths = pathsData[i].lengths;\r\n      shapePath.c = shapePaths[i].c;\r\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n\r\n      for (j = 1; j < jLen; j += 1) {\r\n        currentLengthData = lengths[j - 1];\r\n\r\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n          addedLength += currentLengthData.addedLength;\r\n          shapePath.c = false;\r\n        } else if (addedLength > shapeSegment.e) {\r\n          shapePath.c = false;\r\n          break;\r\n        } else {\r\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n            newShape = false;\r\n          } else {\r\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n\r\n            newShape = false;\r\n            shapePath.c = false;\r\n          }\r\n\r\n          addedLength += currentLengthData.addedLength;\r\n          segmentCount += 1;\r\n        }\r\n      }\r\n\r\n      if (shapePaths[i].c && lengths.length) {\r\n        currentLengthData = lengths[j - 1];\r\n\r\n        if (addedLength <= shapeSegment.e) {\r\n          var segmentLength = lengths[j - 1].addedLength;\r\n\r\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n            newShape = false;\r\n          } else {\r\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n\r\n            newShape = false;\r\n            shapePath.c = false;\r\n          }\r\n        } else {\r\n          shapePath.c = false;\r\n        }\r\n\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n\r\n      if (shapePath._length) {\r\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n      }\r\n\r\n      if (addedLength > shapeSegment.e) {\r\n        break;\r\n      }\r\n\r\n      if (i < len - 1) {\r\n        shapePath = shapePool.newElement();\r\n        newShape = true;\r\n        shapes.push(shapePath);\r\n        segmentCount = 0;\r\n      }\r\n    }\r\n\r\n    return shapes;\r\n  };\r\n\r\n  function PuckerAndBloatModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\n\r\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n    this._isAnimated = !!this.amount.effectsSequence.length;\r\n  };\r\n\r\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n    var percent = amount / 100;\r\n    var centerPoint = [0, 0];\r\n    var pathLength = path._length;\r\n    var i = 0;\r\n\r\n    for (i = 0; i < pathLength; i += 1) {\r\n      centerPoint[0] += path.v[i][0];\r\n      centerPoint[1] += path.v[i][1];\r\n    }\r\n\r\n    centerPoint[0] /= pathLength;\r\n    centerPoint[1] /= pathLength;\r\n    var clonedPath = shapePool.newElement();\r\n    clonedPath.c = path.c;\r\n    var vX;\r\n    var vY;\r\n    var oX;\r\n    var oY;\r\n    var iX;\r\n    var iY;\r\n\r\n    for (i = 0; i < pathLength; i += 1) {\r\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n    }\r\n\r\n    return clonedPath;\r\n  };\r\n\r\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var amount = this.amount.v;\r\n\r\n    if (amount !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  var TransformPropertyFactory = function () {\r\n    var defaultVector = [0, 0];\r\n\r\n    function applyToMatrix(mat) {\r\n      var _mdf = this._mdf;\r\n      this.iterateDynamicProperties();\r\n      this._mdf = this._mdf || _mdf;\r\n\r\n      if (this.a) {\r\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n\r\n      if (this.s) {\r\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n\r\n      if (this.sk) {\r\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n\r\n      if (this.r) {\r\n        mat.rotate(-this.r.v);\r\n      } else {\r\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n      }\r\n\r\n      if (this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          mat.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n\r\n    function processKeys(forceRender) {\r\n      if (this.elem.globalData.frameId === this.frameId) {\r\n        return;\r\n      }\r\n\r\n      if (this._isDirty) {\r\n        this.precalculateMatrix();\r\n        this._isDirty = false;\r\n      }\r\n\r\n      this.iterateDynamicProperties();\r\n\r\n      if (this._mdf || forceRender) {\r\n        var frameRate;\r\n        this.v.cloneFromProps(this.pre.props);\r\n\r\n        if (this.appliedTransformations < 1) {\r\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n\r\n        if (this.appliedTransformations < 2) {\r\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n\r\n        if (this.sk && this.appliedTransformations < 3) {\r\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n        }\r\n\r\n        if (this.r && this.appliedTransformations < 4) {\r\n          this.v.rotate(-this.r.v);\r\n        } else if (!this.r && this.appliedTransformations < 4) {\r\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n\r\n        if (this.autoOriented) {\r\n          var v1;\r\n          var v2;\r\n          frameRate = this.elem.globalData.frameRate;\r\n\r\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\r\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n            } else {\r\n              v1 = this.p.pv;\r\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n            }\r\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n            v1 = [];\r\n            v2 = [];\r\n            var px = this.px;\r\n            var py = this.py;\r\n\r\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\r\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\r\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\r\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\r\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            } else {\r\n              v1 = [px.pv, py.pv];\r\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n            }\r\n          } else {\r\n            v2 = defaultVector;\r\n            v1 = v2;\r\n          }\r\n\r\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n        }\r\n\r\n        if (this.data.p && this.data.p.s) {\r\n          if (this.data.p.z) {\r\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n          } else {\r\n            this.v.translate(this.px.v, this.py.v, 0);\r\n          }\r\n        } else {\r\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n      }\r\n\r\n      this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function precalculateMatrix() {\r\n      if (!this.a.k) {\r\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        this.appliedTransformations = 1;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      if (!this.s.effectsSequence.length) {\r\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        this.appliedTransformations = 2;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      if (this.sk) {\r\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n          this.appliedTransformations = 3;\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (this.r) {\r\n        if (!this.r.effectsSequence.length) {\r\n          this.pre.rotate(-this.r.v);\r\n          this.appliedTransformations = 4;\r\n        }\r\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    }\r\n\r\n    function autoOrient() {//\r\n      // var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function addDynamicProperty(prop) {\r\n      this._addDynamicProperty(prop);\r\n\r\n      this.elem.addDynamicProperty(prop);\r\n      this._isDirty = true;\r\n    }\r\n\r\n    function TransformProperty(elem, data, container) {\r\n      this.elem = elem;\r\n      this.frameId = -1;\r\n      this.propType = 'transform';\r\n      this.data = data;\r\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\r\n\r\n      this.pre = new Matrix();\r\n      this.appliedTransformations = 0;\r\n      this.initDynamicPropertyContainer(container || elem);\r\n\r\n      if (data.p && data.p.s) {\r\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n\r\n        if (data.p.z) {\r\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n        }\r\n      } else {\r\n        this.p = PropertyFactory.getProp(elem, data.p || {\r\n          k: [0, 0, 0]\r\n        }, 1, 0, this);\r\n      }\r\n\r\n      if (data.rx) {\r\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n\r\n        if (data.or.k[0].ti) {\r\n          var i;\r\n          var len = data.or.k.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            data.or.k[i].to = null;\r\n            data.or.k[i].ti = null;\r\n          }\r\n        }\r\n\r\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\r\n\r\n        this.or.sh = true;\r\n      } else {\r\n        this.r = PropertyFactory.getProp(elem, data.r || {\r\n          k: 0\r\n        }, 0, degToRads, this);\r\n      }\r\n\r\n      if (data.sk) {\r\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n      }\r\n\r\n      this.a = PropertyFactory.getProp(elem, data.a || {\r\n        k: [0, 0, 0]\r\n      }, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s || {\r\n        k: [100, 100, 100]\r\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n\r\n      if (data.o) {\r\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n      } else {\r\n        this.o = {\r\n          _mdf: false,\r\n          v: 1\r\n        };\r\n      }\r\n\r\n      this._isDirty = true;\r\n\r\n      if (!this.dynamicProperties.length) {\r\n        this.getValue(true);\r\n      }\r\n    }\r\n\r\n    TransformProperty.prototype = {\r\n      applyToMatrix: applyToMatrix,\r\n      getValue: processKeys,\r\n      precalculateMatrix: precalculateMatrix,\r\n      autoOrient: autoOrient\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n    function getTransformProperty(elem, data, container) {\r\n      return new TransformProperty(elem, data, container);\r\n    }\r\n\r\n    return {\r\n      getTransformProperty: getTransformProperty\r\n    };\r\n  }();\r\n\r\n  function RepeaterModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n    this.data = data;\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n\r\n    this._isAnimated = !!this.dynamicProperties.length;\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n  };\r\n\r\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  };\r\n\r\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.frameId = -1;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem, arr[pos]);\r\n\r\n    while (pos > 0) {\r\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\r\n\r\n      this._elements.unshift(arr[pos]);\r\n    }\r\n\r\n    if (this.dynamicProperties.length) {\r\n      this.k = true;\r\n    } else {\r\n      this.getValue(true);\r\n    }\r\n  };\r\n\r\n  RepeaterModifier.prototype.resetElements = function (elements) {\r\n    var i;\r\n    var len = elements.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      elements[i]._processed = false;\r\n\r\n      if (elements[i].ty === 'gr') {\r\n        this.resetElements(elements[i].it);\r\n      }\r\n    }\r\n  };\r\n\r\n  RepeaterModifier.prototype.cloneElements = function (elements) {\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n  };\r\n\r\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n    var i;\r\n    var len = elements.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      elements[i]._render = renderFlag;\r\n\r\n      if (elements[i].ty === 'gr') {\r\n        this.changeGroupRender(elements[i].it, renderFlag);\r\n      }\r\n    }\r\n  };\r\n\r\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var items;\r\n    var itemsTransform;\r\n    var i;\r\n    var dir;\r\n    var cont;\r\n    var hasReloaded = false;\r\n\r\n    if (this._mdf || _isFirstFrame) {\r\n      var copies = Math.ceil(this.c.v);\r\n\r\n      if (this._groups.length < copies) {\r\n        while (this._groups.length < copies) {\r\n          var group = {\r\n            it: this.cloneElements(this._elements),\r\n            ty: 'gr'\r\n          };\r\n          group.it.push({\r\n            a: {\r\n              a: 0,\r\n              ix: 1,\r\n              k: [0, 0]\r\n            },\r\n            nm: 'Transform',\r\n            o: {\r\n              a: 0,\r\n              ix: 7,\r\n              k: 100\r\n            },\r\n            p: {\r\n              a: 0,\r\n              ix: 2,\r\n              k: [0, 0]\r\n            },\r\n            r: {\r\n              a: 1,\r\n              ix: 6,\r\n              k: [{\r\n                s: 0,\r\n                e: 0,\r\n                t: 0\r\n              }, {\r\n                s: 0,\r\n                e: 0,\r\n                t: 1\r\n              }]\r\n            },\r\n            s: {\r\n              a: 0,\r\n              ix: 3,\r\n              k: [100, 100]\r\n            },\r\n            sa: {\r\n              a: 0,\r\n              ix: 5,\r\n              k: 0\r\n            },\r\n            sk: {\r\n              a: 0,\r\n              ix: 4,\r\n              k: 0\r\n            },\r\n            ty: 'tr'\r\n          });\r\n          this.arr.splice(0, 0, group);\r\n\r\n          this._groups.splice(0, 0, group);\r\n\r\n          this._currentCopies += 1;\r\n        }\r\n\r\n        this.elem.reloadShapes();\r\n        hasReloaded = true;\r\n      }\r\n\r\n      cont = 0;\r\n      var renderFlag;\r\n\r\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n        renderFlag = cont < copies;\r\n        this._groups[i]._render = renderFlag;\r\n        this.changeGroupRender(this._groups[i].it, renderFlag);\r\n\r\n        if (!renderFlag) {\r\n          var elems = this.elemsData[i].it;\r\n          var transformData = elems[elems.length - 1];\r\n\r\n          if (transformData.transform.op.v !== 0) {\r\n            transformData.transform.op._mdf = true;\r\n            transformData.transform.op.v = 0;\r\n          } else {\r\n            transformData.transform.op._mdf = false;\r\n          }\r\n        }\r\n\r\n        cont += 1;\r\n      }\r\n\r\n      this._currentCopies = copies; /// /\r\n\r\n      var offset = this.o.v;\r\n      var offsetModulo = offset % 1;\r\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n      var pProps = this.pMatrix.props;\r\n      var rProps = this.rMatrix.props;\r\n      var sProps = this.sMatrix.props;\r\n      this.pMatrix.reset();\r\n      this.rMatrix.reset();\r\n      this.sMatrix.reset();\r\n      this.tMatrix.reset();\r\n      this.matrix.reset();\r\n      var iteration = 0;\r\n\r\n      if (offset > 0) {\r\n        while (iteration < roundOffset) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n          iteration += 1;\r\n        }\r\n\r\n        if (offsetModulo) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n          iteration += offsetModulo;\r\n        }\r\n      } else if (offset < 0) {\r\n        while (iteration > roundOffset) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n          iteration -= 1;\r\n        }\r\n\r\n        if (offsetModulo) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n          iteration -= offsetModulo;\r\n        }\r\n      }\r\n\r\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n      dir = this.data.m === 1 ? 1 : -1;\r\n      cont = this._currentCopies;\r\n      var j;\r\n      var jLen;\r\n\r\n      while (cont) {\r\n        items = this.elemsData[i].it;\r\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n        jLen = itemsTransform.length;\r\n        items[items.length - 1].transform.mProps._mdf = true;\r\n        items[items.length - 1].transform.op._mdf = true;\r\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n        if (iteration !== 0) {\r\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\r\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n          }\r\n\r\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsTransform[j] = this.matrix.props[j];\r\n          }\r\n\r\n          this.matrix.reset();\r\n        } else {\r\n          this.matrix.reset();\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsTransform[j] = this.matrix.props[j];\r\n          }\r\n        }\r\n\r\n        iteration += 1;\r\n        cont -= 1;\r\n        i += dir;\r\n      }\r\n    } else {\r\n      cont = this._currentCopies;\r\n      i = 0;\r\n      dir = 1;\r\n\r\n      while (cont) {\r\n        items = this.elemsData[i].it;\r\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n        items[items.length - 1].transform.mProps._mdf = false;\r\n        items[items.length - 1].transform.op._mdf = false;\r\n        cont -= 1;\r\n        i += dir;\r\n      }\r\n    }\r\n\r\n    return hasReloaded;\r\n  };\r\n\r\n  RepeaterModifier.prototype.addShape = function () {};\r\n\r\n  function RoundCornersModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], RoundCornersModifier);\r\n\r\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n    this._isAnimated = !!this.rd.effectsSequence.length;\r\n  };\r\n\r\n  RoundCornersModifier.prototype.processPath = function (path, round) {\r\n    var clonedPath = shapePool.newElement();\r\n    clonedPath.c = path.c;\r\n    var i;\r\n    var len = path._length;\r\n    var currentV;\r\n    var currentI;\r\n    var currentO;\r\n    var closerV;\r\n    var distance;\r\n    var newPosPerc;\r\n    var index = 0;\r\n    var vX;\r\n    var vY;\r\n    var oX;\r\n    var oY;\r\n    var iX;\r\n    var iY;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      currentV = path.v[i];\r\n      currentO = path.o[i];\r\n      currentI = path.i[i];\r\n\r\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n        if ((i === 0 || i === len - 1) && !path.c) {\r\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\r\n\r\n          index += 1;\r\n        } else {\r\n          if (i === 0) {\r\n            closerV = path.v[len - 1];\r\n          } else {\r\n            closerV = path.v[i - 1];\r\n          }\r\n\r\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n          vX = iX;\r\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n          vY = iY;\r\n          oX = vX - (vX - currentV[0]) * roundCorner;\r\n          oY = vY - (vY - currentV[1]) * roundCorner;\r\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n          index += 1;\r\n\r\n          if (i === len - 1) {\r\n            closerV = path.v[0];\r\n          } else {\r\n            closerV = path.v[i + 1];\r\n          }\r\n\r\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n          vX = oX;\r\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n          vY = oY;\r\n          iX = vX - (vX - currentV[0]) * roundCorner;\r\n          iY = vY - (vY - currentV[1]) * roundCorner;\r\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n          index += 1;\r\n        }\r\n      } else {\r\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n        index += 1;\r\n      }\r\n    }\r\n\r\n    return clonedPath;\r\n  };\r\n\r\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if (rd !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  function floatEqual(a, b) {\r\n    return Math.abs(a - b) * 100000 <= Math.min(Math.abs(a), Math.abs(b));\r\n  }\r\n\r\n  function floatZero(f) {\r\n    return Math.abs(f) <= 0.00001;\r\n  }\r\n\r\n  function lerp(p0, p1, amount) {\r\n    return p0 * (1 - amount) + p1 * amount;\r\n  }\r\n\r\n  function lerpPoint(p0, p1, amount) {\r\n    return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];\r\n  }\r\n\r\n  function quadRoots(a, b, c) {\r\n    // no root\r\n    if (a === 0) return [];\r\n    var s = b * b - 4 * a * c; // Complex roots\r\n\r\n    if (s < 0) return [];\r\n    var singleRoot = -b / (2 * a); // 1 root\r\n\r\n    if (s === 0) return [singleRoot];\r\n    var delta = Math.sqrt(s) / (2 * a); // 2 roots\r\n\r\n    return [singleRoot - delta, singleRoot + delta];\r\n  }\r\n\r\n  function polynomialCoefficients(p0, p1, p2, p3) {\r\n    return [-p0 + 3 * p1 - 3 * p2 + p3, 3 * p0 - 6 * p1 + 3 * p2, -3 * p0 + 3 * p1, p0];\r\n  }\r\n\r\n  function singlePoint(p) {\r\n    return new PolynomialBezier(p, p, p, p, false);\r\n  }\r\n\r\n  function PolynomialBezier(p0, p1, p2, p3, linearize) {\r\n    if (linearize && pointEqual(p0, p1)) {\r\n      p1 = lerpPoint(p0, p3, 1 / 3);\r\n    }\r\n\r\n    if (linearize && pointEqual(p2, p3)) {\r\n      p2 = lerpPoint(p0, p3, 2 / 3);\r\n    }\r\n\r\n    var coeffx = polynomialCoefficients(p0[0], p1[0], p2[0], p3[0]);\r\n    var coeffy = polynomialCoefficients(p0[1], p1[1], p2[1], p3[1]);\r\n    this.a = [coeffx[0], coeffy[0]];\r\n    this.b = [coeffx[1], coeffy[1]];\r\n    this.c = [coeffx[2], coeffy[2]];\r\n    this.d = [coeffx[3], coeffy[3]];\r\n    this.points = [p0, p1, p2, p3];\r\n  }\r\n\r\n  PolynomialBezier.prototype.point = function (t) {\r\n    return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]];\r\n  };\r\n\r\n  PolynomialBezier.prototype.derivative = function (t) {\r\n    return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]];\r\n  };\r\n\r\n  PolynomialBezier.prototype.tangentAngle = function (t) {\r\n    var p = this.derivative(t);\r\n    return Math.atan2(p[1], p[0]);\r\n  };\r\n\r\n  PolynomialBezier.prototype.normalAngle = function (t) {\r\n    var p = this.derivative(t);\r\n    return Math.atan2(p[0], p[1]);\r\n  };\r\n\r\n  PolynomialBezier.prototype.inflectionPoints = function () {\r\n    var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];\r\n    if (floatZero(denom)) return [];\r\n    var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;\r\n    var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;\r\n    if (square < 0) return [];\r\n    var root = Math.sqrt(square);\r\n\r\n    if (floatZero(root)) {\r\n      if (root > 0 && root < 1) return [tcusp];\r\n      return [];\r\n    }\r\n\r\n    return [tcusp - root, tcusp + root].filter(function (r) {\r\n      return r > 0 && r < 1;\r\n    });\r\n  };\r\n\r\n  PolynomialBezier.prototype.split = function (t) {\r\n    if (t <= 0) return [singlePoint(this.points[0]), this];\r\n    if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])];\r\n    var p10 = lerpPoint(this.points[0], this.points[1], t);\r\n    var p11 = lerpPoint(this.points[1], this.points[2], t);\r\n    var p12 = lerpPoint(this.points[2], this.points[3], t);\r\n    var p20 = lerpPoint(p10, p11, t);\r\n    var p21 = lerpPoint(p11, p12, t);\r\n    var p3 = lerpPoint(p20, p21, t);\r\n    return [new PolynomialBezier(this.points[0], p10, p20, p3, true), new PolynomialBezier(p3, p21, p12, this.points[3], true)];\r\n  };\r\n\r\n  function extrema(bez, comp) {\r\n    var min = bez.points[0][comp];\r\n    var max = bez.points[bez.points.length - 1][comp];\r\n\r\n    if (min > max) {\r\n      var e = max;\r\n      max = min;\r\n      min = e;\r\n    } // Derivative roots to find min/max\r\n\r\n\r\n    var f = quadRoots(3 * bez.a[comp], 2 * bez.b[comp], bez.c[comp]);\r\n\r\n    for (var i = 0; i < f.length; i += 1) {\r\n      if (f[i] > 0 && f[i] < 1) {\r\n        var val = bez.point(f[i])[comp];\r\n        if (val < min) min = val;else if (val > max) max = val;\r\n      }\r\n    }\r\n\r\n    return {\r\n      min: min,\r\n      max: max\r\n    };\r\n  }\r\n\r\n  PolynomialBezier.prototype.bounds = function () {\r\n    return {\r\n      x: extrema(this, 0),\r\n      y: extrema(this, 1)\r\n    };\r\n  };\r\n\r\n  PolynomialBezier.prototype.boundingBox = function () {\r\n    var bounds = this.bounds();\r\n    return {\r\n      left: bounds.x.min,\r\n      right: bounds.x.max,\r\n      top: bounds.y.min,\r\n      bottom: bounds.y.max,\r\n      width: bounds.x.max - bounds.x.min,\r\n      height: bounds.y.max - bounds.y.min,\r\n      cx: (bounds.x.max + bounds.x.min) / 2,\r\n      cy: (bounds.y.max + bounds.y.min) / 2\r\n    };\r\n  };\r\n\r\n  function intersectData(bez, t1, t2) {\r\n    var box = bez.boundingBox();\r\n    return {\r\n      cx: box.cx,\r\n      cy: box.cy,\r\n      width: box.width,\r\n      height: box.height,\r\n      bez: bez,\r\n      t: (t1 + t2) / 2,\r\n      t1: t1,\r\n      t2: t2\r\n    };\r\n  }\r\n\r\n  function splitData(data) {\r\n    var split = data.bez.split(0.5);\r\n    return [intersectData(split[0], data.t1, data.t), intersectData(split[1], data.t, data.t2)];\r\n  }\r\n\r\n  function boxIntersect(b1, b2) {\r\n    return Math.abs(b1.cx - b2.cx) * 2 < b1.width + b2.width && Math.abs(b1.cy - b2.cy) * 2 < b1.height + b2.height;\r\n  }\r\n\r\n  function intersectsImpl(d1, d2, depth, tolerance, intersections, maxRecursion) {\r\n    if (!boxIntersect(d1, d2)) return;\r\n\r\n    if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d2.width <= tolerance && d2.height <= tolerance) {\r\n      intersections.push([d1.t, d2.t]);\r\n      return;\r\n    }\r\n\r\n    var d1s = splitData(d1);\r\n    var d2s = splitData(d2);\r\n    intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\r\n    intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\r\n    intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\r\n    intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\r\n  }\r\n\r\n  PolynomialBezier.prototype.intersections = function (other, tolerance, maxRecursion) {\r\n    if (tolerance === undefined) tolerance = 2;\r\n    if (maxRecursion === undefined) maxRecursion = 7;\r\n    var intersections = [];\r\n    intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);\r\n    return intersections;\r\n  };\r\n\r\n  PolynomialBezier.shapeSegment = function (shapePath, index) {\r\n    var nextIndex = (index + 1) % shapePath.length();\r\n    return new PolynomialBezier(shapePath.v[index], shapePath.o[index], shapePath.i[nextIndex], shapePath.v[nextIndex], true);\r\n  };\r\n\r\n  PolynomialBezier.shapeSegmentInverted = function (shapePath, index) {\r\n    var nextIndex = (index + 1) % shapePath.length();\r\n    return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index], shapePath.v[index], true);\r\n  };\r\n\r\n  function crossProduct(a, b) {\r\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\r\n  }\r\n\r\n  function lineIntersection(start1, end1, start2, end2) {\r\n    var v1 = [start1[0], start1[1], 1];\r\n    var v2 = [end1[0], end1[1], 1];\r\n    var v3 = [start2[0], start2[1], 1];\r\n    var v4 = [end2[0], end2[1], 1];\r\n    var r = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));\r\n    if (floatZero(r[2])) return null;\r\n    return [r[0] / r[2], r[1] / r[2]];\r\n  }\r\n\r\n  function polarOffset(p, angle, length) {\r\n    return [p[0] + Math.cos(angle) * length, p[1] - Math.sin(angle) * length];\r\n  }\r\n\r\n  function pointDistance(p1, p2) {\r\n    return Math.hypot(p1[0] - p2[0], p1[1] - p2[1]);\r\n  }\r\n\r\n  function pointEqual(p1, p2) {\r\n    return floatEqual(p1[0], p2[0]) && floatEqual(p1[1], p2[1]);\r\n  }\r\n\r\n  function ZigZagModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], ZigZagModifier);\r\n\r\n  ZigZagModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.amplitude = PropertyFactory.getProp(elem, data.s, 0, null, this);\r\n    this.frequency = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n    this.pointsType = PropertyFactory.getProp(elem, data.pt, 0, null, this);\r\n    this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;\r\n  };\r\n\r\n  function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {\r\n    var angO = angle - Math.PI / 2;\r\n    var angI = angle + Math.PI / 2;\r\n    var px = point[0] + Math.cos(angle) * direction * amplitude;\r\n    var py = point[1] - Math.sin(angle) * direction * amplitude;\r\n    outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());\r\n  }\r\n\r\n  function getPerpendicularVector(pt1, pt2) {\r\n    var vector = [pt2[0] - pt1[0], pt2[1] - pt1[1]];\r\n    var rot = -Math.PI * 0.5;\r\n    var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];\r\n    return rotatedVector;\r\n  }\r\n\r\n  function getProjectingAngle(path, cur) {\r\n    var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;\r\n    var nextIndex = (cur + 1) % path.length();\r\n    var prevPoint = path.v[prevIndex];\r\n    var nextPoint = path.v[nextIndex];\r\n    var pVector = getPerpendicularVector(prevPoint, nextPoint);\r\n    return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);\r\n  }\r\n\r\n  function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {\r\n    var angle = getProjectingAngle(path, cur);\r\n    var point = path.v[cur % path._length];\r\n    var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];\r\n    var nextPoint = path.v[(cur + 1) % path._length];\r\n    var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;\r\n    var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;\r\n    setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);\r\n  }\r\n\r\n  function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {\r\n    for (var i = 0; i < frequency; i += 1) {\r\n      var t = (i + 1) / (frequency + 1);\r\n      var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;\r\n      var angle = segment.normalAngle(t);\r\n      var point = segment.point(t);\r\n      setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);\r\n      direction = -direction;\r\n    }\r\n\r\n    return direction;\r\n  }\r\n\r\n  ZigZagModifier.prototype.processPath = function (path, amplitude, frequency, pointType) {\r\n    var count = path._length;\r\n    var clonedPath = shapePool.newElement();\r\n    clonedPath.c = path.c;\r\n\r\n    if (!path.c) {\r\n      count -= 1;\r\n    }\r\n\r\n    if (count === 0) return clonedPath;\r\n    var direction = -1;\r\n    var segment = PolynomialBezier.shapeSegment(path, 0);\r\n    zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);\r\n\r\n    for (var i = 0; i < count; i += 1) {\r\n      direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);\r\n\r\n      if (i === count - 1 && !path.c) {\r\n        segment = null;\r\n      } else {\r\n        segment = PolynomialBezier.shapeSegment(path, (i + 1) % count);\r\n      }\r\n\r\n      zigZagCorner(clonedPath, path, i + 1, amplitude, frequency, pointType, direction);\r\n    }\r\n\r\n    return clonedPath;\r\n  };\r\n\r\n  ZigZagModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var amplitude = this.amplitude.v;\r\n    var frequency = Math.max(0, Math.round(this.frequency.v));\r\n    var pointType = this.pointsType.v;\r\n\r\n    if (amplitude !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amplitude, frequency, pointType));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  function linearOffset(p1, p2, amount) {\r\n    var angle = Math.atan2(p2[0] - p1[0], p2[1] - p1[1]);\r\n    return [polarOffset(p1, angle, amount), polarOffset(p2, angle, amount)];\r\n  }\r\n\r\n  function offsetSegment(segment, amount) {\r\n    var p0;\r\n    var p1a;\r\n    var p1b;\r\n    var p2b;\r\n    var p2a;\r\n    var p3;\r\n    var e;\r\n    e = linearOffset(segment.points[0], segment.points[1], amount);\r\n    p0 = e[0];\r\n    p1a = e[1];\r\n    e = linearOffset(segment.points[1], segment.points[2], amount);\r\n    p1b = e[0];\r\n    p2b = e[1];\r\n    e = linearOffset(segment.points[2], segment.points[3], amount);\r\n    p2a = e[0];\r\n    p3 = e[1];\r\n    var p1 = lineIntersection(p0, p1a, p1b, p2b);\r\n    if (p1 === null) p1 = p1a;\r\n    var p2 = lineIntersection(p2a, p3, p1b, p2b);\r\n    if (p2 === null) p2 = p2a;\r\n    return new PolynomialBezier(p0, p1, p2, p3);\r\n  }\r\n\r\n  function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {\r\n    var p0 = seg1.points[3];\r\n    var p1 = seg2.points[0]; // Bevel\r\n\r\n    if (lineJoin === 3) return p0; // Connected, they don't need a joint\r\n\r\n    if (pointEqual(p0, p1)) return p0; // Round\r\n\r\n    if (lineJoin === 2) {\r\n      var angleOut = -seg1.tangentAngle(1);\r\n      var angleIn = -seg2.tangentAngle(0) + Math.PI;\r\n      var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));\r\n      var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;\r\n      var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);\r\n      outputBezier.setXYAt(tan[0], tan[1], 'o', outputBezier.length() - 1);\r\n      tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);\r\n      outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());\r\n      return p1;\r\n    } // Miter\r\n\r\n\r\n    var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];\r\n    var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];\r\n    var intersection = lineIntersection(t0, p0, p1, t1);\r\n\r\n    if (intersection && pointDistance(intersection, p0) < miterLimit) {\r\n      outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());\r\n      return intersection;\r\n    }\r\n\r\n    return p0;\r\n  }\r\n\r\n  function getIntersection(a, b) {\r\n    var intersect = a.intersections(b);\r\n    if (intersect.length && floatEqual(intersect[0][0], 1)) intersect.shift();\r\n    if (intersect.length) return intersect[0];\r\n    return null;\r\n  }\r\n\r\n  function pruneSegmentIntersection(a, b) {\r\n    var outa = a.slice();\r\n    var outb = b.slice();\r\n    var intersect = getIntersection(a[a.length - 1], b[0]);\r\n\r\n    if (intersect) {\r\n      outa[a.length - 1] = a[a.length - 1].split(intersect[0])[0];\r\n      outb[0] = b[0].split(intersect[1])[1];\r\n    }\r\n\r\n    if (a.length > 1 && b.length > 1) {\r\n      intersect = getIntersection(a[0], b[b.length - 1]);\r\n\r\n      if (intersect) {\r\n        return [[a[0].split(intersect[0])[0]], [b[b.length - 1].split(intersect[1])[1]]];\r\n      }\r\n    }\r\n\r\n    return [outa, outb];\r\n  }\r\n\r\n  function pruneIntersections(segments) {\r\n    var e;\r\n\r\n    for (var i = 1; i < segments.length; i += 1) {\r\n      e = pruneSegmentIntersection(segments[i - 1], segments[i]);\r\n      segments[i - 1] = e[0];\r\n      segments[i] = e[1];\r\n    }\r\n\r\n    if (segments.length > 1) {\r\n      e = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);\r\n      segments[segments.length - 1] = e[0];\r\n      segments[0] = e[1];\r\n    }\r\n\r\n    return segments;\r\n  }\r\n\r\n  function offsetSegmentSplit(segment, amount) {\r\n    /*\r\n      We split each bezier segment into smaller pieces based\r\n      on inflection points, this ensures the control point\r\n      polygon is convex.\r\n        (A cubic bezier can have none, one, or two inflection points)\r\n    */\r\n    var flex = segment.inflectionPoints();\r\n    var left;\r\n    var right;\r\n    var split;\r\n    var mid;\r\n\r\n    if (flex.length === 0) {\r\n      return [offsetSegment(segment, amount)];\r\n    }\r\n\r\n    if (flex.length === 1 || floatEqual(flex[1], 1)) {\r\n      split = segment.split(flex[0]);\r\n      left = split[0];\r\n      right = split[1];\r\n      return [offsetSegment(left, amount), offsetSegment(right, amount)];\r\n    }\r\n\r\n    split = segment.split(flex[0]);\r\n    left = split[0];\r\n    var t = (flex[1] - flex[0]) / (1 - flex[0]);\r\n    split = split[1].split(t);\r\n    mid = split[0];\r\n    right = split[1];\r\n    return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];\r\n  }\r\n\r\n  function OffsetPathModifier() {}\r\n\r\n  extendPrototype([ShapeModifier], OffsetPathModifier);\r\n\r\n  OffsetPathModifier.prototype.initModifierProperties = function (elem, data) {\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n    this.miterLimit = PropertyFactory.getProp(elem, data.ml, 0, null, this);\r\n    this.lineJoin = data.lj;\r\n    this._isAnimated = this.amount.effectsSequence.length !== 0;\r\n  };\r\n\r\n  OffsetPathModifier.prototype.processPath = function (inputBezier, amount, lineJoin, miterLimit) {\r\n    var outputBezier = shapePool.newElement();\r\n    outputBezier.c = inputBezier.c;\r\n    var count = inputBezier.length();\r\n\r\n    if (!inputBezier.c) {\r\n      count -= 1;\r\n    }\r\n\r\n    var i;\r\n    var j;\r\n    var segment;\r\n    var multiSegments = [];\r\n\r\n    for (i = 0; i < count; i += 1) {\r\n      segment = PolynomialBezier.shapeSegment(inputBezier, i);\r\n      multiSegments.push(offsetSegmentSplit(segment, amount));\r\n    }\r\n\r\n    if (!inputBezier.c) {\r\n      for (i = count - 1; i >= 0; i -= 1) {\r\n        segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i);\r\n        multiSegments.push(offsetSegmentSplit(segment, amount));\r\n      }\r\n    }\r\n\r\n    multiSegments = pruneIntersections(multiSegments); // Add bezier segments to the output and apply line joints\r\n\r\n    var lastPoint = null;\r\n    var lastSeg = null;\r\n\r\n    for (i = 0; i < multiSegments.length; i += 1) {\r\n      var multiSegment = multiSegments[i];\r\n      if (lastSeg) lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);\r\n      lastSeg = multiSegment[multiSegment.length - 1];\r\n\r\n      for (j = 0; j < multiSegment.length; j += 1) {\r\n        segment = multiSegment[j];\r\n\r\n        if (lastPoint && pointEqual(segment.points[0], lastPoint)) {\r\n          outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], 'o', outputBezier.length() - 1);\r\n        } else {\r\n          outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());\r\n        }\r\n\r\n        outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());\r\n        lastPoint = segment.points[3];\r\n      }\r\n    }\r\n\r\n    if (multiSegments.length) joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);\r\n    return outputBezier;\r\n  };\r\n\r\n  OffsetPathModifier.prototype.processShapes = function (_isFirstFrame) {\r\n    var shapePaths;\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var j;\r\n    var jLen;\r\n    var amount = this.amount.v;\r\n    var miterLimit = this.miterLimit.v;\r\n    var lineJoin = this.lineJoin;\r\n\r\n    if (amount !== 0) {\r\n      var shapeData;\r\n      var localShapeCollection;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shapeData = this.shapes[i];\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n\r\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n          localShapeCollection.releaseShapes();\r\n          shapeData.shape._mdf = true;\r\n          shapePaths = shapeData.shape.paths.shapes;\r\n          jLen = shapeData.shape.paths._length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount, lineJoin, miterLimit));\r\n          }\r\n        }\r\n\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      }\r\n    }\r\n\r\n    if (!this.dynamicProperties.length) {\r\n      this._mdf = false;\r\n    }\r\n  };\r\n\r\n  function getFontProperties(fontData) {\r\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n    var fWeight = 'normal';\r\n    var fStyle = 'normal';\r\n    var len = styles.length;\r\n    var styleName;\r\n\r\n    for (var i = 0; i < len; i += 1) {\r\n      styleName = styles[i].toLowerCase();\r\n\r\n      switch (styleName) {\r\n        case 'italic':\r\n          fStyle = 'italic';\r\n          break;\r\n\r\n        case 'bold':\r\n          fWeight = '700';\r\n          break;\r\n\r\n        case 'black':\r\n          fWeight = '900';\r\n          break;\r\n\r\n        case 'medium':\r\n          fWeight = '500';\r\n          break;\r\n\r\n        case 'regular':\r\n        case 'normal':\r\n          fWeight = '400';\r\n          break;\r\n\r\n        case 'light':\r\n        case 'thin':\r\n          fWeight = '200';\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    return {\r\n      style: fStyle,\r\n      weight: fontData.fWeight || fWeight\r\n    };\r\n  }\r\n\r\n  var FontManager = function () {\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n      w: 0,\r\n      size: 0,\r\n      shapes: [],\r\n      data: {\r\n        shapes: []\r\n      }\r\n    };\r\n    var combinedCharacters = []; // Hindi characters\r\n\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\r\n    var zeroWidthJoiner = [65039, 8205];\r\n\r\n    function trimFontOptions(font) {\r\n      var familyArray = font.split(',');\r\n      var i;\r\n      var len = familyArray.length;\r\n      var enabledFamilies = [];\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n          enabledFamilies.push(familyArray[i]);\r\n        }\r\n      }\r\n\r\n      return enabledFamilies.join(',');\r\n    }\r\n\r\n    function setUpNode(font, family) {\r\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\r\n\r\n      parentNode.setAttribute('aria-hidden', true);\r\n      parentNode.style.fontFamily = family;\r\n      var node = createTag('span'); // Characters that vary significantly among different fonts\r\n\r\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\r\n\r\n      parentNode.style.position = 'absolute';\r\n      parentNode.style.left = '-10000px';\r\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\r\n\r\n      parentNode.style.fontSize = '300px'; // Reset any font properties\r\n\r\n      parentNode.style.fontVariant = 'normal';\r\n      parentNode.style.fontStyle = 'normal';\r\n      parentNode.style.fontWeight = 'normal';\r\n      parentNode.style.letterSpacing = '0';\r\n      parentNode.appendChild(node);\r\n      document.body.appendChild(parentNode); // Remember width with no applied web font\r\n\r\n      var width = node.offsetWidth;\r\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n      return {\r\n        node: node,\r\n        w: width,\r\n        parent: parentNode\r\n      };\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n      var i;\r\n      var len = this.fonts.length;\r\n      var node;\r\n      var w;\r\n      var loadedCount = len;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.fonts[i].loaded) {\r\n          loadedCount -= 1;\r\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].monoCase.node;\r\n          w = this.fonts[i].monoCase.w;\r\n\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          } else {\r\n            node = this.fonts[i].sansCase.node;\r\n            w = this.fonts[i].sansCase.w;\r\n\r\n            if (node.offsetWidth !== w) {\r\n              loadedCount -= 1;\r\n              this.fonts[i].loaded = true;\r\n            }\r\n          }\r\n\r\n          if (this.fonts[i].loaded) {\r\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n        setTimeout(this.checkLoadedFontsBinded, 20);\r\n      } else {\r\n        setTimeout(this.setIsLoadedBinded, 10);\r\n      }\r\n    }\r\n\r\n    function createHelper(fontData, def) {\r\n      var engine = document.body && def ? 'svg' : 'canvas';\r\n      var helper;\r\n      var fontProps = getFontProperties(fontData);\r\n\r\n      if (engine === 'svg') {\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n        tHelper.setAttribute('font-family', fontData.fFamily);\r\n        tHelper.setAttribute('font-style', fontProps.style);\r\n        tHelper.setAttribute('font-weight', fontProps.weight);\r\n        tHelper.textContent = '1';\r\n\r\n        if (fontData.fClass) {\r\n          tHelper.style.fontFamily = 'inherit';\r\n          tHelper.setAttribute('class', fontData.fClass);\r\n        } else {\r\n          tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n\r\n        def.appendChild(tHelper);\r\n        helper = tHelper;\r\n      } else {\r\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\r\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\r\n        helper = tCanvasHelper;\r\n      }\r\n\r\n      function measure(text) {\r\n        if (engine === 'svg') {\r\n          helper.textContent = text;\r\n          return helper.getComputedTextLength();\r\n        }\r\n\r\n        return helper.measureText(text).width;\r\n      }\r\n\r\n      return {\r\n        measureText: measure\r\n      };\r\n    }\r\n\r\n    function addFonts(fontData, defs) {\r\n      if (!fontData) {\r\n        this.isLoaded = true;\r\n        return;\r\n      }\r\n\r\n      if (this.chars) {\r\n        this.isLoaded = true;\r\n        this.fonts = fontData.list;\r\n        return;\r\n      }\r\n\r\n      if (!document.body) {\r\n        this.isLoaded = true;\r\n        fontData.list.forEach(function (data) {\r\n          data.helper = createHelper(data);\r\n          data.cache = {};\r\n        });\r\n        this.fonts = fontData.list;\r\n        return;\r\n      }\r\n\r\n      var fontArr = fontData.list;\r\n      var i;\r\n      var len = fontArr.length;\r\n      var _pendingFonts = len;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        var shouldLoadFont = true;\r\n        var loadedSelector;\r\n        var j;\r\n        fontArr[i].loaded = false;\r\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n\r\n        if (!fontArr[i].fPath) {\r\n          fontArr[i].loaded = true;\r\n          _pendingFonts -= 1;\r\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n          if (loadedSelector.length > 0) {\r\n            shouldLoadFont = false;\r\n          }\r\n\r\n          if (shouldLoadFont) {\r\n            var s = createTag('style');\r\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n            s.setAttribute('f-origin', fontArr[i].origin);\r\n            s.setAttribute('f-family', fontArr[i].fFamily);\r\n            s.type = 'text/css';\r\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n            defs.appendChild(s);\r\n          }\r\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n          for (j = 0; j < loadedSelector.length; j += 1) {\r\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n              // Font is already loaded\r\n              shouldLoadFont = false;\r\n            }\r\n          }\r\n\r\n          if (shouldLoadFont) {\r\n            var l = createTag('link');\r\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n            l.setAttribute('f-origin', fontArr[i].origin);\r\n            l.type = 'text/css';\r\n            l.rel = 'stylesheet';\r\n            l.href = fontArr[i].fPath;\r\n            document.body.appendChild(l);\r\n          }\r\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n          for (j = 0; j < loadedSelector.length; j += 1) {\r\n            if (fontArr[i].fPath === loadedSelector[j].src) {\r\n              // Font is already loaded\r\n              shouldLoadFont = false;\r\n            }\r\n          }\r\n\r\n          if (shouldLoadFont) {\r\n            var sc = createTag('link');\r\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n            sc.setAttribute('f-origin', fontArr[i].origin);\r\n            sc.setAttribute('rel', 'stylesheet');\r\n            sc.setAttribute('href', fontArr[i].fPath);\r\n            defs.appendChild(sc);\r\n          }\r\n        }\r\n\r\n        fontArr[i].helper = createHelper(fontArr[i], defs);\r\n        fontArr[i].cache = {};\r\n        this.fonts.push(fontArr[i]);\r\n      }\r\n\r\n      if (_pendingFonts === 0) {\r\n        this.isLoaded = true;\r\n      } else {\r\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n        // Adding this timeout seems to fix it\r\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n      }\r\n    }\r\n\r\n    function addChars(chars) {\r\n      if (!chars) {\r\n        return;\r\n      }\r\n\r\n      if (!this.chars) {\r\n        this.chars = [];\r\n      }\r\n\r\n      var i;\r\n      var len = chars.length;\r\n      var j;\r\n      var jLen = this.chars.length;\r\n      var found;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        j = 0;\r\n        found = false;\r\n\r\n        while (j < jLen) {\r\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n            found = true;\r\n          }\r\n\r\n          j += 1;\r\n        }\r\n\r\n        if (!found) {\r\n          this.chars.push(chars[i]);\r\n          jLen += 1;\r\n        }\r\n      }\r\n    }\r\n\r\n    function getCharData(_char, style, font) {\r\n      var i = 0;\r\n      var len = this.chars.length;\r\n\r\n      while (i < len) {\r\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n          return this.chars[i];\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\r\n      && !this._warned) {\r\n        this._warned = true;\r\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\r\n      }\r\n\r\n      return emptyChar;\r\n    }\r\n\r\n    function measureText(_char2, fontName, size) {\r\n      var fontData = this.getFontByName(fontName);\r\n\r\n      var index = _char2.charCodeAt(0);\r\n\r\n      if (!fontData.cache[index + 1]) {\r\n        var tHelper = fontData.helper;\r\n\r\n        if (_char2 === ' ') {\r\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\r\n          var singleSize = tHelper.measureText('||');\r\n          fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n        } else {\r\n          fontData.cache[index + 1] = tHelper.measureText(_char2) / 100;\r\n        }\r\n      }\r\n\r\n      return fontData.cache[index + 1] * size;\r\n    }\r\n\r\n    function getFontByName(name) {\r\n      var i = 0;\r\n      var len = this.fonts.length;\r\n\r\n      while (i < len) {\r\n        if (this.fonts[i].fName === name) {\r\n          return this.fonts[i];\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return this.fonts[0];\r\n    }\r\n\r\n    function isModifier(firstCharCode, secondCharCode) {\r\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n      return surrogateModifiers.indexOf(sum) !== -1;\r\n    }\r\n\r\n    function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n      if (!secondCharCode) {\r\n        return firstCharCode === zeroWidthJoiner[1];\r\n      }\r\n\r\n      return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n    }\r\n\r\n    function isCombinedCharacter(_char3) {\r\n      return combinedCharacters.indexOf(_char3) !== -1;\r\n    }\r\n\r\n    function setIsLoaded() {\r\n      this.isLoaded = true;\r\n    }\r\n\r\n    var Font = function Font() {\r\n      this.fonts = [];\r\n      this.chars = null;\r\n      this.typekitLoaded = 0;\r\n      this.isLoaded = false;\r\n      this._warned = false;\r\n      this.initTime = Date.now();\r\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n    };\r\n\r\n    Font.isModifier = isModifier;\r\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n    Font.isCombinedCharacter = isCombinedCharacter;\r\n    var fontPrototype = {\r\n      addChars: addChars,\r\n      addFonts: addFonts,\r\n      getCharData: getCharData,\r\n      getFontByName: getFontByName,\r\n      measureText: measureText,\r\n      checkLoadedFonts: checkLoadedFonts,\r\n      setIsLoaded: setIsLoaded\r\n    };\r\n    Font.prototype = fontPrototype;\r\n    return Font;\r\n  }();\r\n\r\n  function RenderableElement() {}\r\n\r\n  RenderableElement.prototype = {\r\n    initRenderable: function initRenderable() {\r\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n      this.isInRange = false; // layer's display state\r\n\r\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\r\n\r\n      this.isTransparent = false; // list of animated components\r\n\r\n      this.renderableComponents = [];\r\n    },\r\n    addRenderableComponent: function addRenderableComponent(component) {\r\n      if (this.renderableComponents.indexOf(component) === -1) {\r\n        this.renderableComponents.push(component);\r\n      }\r\n    },\r\n    removeRenderableComponent: function removeRenderableComponent(component) {\r\n      if (this.renderableComponents.indexOf(component) !== -1) {\r\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n      }\r\n    },\r\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\r\n      this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function checkTransparency() {\r\n      if (this.finalTransform.mProp.o.v <= 0) {\r\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n          this.isTransparent = true;\r\n          this.hide();\r\n        }\r\n      } else if (this.isTransparent) {\r\n        this.isTransparent = false;\r\n        this.show();\r\n      }\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\r\n    checkLayerLimits: function checkLayerLimits(num) {\r\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n        if (this.isInRange !== true) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n          this.isInRange = true;\r\n          this.show();\r\n        }\r\n      } else if (this.isInRange !== false) {\r\n        this.globalData._mdf = true;\r\n        this.isInRange = false;\r\n        this.hide();\r\n      }\r\n    },\r\n    renderRenderable: function renderRenderable() {\r\n      var i;\r\n      var len = this.renderableComponents.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n      }\r\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n\r\n    },\r\n    sourceRectAtTime: function sourceRectAtTime() {\r\n      return {\r\n        top: 0,\r\n        left: 0,\r\n        width: 100,\r\n        height: 100\r\n      };\r\n    },\r\n    getLayerSize: function getLayerSize() {\r\n      if (this.data.ty === 5) {\r\n        return {\r\n          w: this.data.textData.width,\r\n          h: this.data.textData.height\r\n        };\r\n      }\r\n\r\n      return {\r\n        w: this.data.width,\r\n        h: this.data.height\r\n      };\r\n    }\r\n  };\r\n\r\n  var getBlendMode = function () {\r\n    var blendModeEnums = {\r\n      0: 'source-over',\r\n      1: 'multiply',\r\n      2: 'screen',\r\n      3: 'overlay',\r\n      4: 'darken',\r\n      5: 'lighten',\r\n      6: 'color-dodge',\r\n      7: 'color-burn',\r\n      8: 'hard-light',\r\n      9: 'soft-light',\r\n      10: 'difference',\r\n      11: 'exclusion',\r\n      12: 'hue',\r\n      13: 'saturation',\r\n      14: 'color',\r\n      15: 'luminosity'\r\n    };\r\n    return function (mode) {\r\n      return blendModeEnums[mode] || '';\r\n    };\r\n  }();\r\n\r\n  function SliderEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function AngleEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function ColorEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n  }\r\n\r\n  function PointEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n  }\r\n\r\n  function LayerIndexEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function MaskIndexEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function CheckboxEffect(data, elem, container) {\r\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n  }\r\n\r\n  function NoValueEffect() {\r\n    this.p = {};\r\n  }\r\n\r\n  function EffectsManager(data, element) {\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i;\r\n    var len = effects.length;\r\n    var effectItem;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      effectItem = new GroupEffect(effects[i], element);\r\n      this.effectElements.push(effectItem);\r\n    }\r\n  }\r\n\r\n  function GroupEffect(data, element) {\r\n    this.init(data, element);\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\r\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\n  GroupEffect.prototype.init = function (data, element) {\r\n    this.data = data;\r\n    this.effectElements = [];\r\n    this.initDynamicPropertyContainer(element);\r\n    var i;\r\n    var len = this.data.ef.length;\r\n    var eff;\r\n    var effects = this.data.ef;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      eff = null;\r\n\r\n      switch (effects[i].ty) {\r\n        case 0:\r\n          eff = new SliderEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 1:\r\n          eff = new AngleEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 2:\r\n          eff = new ColorEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 3:\r\n          eff = new PointEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 4:\r\n        case 7:\r\n          eff = new CheckboxEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 10:\r\n          eff = new LayerIndexEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 11:\r\n          eff = new MaskIndexEffect(effects[i], element, this);\r\n          break;\r\n\r\n        case 5:\r\n          eff = new EffectsManager(effects[i], element, this);\r\n          break;\r\n        // case 6:\r\n\r\n        default:\r\n          eff = new NoValueEffect(effects[i], element, this);\r\n          break;\r\n      }\r\n\r\n      if (eff) {\r\n        this.effectElements.push(eff);\r\n      }\r\n    }\r\n  };\r\n\r\n  function BaseElement() {}\r\n\r\n  BaseElement.prototype = {\r\n    checkMasks: function checkMasks() {\r\n      if (!this.data.hasMask) {\r\n        return false;\r\n      }\r\n\r\n      var i = 0;\r\n      var len = this.data.masksProperties.length;\r\n\r\n      while (i < len) {\r\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\r\n          return true;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return false;\r\n    },\r\n    initExpressions: function initExpressions() {\r\n      var expressionsInterfaces = getExpressionInterfaces();\r\n\r\n      if (!expressionsInterfaces) {\r\n        return;\r\n      }\r\n\r\n      var LayerExpressionInterface = expressionsInterfaces('layer');\r\n      var EffectsExpressionInterface = expressionsInterfaces('effects');\r\n      var ShapeExpressionInterface = expressionsInterfaces('shape');\r\n      var TextExpressionInterface = expressionsInterfaces('text');\r\n      var CompExpressionInterface = expressionsInterfaces('comp');\r\n      this.layerInterface = LayerExpressionInterface(this);\r\n\r\n      if (this.data.hasMask && this.maskManager) {\r\n        this.layerInterface.registerMaskInterface(this.maskManager);\r\n      }\r\n\r\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n      this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n      if (this.data.ty === 0 || this.data.xt) {\r\n        this.compInterface = CompExpressionInterface(this);\r\n      } else if (this.data.ty === 4) {\r\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n        this.layerInterface.content = this.layerInterface.shapeInterface;\r\n      } else if (this.data.ty === 5) {\r\n        this.layerInterface.textInterface = TextExpressionInterface(this);\r\n        this.layerInterface.text = this.layerInterface.textInterface;\r\n      }\r\n    },\r\n    setBlendMode: function setBlendMode() {\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      var elem = this.baseElement || this.layerElement;\r\n      elem.style['mix-blend-mode'] = blendModeValue;\r\n    },\r\n    initBaseData: function initBaseData(data, globalData, comp) {\r\n      this.globalData = globalData;\r\n      this.comp = comp;\r\n      this.data = data;\r\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\r\n\r\n      if (!this.data.sr) {\r\n        this.data.sr = 1;\r\n      } // effects manager\r\n\r\n\r\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n    },\r\n    getType: function getType() {\r\n      return this.type;\r\n    },\r\n    sourceRectAtTime: function sourceRectAtTime() {}\r\n  };\r\n\r\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\r\n  function FrameElement() {}\r\n\r\n  FrameElement.prototype = {\r\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\r\n    initFrame: function initFrame() {\r\n      // set to true when inpoint is rendered\r\n      this._isFirstFrame = false; // list of animated properties\r\n\r\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\r\n\r\n      this._mdf = false;\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\r\n    prepareProperties: function prepareProperties(num, isVisible) {\r\n      var i;\r\n      var len = this.dynamicProperties.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\r\n          this.dynamicProperties[i].getValue();\r\n\r\n          if (this.dynamicProperties[i]._mdf) {\r\n            this.globalData._mdf = true;\r\n            this._mdf = true;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    addDynamicProperty: function addDynamicProperty(prop) {\r\n      if (this.dynamicProperties.indexOf(prop) === -1) {\r\n        this.dynamicProperties.push(prop);\r\n      }\r\n    }\r\n  };\r\n\r\n  function FootageElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\r\n    this.initBaseData(data, globalData, comp);\r\n  }\r\n\r\n  FootageElement.prototype.prepareFrame = function () {};\r\n\r\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\r\n\r\n  FootageElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  FootageElement.prototype.renderFrame = function () {};\r\n\r\n  FootageElement.prototype.destroy = function () {};\r\n\r\n  FootageElement.prototype.initExpressions = function () {\r\n    var expressionsInterfaces = getExpressionInterfaces();\r\n\r\n    if (!expressionsInterfaces) {\r\n      return;\r\n    }\r\n\r\n    var FootageInterface = expressionsInterfaces('footage');\r\n    this.layerInterface = FootageInterface(this);\r\n  };\r\n\r\n  FootageElement.prototype.getFootageData = function () {\r\n    return this.footageData;\r\n  };\r\n\r\n  function AudioElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initBaseData(data, globalData, comp);\r\n    this._isPlaying = false;\r\n    this._canPlay = false;\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.audio = this.globalData.audioController.createAudio(assetPath);\r\n    this._currentTime = 0;\r\n    this.globalData.audioController.addAudio(this);\r\n    this._volumeMultiplier = 1;\r\n    this._volume = 1;\r\n    this._previousVolume = null;\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\r\n      k: [100]\r\n    }, 1, 0.01, this);\r\n  }\r\n\r\n  AudioElement.prototype.prepareFrame = function (num) {\r\n    this.prepareRenderableFrame(num, true);\r\n    this.prepareProperties(num, true);\r\n\r\n    if (!this.tm._placeholder) {\r\n      var timeRemapped = this.tm.v;\r\n      this._currentTime = timeRemapped;\r\n    } else {\r\n      this._currentTime = num / this.data.sr;\r\n    }\r\n\r\n    this._volume = this.lv.v[0];\r\n    var totalVolume = this._volume * this._volumeMultiplier;\r\n\r\n    if (this._previousVolume !== totalVolume) {\r\n      this._previousVolume = totalVolume;\r\n      this.audio.volume(totalVolume);\r\n    }\r\n  };\r\n\r\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\n  AudioElement.prototype.renderFrame = function () {\r\n    if (this.isInRange && this._canPlay) {\r\n      if (!this._isPlaying) {\r\n        this.audio.play();\r\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n        this._isPlaying = true;\r\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\r\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      }\r\n    }\r\n  };\r\n\r\n  AudioElement.prototype.show = function () {// this.audio.play()\r\n  };\r\n\r\n  AudioElement.prototype.hide = function () {\r\n    this.audio.pause();\r\n    this._isPlaying = false;\r\n  };\r\n\r\n  AudioElement.prototype.pause = function () {\r\n    this.audio.pause();\r\n    this._isPlaying = false;\r\n    this._canPlay = false;\r\n  };\r\n\r\n  AudioElement.prototype.resume = function () {\r\n    this._canPlay = true;\r\n  };\r\n\r\n  AudioElement.prototype.setRate = function (rateValue) {\r\n    this.audio.rate(rateValue);\r\n  };\r\n\r\n  AudioElement.prototype.volume = function (volumeValue) {\r\n    this._volumeMultiplier = volumeValue;\r\n    this._previousVolume = volumeValue * this._volume;\r\n    this.audio.volume(this._previousVolume);\r\n  };\r\n\r\n  AudioElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  AudioElement.prototype.destroy = function () {};\r\n\r\n  AudioElement.prototype.sourceRectAtTime = function () {};\r\n\r\n  AudioElement.prototype.initExpressions = function () {};\r\n\r\n  function BaseRenderer() {}\r\n\r\n  BaseRenderer.prototype.checkLayers = function (num) {\r\n    var i;\r\n    var len = this.layers.length;\r\n    var data;\r\n    this.completeLayers = true;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (!this.elements[i]) {\r\n        data = this.layers[i];\r\n\r\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\r\n          this.buildItem(i);\r\n        }\r\n      }\r\n\r\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n    }\r\n\r\n    this.checkPendingElements();\r\n  };\r\n\r\n  BaseRenderer.prototype.createItem = function (layer) {\r\n    switch (layer.ty) {\r\n      case 2:\r\n        return this.createImage(layer);\r\n\r\n      case 0:\r\n        return this.createComp(layer);\r\n\r\n      case 1:\r\n        return this.createSolid(layer);\r\n\r\n      case 3:\r\n        return this.createNull(layer);\r\n\r\n      case 4:\r\n        return this.createShape(layer);\r\n\r\n      case 5:\r\n        return this.createText(layer);\r\n\r\n      case 6:\r\n        return this.createAudio(layer);\r\n\r\n      case 13:\r\n        return this.createCamera(layer);\r\n\r\n      case 15:\r\n        return this.createFootage(layer);\r\n\r\n      default:\r\n        return this.createNull(layer);\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.createCamera = function () {\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n  };\r\n\r\n  BaseRenderer.prototype.createAudio = function (data) {\r\n    return new AudioElement(data, this.globalData, this);\r\n  };\r\n\r\n  BaseRenderer.prototype.createFootage = function (data) {\r\n    return new FootageElement(data, this.globalData, this);\r\n  };\r\n\r\n  BaseRenderer.prototype.buildAllItems = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.buildItem(i);\r\n    }\r\n\r\n    this.checkPendingElements();\r\n  };\r\n\r\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\r\n    this.completeLayers = false;\r\n    var i;\r\n    var len = newLayers.length;\r\n    var j;\r\n    var jLen = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n\r\n      while (j < jLen) {\r\n        if (this.layers[j].id === newLayers[i].id) {\r\n          this.layers[j] = newLayers[i];\r\n          break;\r\n        }\r\n\r\n        j += 1;\r\n      }\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n    this.globalData.projectInterface = pInterface;\r\n  };\r\n\r\n  BaseRenderer.prototype.initItems = function () {\r\n    if (!this.globalData.progressiveLoad) {\r\n      this.buildAllItems();\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i = 0;\r\n    var len = layers.length;\r\n\r\n    while (i < len) {\r\n      if (layers[i].ind == parentName) {\r\n        // eslint-disable-line eqeqeq\r\n        if (!elements[i] || elements[i] === true) {\r\n          this.buildItem(i);\r\n          this.addPendingElement(element);\r\n        } else {\r\n          hierarchy.push(elements[i]);\r\n          elements[i].setAsParent();\r\n\r\n          if (layers[i].parent !== undefined) {\r\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n          } else {\r\n            element.setHierarchy(hierarchy);\r\n          }\r\n        }\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.addPendingElement = function (element) {\r\n    this.pendingElements.push(element);\r\n  };\r\n\r\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n    var i;\r\n    var len = assets.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (assets[i].xt) {\r\n        var comp = this.createComp(assets[i]);\r\n        comp.initExpressions();\r\n        this.globalData.projectInterface.registerComposition(comp);\r\n      }\r\n    }\r\n  };\r\n\r\n  BaseRenderer.prototype.getElementByPath = function (path) {\r\n    var pathValue = path.shift();\r\n    var element;\r\n\r\n    if (typeof pathValue === 'number') {\r\n      element = this.elements[pathValue];\r\n    } else {\r\n      var i;\r\n      var len = this.elements.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.elements[i].data.nm === pathValue) {\r\n          element = this.elements[i];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (path.length === 0) {\r\n      return element;\r\n    }\r\n\r\n    return element.getElementByPath(path);\r\n  };\r\n\r\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n    this.globalData.audioController = this.animationItem.audioController;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize = {\r\n      w: animData.w,\r\n      h: animData.h\r\n    };\r\n  };\r\n\r\n  function TransformElement() {}\r\n\r\n  TransformElement.prototype = {\r\n    initTransform: function initTransform() {\r\n      this.finalTransform = {\r\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\r\n          o: 0\r\n        },\r\n        _matMdf: false,\r\n        _opMdf: false,\r\n        mat: new Matrix()\r\n      };\r\n\r\n      if (this.data.ao) {\r\n        this.finalTransform.mProp.autoOriented = true;\r\n      } // TODO: check TYPE 11: Guided elements\r\n\r\n\r\n      if (this.data.ty !== 11) {// this.createElements();\r\n      }\r\n    },\r\n    renderTransform: function renderTransform() {\r\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n      if (this.hierarchy) {\r\n        var mat;\r\n        var finalMat = this.finalTransform.mat;\r\n        var i = 0;\r\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n\r\n        if (!this.finalTransform._matMdf) {\r\n          while (i < len) {\r\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n              this.finalTransform._matMdf = true;\r\n              break;\r\n            }\r\n\r\n            i += 1;\r\n          }\r\n        }\r\n\r\n        if (this.finalTransform._matMdf) {\r\n          mat = this.finalTransform.mProp.v.props;\r\n          finalMat.cloneFromProps(mat);\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    globalToLocal: function globalToLocal(pt) {\r\n      var transforms = [];\r\n      transforms.push(this.finalTransform);\r\n      var flag = true;\r\n      var comp = this.comp;\r\n\r\n      while (flag) {\r\n        if (comp.finalTransform) {\r\n          if (comp.data.hasMask) {\r\n            transforms.splice(0, 0, comp.finalTransform);\r\n          }\r\n\r\n          comp = comp.comp;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n\r\n      var i;\r\n      var len = transforms.length;\r\n      var ptNew;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n\r\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n      }\r\n\r\n      return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n  };\r\n\r\n  function MaskElement(data, element, globalData) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    var defs = this.globalData.defs;\r\n    var i;\r\n    var len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n    var path;\r\n    var properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j;\r\n    var jLen;\r\n    var layerId = createElementID();\r\n    var rect;\r\n    var expansor;\r\n    var feMorph;\r\n    var x;\r\n    var maskType = 'clipPath';\r\n    var maskRef = 'clip-path';\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n      }\r\n\r\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n        rect = createNS('rect');\r\n        rect.setAttribute('fill', '#ffffff');\r\n        rect.setAttribute('width', this.element.comp.data.w || 0);\r\n        rect.setAttribute('height', this.element.comp.data.h || 0);\r\n        currentMasks.push(rect);\r\n      } else {\r\n        rect = null;\r\n      }\r\n\r\n      path = createNS('path');\r\n\r\n      if (properties[i].mode === 'n') {\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n          elem: path,\r\n          lastPath: ''\r\n        };\r\n        defs.appendChild(path);\r\n      } else {\r\n        count += 1;\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n        path.setAttribute('clip-rule', 'nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n          maskType = 'mask';\r\n          maskRef = 'mask';\r\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n          filterID = createElementID();\r\n          expansor = createNS('filter');\r\n          expansor.setAttribute('id', filterID);\r\n          feMorph = createNS('feMorphology');\r\n          feMorph.setAttribute('operator', 'erode');\r\n          feMorph.setAttribute('in', 'SourceGraphic');\r\n          feMorph.setAttribute('radius', '0');\r\n          expansor.appendChild(feMorph);\r\n          defs.appendChild(expansor);\r\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n        } else {\r\n          feMorph = null;\r\n          x = null;\r\n        } // TODO move this to a factory or to a constructor\r\n\r\n\r\n        this.storedData[i] = {\r\n          elem: path,\r\n          x: x,\r\n          expan: feMorph,\r\n          lastPath: '',\r\n          lastOperator: '',\r\n          filterId: filterID,\r\n          lastRadius: 0\r\n        };\r\n\r\n        if (properties[i].mode === 'i') {\r\n          jLen = currentMasks.length;\r\n          var g = createNS('g');\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            g.appendChild(currentMasks[j]);\r\n          }\r\n\r\n          var mask = createNS('mask');\r\n          mask.setAttribute('mask-type', 'alpha');\r\n          mask.setAttribute('id', layerId + '_' + count);\r\n          mask.appendChild(path);\r\n          defs.appendChild(mask);\r\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\r\n          currentMasks.length = 0;\r\n          currentMasks.push(g);\r\n        } else {\r\n          currentMasks.push(path);\r\n        }\r\n\r\n        if (properties[i].inv && !this.solidPath) {\r\n          this.solidPath = this.createLayerSolidPath();\r\n        } // TODO move this to a factory or to a constructor\r\n\r\n\r\n        this.viewData[i] = {\r\n          elem: path,\r\n          lastPath: '',\r\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n          invRect: rect\r\n        };\r\n\r\n        if (!this.viewData[i].prop.k) {\r\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.maskElement = createNS(maskType);\r\n    len = currentMasks.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if (count > 0) {\r\n      this.maskElement.setAttribute('id', layerId);\r\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\r\n      defs.appendChild(this.maskElement);\r\n    }\r\n\r\n    if (this.viewData.length) {\r\n      this.element.addRenderableComponent(this);\r\n    }\r\n  }\r\n\r\n  MaskElement.prototype.getMaskProperty = function (pos) {\r\n    return this.viewData[pos].prop;\r\n  };\r\n\r\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n    var finalMat = this.element.finalTransform.mat;\r\n    var i;\r\n    var len = this.masksProperties.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n\r\n      if (this.viewData[i].op._mdf || isFirstFrame) {\r\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n      }\r\n\r\n      if (this.masksProperties[i].mode !== 'n') {\r\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n        }\r\n\r\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n          var feMorph = this.storedData[i].expan;\r\n\r\n          if (this.storedData[i].x.v < 0) {\r\n            if (this.storedData[i].lastOperator !== 'erode') {\r\n              this.storedData[i].lastOperator = 'erode';\r\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\r\n            }\r\n\r\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n          } else {\r\n            if (this.storedData[i].lastOperator !== 'dilate') {\r\n              this.storedData[i].lastOperator = 'dilate';\r\n              this.storedData[i].elem.setAttribute('filter', null);\r\n            }\r\n\r\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  MaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n  };\r\n\r\n  MaskElement.prototype.createLayerSolidPath = function () {\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w;\r\n    path += ' v' + this.globalData.compSize.h;\r\n    path += ' h-' + this.globalData.compSize.w;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n  };\r\n\r\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n    var i;\r\n    var len;\r\n    len = pathNodes._length;\r\n\r\n    for (i = 1; i < len; i += 1) {\r\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n\r\n\r\n    if (pathNodes.c && len > 1) {\r\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n    } // pathNodes.__renderedString = pathString;\r\n\r\n\r\n    if (viewData.lastPath !== pathString) {\r\n      var pathShapeValue = '';\r\n\r\n      if (viewData.elem) {\r\n        if (pathNodes.c) {\r\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n        }\r\n\r\n        viewData.elem.setAttribute('d', pathShapeValue);\r\n      }\r\n\r\n      viewData.lastPath = pathString;\r\n    }\r\n  };\r\n\r\n  MaskElement.prototype.destroy = function () {\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n  };\r\n\r\n  var filtersFactory = function () {\r\n    var ob = {};\r\n    ob.createFilter = createFilter;\r\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n    function createFilter(filId, skipCoordinates) {\r\n      var fil = createNS('filter');\r\n      fil.setAttribute('id', filId);\r\n\r\n      if (skipCoordinates !== true) {\r\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n        fil.setAttribute('x', '0%');\r\n        fil.setAttribute('y', '0%');\r\n        fil.setAttribute('width', '100%');\r\n        fil.setAttribute('height', '100%');\r\n      }\r\n\r\n      return fil;\r\n    }\r\n\r\n    function createAlphaToLuminanceFilter() {\r\n      var feColorMatrix = createNS('feColorMatrix');\r\n      feColorMatrix.setAttribute('type', 'matrix');\r\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n      return feColorMatrix;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var featureSupport = function () {\r\n    var ob = {\r\n      maskType: true\r\n    };\r\n\r\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n      ob.maskType = false;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var registeredEffects = {};\r\n  var idPrefix = 'filter_result_';\r\n\r\n  function SVGEffects(elem) {\r\n    var i;\r\n    var source = 'SourceGraphic';\r\n    var len = elem.data.ef ? elem.data.ef.length : 0;\r\n    var filId = createElementID();\r\n    var fil = filtersFactory.createFilter(filId, true);\r\n    var count = 0;\r\n    this.filters = [];\r\n    var filterManager;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      filterManager = null;\r\n      var type = elem.data.ef[i].ty;\r\n\r\n      if (registeredEffects[type]) {\r\n        var Effect = registeredEffects[type].effect;\r\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\r\n        source = idPrefix + count;\r\n\r\n        if (registeredEffects[type].countsAsEffect) {\r\n          count += 1;\r\n        }\r\n      }\r\n\r\n      if (filterManager) {\r\n        this.filters.push(filterManager);\r\n      }\r\n    }\r\n\r\n    if (count) {\r\n      elem.globalData.defs.appendChild(fil);\r\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\r\n    }\r\n\r\n    if (this.filters.length) {\r\n      elem.addRenderableComponent(this);\r\n    }\r\n  }\r\n\r\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n    var i;\r\n    var len = this.filters.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.filters[i].renderFrame(_isFirstFrame);\r\n    }\r\n  };\r\n\r\n  function registerEffect(id, effect, countsAsEffect) {\r\n    registeredEffects[id] = {\r\n      effect: effect,\r\n      countsAsEffect: countsAsEffect\r\n    };\r\n  }\r\n\r\n  function SVGBaseElement() {}\r\n\r\n  SVGBaseElement.prototype = {\r\n    initRendererElement: function initRendererElement() {\r\n      this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function createContainerElements() {\r\n      this.matteElement = createNS('g');\r\n      this.transformedElement = this.layerElement;\r\n      this.maskedElement = this.layerElement;\r\n      this._sizeChanged = false;\r\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\r\n\r\n      if (this.data.td) {\r\n        this.matteMasks = {};\r\n        var symbolElement = createNS('symbol');\r\n        symbolElement.setAttribute('id', this.layerId);\r\n        var gg = createNS('g');\r\n        gg.appendChild(this.layerElement);\r\n        symbolElement.appendChild(gg);\r\n        layerElementParent = gg;\r\n        this.globalData.defs.appendChild(symbolElement);\r\n      } else if (this.data.tt) {\r\n        this.matteElement.appendChild(this.layerElement);\r\n        layerElementParent = this.matteElement;\r\n        this.baseElement = this.matteElement;\r\n      } else {\r\n        this.baseElement = this.layerElement;\r\n      }\r\n\r\n      if (this.data.ln) {\r\n        this.layerElement.setAttribute('id', this.data.ln);\r\n      }\r\n\r\n      if (this.data.cl) {\r\n        this.layerElement.setAttribute('class', this.data.cl);\r\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n\r\n\r\n      if (this.data.ty === 0 && !this.data.hd) {\r\n        var cp = createNS('clipPath');\r\n        var pt = createNS('path');\r\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n        var clipId = createElementID();\r\n        cp.setAttribute('id', clipId);\r\n        cp.appendChild(pt);\r\n        this.globalData.defs.appendChild(cp);\r\n\r\n        if (this.checkMasks()) {\r\n          var cpGroup = createNS('g');\r\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\r\n          cpGroup.appendChild(this.layerElement);\r\n          this.transformedElement = cpGroup;\r\n\r\n          if (layerElementParent) {\r\n            layerElementParent.appendChild(this.transformedElement);\r\n          } else {\r\n            this.baseElement = this.transformedElement;\r\n          }\r\n        } else {\r\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\r\n        }\r\n      }\r\n\r\n      if (this.data.bm !== 0) {\r\n        this.setBlendMode();\r\n      }\r\n    },\r\n    renderElement: function renderElement() {\r\n      if (this.finalTransform._matMdf) {\r\n        this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n      }\r\n\r\n      if (this.finalTransform._opMdf) {\r\n        this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n      }\r\n    },\r\n    destroyBaseElement: function destroyBaseElement() {\r\n      this.layerElement = null;\r\n      this.matteElement = null;\r\n      this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function getBaseElement() {\r\n      if (this.data.hd) {\r\n        return null;\r\n      }\r\n\r\n      return this.baseElement;\r\n    },\r\n    createRenderableComponents: function createRenderableComponents() {\r\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n      this.renderableEffectsManager = new SVGEffects(this);\r\n    },\r\n    getMatte: function getMatte(matteType) {\r\n      if (!this.matteMasks[matteType]) {\r\n        var id = this.layerId + '_' + matteType;\r\n        var filId;\r\n        var fil;\r\n        var useElement;\r\n        var gg;\r\n\r\n        if (matteType === 1 || matteType === 3) {\r\n          var masker = createNS('mask');\r\n          masker.setAttribute('id', id);\r\n          masker.setAttribute('mask-type', matteType === 3 ? 'luminance' : 'alpha');\r\n          useElement = createNS('use');\r\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\r\n          masker.appendChild(useElement);\r\n          this.globalData.defs.appendChild(masker);\r\n\r\n          if (!featureSupport.maskType && matteType === 1) {\r\n            masker.setAttribute('mask-type', 'luminance');\r\n            filId = createElementID();\r\n            fil = filtersFactory.createFilter(filId);\r\n            this.globalData.defs.appendChild(fil);\r\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n            gg = createNS('g');\r\n            gg.appendChild(useElement);\r\n            masker.appendChild(gg);\r\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\r\n          }\r\n        } else if (matteType === 2) {\r\n          var maskGroup = createNS('mask');\r\n          maskGroup.setAttribute('id', id);\r\n          maskGroup.setAttribute('mask-type', 'alpha');\r\n          var maskGrouper = createNS('g');\r\n          maskGroup.appendChild(maskGrouper);\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId); /// /\r\n\r\n          var feCTr = createNS('feComponentTransfer');\r\n          feCTr.setAttribute('in', 'SourceGraphic');\r\n          fil.appendChild(feCTr);\r\n          var feFunc = createNS('feFuncA');\r\n          feFunc.setAttribute('type', 'table');\r\n          feFunc.setAttribute('tableValues', '1.0 0.0');\r\n          feCTr.appendChild(feFunc); /// /\r\n\r\n          this.globalData.defs.appendChild(fil);\r\n          var alphaRect = createNS('rect');\r\n          alphaRect.setAttribute('width', this.comp.data.w);\r\n          alphaRect.setAttribute('height', this.comp.data.h);\r\n          alphaRect.setAttribute('x', '0');\r\n          alphaRect.setAttribute('y', '0');\r\n          alphaRect.setAttribute('fill', '#ffffff');\r\n          alphaRect.setAttribute('opacity', '0');\r\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\r\n          maskGrouper.appendChild(alphaRect);\r\n          useElement = createNS('use');\r\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\r\n          maskGrouper.appendChild(useElement);\r\n\r\n          if (!featureSupport.maskType) {\r\n            maskGroup.setAttribute('mask-type', 'luminance');\r\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n            gg = createNS('g');\r\n            maskGrouper.appendChild(alphaRect);\r\n            gg.appendChild(this.layerElement);\r\n            maskGrouper.appendChild(gg);\r\n          }\r\n\r\n          this.globalData.defs.appendChild(maskGroup);\r\n        }\r\n\r\n        this.matteMasks[matteType] = id;\r\n      }\r\n\r\n      return this.matteMasks[matteType];\r\n    },\r\n    setMatte: function setMatte(id) {\r\n      if (!this.matteElement) {\r\n        return;\r\n      }\r\n\r\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\r\n  function HierarchyElement() {}\r\n\r\n  HierarchyElement.prototype = {\r\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\r\n    initHierarchy: function initHierarchy() {\r\n      // element's parent list\r\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\r\n\r\n      this._isParent = false;\r\n      this.checkParenting();\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\r\n    setHierarchy: function setHierarchy(hierarchy) {\r\n      this.hierarchy = hierarchy;\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\r\n    setAsParent: function setAsParent() {\r\n      this._isParent = true;\r\n    },\r\n\r\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\r\n    checkParenting: function checkParenting() {\r\n      if (this.data.parent !== undefined) {\r\n        this.comp.buildElementParenting(this, this.data.parent, []);\r\n      }\r\n    }\r\n  };\r\n\r\n  function RenderableDOMElement() {}\r\n\r\n  (function () {\r\n    var _prototype = {\r\n      initElement: function initElement(data, globalData, comp) {\r\n        this.initFrame();\r\n        this.initBaseData(data, globalData, comp);\r\n        this.initTransform(data, globalData, comp);\r\n        this.initHierarchy();\r\n        this.initRenderable();\r\n        this.initRendererElement();\r\n        this.createContainerElements();\r\n        this.createRenderableComponents();\r\n        this.createContent();\r\n        this.hide();\r\n      },\r\n      hide: function hide() {\r\n        // console.log('HIDE', this);\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'none';\r\n          this.hidden = true;\r\n        }\r\n      },\r\n      show: function show() {\r\n        // console.log('SHOW', this);\r\n        if (this.isInRange && !this.isTransparent) {\r\n          if (!this.data.hd) {\r\n            var elem = this.baseElement || this.layerElement;\r\n            elem.style.display = 'block';\r\n          }\r\n\r\n          this.hidden = false;\r\n          this._isFirstFrame = true;\r\n        }\r\n      },\r\n      renderFrame: function renderFrame() {\r\n        // If it is exported as hidden (data.hd === true) no need to render\r\n        // If it is not visible no need to render\r\n        if (this.data.hd || this.hidden) {\r\n          return;\r\n        }\r\n\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.renderElement();\r\n        this.renderInnerContent();\r\n\r\n        if (this._isFirstFrame) {\r\n          this._isFirstFrame = false;\r\n        }\r\n      },\r\n      renderInnerContent: function renderInnerContent() {},\r\n      prepareFrame: function prepareFrame(num) {\r\n        this._mdf = false;\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n        this.checkTransparency();\r\n      },\r\n      destroy: function destroy() {\r\n        this.innerElem = null;\r\n        this.destroyBaseElement();\r\n      }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n  })();\r\n\r\n  function IImageElement(data, globalData, comp) {\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data, globalData, comp);\r\n    this.sourceRect = {\r\n      top: 0,\r\n      left: 0,\r\n      width: this.assetData.w,\r\n      height: this.assetData.h\r\n    };\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\n  IImageElement.prototype.createContent = function () {\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.innerElem);\r\n  };\r\n\r\n  IImageElement.prototype.sourceRectAtTime = function () {\r\n    return this.sourceRect;\r\n  };\r\n\r\n  function ProcessedElement(element, position) {\r\n    this.elem = element;\r\n    this.pos = position;\r\n  }\r\n\r\n  function IShapeElement() {}\r\n\r\n  IShapeElement.prototype = {\r\n    addShapeToModifiers: function addShapeToModifiers(data) {\r\n      var i;\r\n      var len = this.shapeModifiers.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.shapeModifiers[i].addShape(data);\r\n      }\r\n    },\r\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\r\n      var i = 0;\r\n      var len = this.shapeModifiers.length;\r\n\r\n      while (i < len) {\r\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n    renderModifiers: function renderModifiers() {\r\n      if (!this.shapeModifiers.length) {\r\n        return;\r\n      }\r\n\r\n      var i;\r\n      var len = this.shapes.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.shapes[i].sh.reset();\r\n      }\r\n\r\n      len = this.shapeModifiers.length;\r\n      var shouldBreakProcess;\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n        // TODO: find a better solution for this\r\n\r\n        if (shouldBreakProcess) {\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    searchProcessedElement: function searchProcessedElement(elem) {\r\n      var elements = this.processedElements;\r\n      var i = 0;\r\n      var len = elements.length;\r\n\r\n      while (i < len) {\r\n        if (elements[i].elem === elem) {\r\n          return elements[i].pos;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      return 0;\r\n    },\r\n    addProcessedElement: function addProcessedElement(elem, pos) {\r\n      var elements = this.processedElements;\r\n      var i = elements.length;\r\n\r\n      while (i) {\r\n        i -= 1;\r\n\r\n        if (elements[i].elem === elem) {\r\n          elements[i].pos = pos;\r\n          return;\r\n        }\r\n      }\r\n\r\n      elements.push(new ProcessedElement(elem, pos));\r\n    },\r\n    prepareFrame: function prepareFrame(num) {\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n    }\r\n  };\r\n\r\n  var lineCapEnum = {\r\n    1: 'butt',\r\n    2: 'round',\r\n    3: 'square'\r\n  };\r\n  var lineJoinEnum = {\r\n    1: 'miter',\r\n    2: 'round',\r\n    3: 'bevel'\r\n  };\r\n\r\n  function SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\r\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n\r\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\r\n\r\n    var i = 0;\r\n    var len = transformers.length;\r\n\r\n    while (i < len) {\r\n      if (transformers[i].mProps.dynamicProperties.length) {\r\n        this._isAnimated = true;\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  SVGShapeData.prototype.setAsAnimated = function () {\r\n    this._isAnimated = true;\r\n  };\r\n\r\n  function SVGStyleData(data, level) {\r\n    this.data = data;\r\n    this.type = data.ty;\r\n    this.d = '';\r\n    this.lvl = level;\r\n    this._mdf = false;\r\n    this.closed = data.hd === true;\r\n    this.pElem = createNS('path');\r\n    this.msElem = null;\r\n  }\r\n\r\n  SVGStyleData.prototype.reset = function () {\r\n    this.d = '';\r\n    this._mdf = false;\r\n  };\r\n\r\n  function DashProperty(elem, data, renderer, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n    this.dashoffset = createTypedArray('float32', 1);\r\n    this.initDynamicPropertyContainer(container);\r\n    var i;\r\n    var len = data.length || 0;\r\n    var prop;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n      this.k = prop.k || this.k;\r\n      this.dataProps[i] = {\r\n        n: data[i].n,\r\n        p: prop\r\n      };\r\n    }\r\n\r\n    if (!this.k) {\r\n      this.getValue(true);\r\n    }\r\n\r\n    this._isAnimated = this.k;\r\n  }\r\n\r\n  DashProperty.prototype.getValue = function (forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n      return;\r\n    }\r\n\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || forceRender;\r\n\r\n    if (this._mdf) {\r\n      var i = 0;\r\n      var len = this.dataProps.length;\r\n\r\n      if (this.renderer === 'svg') {\r\n        this.dashStr = '';\r\n      }\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.dataProps[i].n !== 'o') {\r\n          if (this.renderer === 'svg') {\r\n            this.dashStr += ' ' + this.dataProps[i].p.v;\r\n          } else {\r\n            this.dashArray[i] = this.dataProps[i].p.v;\r\n          }\r\n        } else {\r\n          this.dashoffset[0] = this.dataProps[i].p.v;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n  function SVGStrokeStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n    this.style = styleOb;\r\n    this._isAnimated = !!this._isAnimated;\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n  function SVGFillStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n    this.style = styleOb;\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n  function SVGNoStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.style = styleOb;\r\n  }\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\r\n\r\n  function GradientProperty(elem, data, container) {\r\n    this.data = data;\r\n    this.c = createTypedArray('uint8c', data.p * 4);\r\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this.initDynamicPropertyContainer(container);\r\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n    this.k = this.prop.k;\r\n    this.getValue(true);\r\n  }\r\n\r\n  GradientProperty.prototype.comparePoints = function (values, points) {\r\n    var i = 0;\r\n    var len = this.o.length / 2;\r\n    var diff;\r\n\r\n    while (i < len) {\r\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n\r\n      if (diff > 0.01) {\r\n        return false;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  GradientProperty.prototype.checkCollapsable = function () {\r\n    if (this.o.length / 2 !== this.c.length / 4) {\r\n      return false;\r\n    }\r\n\r\n    if (this.data.k.k[0].s) {\r\n      var i = 0;\r\n      var len = this.data.k.k.length;\r\n\r\n      while (i < len) {\r\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n          return false;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  GradientProperty.prototype.getValue = function (forceRender) {\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n\r\n    if (this.prop._mdf || forceRender) {\r\n      var i;\r\n      var len = this.data.p * 4;\r\n      var mult;\r\n      var val;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        mult = i % 4 === 0 ? 100 : 255;\r\n        val = Math.round(this.prop.v[i] * mult);\r\n\r\n        if (this.c[i] !== val) {\r\n          this.c[i] = val;\r\n          this._cmdf = !forceRender;\r\n        }\r\n      }\r\n\r\n      if (this.o.length) {\r\n        len = this.prop.v.length;\r\n\r\n        for (i = this.data.p * 4; i < len; i += 1) {\r\n          mult = i % 2 === 0 ? 100 : 1;\r\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n\r\n          if (this.o[i - this.data.p * 4] !== val) {\r\n            this.o[i - this.data.p * 4] = val;\r\n            this._omdf = !forceRender;\r\n          }\r\n        }\r\n      }\r\n\r\n      this._mdf = !forceRender;\r\n    }\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n  function SVGGradientFillStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.initGradientData(elem, data, styleOb);\r\n  }\r\n\r\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n    this.h = PropertyFactory.getProp(elem, data.h || {\r\n      k: 0\r\n    }, 0, 0.01, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a || {\r\n      k: 0\r\n    }, 0, degToRads, this);\r\n    this.g = new GradientProperty(elem, data.g, this);\r\n    this.style = styleOb;\r\n    this.stops = [];\r\n    this.setGradientData(styleOb.pElem, data);\r\n    this.setGradientOpacity(data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n  };\r\n\r\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n    var gradientId = createElementID();\r\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    gfill.setAttribute('id', gradientId);\r\n    gfill.setAttribute('spreadMethod', 'pad');\r\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    var stops = [];\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    jLen = data.g.p * 4;\r\n\r\n    for (j = 0; j < jLen; j += 4) {\r\n      stop = createNS('stop');\r\n      gfill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n\r\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\r\n    this.gf = gfill;\r\n    this.cst = stops;\r\n  };\r\n\r\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n    if (this.g._hasOpacity && !this.g._collapsable) {\r\n      var stop;\r\n      var j;\r\n      var jLen;\r\n      var mask = createNS('mask');\r\n      var maskElement = createNS('path');\r\n      mask.appendChild(maskElement);\r\n      var opacityId = createElementID();\r\n      var maskId = createElementID();\r\n      mask.setAttribute('id', maskId);\r\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n      opFill.setAttribute('id', opacityId);\r\n      opFill.setAttribute('spreadMethod', 'pad');\r\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n      var stops = this.stops;\r\n\r\n      for (j = data.g.p * 4; j < jLen; j += 2) {\r\n        stop = createNS('stop');\r\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n        opFill.appendChild(stop);\r\n        stops.push(stop);\r\n      }\r\n\r\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\r\n\r\n      if (data.ty === 'gs') {\r\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n\r\n        if (data.lj === 1) {\r\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n        }\r\n      }\r\n\r\n      this.of = opFill;\r\n      this.ms = mask;\r\n      this.ost = stops;\r\n      this.maskId = maskId;\r\n      styleOb.msElem = maskElement;\r\n    }\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n    this.initGradientData(elem, data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n  }\r\n\r\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n  function ShapeGroupData() {\r\n    this.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n  }\r\n\r\n  function SVGTransformData(mProps, op, container) {\r\n    this.transform = {\r\n      mProps: mProps,\r\n      op: op,\r\n      container: container\r\n    };\r\n    this.elements = [];\r\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n  }\r\n\r\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\r\n    if (length === 0) {\r\n      return '';\r\n    }\r\n\r\n    var _o = pathNodes.o;\r\n    var _i = pathNodes.i;\r\n    var _v = pathNodes.v;\r\n    var i;\r\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n\r\n    for (i = 1; i < length; i += 1) {\r\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n    }\r\n\r\n    if (closed && length) {\r\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n      shapeString += 'z';\r\n    }\r\n\r\n    return shapeString;\r\n  };\r\n\r\n  var SVGElementsRenderer = function () {\r\n    var _identityMatrix = new Matrix();\r\n\r\n    var _matrixHelper = new Matrix();\r\n\r\n    var ob = {\r\n      createRenderFunction: createRenderFunction\r\n    };\r\n\r\n    function createRenderFunction(data) {\r\n      switch (data.ty) {\r\n        case 'fl':\r\n          return renderFill;\r\n\r\n        case 'gf':\r\n          return renderGradient;\r\n\r\n        case 'gs':\r\n          return renderGradientStroke;\r\n\r\n        case 'st':\r\n          return renderStroke;\r\n\r\n        case 'sh':\r\n        case 'el':\r\n        case 'rc':\r\n        case 'sr':\r\n          return renderPath;\r\n\r\n        case 'tr':\r\n          return renderContentTransform;\r\n\r\n        case 'no':\r\n          return renderNoop;\r\n\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n\r\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n      if (isFirstFrame || itemData.transform.op._mdf) {\r\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n      }\r\n\r\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n      }\r\n    }\r\n\r\n    function renderNoop() {}\r\n\r\n    function renderPath(styleData, itemData, isFirstFrame) {\r\n      var j;\r\n      var jLen;\r\n      var pathStringTransformed;\r\n      var redraw;\r\n      var pathNodes;\r\n      var l;\r\n      var lLen = itemData.styles.length;\r\n      var lvl = itemData.lvl;\r\n      var paths;\r\n      var mat;\r\n      var props;\r\n      var iterations;\r\n      var k;\r\n\r\n      for (l = 0; l < lLen; l += 1) {\r\n        redraw = itemData.sh._mdf || isFirstFrame;\r\n\r\n        if (itemData.styles[l].lvl < lvl) {\r\n          mat = _matrixHelper.reset();\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n\r\n          while (!redraw && iterations > 0) {\r\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n\r\n          if (redraw) {\r\n            iterations = lvl - itemData.styles[l].lvl;\r\n            k = itemData.transformers.length - 1;\r\n\r\n            while (iterations > 0) {\r\n              props = itemData.transformers[k].mProps.v.props;\r\n              mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n              iterations -= 1;\r\n              k -= 1;\r\n            }\r\n          }\r\n        } else {\r\n          mat = _identityMatrix;\r\n        }\r\n\r\n        paths = itemData.sh.paths;\r\n        jLen = paths._length;\r\n\r\n        if (redraw) {\r\n          pathStringTransformed = '';\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathNodes = paths.shapes[j];\r\n\r\n            if (pathNodes && pathNodes._length) {\r\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n            }\r\n          }\r\n\r\n          itemData.caches[l] = pathStringTransformed;\r\n        } else {\r\n          pathStringTransformed = itemData.caches[l];\r\n        }\r\n\r\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n      }\r\n    }\r\n\r\n    function renderFill(styleData, itemData, isFirstFrame) {\r\n      var styleElem = itemData.style;\r\n\r\n      if (itemData.c._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n      }\r\n\r\n      if (itemData.o._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n      }\r\n    }\r\n\r\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n      renderGradient(styleData, itemData, isFirstFrame);\r\n      renderStroke(styleData, itemData, isFirstFrame);\r\n    }\r\n\r\n    function renderGradient(styleData, itemData, isFirstFrame) {\r\n      var gfill = itemData.gf;\r\n      var hasOpacity = itemData.g._hasOpacity;\r\n      var pt1 = itemData.s.v;\r\n      var pt2 = itemData.e.v;\r\n\r\n      if (itemData.o._mdf || isFirstFrame) {\r\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n      }\r\n\r\n      if (itemData.s._mdf || isFirstFrame) {\r\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n        gfill.setAttribute(attr1, pt1[0]);\r\n        gfill.setAttribute(attr2, pt1[1]);\r\n\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute(attr1, pt1[0]);\r\n          itemData.of.setAttribute(attr2, pt1[1]);\r\n        }\r\n      }\r\n\r\n      var stops;\r\n      var i;\r\n      var len;\r\n      var stop;\r\n\r\n      if (itemData.g._cmdf || isFirstFrame) {\r\n        stops = itemData.cst;\r\n        var cValues = itemData.g.c;\r\n        len = stops.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          stop = stops[i];\r\n          stop.setAttribute('offset', cValues[i * 4] + '%');\r\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n        }\r\n      }\r\n\r\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n        var oValues = itemData.g.o;\r\n\r\n        if (itemData.g._collapsable) {\r\n          stops = itemData.cst;\r\n        } else {\r\n          stops = itemData.ost;\r\n        }\r\n\r\n        len = stops.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          stop = stops[i];\r\n\r\n          if (!itemData.g._collapsable) {\r\n            stop.setAttribute('offset', oValues[i * 2] + '%');\r\n          }\r\n\r\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n        }\r\n      }\r\n\r\n      if (styleData.t === 1) {\r\n        if (itemData.e._mdf || isFirstFrame) {\r\n          gfill.setAttribute('x2', pt2[0]);\r\n          gfill.setAttribute('y2', pt2[1]);\r\n\r\n          if (hasOpacity && !itemData.g._collapsable) {\r\n            itemData.of.setAttribute('x2', pt2[0]);\r\n            itemData.of.setAttribute('y2', pt2[1]);\r\n          }\r\n        }\r\n      } else {\r\n        var rad;\r\n\r\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n          gfill.setAttribute('r', rad);\r\n\r\n          if (hasOpacity && !itemData.g._collapsable) {\r\n            itemData.of.setAttribute('r', rad);\r\n          }\r\n        }\r\n\r\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n          if (!rad) {\r\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n          }\r\n\r\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n          var percent = itemData.h.v;\r\n\r\n          if (percent >= 1) {\r\n            percent = 0.99;\r\n          } else if (percent <= -1) {\r\n            percent = -0.99;\r\n          }\r\n\r\n          var dist = rad * percent;\r\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n          gfill.setAttribute('fx', x);\r\n          gfill.setAttribute('fy', y);\r\n\r\n          if (hasOpacity && !itemData.g._collapsable) {\r\n            itemData.of.setAttribute('fx', x);\r\n            itemData.of.setAttribute('fy', y);\r\n          }\r\n        } // gfill.setAttribute('fy','200');\r\n\r\n      }\r\n    }\r\n\r\n    function renderStroke(styleData, itemData, isFirstFrame) {\r\n      var styleElem = itemData.style;\r\n      var d = itemData.d;\r\n\r\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n      }\r\n\r\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n      }\r\n\r\n      if (itemData.o._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n      }\r\n\r\n      if (itemData.w._mdf || isFirstFrame) {\r\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n\r\n        if (styleElem.msElem) {\r\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n        }\r\n      }\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  function SVGShapeElement(data, globalData, comp) {\r\n    // List of drawable elements\r\n    this.shapes = []; // Full shape data\r\n\r\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\r\n\r\n    this.stylesList = []; // List of modifiers that will be applied to shapes\r\n\r\n    this.shapeModifiers = []; // List of items in shape tree\r\n\r\n    this.itemsData = []; // List of items in previous shape tree\r\n\r\n    this.processedElements = []; // List of animated components\r\n\r\n    this.animatedContents = [];\r\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n\r\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\r\n\r\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\n  SVGShapeElement.prototype.createContent = function () {\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n  };\r\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\r\n\r\n\r\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\r\n    var i;\r\n    var len = this.shapes.length;\r\n    var shape;\r\n    var j;\r\n    var jLen = this.stylesList.length;\r\n    var style;\r\n    var tempShapes = [];\r\n    var areAnimated = false;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      style = this.stylesList[j];\r\n      areAnimated = false;\r\n      tempShapes.length = 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        shape = this.shapes[i];\r\n\r\n        if (shape.styles.indexOf(style) !== -1) {\r\n          tempShapes.push(shape);\r\n          areAnimated = shape._isAnimated || areAnimated;\r\n        }\r\n      }\r\n\r\n      if (tempShapes.length > 1 && areAnimated) {\r\n        this.setShapesAsAnimated(tempShapes);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n    var i;\r\n    var len = shapes.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      shapes[i].setAsAnimated();\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n    // TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n    var pathElement = styleOb.pElem;\r\n\r\n    if (data.ty === 'st') {\r\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n    } else if (data.ty === 'fl') {\r\n      elementData = new SVGFillStyleData(this, data, styleOb);\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n      elementData = new GradientConstructor(this, data, styleOb);\r\n      this.globalData.defs.appendChild(elementData.gf);\r\n\r\n      if (elementData.maskId) {\r\n        this.globalData.defs.appendChild(elementData.ms);\r\n        this.globalData.defs.appendChild(elementData.of);\r\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\r\n      }\r\n    } else if (data.ty === 'no') {\r\n      elementData = new SVGNoStyleData(this, data, styleOb);\r\n    }\r\n\r\n    if (data.ty === 'st' || data.ty === 'gs') {\r\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      pathElement.setAttribute('fill-opacity', '0');\r\n\r\n      if (data.lj === 1) {\r\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n\r\n    if (data.r === 2) {\r\n      pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if (data.ln) {\r\n      pathElement.setAttribute('id', data.ln);\r\n    }\r\n\r\n    if (data.cl) {\r\n      pathElement.setAttribute('class', data.cl);\r\n    }\r\n\r\n    if (data.bm) {\r\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n\r\n    this.stylesList.push(styleOb);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.createGroupElement = function (data) {\r\n    var elementData = new ShapeGroupData();\r\n\r\n    if (data.ln) {\r\n      elementData.gr.setAttribute('id', data.ln);\r\n    }\r\n\r\n    if (data.cl) {\r\n      elementData.gr.setAttribute('class', data.cl);\r\n    }\r\n\r\n    if (data.bm) {\r\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n    var ty = 4;\r\n\r\n    if (data.ty === 'rc') {\r\n      ty = 5;\r\n    } else if (data.ty === 'el') {\r\n      ty = 6;\r\n    } else if (data.ty === 'sr') {\r\n      ty = 7;\r\n    }\r\n\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n  };\r\n\r\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n    var i = 0;\r\n    var len = this.animatedContents.length;\r\n\r\n    while (i < len) {\r\n      if (this.animatedContents[i].element === element) {\r\n        return;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    this.animatedContents.push({\r\n      fn: SVGElementsRenderer.createRenderFunction(data),\r\n      element: element,\r\n      data: data\r\n    });\r\n  };\r\n\r\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n    var arr = elementData.styles;\r\n    var j;\r\n    var jLen = this.stylesList.length;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      if (!this.stylesList[j].closed) {\r\n        arr.push(this.stylesList[j]);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.reloadShapes = function () {\r\n    this._isFirstFrame = true;\r\n    var i;\r\n    var len = this.itemsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    len = this.dynamicProperties.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n    }\r\n\r\n    this.renderModifiers();\r\n  };\r\n\r\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n    var ownTransformers = [].concat(transformers);\r\n    var i;\r\n    var len = arr.length - 1;\r\n    var j;\r\n    var jLen;\r\n    var ownStyles = [];\r\n    var ownModifiers = [];\r\n    var currentTransform;\r\n    var modifier;\r\n    var processedPos;\r\n\r\n    for (i = len; i >= 0; i -= 1) {\r\n      processedPos = this.searchProcessedElement(arr[i]);\r\n\r\n      if (!processedPos) {\r\n        arr[i]._render = render;\r\n      } else {\r\n        itemsData[i] = prevViewData[processedPos - 1];\r\n      }\r\n\r\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createStyleElement(arr[i], level);\r\n        } else {\r\n          itemsData[i].style.closed = false;\r\n        }\r\n\r\n        if (arr[i]._render) {\r\n          if (itemsData[i].style.pElem.parentNode !== container) {\r\n            container.appendChild(itemsData[i].style.pElem);\r\n          }\r\n        }\r\n\r\n        ownStyles.push(itemsData[i].style);\r\n      } else if (arr[i].ty === 'gr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createGroupElement(arr[i]);\r\n        } else {\r\n          jLen = itemsData[i].it.length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n          }\r\n        }\r\n\r\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n\r\n        if (arr[i]._render) {\r\n          if (itemsData[i].gr.parentNode !== container) {\r\n            container.appendChild(itemsData[i].gr);\r\n          }\r\n        }\r\n      } else if (arr[i].ty === 'tr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createTransformElement(arr[i], container);\r\n        }\r\n\r\n        currentTransform = itemsData[i].transform;\r\n        ownTransformers.push(currentTransform);\r\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n        }\r\n\r\n        this.setElementStyles(itemsData[i]);\r\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          modifier.init(this, arr[i]);\r\n          itemsData[i] = modifier;\r\n          this.shapeModifiers.push(modifier);\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = false;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      } else if (arr[i].ty === 'rp') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          itemsData[i] = modifier;\r\n          modifier.init(this, arr, i, itemsData);\r\n          this.shapeModifiers.push(modifier);\r\n          render = false;\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = true;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      }\r\n\r\n      this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n\r\n    len = ownStyles.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      ownStyles[i].closed = true;\r\n    }\r\n\r\n    len = ownModifiers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      ownModifiers[i].closed = true;\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.renderInnerContent = function () {\r\n    this.renderModifiers();\r\n    var i;\r\n    var len = this.stylesList.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.stylesList[i].reset();\r\n    }\r\n\r\n    this.renderShape();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n        if (this.stylesList[i].msElem) {\r\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\r\n\r\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n        }\r\n\r\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.renderShape = function () {\r\n    var i;\r\n    var len = this.animatedContents.length;\r\n    var animatedContent;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      animatedContent = this.animatedContents[i];\r\n\r\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGShapeElement.prototype.destroy = function () {\r\n    this.destroyBaseElement();\r\n    this.shapesData = null;\r\n    this.itemsData = null;\r\n  };\r\n\r\n  function LetterProps(o, sw, sc, fc, m, p) {\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n      o: true,\r\n      sw: !!sw,\r\n      sc: !!sc,\r\n      fc: !!fc,\r\n      m: true,\r\n      p: true\r\n    };\r\n  }\r\n\r\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n    this._mdf.o = false;\r\n    this._mdf.sw = false;\r\n    this._mdf.sc = false;\r\n    this._mdf.fc = false;\r\n    this._mdf.m = false;\r\n    this._mdf.p = false;\r\n    var updated = false;\r\n\r\n    if (this.o !== o) {\r\n      this.o = o;\r\n      this._mdf.o = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.sw !== sw) {\r\n      this.sw = sw;\r\n      this._mdf.sw = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.sc !== sc) {\r\n      this.sc = sc;\r\n      this._mdf.sc = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.fc !== fc) {\r\n      this.fc = fc;\r\n      this._mdf.fc = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (this.m !== m) {\r\n      this.m = m;\r\n      this._mdf.m = true;\r\n      updated = true;\r\n    }\r\n\r\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n      this.p = p;\r\n      this._mdf.p = true;\r\n      updated = true;\r\n    }\r\n\r\n    return updated;\r\n  };\r\n\r\n  function TextProperty(elem, data) {\r\n    this._frameId = initialDefaultFrame;\r\n    this.pv = '';\r\n    this.v = '';\r\n    this.kf = false;\r\n    this._isFirstFrame = true;\r\n    this._mdf = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = this.elem.comp;\r\n    this.keysIndex = 0;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n    this.effectsSequence = [];\r\n    this.currentData = {\r\n      ascent: 0,\r\n      boxWidth: this.defaultBoxWidth,\r\n      f: '',\r\n      fStyle: '',\r\n      fWeight: '',\r\n      fc: '',\r\n      j: '',\r\n      justifyOffset: '',\r\n      l: [],\r\n      lh: 0,\r\n      lineWidths: [],\r\n      ls: '',\r\n      of: '',\r\n      s: '',\r\n      sc: '',\r\n      sw: 0,\r\n      t: 0,\r\n      tr: 0,\r\n      sz: 0,\r\n      ps: null,\r\n      fillColorAnim: false,\r\n      strokeColorAnim: false,\r\n      strokeWidthAnim: false,\r\n      yOffset: 0,\r\n      finalSize: 0,\r\n      finalText: [],\r\n      finalLineHeight: 0,\r\n      __complete: false\r\n    };\r\n    this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n    if (!this.searchProperty()) {\r\n      this.completeTextData(this.currentData);\r\n    }\r\n  }\r\n\r\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\n  TextProperty.prototype.copyData = function (obj, data) {\r\n    for (var s in data) {\r\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n        obj[s] = data[s];\r\n      }\r\n    }\r\n\r\n    return obj;\r\n  };\r\n\r\n  TextProperty.prototype.setCurrentData = function (data) {\r\n    if (!data.__complete) {\r\n      this.completeTextData(data);\r\n    }\r\n\r\n    this.currentData = data;\r\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n    this._mdf = true;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    return this.searchKeyframes();\r\n  };\r\n\r\n  TextProperty.prototype.searchKeyframes = function () {\r\n    this.kf = this.data.d.k.length > 1;\r\n\r\n    if (this.kf) {\r\n      this.addEffect(this.getKeyframeValue.bind(this));\r\n    }\r\n\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.addEffect = function (effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  TextProperty.prototype.getValue = function (_finalValue) {\r\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n      return;\r\n    }\r\n\r\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n    var currentValue = this.currentData;\r\n    var currentIndex = this.keysIndex;\r\n\r\n    if (this.lock) {\r\n      this.setCurrentData(this.currentData);\r\n      return;\r\n    }\r\n\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      // Checking if index changed to prevent creating a new object every time the expression updates.\r\n      if (currentIndex !== this.keysIndex) {\r\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n      } else {\r\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n      }\r\n    }\r\n\r\n    if (currentValue !== finalValue) {\r\n      this.setCurrentData(finalValue);\r\n    }\r\n\r\n    this.v = this.currentData;\r\n    this.pv = this.v;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  };\r\n\r\n  TextProperty.prototype.getKeyframeValue = function () {\r\n    var textKeys = this.data.d.k;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0;\r\n    var len = textKeys.length;\r\n\r\n    while (i <= len - 1) {\r\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    if (this.keysIndex !== i) {\r\n      this.keysIndex = i;\r\n    }\r\n\r\n    return this.data.d.k[this.keysIndex].s;\r\n  };\r\n\r\n  TextProperty.prototype.buildFinalText = function (text) {\r\n    var charactersArray = [];\r\n    var i = 0;\r\n    var len = text.length;\r\n    var charCode;\r\n    var secondCharCode;\r\n    var shouldCombine = false;\r\n\r\n    while (i < len) {\r\n      charCode = text.charCodeAt(i);\r\n\r\n      if (FontManager.isCombinedCharacter(charCode)) {\r\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n        secondCharCode = text.charCodeAt(i + 1);\r\n\r\n        if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n          if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n            charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n            shouldCombine = false;\r\n          } else {\r\n            charactersArray.push(text.substr(i, 2));\r\n          }\r\n\r\n          i += 1;\r\n        } else {\r\n          charactersArray.push(text.charAt(i));\r\n        }\r\n      } else if (charCode > 0xDBFF) {\r\n        secondCharCode = text.charCodeAt(i + 1);\r\n\r\n        if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n          shouldCombine = true;\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          i += 1;\r\n        } else {\r\n          charactersArray.push(text.charAt(i));\r\n        }\r\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n        shouldCombine = true;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return charactersArray;\r\n  };\r\n\r\n  TextProperty.prototype.completeTextData = function (documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i;\r\n    var len;\r\n    var newLineFlag;\r\n    var index = 0;\r\n    var val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0;\r\n    var currentPos = 0;\r\n    var currentLine = 0;\r\n    var lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j;\r\n    var jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData;\r\n    var cLength = 0;\r\n    var fontProps = getFontProperties(fontData);\r\n    documentData.fWeight = fontProps.weight;\r\n    documentData.fStyle = fontProps.style;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    len = documentData.finalText.length;\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\r\n    var charCode;\r\n\r\n    if (documentData.sz) {\r\n      var flag = true;\r\n      var boxWidth = documentData.sz[0];\r\n      var boxHeight = documentData.sz[1];\r\n      var currentHeight;\r\n      var finalText;\r\n\r\n      while (flag) {\r\n        finalText = this.buildFinalText(documentData.t);\r\n        currentHeight = 0;\r\n        lineWidth = 0;\r\n        len = finalText.length;\r\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\r\n        var lastSpaceIndex = -1;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          charCode = finalText[i].charCodeAt(0);\r\n          newLineFlag = false;\r\n\r\n          if (finalText[i] === ' ') {\r\n            lastSpaceIndex = i;\r\n          } else if (charCode === 13 || charCode === 3) {\r\n            lineWidth = 0;\r\n            newLineFlag = true;\r\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          }\r\n\r\n          if (fontManager.chars) {\r\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\r\n          } else {\r\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n          }\r\n\r\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n            if (lastSpaceIndex === -1) {\r\n              len += 1;\r\n            } else {\r\n              i = lastSpaceIndex;\r\n            }\r\n\r\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n\r\n            lastSpaceIndex = -1;\r\n            lineWidth = 0;\r\n          } else {\r\n            lineWidth += cLength;\r\n            lineWidth += trackingOffset;\r\n          }\r\n        }\r\n\r\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\r\n\r\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n          documentData.finalSize -= 1;\r\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n        } else {\r\n          documentData.finalText = finalText;\r\n          len = documentData.finalText.length;\r\n          flag = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    lineWidth = -trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      newLineFlag = false;\r\n      currentChar = documentData.finalText[i];\r\n      charCode = currentChar.charCodeAt(0);\r\n\r\n      if (charCode === 13 || charCode === 3) {\r\n        uncollapsedSpaces = 0;\r\n        lineWidths.push(lineWidth);\r\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n        lineWidth = -2 * trackingOffset;\r\n        val = '';\r\n        newLineFlag = true;\r\n        currentLine += 1;\r\n      } else {\r\n        val = currentChar;\r\n      }\r\n\r\n      if (fontManager.chars) {\r\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\r\n      } else {\r\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      } //\r\n\r\n\r\n      if (currentChar === ' ') {\r\n        uncollapsedSpaces += cLength + trackingOffset;\r\n      } else {\r\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n        uncollapsedSpaces = 0;\r\n      }\r\n\r\n      letters.push({\r\n        l: cLength,\r\n        an: cLength,\r\n        add: currentSize,\r\n        n: newLineFlag,\r\n        anIndexes: [],\r\n        val: val,\r\n        line: currentLine,\r\n        animatorJustifyOffset: 0\r\n      });\r\n\r\n      if (anchorGrouping == 2) {\r\n        // eslint-disable-line eqeqeq\r\n        currentSize += cLength;\r\n\r\n        if (val === '' || val === ' ' || i === len - 1) {\r\n          if (val === '' || val === ' ') {\r\n            currentSize -= cLength;\r\n          }\r\n\r\n          while (currentPos <= i) {\r\n            letters[currentPos].an = currentSize;\r\n            letters[currentPos].ind = index;\r\n            letters[currentPos].extra = cLength;\r\n            currentPos += 1;\r\n          }\r\n\r\n          index += 1;\r\n          currentSize = 0;\r\n        }\r\n      } else if (anchorGrouping == 3) {\r\n        // eslint-disable-line eqeqeq\r\n        currentSize += cLength;\r\n\r\n        if (val === '' || i === len - 1) {\r\n          if (val === '') {\r\n            currentSize -= cLength;\r\n          }\r\n\r\n          while (currentPos <= i) {\r\n            letters[currentPos].an = currentSize;\r\n            letters[currentPos].ind = index;\r\n            letters[currentPos].extra = cLength;\r\n            currentPos += 1;\r\n          }\r\n\r\n          currentSize = 0;\r\n          index += 1;\r\n        }\r\n      } else {\r\n        letters[index].ind = index;\r\n        letters[index].extra = 0;\r\n        index += 1;\r\n      }\r\n    }\r\n\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n\r\n    if (documentData.sz) {\r\n      documentData.boxWidth = documentData.sz[0];\r\n      documentData.justifyOffset = 0;\r\n    } else {\r\n      documentData.boxWidth = maxLineWidth;\r\n\r\n      switch (documentData.j) {\r\n        case 1:\r\n          documentData.justifyOffset = -documentData.boxWidth;\r\n          break;\r\n\r\n        case 2:\r\n          documentData.justifyOffset = -documentData.boxWidth / 2;\r\n          break;\r\n\r\n        default:\r\n          documentData.justifyOffset = 0;\r\n      }\r\n    }\r\n\r\n    documentData.lineWidths = lineWidths;\r\n    var animators = data.a;\r\n    var animatorData;\r\n    var letterData;\r\n    jLen = animators.length;\r\n    var based;\r\n    var ind;\r\n    var indexes = [];\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      animatorData = animators[j];\r\n\r\n      if (animatorData.a.sc) {\r\n        documentData.strokeColorAnim = true;\r\n      }\r\n\r\n      if (animatorData.a.sw) {\r\n        documentData.strokeWidthAnim = true;\r\n      }\r\n\r\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n        documentData.fillColorAnim = true;\r\n      }\r\n\r\n      ind = 0;\r\n      based = animatorData.s.b;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        letterData.anIndexes[j] = ind;\r\n\r\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\r\n          // eslint-disable-line eqeqeq\r\n          if (animatorData.s.rn === 1) {\r\n            indexes.push(ind);\r\n          }\r\n\r\n          ind += 1;\r\n        }\r\n      }\r\n\r\n      data.a[j].s.totalChars = ind;\r\n      var currentInd = -1;\r\n      var newInd;\r\n\r\n      if (animatorData.s.rn === 1) {\r\n        for (i = 0; i < len; i += 1) {\r\n          letterData = letters[i];\r\n\r\n          if (currentInd != letterData.anIndexes[j]) {\r\n            // eslint-disable-line eqeqeq\r\n            currentInd = letterData.anIndexes[j];\r\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n          }\r\n\r\n          letterData.anIndexes[j] = newInd;\r\n        }\r\n      }\r\n    }\r\n\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\r\n  };\r\n\r\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\r\n    index = index === undefined ? this.keysIndex : index;\r\n    var dData = this.copyData({}, this.data.d.k[index].s);\r\n    dData = this.copyData(dData, newData);\r\n    this.data.d.k[index].s = dData;\r\n    this.recalculate(index);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  TextProperty.prototype.recalculate = function (index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = 0;\r\n    this._isFirstFrame = true;\r\n    this.getValue(dData);\r\n  };\r\n\r\n  TextProperty.prototype.canResizeFont = function (_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n  };\r\n\r\n  var TextSelectorProp = function () {\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n\r\n    function TextSelectorPropFactory(elem, data) {\r\n      this._currentTextLength = -1;\r\n      this.k = false;\r\n      this.data = data;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.finalS = 0;\r\n      this.finalE = 0;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.s = PropertyFactory.getProp(elem, data.s || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n\r\n      if ('e' in data) {\r\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n      } else {\r\n        this.e = {\r\n          v: 100\r\n        };\r\n      }\r\n\r\n      this.o = PropertyFactory.getProp(elem, data.o || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\r\n        k: 0\r\n      }, 0, 0, this);\r\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\r\n        k: 100\r\n      }, 0, 0, this);\r\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n\r\n      if (!this.dynamicProperties.length) {\r\n        this.getValue();\r\n      }\r\n    }\r\n\r\n    TextSelectorPropFactory.prototype = {\r\n      getMult: function getMult(ind) {\r\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n          this.getValue();\r\n        }\r\n\r\n        var x1 = 0;\r\n        var y1 = 0;\r\n        var x2 = 1;\r\n        var y2 = 1;\r\n\r\n        if (this.ne.v > 0) {\r\n          x1 = this.ne.v / 100.0;\r\n        } else {\r\n          y1 = -this.ne.v / 100.0;\r\n        }\r\n\r\n        if (this.xe.v > 0) {\r\n          x2 = 1.0 - this.xe.v / 100.0;\r\n        } else {\r\n          y2 = 1.0 + this.xe.v / 100.0;\r\n        }\r\n\r\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n        var mult = 0;\r\n        var s = this.finalS;\r\n        var e = this.finalE;\r\n        var type = this.data.sh;\r\n\r\n        if (type === 2) {\r\n          if (e === s) {\r\n            mult = ind >= e ? 1 : 0;\r\n          } else {\r\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 3) {\r\n          if (e === s) {\r\n            mult = ind >= e ? 0 : 1;\r\n          } else {\r\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 4) {\r\n          if (e === s) {\r\n            mult = 0;\r\n          } else {\r\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n\r\n            if (mult < 0.5) {\r\n              mult *= 2;\r\n            } else {\r\n              mult = 1 - 2 * (mult - 0.5);\r\n            }\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 5) {\r\n          if (e === s) {\r\n            mult = 0;\r\n          } else {\r\n            var tot = e - s;\r\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n\r\n            ind = min(max(0, ind + 0.5 - s), e - s);\r\n            var x = -tot / 2 + ind;\r\n            var a = tot / 2;\r\n            mult = Math.sqrt(1 - x * x / (a * a));\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else if (type === 6) {\r\n          if (e === s) {\r\n            mult = 0;\r\n          } else {\r\n            ind = min(max(0, ind + 0.5 - s), e - s);\r\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } else {\r\n          if (ind >= floor(s)) {\r\n            if (ind - s < 0) {\r\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n            } else {\r\n              mult = max(0, min(e - ind, 1));\r\n            }\r\n          }\r\n\r\n          mult = easer(mult);\r\n        } // Smoothness implementation.\r\n        // The smoothness represents a reduced range of the original [0; 1] range.\r\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\r\n        // Steps are:\r\n        // - find the lower value of the new range (threshold)\r\n        // - if multiplier is smaller than that value, floor it to 0\r\n        // - if it is larger,\r\n        //     - subtract the threshold\r\n        //     - divide it by the smoothness (this will return the range to [0; 1])\r\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\r\n\r\n\r\n        if (this.sm.v !== 100) {\r\n          var smoothness = this.sm.v * 0.01;\r\n\r\n          if (smoothness === 0) {\r\n            smoothness = 0.00000001;\r\n          }\r\n\r\n          var threshold = 0.5 - smoothness * 0.5;\r\n\r\n          if (mult < threshold) {\r\n            mult = 0;\r\n          } else {\r\n            mult = (mult - threshold) / smoothness;\r\n\r\n            if (mult > 1) {\r\n              mult = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        return mult * this.a.v;\r\n      },\r\n      getValue: function getValue(newCharsFlag) {\r\n        this.iterateDynamicProperties();\r\n        this._mdf = newCharsFlag || this._mdf;\r\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n\r\n        if (newCharsFlag && this.data.r === 2) {\r\n          this.e.v = this._currentTextLength;\r\n        }\r\n\r\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n        var o = this.o.v / divisor;\r\n        var s = this.s.v / divisor + o;\r\n        var e = this.e.v / divisor + o;\r\n\r\n        if (s > e) {\r\n          var _s = s;\r\n          s = e;\r\n          e = _s;\r\n        }\r\n\r\n        this.finalS = s;\r\n        this.finalE = e;\r\n      }\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n    function getTextSelectorProp(elem, data, arr) {\r\n      return new TextSelectorPropFactory(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n      getTextSelectorProp: getTextSelectorProp\r\n    };\r\n  }();\r\n\r\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\r\n    var defaultData = {\r\n      propType: false\r\n    };\r\n    var getProp = PropertyFactory.getProp;\r\n    var textAnimatorAnimatables = animatorProps.a;\r\n    this.a = {\r\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\r\n    };\r\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n    this.s.t = animatorProps.s.t;\r\n  }\r\n\r\n  function TextAnimatorProperty(textData, renderType, elem) {\r\n    this._isFirstFrame = true;\r\n    this._hasMaskedPath = false;\r\n    this._frameId = -1;\r\n    this._textData = textData;\r\n    this._renderType = renderType;\r\n    this._elem = elem;\r\n    this._animatorsData = createSizedArray(this._textData.a.length);\r\n    this._pathData = {};\r\n    this._moreOptions = {\r\n      alignment: {}\r\n    };\r\n    this.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n    this.initDynamicPropertyContainer(elem);\r\n  }\r\n\r\n  TextAnimatorProperty.prototype.searchProperties = function () {\r\n    var i;\r\n    var len = this._textData.a.length;\r\n    var animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      animatorProps = this._textData.a[i];\r\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n    }\r\n\r\n    if (this._textData.p && 'm' in this._textData.p) {\r\n      this._pathData = {\r\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\r\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\r\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\r\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n      };\r\n      this._hasMaskedPath = true;\r\n    } else {\r\n      this._hasMaskedPath = false;\r\n    }\r\n\r\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n  };\r\n\r\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n\r\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n      return;\r\n    }\r\n\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var xPos;\r\n    var yPos;\r\n    var i;\r\n    var len;\r\n    var letters = documentData.l;\r\n    var pathInfo;\r\n    var currentLength;\r\n    var currentPoint;\r\n    var segmentLength;\r\n    var flag;\r\n    var pointInd;\r\n    var segmentInd;\r\n    var prevPoint;\r\n    var points;\r\n    var segments;\r\n    var partialLength;\r\n    var totalLength;\r\n    var perc;\r\n    var tanAngle;\r\n    var mask;\r\n\r\n    if (this._hasMaskedPath) {\r\n      mask = this._pathData.m;\r\n\r\n      if (!this._pathData.n || this._pathData._mdf) {\r\n        var paths = mask.v;\r\n\r\n        if (this._pathData.r.v) {\r\n          paths = paths.reverse();\r\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n\r\n\r\n        pathInfo = {\r\n          tLength: 0,\r\n          segments: []\r\n        };\r\n        len = paths._length - 1;\r\n        var bezierData;\r\n        totalLength = 0;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n          pathInfo.tLength += bezierData.segmentLength;\r\n          pathInfo.segments.push(bezierData);\r\n          totalLength += bezierData.segmentLength;\r\n        }\r\n\r\n        i = len;\r\n\r\n        if (mask.v.c) {\r\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n          pathInfo.tLength += bezierData.segmentLength;\r\n          pathInfo.segments.push(bezierData);\r\n          totalLength += bezierData.segmentLength;\r\n        }\r\n\r\n        this._pathData.pi = pathInfo;\r\n      }\r\n\r\n      pathInfo = this._pathData.pi;\r\n      currentLength = this._pathData.f.v;\r\n      segmentInd = 0;\r\n      pointInd = 1;\r\n      segmentLength = 0;\r\n      flag = true;\r\n      segments = pathInfo.segments;\r\n\r\n      if (currentLength < 0 && mask.v.c) {\r\n        if (pathInfo.tLength < Math.abs(currentLength)) {\r\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n        }\r\n\r\n        segmentInd = segments.length - 1;\r\n        points = segments[segmentInd].points;\r\n        pointInd = points.length - 1;\r\n\r\n        while (currentLength < 0) {\r\n          currentLength += points[pointInd].partialLength;\r\n          pointInd -= 1;\r\n\r\n          if (pointInd < 0) {\r\n            segmentInd -= 1;\r\n            points = segments[segmentInd].points;\r\n            pointInd = points.length - 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      points = segments[segmentInd].points;\r\n      prevPoint = points[pointInd - 1];\r\n      currentPoint = points[pointInd];\r\n      partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps;\r\n    var animatorSelector;\r\n    var j;\r\n    var jLen;\r\n    var letterValue;\r\n    jLen = animators.length;\r\n    var mult;\r\n    var ind = -1;\r\n    var offf;\r\n    var xPathPos;\r\n    var yPathPos;\r\n    var initPathPos = currentLength;\r\n    var initSegmentInd = segmentInd;\r\n    var initPointInd = pointInd;\r\n    var currentLine = -1;\r\n    var elemOpacity;\r\n    var sc;\r\n    var sw;\r\n    var fc;\r\n    var k;\r\n    var letterSw;\r\n    var letterSc;\r\n    var letterFc;\r\n    var letterM = '';\r\n    var letterP = this.defaultPropsArray;\r\n    var letterO; //\r\n\r\n    if (documentData.j === 2 || documentData.j === 1) {\r\n      var animatorJustifyOffset = 0;\r\n      var animatorFirstCharOffset = 0;\r\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n      var lastIndex = 0;\r\n      var isNewLine = true;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (letters[i].n) {\r\n          if (animatorJustifyOffset) {\r\n            animatorJustifyOffset += animatorFirstCharOffset;\r\n          }\r\n\r\n          while (lastIndex < i) {\r\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n            lastIndex += 1;\r\n          }\r\n\r\n          animatorJustifyOffset = 0;\r\n          isNewLine = true;\r\n        } else {\r\n          for (j = 0; j < jLen; j += 1) {\r\n            animatorProps = animators[j].a;\r\n\r\n            if (animatorProps.t.propType) {\r\n              if (isNewLine && documentData.j === 2) {\r\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n              }\r\n\r\n              animatorSelector = animators[j].s;\r\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n              if (mult.length) {\r\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n              } else {\r\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n              }\r\n            }\r\n          }\r\n\r\n          isNewLine = false;\r\n        }\r\n      }\r\n\r\n      if (animatorJustifyOffset) {\r\n        animatorJustifyOffset += animatorFirstCharOffset;\r\n      }\r\n\r\n      while (lastIndex < i) {\r\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n        lastIndex += 1;\r\n      }\r\n    } //\r\n\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      matrixHelper.reset();\r\n      elemOpacity = 1;\r\n\r\n      if (letters[i].n) {\r\n        xPos = 0;\r\n        yPos += documentData.yOffset;\r\n        yPos += firstLine ? 1 : 0;\r\n        currentLength = initPathPos;\r\n        firstLine = false;\r\n\r\n        if (this._hasMaskedPath) {\r\n          segmentInd = initSegmentInd;\r\n          pointInd = initPointInd;\r\n          points = segments[segmentInd].points;\r\n          prevPoint = points[pointInd - 1];\r\n          currentPoint = points[pointInd];\r\n          partialLength = currentPoint.partialLength;\r\n          segmentLength = 0;\r\n        }\r\n\r\n        letterM = '';\r\n        letterFc = '';\r\n        letterSw = '';\r\n        letterO = '';\r\n        letterP = this.defaultPropsArray;\r\n      } else {\r\n        if (this._hasMaskedPath) {\r\n          if (currentLine !== letters[i].line) {\r\n            switch (documentData.j) {\r\n              case 1:\r\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                break;\r\n\r\n              case 2:\r\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n                break;\r\n\r\n              default:\r\n                break;\r\n            }\r\n\r\n            currentLine = letters[i].line;\r\n          }\r\n\r\n          if (ind !== letters[i].ind) {\r\n            if (letters[ind]) {\r\n              currentLength += letters[ind].extra;\r\n            }\r\n\r\n            currentLength += letters[i].an / 2;\r\n            ind = letters[i].ind;\r\n          }\r\n\r\n          currentLength += alignment[0] * letters[i].an * 0.005;\r\n          var animatorOffset = 0;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            animatorProps = animators[j].a;\r\n\r\n            if (animatorProps.p.propType) {\r\n              animatorSelector = animators[j].s;\r\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n              if (mult.length) {\r\n                animatorOffset += animatorProps.p.v[0] * mult[0];\r\n              } else {\r\n                animatorOffset += animatorProps.p.v[0] * mult;\r\n              }\r\n            }\r\n\r\n            if (animatorProps.a.propType) {\r\n              animatorSelector = animators[j].s;\r\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n              if (mult.length) {\r\n                animatorOffset += animatorProps.a.v[0] * mult[0];\r\n              } else {\r\n                animatorOffset += animatorProps.a.v[0] * mult;\r\n              }\r\n            }\r\n          }\r\n\r\n          flag = true; // Force alignment only works with a single line for now\r\n\r\n          if (this._pathData.a.v) {\r\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\r\n            currentLength += this._pathData.f.v;\r\n          }\r\n\r\n          while (flag) {\r\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\r\n              flag = false;\r\n            } else if (points) {\r\n              segmentLength += currentPoint.partialLength;\r\n              pointInd += 1;\r\n\r\n              if (pointInd >= points.length) {\r\n                pointInd = 0;\r\n                segmentInd += 1;\r\n\r\n                if (!segments[segmentInd]) {\r\n                  if (mask.v.c) {\r\n                    pointInd = 0;\r\n                    segmentInd = 0;\r\n                    points = segments[segmentInd].points;\r\n                  } else {\r\n                    segmentLength -= currentPoint.partialLength;\r\n                    points = null;\r\n                  }\r\n                } else {\r\n                  points = segments[segmentInd].points;\r\n                }\r\n              }\r\n\r\n              if (points) {\r\n                prevPoint = currentPoint;\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n              }\r\n            }\r\n          }\r\n\r\n          offf = letters[i].an / 2 - letters[i].add;\r\n          matrixHelper.translate(-offf, 0, 0);\r\n        } else {\r\n          offf = letters[i].an / 2 - letters[i].add;\r\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\r\n\r\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.t.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n\r\n            if (xPos !== 0 || documentData.j !== 0) {\r\n              if (this._hasMaskedPath) {\r\n                if (mult.length) {\r\n                  currentLength += animatorProps.t.v * mult[0];\r\n                } else {\r\n                  currentLength += animatorProps.t.v * mult;\r\n                }\r\n              } else if (mult.length) {\r\n                xPos += animatorProps.t.v * mult[0];\r\n              } else {\r\n                xPos += animatorProps.t.v * mult;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if (documentData.strokeWidthAnim) {\r\n          sw = documentData.sw || 0;\r\n        }\r\n\r\n        if (documentData.strokeColorAnim) {\r\n          if (documentData.sc) {\r\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n          } else {\r\n            sc = [0, 0, 0];\r\n          }\r\n        }\r\n\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n            if (mult.length) {\r\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n            } else {\r\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n            }\r\n          }\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.s.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n            if (mult.length) {\r\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\r\n            } else {\r\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\r\n            }\r\n          }\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (animatorProps.sk.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n            } else {\r\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.r.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n            } else {\r\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.ry.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n            } else {\r\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.rx.propType) {\r\n            if (mult.length) {\r\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n            } else {\r\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n            }\r\n          }\r\n\r\n          if (animatorProps.o.propType) {\r\n            if (mult.length) {\r\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\r\n            } else {\r\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\r\n            }\r\n          }\r\n\r\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n            if (mult.length) {\r\n              sw += animatorProps.sw.v * mult[0];\r\n            } else {\r\n              sw += animatorProps.sw.v * mult;\r\n            }\r\n          }\r\n\r\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n              } else {\r\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n\r\n          if (documentData.fillColorAnim && documentData.fc) {\r\n            if (animatorProps.fc.propType) {\r\n              for (k = 0; k < 3; k += 1) {\r\n                if (mult.length) {\r\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n                } else {\r\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n                }\r\n              }\r\n            }\r\n\r\n            if (animatorProps.fh.propType) {\r\n              if (mult.length) {\r\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n              } else {\r\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n              }\r\n            }\r\n\r\n            if (animatorProps.fs.propType) {\r\n              if (mult.length) {\r\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n              } else {\r\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n              }\r\n            }\r\n\r\n            if (animatorProps.fb.propType) {\r\n              if (mult.length) {\r\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n              } else {\r\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n              } else {\r\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n              }\r\n            } else if (mult.length) {\r\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n            } else {\r\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (documentData.strokeWidthAnim) {\r\n          letterSw = sw < 0 ? 0 : sw;\r\n        }\r\n\r\n        if (documentData.strokeColorAnim) {\r\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n        }\r\n\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n        }\r\n\r\n        if (this._hasMaskedPath) {\r\n          matrixHelper.translate(0, -documentData.ls);\r\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\r\n\r\n          if (this._pathData.p.v) {\r\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n\r\n            if (currentPoint.point[0] < prevPoint.point[0]) {\r\n              rot += 180;\r\n            }\r\n\r\n            matrixHelper.rotate(-rot * Math.PI / 180);\r\n          }\r\n\r\n          matrixHelper.translate(xPathPos, yPathPos, 0);\r\n          currentLength -= alignment[0] * letters[i].an * 0.005;\r\n\r\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n            currentLength += letters[i].an / 2;\r\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\r\n          }\r\n        } else {\r\n          matrixHelper.translate(xPos, yPos, 0);\r\n\r\n          if (documentData.ps) {\r\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n          }\r\n\r\n          switch (documentData.j) {\r\n            case 1:\r\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n              break;\r\n\r\n            case 2:\r\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n\r\n          matrixHelper.translate(0, -documentData.ls);\r\n          matrixHelper.translate(offf, 0, 0);\r\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\r\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\r\n        }\r\n\r\n        if (renderType === 'html') {\r\n          letterM = matrixHelper.toCSS();\r\n        } else if (renderType === 'svg') {\r\n          letterM = matrixHelper.to2dCSS();\r\n        } else {\r\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n        }\r\n\r\n        letterO = elemOpacity;\r\n      }\r\n\r\n      if (renderedLettersCount <= i) {\r\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n        this.renderedLetters.push(letterValue);\r\n        renderedLettersCount += 1;\r\n        this.lettersChangedFlag = true;\r\n      } else {\r\n        letterValue = this.renderedLetters[i];\r\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n      }\r\n    }\r\n  };\r\n\r\n  TextAnimatorProperty.prototype.getValue = function () {\r\n    if (this._elem.globalData.frameId === this._frameId) {\r\n      return;\r\n    }\r\n\r\n    this._frameId = this._elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n  };\r\n\r\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\r\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\r\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n  function ITextElement() {}\r\n\r\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n  };\r\n\r\n  ITextElement.prototype.prepareFrame = function (num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n\r\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n      this.buildNewText();\r\n      this.textProperty._isFirstFrame = false;\r\n      this.textProperty._mdf = false;\r\n    }\r\n  };\r\n\r\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n    var j;\r\n    var jLen = shapes.length;\r\n    var pathNodes;\r\n    var shapeStr = '';\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      if (shapes[j].ty === 'sh') {\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n      }\r\n    }\r\n\r\n    return shapeStr;\r\n  };\r\n\r\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n  };\r\n\r\n  ITextElement.prototype.canResizeFont = function (_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n  };\r\n\r\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n  };\r\n\r\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if (documentData.ps) {\r\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n    }\r\n\r\n    matrixHelper.translate(0, -documentData.ls, 0);\r\n\r\n    switch (documentData.j) {\r\n      case 1:\r\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n        break;\r\n\r\n      case 2:\r\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n  };\r\n\r\n  ITextElement.prototype.buildColor = function (colorData) {\r\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n  };\r\n\r\n  ITextElement.prototype.emptyProp = new LetterProps();\r\n\r\n  ITextElement.prototype.destroy = function () {};\r\n\r\n  var emptyShapeData = {\r\n    shapes: []\r\n  };\r\n\r\n  function SVGTextLottieElement(data, globalData, comp) {\r\n    this.textSpans = [];\r\n    this.renderType = 'svg';\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\n  SVGTextLottieElement.prototype.createContent = function () {\r\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n      this.textContainer = createNS('text');\r\n    }\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n    var i = 0;\r\n    var len = textArray.length;\r\n    var textContents = [];\r\n    var currentTextContent = '';\r\n\r\n    while (i < len) {\r\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n        textContents.push(currentTextContent);\r\n        currentTextContent = '';\r\n      } else {\r\n        currentTextContent += textArray[i];\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    textContents.push(currentTextContent);\r\n    return textContents;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\r\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\r\n    // but since text internal content gets only rendered once and then it's never rerendered,\r\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\r\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\r\n    if (data.shapes && data.shapes.length) {\r\n      var shape = data.shapes[0];\r\n\r\n      if (shape.it) {\r\n        var shapeItem = shape.it[shape.it.length - 1];\r\n\r\n        if (shapeItem.s) {\r\n          shapeItem.s.k[0] = scale;\r\n          shapeItem.s.k[1] = scale;\r\n        }\r\n      }\r\n    }\r\n\r\n    return data;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.buildNewText = function () {\r\n    this.addDynamicProperty(this);\r\n    var i;\r\n    var len;\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n\r\n    if (documentData.fc) {\r\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n    } else {\r\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n    }\r\n\r\n    if (documentData.sc) {\r\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n    }\r\n\r\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n\r\n    if (fontData.fClass) {\r\n      this.layerElement.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      this.layerElement.setAttribute('font-style', fStyle);\r\n      this.layerElement.setAttribute('font-weight', fWeight);\r\n    }\r\n\r\n    this.layerElement.setAttribute('aria-label', documentData.t);\r\n    var letters = documentData.l || [];\r\n    var usesGlyphs = !!this.globalData.fontManager.chars;\r\n    len = letters.length;\r\n    var tSpan;\r\n    var matrixHelper = this.mHelper;\r\n    var shapeStr = '';\r\n    var singleShape = this.data.singleShape;\r\n    var xPos = 0;\r\n    var yPos = 0;\r\n    var firstLine = true;\r\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n\r\n    if (singleShape && !usesGlyphs && !documentData.sz) {\r\n      var tElement = this.textContainer;\r\n      var justify = 'start';\r\n\r\n      switch (documentData.j) {\r\n        case 1:\r\n          justify = 'end';\r\n          break;\r\n\r\n        case 2:\r\n          justify = 'middle';\r\n          break;\r\n\r\n        default:\r\n          justify = 'start';\r\n          break;\r\n      }\r\n\r\n      tElement.setAttribute('text-anchor', justify);\r\n      tElement.setAttribute('letter-spacing', trackingOffset);\r\n      var textContent = this.buildTextContents(documentData.finalText);\r\n      len = textContent.length;\r\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        tSpan = this.textSpans[i].span || createNS('tspan');\r\n        tSpan.textContent = textContent[i];\r\n        tSpan.setAttribute('x', 0);\r\n        tSpan.setAttribute('y', yPos);\r\n        tSpan.style.display = 'inherit';\r\n        tElement.appendChild(tSpan);\r\n\r\n        if (!this.textSpans[i]) {\r\n          this.textSpans[i] = {\r\n            span: null,\r\n            glyph: null\r\n          };\r\n        }\r\n\r\n        this.textSpans[i].span = tSpan;\r\n        yPos += documentData.finalLineHeight;\r\n      }\r\n\r\n      this.layerElement.appendChild(tElement);\r\n    } else {\r\n      var cachedSpansLength = this.textSpans.length;\r\n      var charData;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!this.textSpans[i]) {\r\n          this.textSpans[i] = {\r\n            span: null,\r\n            childSpan: null,\r\n            glyph: null\r\n          };\r\n        }\r\n\r\n        if (!usesGlyphs || !singleShape || i === 0) {\r\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\r\n\r\n          if (cachedSpansLength <= i) {\r\n            tSpan.setAttribute('stroke-linecap', 'butt');\r\n            tSpan.setAttribute('stroke-linejoin', 'round');\r\n            tSpan.setAttribute('stroke-miterlimit', '4');\r\n            this.textSpans[i].span = tSpan;\r\n\r\n            if (usesGlyphs) {\r\n              var childSpan = createNS('g');\r\n              tSpan.appendChild(childSpan);\r\n              this.textSpans[i].childSpan = childSpan;\r\n            }\r\n\r\n            this.textSpans[i].span = tSpan;\r\n            this.layerElement.appendChild(tSpan);\r\n          }\r\n\r\n          tSpan.style.display = 'inherit';\r\n        }\r\n\r\n        matrixHelper.reset();\r\n\r\n        if (singleShape) {\r\n          if (letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n          }\r\n\r\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n\r\n          xPos += trackingOffset;\r\n        }\r\n\r\n        if (usesGlyphs) {\r\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\r\n\r\n          if (charData.t === 1) {\r\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\r\n          } else {\r\n            var data = emptyShapeData;\r\n\r\n            if (charData.data && charData.data.shapes) {\r\n              data = this.buildShapeData(charData.data, documentData.finalSize);\r\n            }\r\n\r\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\r\n          }\r\n\r\n          if (this.textSpans[i].glyph) {\r\n            var glyph = this.textSpans[i].glyph;\r\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\r\n            glyph.destroy();\r\n          }\r\n\r\n          this.textSpans[i].glyph = glyphElement;\r\n          glyphElement._debug = true;\r\n          glyphElement.prepareFrame(0);\r\n          glyphElement.renderFrame();\r\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\r\n          // this might have issues with strokes and might need a different solution\r\n\r\n          if (charData.t === 1) {\r\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\r\n          }\r\n        } else {\r\n          if (singleShape) {\r\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n          }\r\n\r\n          tSpan.textContent = letters[i].val;\r\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n        } //\r\n\r\n      }\r\n\r\n      if (singleShape && tSpan) {\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n    }\r\n\r\n    while (i < this.textSpans.length) {\r\n      this.textSpans[i].span.style.display = 'none';\r\n      i += 1;\r\n    }\r\n\r\n    this._sizeChanged = true;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n    this.renderInnerContent();\r\n\r\n    if (this._sizeChanged) {\r\n      this._sizeChanged = false;\r\n      var textBox = this.layerElement.getBBox();\r\n      this.bbox = {\r\n        top: textBox.y,\r\n        left: textBox.x,\r\n        width: textBox.width,\r\n        height: textBox.height\r\n      };\r\n    }\r\n\r\n    return this.bbox;\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.getValue = function () {\r\n    var i;\r\n    var len = this.textSpans.length;\r\n    var glyphElement;\r\n    this.renderedFrame = this.comp.renderedFrame;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      glyphElement = this.textSpans[i].glyph;\r\n\r\n      if (glyphElement) {\r\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n\r\n        if (glyphElement._mdf) {\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\r\n    if (!this.data.singleShape || this._mdf) {\r\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n\r\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n        this._sizeChanged = true;\r\n        var i;\r\n        var len;\r\n        var renderedLetters = this.textAnimator.renderedLetters;\r\n        var letters = this.textProperty.currentData.l;\r\n        len = letters.length;\r\n        var renderedLetter;\r\n        var textSpan;\r\n        var glyphElement;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          if (!letters[i].n) {\r\n            renderedLetter = renderedLetters[i];\r\n            textSpan = this.textSpans[i].span;\r\n            glyphElement = this.textSpans[i].glyph;\r\n\r\n            if (glyphElement) {\r\n              glyphElement.renderFrame();\r\n            }\r\n\r\n            if (renderedLetter._mdf.m) {\r\n              textSpan.setAttribute('transform', renderedLetter.m);\r\n            }\r\n\r\n            if (renderedLetter._mdf.o) {\r\n              textSpan.setAttribute('opacity', renderedLetter.o);\r\n            }\r\n\r\n            if (renderedLetter._mdf.sw) {\r\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n            }\r\n\r\n            if (renderedLetter._mdf.sc) {\r\n              textSpan.setAttribute('stroke', renderedLetter.sc);\r\n            }\r\n\r\n            if (renderedLetter._mdf.fc) {\r\n              textSpan.setAttribute('fill', renderedLetter.fc);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  function ISolidElement(data, globalData, comp) {\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([IImageElement], ISolidElement);\r\n\r\n  ISolidElement.prototype.createContent = function () {\r\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\r\n    /// /rect.style.height = this.data.sh;\r\n    /// /rect.style.fill = this.data.sc;\r\n\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n  };\r\n\r\n  function NullElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n  }\r\n\r\n  NullElement.prototype.prepareFrame = function (num) {\r\n    this.prepareProperties(num, true);\r\n  };\r\n\r\n  NullElement.prototype.renderFrame = function () {};\r\n\r\n  NullElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  NullElement.prototype.destroy = function () {};\r\n\r\n  NullElement.prototype.sourceRectAtTime = function () {};\r\n\r\n  NullElement.prototype.hide = function () {};\r\n\r\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n  function SVGRendererBase() {}\r\n\r\n  extendPrototype([BaseRenderer], SVGRendererBase);\r\n\r\n  SVGRendererBase.prototype.createNull = function (data) {\r\n    return new NullElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createText = function (data) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createImage = function (data) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  };\r\n\r\n  SVGRendererBase.prototype.configAnimation = function (animData) {\r\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n    this.svgElement.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n\r\n    if (this.renderConfig.viewBoxSize) {\r\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n    } else {\r\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n    }\r\n\r\n    if (!this.renderConfig.viewBoxOnly) {\r\n      this.svgElement.setAttribute('width', animData.w);\r\n      this.svgElement.setAttribute('height', animData.h);\r\n      this.svgElement.style.width = '100%';\r\n      this.svgElement.style.height = '100%';\r\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\r\n    }\r\n\r\n    if (this.renderConfig.width) {\r\n      this.svgElement.setAttribute('width', this.renderConfig.width);\r\n    }\r\n\r\n    if (this.renderConfig.height) {\r\n      this.svgElement.setAttribute('height', this.renderConfig.height);\r\n    }\r\n\r\n    if (this.renderConfig.className) {\r\n      this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n\r\n    if (this.renderConfig.id) {\r\n      this.svgElement.setAttribute('id', this.renderConfig.id);\r\n    }\r\n\r\n    if (this.renderConfig.focusable !== undefined) {\r\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n    }\r\n\r\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n\r\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\r\n\r\n    var defs = this.globalData.defs;\r\n    this.setupGlobalData(animData, defs);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.data = animData;\r\n    var maskElement = createNS('clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width', animData.w);\r\n    rect.setAttribute('height', animData.h);\r\n    rect.setAttribute('x', 0);\r\n    rect.setAttribute('y', 0);\r\n    var maskId = createElementID();\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n  };\r\n\r\n  SVGRendererBase.prototype.destroy = function () {\r\n    if (this.animationItem.wrapper) {\r\n      this.animationItem.wrapper.innerText = '';\r\n    }\r\n\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i;\r\n    var len = this.layers ? this.layers.length : 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.elements[i]) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n  };\r\n\r\n  SVGRendererBase.prototype.updateContainerSize = function () {};\r\n\r\n  SVGRendererBase.prototype.findIndexByInd = function (ind) {\r\n    var i = 0;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.layers[i].ind === ind) {\r\n        return i;\r\n      }\r\n    }\r\n\r\n    return -1;\r\n  };\r\n\r\n  SVGRendererBase.prototype.buildItem = function (pos) {\r\n    var elements = this.elements;\r\n\r\n    if (elements[pos] || this.layers[pos].ty === 99) {\r\n      return;\r\n    }\r\n\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n    elements[pos] = element;\r\n\r\n    if (getExpressionsPlugin()) {\r\n      if (this.layers[pos].ty === 0) {\r\n        this.globalData.projectInterface.registerComposition(element);\r\n      }\r\n\r\n      element.initExpressions();\r\n    }\r\n\r\n    this.appendElementInPos(element, pos);\r\n\r\n    if (this.layers[pos].tt) {\r\n      var elementIndex = 'tp' in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;\r\n\r\n      if (elementIndex === -1) {\r\n        return;\r\n      }\r\n\r\n      if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {\r\n        this.buildItem(elementIndex);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        var matteElement = elements[elementIndex];\r\n        var matteMask = matteElement.getMatte(this.layers[pos].tt);\r\n        element.setMatte(matteMask);\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.checkPendingElements = function () {\r\n    while (this.pendingElements.length) {\r\n      var element = this.pendingElements.pop();\r\n      element.checkParenting();\r\n\r\n      if (element.data.tt) {\r\n        var i = 0;\r\n        var len = this.elements.length;\r\n\r\n        while (i < len) {\r\n          if (this.elements[i] === element) {\r\n            var elementIndex = 'tp' in element.data ? this.findIndexByInd(element.data.tp) : i - 1;\r\n            var matteElement = this.elements[elementIndex];\r\n            var matteMask = matteElement.getMatte(this.layers[i].tt);\r\n            element.setMatte(matteMask);\r\n            break;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.renderFrame = function (num) {\r\n    if (this.renderedFrame === num || this.destroyed) {\r\n      return;\r\n    }\r\n\r\n    if (num === null) {\r\n      num = this.renderedFrame;\r\n    } else {\r\n      this.renderedFrame = num;\r\n    } // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n\r\n\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    if (!this.completeLayers) {\r\n      this.checkLayers(num);\r\n    }\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].prepareFrame(num - this.layers[i].st);\r\n      }\r\n    }\r\n\r\n    if (this.globalData._mdf) {\r\n      for (i = 0; i < len; i += 1) {\r\n        if (this.completeLayers || this.elements[i]) {\r\n          this.elements[i].renderFrame();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\r\n    var newElement = element.getBaseElement();\r\n\r\n    if (!newElement) {\r\n      return;\r\n    }\r\n\r\n    var i = 0;\r\n    var nextElement;\r\n\r\n    while (i < pos) {\r\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n        nextElement = this.elements[i].getBaseElement();\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    if (nextElement) {\r\n      this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n      this.layerElement.appendChild(newElement);\r\n    }\r\n  };\r\n\r\n  SVGRendererBase.prototype.hide = function () {\r\n    this.layerElement.style.display = 'none';\r\n  };\r\n\r\n  SVGRendererBase.prototype.show = function () {\r\n    this.layerElement.style.display = 'block';\r\n  };\r\n\r\n  function ICompElement() {}\r\n\r\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n\r\n    if (this.data.xt || !globalData.progressiveLoad) {\r\n      this.buildAllItems();\r\n    }\r\n\r\n    this.hide();\r\n  };\r\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\r\n\r\n\r\n  ICompElement.prototype.prepareFrame = function (num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n\r\n    if (!this.isInRange && !this.data.xt) {\r\n      return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n      var timeRemapped = this.tm.v;\r\n\r\n      if (timeRemapped === this.data.op) {\r\n        timeRemapped = this.data.op - 1;\r\n      }\r\n\r\n      this.renderedFrame = timeRemapped;\r\n    } else {\r\n      this.renderedFrame = num / this.data.sr;\r\n    }\r\n\r\n    var i;\r\n    var len = this.elements.length;\r\n\r\n    if (!this.completeLayers) {\r\n      this.checkLayers(this.renderedFrame);\r\n    } // This iteration needs to be backwards because of how expressions connect between each other\r\n\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n\r\n        if (this.elements[i]._mdf) {\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  ICompElement.prototype.renderInnerContent = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  };\r\n\r\n  ICompElement.prototype.setElements = function (elems) {\r\n    this.elements = elems;\r\n  };\r\n\r\n  ICompElement.prototype.getElements = function () {\r\n    return this.elements;\r\n  };\r\n\r\n  ICompElement.prototype.destroyElements = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.elements[i]) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n  };\r\n\r\n  ICompElement.prototype.destroy = function () {\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n  };\r\n\r\n  function SVGCompElement(data, globalData, comp) {\r\n    this.layers = data.layers;\r\n    this.supports3d = true;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n  }\r\n\r\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n  SVGCompElement.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function SVGRenderer(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var ariaLabel = '';\r\n\r\n    if (config && config.title) {\r\n      var titleElement = createNS('title');\r\n      var titleId = createElementID();\r\n      titleElement.setAttribute('id', titleId);\r\n      titleElement.textContent = config.title;\r\n      this.svgElement.appendChild(titleElement);\r\n      ariaLabel += titleId;\r\n    }\r\n\r\n    if (config && config.description) {\r\n      var descElement = createNS('desc');\r\n      var descId = createElementID();\r\n      descElement.setAttribute('id', descId);\r\n      descElement.textContent = config.description;\r\n      this.svgElement.appendChild(descElement);\r\n      ariaLabel += ' ' + descId;\r\n    }\r\n\r\n    if (ariaLabel) {\r\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n    }\r\n\r\n    var defs = createNS('defs');\r\n    this.svgElement.appendChild(defs);\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    this.renderConfig = {\r\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      contentVisibility: config && config.contentVisibility || 'visible',\r\n      progressiveLoad: config && config.progressiveLoad || false,\r\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n      viewBoxOnly: config && config.viewBoxOnly || false,\r\n      viewBoxSize: config && config.viewBoxSize || false,\r\n      className: config && config.className || '',\r\n      id: config && config.id || '',\r\n      focusable: config && config.focusable,\r\n      filterSize: {\r\n        width: config && config.filterSize && config.filterSize.width || '100%',\r\n        height: config && config.filterSize && config.filterSize.height || '100%',\r\n        x: config && config.filterSize && config.filterSize.x || '0%',\r\n        y: config && config.filterSize && config.filterSize.y || '0%'\r\n      },\r\n      width: config && config.width,\r\n      height: config && config.height,\r\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\r\n    };\r\n    this.globalData = {\r\n      _mdf: false,\r\n      frameNum: -1,\r\n      defs: defs,\r\n      renderConfig: this.renderConfig\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n    this.rendererType = 'svg';\r\n  }\r\n\r\n  extendPrototype([SVGRendererBase], SVGRenderer);\r\n\r\n  SVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function CVContextData() {\r\n    this.saved = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    this.cO = 1;\r\n    var i;\r\n    var len = 15;\r\n    this.savedOp = createTypedArray('float32', len);\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n\r\n    this._length = len;\r\n  }\r\n\r\n  CVContextData.prototype.duplicate = function () {\r\n    var newLength = this._length * 2;\r\n    var currentSavedOp = this.savedOp;\r\n    this.savedOp = createTypedArray('float32', newLength);\r\n    this.savedOp.set(currentSavedOp);\r\n    var i = 0;\r\n\r\n    for (i = this._length; i < newLength; i += 1) {\r\n      this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n\r\n    this._length = newLength;\r\n  };\r\n\r\n  CVContextData.prototype.reset = function () {\r\n    this.cArrPos = 0;\r\n    this.cTr.reset();\r\n    this.cO = 1;\r\n  };\r\n\r\n  function ShapeTransformManager() {\r\n    this.sequences = {};\r\n    this.sequenceList = [];\r\n    this.transform_key_count = 0;\r\n  }\r\n\r\n  ShapeTransformManager.prototype = {\r\n    addTransformSequence: function addTransformSequence(transforms) {\r\n      var i;\r\n      var len = transforms.length;\r\n      var key = '_';\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        key += transforms[i].transform.key + '_';\r\n      }\r\n\r\n      var sequence = this.sequences[key];\r\n\r\n      if (!sequence) {\r\n        sequence = {\r\n          transforms: [].concat(transforms),\r\n          finalTransform: new Matrix(),\r\n          _mdf: false\r\n        };\r\n        this.sequences[key] = sequence;\r\n        this.sequenceList.push(sequence);\r\n      }\r\n\r\n      return sequence;\r\n    },\r\n    processSequence: function processSequence(sequence, isFirstFrame) {\r\n      var i = 0;\r\n      var len = sequence.transforms.length;\r\n      var _mdf = isFirstFrame;\r\n\r\n      while (i < len && !isFirstFrame) {\r\n        if (sequence.transforms[i].transform.mProps._mdf) {\r\n          _mdf = true;\r\n          break;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      if (_mdf) {\r\n        var props;\r\n        sequence.finalTransform.reset();\r\n\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n          props = sequence.transforms[i].transform.mProps.v.props;\r\n          sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n        }\r\n      }\r\n\r\n      sequence._mdf = _mdf;\r\n    },\r\n    processSequences: function processSequences(isFirstFrame) {\r\n      var i;\r\n      var len = this.sequenceList.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.processSequence(this.sequenceList[i], isFirstFrame);\r\n      }\r\n    },\r\n    getNewKey: function getNewKey() {\r\n      this.transform_key_count += 1;\r\n      return '_' + this.transform_key_count;\r\n    }\r\n  };\r\n\r\n  function CVEffects() {}\r\n\r\n  CVEffects.prototype.renderFrame = function () {};\r\n\r\n  function CVMaskElement(data, element) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i;\r\n    var len = this.masksProperties.length;\r\n    var hasMasks = false;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.masksProperties[i].mode !== 'n') {\r\n        hasMasks = true;\r\n      }\r\n\r\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n    }\r\n\r\n    this.hasMasks = hasMasks;\r\n\r\n    if (hasMasks) {\r\n      this.element.addRenderableComponent(this);\r\n    }\r\n  }\r\n\r\n  CVMaskElement.prototype.renderFrame = function () {\r\n    if (!this.hasMasks) {\r\n      return;\r\n    }\r\n\r\n    var transform = this.element.finalTransform.mat;\r\n    var ctx = this.element.canvasContext;\r\n    var i;\r\n    var len = this.masksProperties.length;\r\n    var pt;\r\n    var pts;\r\n    var data;\r\n    ctx.beginPath();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.masksProperties[i].mode !== 'n') {\r\n        if (this.masksProperties[i].inv) {\r\n          ctx.moveTo(0, 0);\r\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n          ctx.lineTo(0, this.element.globalData.compSize.h);\r\n          ctx.lineTo(0, 0);\r\n        }\r\n\r\n        data = this.viewData[i].v;\r\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n        ctx.moveTo(pt[0], pt[1]);\r\n        var j;\r\n        var jLen = data._length;\r\n\r\n        for (j = 1; j < jLen; j += 1) {\r\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n    }\r\n\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n  };\r\n\r\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\n  CVMaskElement.prototype.destroy = function () {\r\n    this.element = null;\r\n  };\r\n\r\n  function CVBaseElement() {}\r\n\r\n  CVBaseElement.prototype = {\r\n    createElements: function createElements() {},\r\n    initRendererElement: function initRendererElement() {},\r\n    createContainerElements: function createContainerElements() {\r\n      this.canvasContext = this.globalData.canvasContext;\r\n      this.renderableEffectsManager = new CVEffects(this);\r\n    },\r\n    createContent: function createContent() {},\r\n    setBlendMode: function setBlendMode() {\r\n      var globalData = this.globalData;\r\n\r\n      if (globalData.blendMode !== this.data.bm) {\r\n        globalData.blendMode = this.data.bm;\r\n        var blendModeValue = getBlendMode(this.data.bm);\r\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n      }\r\n    },\r\n    createRenderableComponents: function createRenderableComponents() {\r\n      this.maskManager = new CVMaskElement(this.data, this);\r\n    },\r\n    hideElement: function hideElement() {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    showElement: function showElement() {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n        this.maskManager._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function renderFrame() {\r\n      if (this.hidden || this.data.hd) {\r\n        return;\r\n      }\r\n\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.setBlendMode();\r\n      var forceRealStack = this.data.ty === 0;\r\n      this.globalData.renderer.save(forceRealStack);\r\n      this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n      this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n      this.renderInnerContent();\r\n      this.globalData.renderer.restore(forceRealStack);\r\n\r\n      if (this.maskManager.hasMasks) {\r\n        this.globalData.renderer.restore(true);\r\n      }\r\n\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    destroy: function destroy() {\r\n      this.canvasContext = null;\r\n      this.data = null;\r\n      this.globalData = null;\r\n      this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n  };\r\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n  function CVShapeData(element, data, styles, transformsManager) {\r\n    this.styledShapes = [];\r\n    this.tr = [0, 0, 0, 0, 0, 0];\r\n    var ty = 4;\r\n\r\n    if (data.ty === 'rc') {\r\n      ty = 5;\r\n    } else if (data.ty === 'el') {\r\n      ty = 6;\r\n    } else if (data.ty === 'sr') {\r\n      ty = 7;\r\n    }\r\n\r\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n    var i;\r\n    var len = styles.length;\r\n    var styledShape;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!styles[i].closed) {\r\n        styledShape = {\r\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n          trNodes: []\r\n        };\r\n        this.styledShapes.push(styledShape);\r\n        styles[i].elements.push(styledShape);\r\n      }\r\n    }\r\n  }\r\n\r\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n  function CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.transformsManager = new ShapeTransformManager();\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n  CVShapeElement.prototype.transformHelper = {\r\n    opacity: 1,\r\n    _opMdf: false\r\n  };\r\n  CVShapeElement.prototype.dashResetter = [];\r\n\r\n  CVShapeElement.prototype.createContent = function () {\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  };\r\n\r\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n    var styleElem = {\r\n      data: data,\r\n      type: data.ty,\r\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n      transforms: [],\r\n      elements: [],\r\n      closed: data.hd === true\r\n    };\r\n    var elementData = {};\r\n\r\n    if (data.ty === 'fl' || data.ty === 'st') {\r\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n\r\n      if (!elementData.c.k) {\r\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n      }\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n      elementData.h = PropertyFactory.getProp(this, data.h || {\r\n        k: 0\r\n      }, 0, 0.01, this);\r\n      elementData.a = PropertyFactory.getProp(this, data.a || {\r\n        k: 0\r\n      }, 0, degToRads, this);\r\n      elementData.g = new GradientProperty(this, data.g, this);\r\n    }\r\n\r\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n\r\n    if (data.ty === 'st' || data.ty === 'gs') {\r\n      styleElem.lc = lineCapEnum[data.lc || 2];\r\n      styleElem.lj = lineJoinEnum[data.lj || 2];\r\n\r\n      if (data.lj == 1) {\r\n        // eslint-disable-line eqeqeq\r\n        styleElem.ml = data.ml;\r\n      }\r\n\r\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n\r\n      if (!elementData.w.k) {\r\n        styleElem.wi = elementData.w.v;\r\n      }\r\n\r\n      if (data.d) {\r\n        var d = new DashProperty(this, data.d, 'canvas', this);\r\n        elementData.d = d;\r\n\r\n        if (!elementData.d.k) {\r\n          styleElem.da = elementData.d.dashArray;\r\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\r\n        }\r\n      }\r\n    } else {\r\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.createGroupElement = function () {\r\n    var elementData = {\r\n      it: [],\r\n      prevViewData: []\r\n    };\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.createTransformElement = function (data) {\r\n    var elementData = {\r\n      transform: {\r\n        opacity: 1,\r\n        _opMdf: false,\r\n        key: this.transformsManager.getNewKey(),\r\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\r\n      }\r\n    };\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.createShapeElement = function (data) {\r\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n  };\r\n\r\n  CVShapeElement.prototype.reloadShapes = function () {\r\n    this._isFirstFrame = true;\r\n    var i;\r\n    var len = this.itemsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n    len = this.dynamicProperties.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n    }\r\n\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n  };\r\n\r\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n    var i;\r\n    var len = this.stylesList.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!this.stylesList[i].closed) {\r\n        this.stylesList[i].transforms.push(transform);\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n    var i;\r\n    var len = this.stylesList.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!this.stylesList[i].closed) {\r\n        this.stylesList[i].transforms.pop();\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.closeStyles = function (styles) {\r\n    var i;\r\n    var len = styles.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      styles[i].closed = true;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n    var i;\r\n    var len = arr.length - 1;\r\n    var j;\r\n    var jLen;\r\n    var ownStyles = [];\r\n    var ownModifiers = [];\r\n    var processedPos;\r\n    var modifier;\r\n    var currentTransform;\r\n    var ownTransforms = [].concat(transforms);\r\n\r\n    for (i = len; i >= 0; i -= 1) {\r\n      processedPos = this.searchProcessedElement(arr[i]);\r\n\r\n      if (!processedPos) {\r\n        arr[i]._shouldRender = shouldRender;\r\n      } else {\r\n        itemsData[i] = prevViewData[processedPos - 1];\r\n      }\r\n\r\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n        } else {\r\n          itemsData[i].style.closed = false;\r\n        }\r\n\r\n        ownStyles.push(itemsData[i].style);\r\n      } else if (arr[i].ty === 'gr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createGroupElement(arr[i]);\r\n        } else {\r\n          jLen = itemsData[i].it.length;\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n          }\r\n        }\r\n\r\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n      } else if (arr[i].ty === 'tr') {\r\n        if (!processedPos) {\r\n          currentTransform = this.createTransformElement(arr[i]);\r\n          itemsData[i] = currentTransform;\r\n        }\r\n\r\n        ownTransforms.push(itemsData[i]);\r\n        this.addTransformToStyleList(itemsData[i]);\r\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n        if (!processedPos) {\r\n          itemsData[i] = this.createShapeElement(arr[i]);\r\n        }\r\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          modifier.init(this, arr[i]);\r\n          itemsData[i] = modifier;\r\n          this.shapeModifiers.push(modifier);\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = false;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      } else if (arr[i].ty === 'rp') {\r\n        if (!processedPos) {\r\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n          itemsData[i] = modifier;\r\n          modifier.init(this, arr, i, itemsData);\r\n          this.shapeModifiers.push(modifier);\r\n          shouldRender = false;\r\n        } else {\r\n          modifier = itemsData[i];\r\n          modifier.closed = true;\r\n        }\r\n\r\n        ownModifiers.push(modifier);\r\n      }\r\n\r\n      this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n\r\n    this.removeTransformFromStyleList();\r\n    this.closeStyles(ownStyles);\r\n    len = ownModifiers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      ownModifiers[i].closed = true;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderInnerContent = function () {\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n  };\r\n\r\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n      groupTransform.opacity = parentTransform.opacity;\r\n      groupTransform.opacity *= groupTransform.op.v;\r\n      groupTransform._opMdf = true;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.drawLayer = function () {\r\n    var i;\r\n    var len = this.stylesList.length;\r\n    var j;\r\n    var jLen;\r\n    var k;\r\n    var kLen;\r\n    var elems;\r\n    var nodes;\r\n    var renderer = this.globalData.renderer;\r\n    var ctx = this.globalData.canvasContext;\r\n    var type;\r\n    var currentStyle;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      currentStyle = this.stylesList[i];\r\n      type = currentStyle.type; // Skipping style when\r\n      // Stroke width equals 0\r\n      // style should not be rendered (extra unused repeaters)\r\n      // current opacity equals 0\r\n      // global opacity equals 0\r\n\r\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n          ctx.lineWidth = currentStyle.wi;\r\n          ctx.lineCap = currentStyle.lc;\r\n          ctx.lineJoin = currentStyle.lj;\r\n          ctx.miterLimit = currentStyle.ml || 0;\r\n        } else {\r\n          ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n        }\r\n\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n\r\n        if (type !== 'st' && type !== 'gs') {\r\n          ctx.beginPath();\r\n        }\r\n\r\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n        jLen = elems.length;\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          if (type === 'st' || type === 'gs') {\r\n            ctx.beginPath();\r\n\r\n            if (currentStyle.da) {\r\n              ctx.setLineDash(currentStyle.da);\r\n              ctx.lineDashOffset = currentStyle[\"do\"];\r\n            }\r\n          }\r\n\r\n          nodes = elems[j].trNodes;\r\n          kLen = nodes.length;\r\n\r\n          for (k = 0; k < kLen; k += 1) {\r\n            if (nodes[k].t === 'm') {\r\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n            } else if (nodes[k].t === 'c') {\r\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n            } else {\r\n              ctx.closePath();\r\n            }\r\n          }\r\n\r\n          if (type === 'st' || type === 'gs') {\r\n            ctx.stroke();\r\n\r\n            if (currentStyle.da) {\r\n              ctx.setLineDash(this.dashResetter);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (type !== 'st' && type !== 'gs') {\r\n          ctx.fill(currentStyle.r);\r\n        }\r\n\r\n        renderer.restore();\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n    var i;\r\n    var len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n\r\n    for (i = len; i >= 0; i -= 1) {\r\n      if (items[i].ty === 'tr') {\r\n        groupTransform = data[i].transform;\r\n        this.renderShapeTransform(parentTransform, groupTransform);\r\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n        this.renderPath(items[i], data[i]);\r\n      } else if (items[i].ty === 'fl') {\r\n        this.renderFill(items[i], data[i], groupTransform);\r\n      } else if (items[i].ty === 'st') {\r\n        this.renderStroke(items[i], data[i], groupTransform);\r\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n        this.renderGradientFill(items[i], data[i], groupTransform);\r\n      } else if (items[i].ty === 'gr') {\r\n        this.renderShape(groupTransform, items[i].it, data[i].it);\r\n      } else if (items[i].ty === 'tm') {//\r\n      }\r\n    }\r\n\r\n    if (isMain) {\r\n      this.drawLayer();\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n      var shapeNodes = styledShape.trNodes;\r\n      var paths = shape.paths;\r\n      var i;\r\n      var len;\r\n      var j;\r\n      var jLen = paths._length;\r\n      shapeNodes.length = 0;\r\n      var groupTransformMat = styledShape.transforms.finalTransform;\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        var pathNodes = paths.shapes[j];\r\n\r\n        if (pathNodes && pathNodes.v) {\r\n          len = pathNodes._length;\r\n\r\n          for (i = 1; i < len; i += 1) {\r\n            if (i === 1) {\r\n              shapeNodes.push({\r\n                t: 'm',\r\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n              });\r\n            }\r\n\r\n            shapeNodes.push({\r\n              t: 'c',\r\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n            });\r\n          }\r\n\r\n          if (len === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n            });\r\n          }\r\n\r\n          if (pathNodes.c && len) {\r\n            shapeNodes.push({\r\n              t: 'c',\r\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n            });\r\n            shapeNodes.push({\r\n              t: 'z'\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      styledShape.trNodes = shapeNodes;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n    if (pathData.hd !== true && pathData._shouldRender) {\r\n      var i;\r\n      var len = itemData.styledShapes.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n      }\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n    }\r\n\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n    var styleElem = itemData.style;\r\n    var grd;\r\n\r\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\r\n      var ctx = this.globalData.canvasContext;\r\n      var pt1 = itemData.s.v;\r\n      var pt2 = itemData.e.v;\r\n\r\n      if (styleData.t === 1) {\r\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n      } else {\r\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n        var percent = itemData.h.v;\r\n\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n      }\r\n\r\n      var i;\r\n      var len = styleData.g.p;\r\n      var cValues = itemData.g.c;\r\n      var opacity = 1;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n          opacity = itemData.g.o[i * 2 + 1];\r\n        }\r\n\r\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n      }\r\n\r\n      styleElem.grd = grd;\r\n    }\r\n\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  };\r\n\r\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n\r\n    if (d && (d._mdf || this._isFirstFrame)) {\r\n      styleElem.da = d.dashArray;\r\n      styleElem[\"do\"] = d.dashoffset[0];\r\n    }\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n    }\r\n\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n\r\n    if (itemData.w._mdf || this._isFirstFrame) {\r\n      styleElem.wi = itemData.w.v;\r\n    }\r\n  };\r\n\r\n  CVShapeElement.prototype.destroy = function () {\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n  };\r\n\r\n  function CVTextElement(data, globalData, comp) {\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n      fill: 'rgba(0,0,0,0)',\r\n      stroke: 'rgba(0,0,0,0)',\r\n      sWidth: 0,\r\n      fValue: ''\r\n    };\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\n  CVTextElement.prototype.buildNewText = function () {\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n    var hasFill = false;\r\n\r\n    if (documentData.fc) {\r\n      hasFill = true;\r\n      this.values.fill = this.buildColor(documentData.fc);\r\n    } else {\r\n      this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n\r\n    if (documentData.sc) {\r\n      hasStroke = true;\r\n      this.values.stroke = this.buildColor(documentData.sc);\r\n      this.values.sWidth = documentData.sw;\r\n    }\r\n\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i;\r\n    var len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\r\n\r\n    var charData;\r\n    var shapeData;\r\n    var k;\r\n    var kLen;\r\n    var shapes;\r\n    var j;\r\n    var jLen;\r\n    var pathNodes;\r\n    var commands;\r\n    var pathArr;\r\n    var singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n    var xPos = 0;\r\n    var yPos = 0;\r\n    var firstLine = true;\r\n    var cnt = 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      shapeData = charData && charData.data || {};\r\n      matrixHelper.reset();\r\n\r\n      if (singleShape && letters[i].n) {\r\n        xPos = -trackingOffset;\r\n        yPos += documentData.yOffset;\r\n        yPos += firstLine ? 1 : 0;\r\n        firstLine = false;\r\n      }\r\n\r\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n      jLen = shapes.length;\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n\r\n      if (singleShape) {\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n      }\r\n\r\n      commands = createSizedArray(jLen - 1);\r\n      var commandsCounter = 0;\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (shapes[j].ty === 'sh') {\r\n          kLen = shapes[j].ks.k.i.length;\r\n          pathNodes = shapes[j].ks.k;\r\n          pathArr = [];\r\n\r\n          for (k = 1; k < kLen; k += 1) {\r\n            if (k === 1) {\r\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n            }\r\n\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n          }\r\n\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n          commands[commandsCounter] = pathArr;\r\n          commandsCounter += 1;\r\n        }\r\n      }\r\n\r\n      if (singleShape) {\r\n        xPos += letters[i].l;\r\n        xPos += trackingOffset;\r\n      }\r\n\r\n      if (this.textSpans[cnt]) {\r\n        this.textSpans[cnt].elem = commands;\r\n      } else {\r\n        this.textSpans[cnt] = {\r\n          elem: commands\r\n        };\r\n      }\r\n\r\n      cnt += 1;\r\n    }\r\n  };\r\n\r\n  CVTextElement.prototype.renderInnerContent = function () {\r\n    var ctx = this.canvasContext;\r\n    ctx.font = this.values.fValue;\r\n    ctx.lineCap = 'butt';\r\n    ctx.lineJoin = 'miter';\r\n    ctx.miterLimit = 4;\r\n\r\n    if (!this.data.singleShape) {\r\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen;\r\n    var k;\r\n    var kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n    var letters = this.textProperty.currentData.l;\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null;\r\n    var lastStroke = null;\r\n    var lastStrokeW = null;\r\n    var commands;\r\n    var pathArr;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!letters[i].n) {\r\n        renderedLetter = renderedLetters[i];\r\n\r\n        if (renderedLetter) {\r\n          this.globalData.renderer.save();\r\n          this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n          this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n\r\n        if (this.fill) {\r\n          if (renderedLetter && renderedLetter.fc) {\r\n            if (lastFill !== renderedLetter.fc) {\r\n              lastFill = renderedLetter.fc;\r\n              ctx.fillStyle = renderedLetter.fc;\r\n            }\r\n          } else if (lastFill !== this.values.fill) {\r\n            lastFill = this.values.fill;\r\n            ctx.fillStyle = this.values.fill;\r\n          }\r\n\r\n          commands = this.textSpans[i].elem;\r\n          jLen = commands.length;\r\n          this.globalData.canvasContext.beginPath();\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathArr = commands[j];\r\n            kLen = pathArr.length;\r\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n\r\n            for (k = 2; k < kLen; k += 6) {\r\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n            }\r\n          }\r\n\r\n          this.globalData.canvasContext.closePath();\r\n          this.globalData.canvasContext.fill(); /// ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n\r\n        if (this.stroke) {\r\n          if (renderedLetter && renderedLetter.sw) {\r\n            if (lastStrokeW !== renderedLetter.sw) {\r\n              lastStrokeW = renderedLetter.sw;\r\n              ctx.lineWidth = renderedLetter.sw;\r\n            }\r\n          } else if (lastStrokeW !== this.values.sWidth) {\r\n            lastStrokeW = this.values.sWidth;\r\n            ctx.lineWidth = this.values.sWidth;\r\n          }\r\n\r\n          if (renderedLetter && renderedLetter.sc) {\r\n            if (lastStroke !== renderedLetter.sc) {\r\n              lastStroke = renderedLetter.sc;\r\n              ctx.strokeStyle = renderedLetter.sc;\r\n            }\r\n          } else if (lastStroke !== this.values.stroke) {\r\n            lastStroke = this.values.stroke;\r\n            ctx.strokeStyle = this.values.stroke;\r\n          }\r\n\r\n          commands = this.textSpans[i].elem;\r\n          jLen = commands.length;\r\n          this.globalData.canvasContext.beginPath();\r\n\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathArr = commands[j];\r\n            kLen = pathArr.length;\r\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n\r\n            for (k = 2; k < kLen; k += 6) {\r\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n            }\r\n          }\r\n\r\n          this.globalData.canvasContext.closePath();\r\n          this.globalData.canvasContext.stroke(); /// ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n\r\n        if (renderedLetter) {\r\n          this.globalData.renderer.restore();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  function CVImageElement(data, globalData, comp) {\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.img = globalData.imageLoader.getAsset(this.assetData);\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\n  CVImageElement.prototype.createContent = function () {\r\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n      var canvas = createTag('canvas');\r\n      canvas.width = this.assetData.w;\r\n      canvas.height = this.assetData.h;\r\n      var ctx = canvas.getContext('2d');\r\n      var imgW = this.img.width;\r\n      var imgH = this.img.height;\r\n      var imgRel = imgW / imgH;\r\n      var canvasRel = this.assetData.w / this.assetData.h;\r\n      var widthCrop;\r\n      var heightCrop;\r\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n\r\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\r\n        heightCrop = imgH;\r\n        widthCrop = heightCrop * canvasRel;\r\n      } else {\r\n        widthCrop = imgW;\r\n        heightCrop = widthCrop / canvasRel;\r\n      }\r\n\r\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n      this.img = canvas;\r\n    }\r\n  };\r\n\r\n  CVImageElement.prototype.renderInnerContent = function () {\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n  };\r\n\r\n  CVImageElement.prototype.destroy = function () {\r\n    this.img = null;\r\n  };\r\n\r\n  function CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\n  CVSolidElement.prototype.renderInnerContent = function () {\r\n    var ctx = this.canvasContext;\r\n    ctx.fillStyle = this.data.sc;\r\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh); //\r\n  };\r\n\r\n  function CanvasRendererBase(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\r\n      context: config && config.context || null,\r\n      progressiveLoad: config && config.progressiveLoad || false,\r\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      contentVisibility: config && config.contentVisibility || 'visible',\r\n      className: config && config.className || '',\r\n      id: config && config.id || ''\r\n    };\r\n    this.renderConfig.dpr = config && config.dpr || 1;\r\n\r\n    if (this.animationItem.wrapper) {\r\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\r\n    }\r\n\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n      frameNum: -1,\r\n      _mdf: false,\r\n      renderConfig: this.renderConfig,\r\n      currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n  }\r\n\r\n  extendPrototype([BaseRenderer], CanvasRendererBase);\r\n\r\n  CanvasRendererBase.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\r\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n      return;\r\n    }\r\n\r\n    if (!this.renderConfig.clearCanvas) {\r\n      this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n      return;\r\n    }\r\n\r\n    this.transformMat.cloneFromProps(props);\r\n    var cProps = this.contextData.cTr.props;\r\n    this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]); // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\r\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n    var trProps = this.contextData.cTr.props;\r\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\r\n    /* if(op === 1){\r\n          return;\r\n      } */\r\n    if (!this.renderConfig.clearCanvas) {\r\n      this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n      return;\r\n    }\r\n\r\n    this.contextData.cO *= op < 0 ? 0 : op;\r\n\r\n    if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n      this.canvasContext.globalAlpha = this.contextData.cO;\r\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    }\r\n  };\r\n\r\n  CanvasRendererBase.prototype.reset = function () {\r\n    if (!this.renderConfig.clearCanvas) {\r\n      this.canvasContext.restore();\r\n      return;\r\n    }\r\n\r\n    this.contextData.reset();\r\n  };\r\n\r\n  CanvasRendererBase.prototype.save = function (actionFlag) {\r\n    if (!this.renderConfig.clearCanvas) {\r\n      this.canvasContext.save();\r\n      return;\r\n    }\r\n\r\n    if (actionFlag) {\r\n      this.canvasContext.save();\r\n    }\r\n\r\n    var props = this.contextData.cTr.props;\r\n\r\n    if (this.contextData._length <= this.contextData.cArrPos) {\r\n      this.contextData.duplicate();\r\n    }\r\n\r\n    var i;\r\n    var arr = this.contextData.saved[this.contextData.cArrPos];\r\n\r\n    for (i = 0; i < 16; i += 1) {\r\n      arr[i] = props[i];\r\n    }\r\n\r\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n    this.contextData.cArrPos += 1;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\r\n    if (!this.renderConfig.clearCanvas) {\r\n      this.canvasContext.restore();\r\n      return;\r\n    }\r\n\r\n    if (actionFlag) {\r\n      this.canvasContext.restore();\r\n      this.globalData.blendMode = 'source-over';\r\n    }\r\n\r\n    this.contextData.cArrPos -= 1;\r\n    var popped = this.contextData.saved[this.contextData.cArrPos];\r\n    var i;\r\n    var arr = this.contextData.cTr.props;\r\n\r\n    for (i = 0; i < 16; i += 1) {\r\n      arr[i] = popped[i];\r\n    }\r\n\r\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\r\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n    this.contextData.cO = popped;\r\n\r\n    if (this.globalData.currentGlobalAlpha !== popped) {\r\n      this.canvasContext.globalAlpha = popped;\r\n      this.globalData.currentGlobalAlpha = popped;\r\n    }\r\n  };\r\n\r\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\r\n    if (this.animationItem.wrapper) {\r\n      this.animationItem.container = createTag('canvas');\r\n      var containerStyle = this.animationItem.container.style;\r\n      containerStyle.width = '100%';\r\n      containerStyle.height = '100%';\r\n      var origin = '0px 0px 0px';\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      containerStyle['-webkit-transform'] = origin;\r\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\r\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n      this.canvasContext = this.animationItem.container.getContext('2d');\r\n\r\n      if (this.renderConfig.className) {\r\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n      }\r\n\r\n      if (this.renderConfig.id) {\r\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n      }\r\n    } else {\r\n      this.canvasContext = this.renderConfig.context;\r\n    }\r\n\r\n    this.data = animData;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n      w: animData.w,\r\n      h: animData.h,\r\n      sx: 0,\r\n      sy: 0,\r\n      tx: 0,\r\n      ty: 0\r\n    };\r\n    this.setupGlobalData(animData, document.body);\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n    this.updateContainerSize();\r\n  };\r\n\r\n  CanvasRendererBase.prototype.updateContainerSize = function (width, height) {\r\n    this.reset();\r\n    var elementWidth;\r\n    var elementHeight;\r\n\r\n    if (width) {\r\n      elementWidth = width;\r\n      elementHeight = height;\r\n      this.canvasContext.canvas.width = elementWidth;\r\n      this.canvasContext.canvas.height = elementHeight;\r\n    } else {\r\n      if (this.animationItem.wrapper && this.animationItem.container) {\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n      } else {\r\n        elementWidth = this.canvasContext.canvas.width;\r\n        elementHeight = this.canvasContext.canvas.height;\r\n      }\r\n\r\n      this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;\r\n      this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;\r\n    }\r\n\r\n    var elementRel;\r\n    var animationRel;\r\n\r\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n      var fillType = par[1] || 'meet';\r\n      var pos = par[0] || 'xMidYMid';\r\n      var xPos = pos.substr(0, 4);\r\n      var yPos = pos.substr(4);\r\n      elementRel = elementWidth / elementHeight;\r\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n\r\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\r\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      } else {\r\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      }\r\n\r\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\r\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n      } else {\r\n        this.transformCanvas.tx = 0;\r\n      }\r\n\r\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\r\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\r\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\r\n      } else {\r\n        this.transformCanvas.ty = 0;\r\n      }\r\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.tx = 0;\r\n      this.transformCanvas.ty = 0;\r\n    } else {\r\n      this.transformCanvas.sx = this.renderConfig.dpr;\r\n      this.transformCanvas.sy = this.renderConfig.dpr;\r\n      this.transformCanvas.tx = 0;\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n\r\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\r\n\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n    this.renderFrame(this.renderedFrame, true);\r\n  };\r\n\r\n  CanvasRendererBase.prototype.destroy = function () {\r\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n      this.animationItem.wrapper.innerText = '';\r\n    }\r\n\r\n    var i;\r\n    var len = this.layers ? this.layers.length : 0;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.elements[i]) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n  };\r\n\r\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\r\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\r\n      return;\r\n    }\r\n\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\r\n    // console.log('NEW: ',num);\r\n\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    if (!this.completeLayers) {\r\n      this.checkLayers(num);\r\n    }\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].prepareFrame(num - this.layers[i].st);\r\n      }\r\n    }\r\n\r\n    if (this.globalData._mdf) {\r\n      if (this.renderConfig.clearCanvas === true) {\r\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n      } else {\r\n        this.save();\r\n      }\r\n\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        if (this.completeLayers || this.elements[i]) {\r\n          this.elements[i].renderFrame();\r\n        }\r\n      }\r\n\r\n      if (this.renderConfig.clearCanvas !== true) {\r\n        this.restore();\r\n      }\r\n    }\r\n  };\r\n\r\n  CanvasRendererBase.prototype.buildItem = function (pos) {\r\n    var elements = this.elements;\r\n\r\n    if (elements[pos] || this.layers[pos].ty === 99) {\r\n      return;\r\n    }\r\n\r\n    var element = this.createItem(this.layers[pos], this, this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\r\n  };\r\n\r\n  CanvasRendererBase.prototype.checkPendingElements = function () {\r\n    while (this.pendingElements.length) {\r\n      var element = this.pendingElements.pop();\r\n      element.checkParenting();\r\n    }\r\n  };\r\n\r\n  CanvasRendererBase.prototype.hide = function () {\r\n    this.animationItem.container.style.display = 'none';\r\n  };\r\n\r\n  CanvasRendererBase.prototype.show = function () {\r\n    this.animationItem.container.style.display = 'block';\r\n  };\r\n\r\n  function CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n  }\r\n\r\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\r\n\r\n  CVCompElement.prototype.renderInnerContent = function () {\r\n    var ctx = this.canvasContext;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.data.w, 0);\r\n    ctx.lineTo(this.data.w, this.data.h);\r\n    ctx.lineTo(0, this.data.h);\r\n    ctx.lineTo(0, 0);\r\n    ctx.clip();\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  };\r\n\r\n  CVCompElement.prototype.destroy = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.elements[i]) {\r\n        this.elements[i].destroy();\r\n      }\r\n    }\r\n\r\n    this.layers = null;\r\n    this.elements = null;\r\n  };\r\n\r\n  CVCompElement.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function CanvasRenderer(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\r\n      context: config && config.context || null,\r\n      progressiveLoad: config && config.progressiveLoad || false,\r\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      contentVisibility: config && config.contentVisibility || 'visible',\r\n      className: config && config.className || '',\r\n      id: config && config.id || '',\r\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\r\n    };\r\n    this.renderConfig.dpr = config && config.dpr || 1;\r\n\r\n    if (this.animationItem.wrapper) {\r\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\r\n    }\r\n\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n      frameNum: -1,\r\n      _mdf: false,\r\n      renderConfig: this.renderConfig,\r\n      currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n  }\r\n\r\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\r\n\r\n  CanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function HBaseElement() {}\r\n\r\n  HBaseElement.prototype = {\r\n    checkBlendMode: function checkBlendMode() {},\r\n    initRendererElement: function initRendererElement() {\r\n      this.baseElement = createTag(this.data.tg || 'div');\r\n\r\n      if (this.data.hasMask) {\r\n        this.svgElement = createNS('svg');\r\n        this.layerElement = createNS('g');\r\n        this.maskedElement = this.layerElement;\r\n        this.svgElement.appendChild(this.layerElement);\r\n        this.baseElement.appendChild(this.svgElement);\r\n      } else {\r\n        this.layerElement = this.baseElement;\r\n      }\r\n\r\n      styleDiv(this.baseElement);\r\n    },\r\n    createContainerElements: function createContainerElements() {\r\n      this.renderableEffectsManager = new CVEffects(this);\r\n      this.transformedElement = this.baseElement;\r\n      this.maskedElement = this.layerElement;\r\n\r\n      if (this.data.ln) {\r\n        this.layerElement.setAttribute('id', this.data.ln);\r\n      }\r\n\r\n      if (this.data.cl) {\r\n        this.layerElement.setAttribute('class', this.data.cl);\r\n      }\r\n\r\n      if (this.data.bm !== 0) {\r\n        this.setBlendMode();\r\n      }\r\n    },\r\n    renderElement: function renderElement() {\r\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        var matrixValue = this.finalTransform.mat.toCSS();\r\n        transformedElementStyle.transform = matrixValue;\r\n        transformedElementStyle.webkitTransform = matrixValue;\r\n      }\r\n\r\n      if (this.finalTransform._opMdf) {\r\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n      }\r\n    },\r\n    renderFrame: function renderFrame() {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    destroy: function destroy() {\r\n      this.layerElement = null;\r\n      this.transformedElement = null;\r\n\r\n      if (this.matteElement) {\r\n        this.matteElement = null;\r\n      }\r\n\r\n      if (this.maskManager) {\r\n        this.maskManager.destroy();\r\n        this.maskManager = null;\r\n      }\r\n    },\r\n    createRenderableComponents: function createRenderableComponents() {\r\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    },\r\n    addEffects: function addEffects() {},\r\n    setMatte: function setMatte() {}\r\n  };\r\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\r\n\r\n  function HSolidElement(data, globalData, comp) {\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\n  HSolidElement.prototype.createContent = function () {\r\n    var rect;\r\n\r\n    if (this.data.hasMask) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('width', this.data.sw);\r\n      rect.setAttribute('height', this.data.sh);\r\n      rect.setAttribute('fill', this.data.sc);\r\n      this.svgElement.setAttribute('width', this.data.sw);\r\n      this.svgElement.setAttribute('height', this.data.sh);\r\n    } else {\r\n      rect = createTag('div');\r\n      rect.style.width = this.data.sw + 'px';\r\n      rect.style.height = this.data.sh + 'px';\r\n      rect.style.backgroundColor = this.data.sc;\r\n    }\r\n\r\n    this.layerElement.appendChild(rect);\r\n  };\r\n\r\n  function HShapeElement(data, globalData, comp) {\r\n    // List of drawable elements\r\n    this.shapes = []; // Full shape data\r\n\r\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\r\n\r\n    this.stylesList = []; // List of modifiers that will be applied to shapes\r\n\r\n    this.shapeModifiers = []; // List of items in shape tree\r\n\r\n    this.itemsData = []; // List of items in previous shape tree\r\n\r\n    this.processedElements = []; // List of animated components\r\n\r\n    this.animatedContents = [];\r\n    this.shapesContainer = createNS('g');\r\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n\r\n    this.prevViewData = [];\r\n    this.currentBBox = {\r\n      x: 999999,\r\n      y: -999999,\r\n      h: 0,\r\n      w: 0\r\n    };\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\n  HShapeElement.prototype.createContent = function () {\r\n    var cont;\r\n    this.baseElement.style.fontSize = 0;\r\n\r\n    if (this.data.hasMask) {\r\n      this.layerElement.appendChild(this.shapesContainer);\r\n      cont = this.svgElement;\r\n    } else {\r\n      cont = createNS('svg');\r\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n      cont.setAttribute('width', size.w);\r\n      cont.setAttribute('height', size.h);\r\n      cont.appendChild(this.shapesContainer);\r\n      this.layerElement.appendChild(cont);\r\n    }\r\n\r\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    this.shapeCont = cont;\r\n  };\r\n\r\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n    var i;\r\n    var len = transformers.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n    }\r\n\r\n    return point;\r\n  };\r\n\r\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n    var shape = item.sh.v;\r\n    var transformers = item.transformers;\r\n    var i;\r\n    var len = shape._length;\r\n    var vPoint;\r\n    var oPoint;\r\n    var nextIPoint;\r\n    var nextVPoint;\r\n\r\n    if (len <= 1) {\r\n      return;\r\n    }\r\n\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n\r\n    if (shape.c) {\r\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n  };\r\n\r\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n    var bounds = this.shapeBoundingBox;\r\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n  };\r\n\r\n  HShapeElement.prototype.shapeBoundingBox = {\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0\r\n  };\r\n  HShapeElement.prototype.tempBoundingBox = {\r\n    x: 0,\r\n    xMax: 0,\r\n    y: 0,\r\n    yMax: 0,\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\r\n      // eslint-disable-line no-plusplus\r\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n      c = 3 * p1[i] - 3 * p0[i];\r\n      b |= 0; // eslint-disable-line no-bitwise\r\n\r\n      a |= 0; // eslint-disable-line no-bitwise\r\n\r\n      c |= 0; // eslint-disable-line no-bitwise\r\n\r\n      if (a === 0 && b === 0) {//\r\n      } else if (a === 0) {\r\n        t = -c / b;\r\n\r\n        if (t > 0 && t < 1) {\r\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n        }\r\n      } else {\r\n        b2ac = b * b - 4 * c * a;\r\n\r\n        if (b2ac >= 0) {\r\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n        }\r\n      }\r\n    }\r\n\r\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n  };\r\n\r\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\r\n  };\r\n\r\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n    var i;\r\n    var len = itemsData.length;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemsData[i] && itemsData[i].sh) {\r\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n      } else if (itemsData[i] && itemsData[i].it) {\r\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\r\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\r\n      }\r\n    }\r\n  };\r\n\r\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\r\n    var width = 0;\r\n\r\n    if (widthProperty.keyframes) {\r\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\r\n        var kfw = widthProperty.keyframes[i].s;\r\n\r\n        if (kfw > width) {\r\n          width = kfw;\r\n        }\r\n      }\r\n\r\n      width *= widthProperty.mult;\r\n    } else {\r\n      width = widthProperty.v * widthProperty.mult;\r\n    }\r\n\r\n    boundingBox.x -= width;\r\n    boundingBox.xMax += width;\r\n    boundingBox.y -= width;\r\n    boundingBox.yMax += width;\r\n  };\r\n\r\n  HShapeElement.prototype.currentBoxContains = function (box) {\r\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n  };\r\n\r\n  HShapeElement.prototype.renderInnerContent = function () {\r\n    this._renderShapeFrame();\r\n\r\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n      var tempBoundingBox = this.tempBoundingBox;\r\n      var max = 999999;\r\n      tempBoundingBox.x = max;\r\n      tempBoundingBox.xMax = -max;\r\n      tempBoundingBox.y = max;\r\n      tempBoundingBox.yMax = -max;\r\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\r\n\r\n      if (this.currentBoxContains(tempBoundingBox)) {\r\n        return;\r\n      }\r\n\r\n      var changed = false;\r\n\r\n      if (this.currentBBox.w !== tempBoundingBox.width) {\r\n        this.currentBBox.w = tempBoundingBox.width;\r\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n        changed = true;\r\n      }\r\n\r\n      if (this.currentBBox.h !== tempBoundingBox.height) {\r\n        this.currentBBox.h = tempBoundingBox.height;\r\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n        changed = true;\r\n      }\r\n\r\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n        this.currentBBox.w = tempBoundingBox.width;\r\n        this.currentBBox.h = tempBoundingBox.height;\r\n        this.currentBBox.x = tempBoundingBox.x;\r\n        this.currentBBox.y = tempBoundingBox.y;\r\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n        var shapeStyle = this.shapeCont.style;\r\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        shapeStyle.transform = shapeTransform;\r\n        shapeStyle.webkitTransform = shapeTransform;\r\n      }\r\n    }\r\n  };\r\n\r\n  function HTextElement(data, globalData, comp) {\r\n    this.textSpans = [];\r\n    this.textPaths = [];\r\n    this.currentBBox = {\r\n      x: 999999,\r\n      y: -999999,\r\n      h: 0,\r\n      w: 0\r\n    };\r\n    this.renderType = 'svg';\r\n    this.isMasked = false;\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\n  HTextElement.prototype.createContent = function () {\r\n    this.isMasked = this.checkMasks();\r\n\r\n    if (this.isMasked) {\r\n      this.renderType = 'svg';\r\n      this.compW = this.comp.data.w;\r\n      this.compH = this.comp.data.h;\r\n      this.svgElement.setAttribute('width', this.compW);\r\n      this.svgElement.setAttribute('height', this.compH);\r\n      var g = createNS('g');\r\n      this.maskedElement.appendChild(g);\r\n      this.innerElem = g;\r\n    } else {\r\n      this.renderType = 'html';\r\n      this.innerElem = this.layerElement;\r\n    }\r\n\r\n    this.checkParenting();\r\n  };\r\n\r\n  HTextElement.prototype.buildNewText = function () {\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n    var innerElemStyle = this.innerElem.style;\r\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n    innerElemStyle.fill = textColor;\r\n    innerElemStyle.color = textColor;\r\n\r\n    if (documentData.sc) {\r\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n    }\r\n\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n\r\n    if (!this.globalData.fontManager.chars) {\r\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n\r\n      if (fontData.fClass) {\r\n        this.innerElem.className = fontData.fClass;\r\n      } else {\r\n        innerElemStyle.fontFamily = fontData.fFamily;\r\n        var fWeight = documentData.fWeight;\r\n        var fStyle = documentData.fStyle;\r\n        innerElemStyle.fontStyle = fStyle;\r\n        innerElemStyle.fontWeight = fWeight;\r\n      }\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    var letters = documentData.l;\r\n    len = letters.length;\r\n    var tSpan;\r\n    var tParent;\r\n    var tCont;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes;\r\n    var shapeStr = '';\r\n    var cnt = 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.globalData.fontManager.chars) {\r\n        if (!this.textPaths[cnt]) {\r\n          tSpan = createNS('path');\r\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\r\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n        } else {\r\n          tSpan = this.textPaths[cnt];\r\n        }\r\n\r\n        if (!this.isMasked) {\r\n          if (this.textSpans[cnt]) {\r\n            tParent = this.textSpans[cnt];\r\n            tCont = tParent.children[0];\r\n          } else {\r\n            tParent = createTag('div');\r\n            tParent.style.lineHeight = 0;\r\n            tCont = createNS('svg');\r\n            tCont.appendChild(tSpan);\r\n            styleDiv(tParent);\r\n          }\r\n        }\r\n      } else if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tSpan = this.textPaths[cnt];\r\n        } else {\r\n          tParent = createTag('span');\r\n          styleDiv(tParent);\r\n          tSpan = createTag('span');\r\n          styleDiv(tSpan);\r\n          tParent.appendChild(tSpan);\r\n        }\r\n      } else {\r\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n      } // tSpan.setAttribute('visibility', 'hidden');\r\n\r\n\r\n      if (this.globalData.fontManager.chars) {\r\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        var shapeData;\r\n\r\n        if (charData) {\r\n          shapeData = charData.data;\r\n        } else {\r\n          shapeData = null;\r\n        }\r\n\r\n        matrixHelper.reset();\r\n\r\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\r\n          shapes = shapeData.shapes[0].it;\r\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n          shapeStr = this.createPathShape(matrixHelper, shapes);\r\n          tSpan.setAttribute('d', shapeStr);\r\n        }\r\n\r\n        if (!this.isMasked) {\r\n          this.innerElem.appendChild(tParent);\r\n\r\n          if (shapeData && shapeData.shapes) {\r\n            // document.body.appendChild is needed to get exact measure of shape\r\n            document.body.appendChild(tCont);\r\n            var boundingBox = tCont.getBBox();\r\n            tCont.setAttribute('width', boundingBox.width + 2);\r\n            tCont.setAttribute('height', boundingBox.height + 2);\r\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n            var tContStyle = tCont.style;\r\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n            tContStyle.transform = tContTranslation;\r\n            tContStyle.webkitTransform = tContTranslation;\r\n            letters[i].yOffset = boundingBox.y - 1;\r\n          } else {\r\n            tCont.setAttribute('width', 1);\r\n            tCont.setAttribute('height', 1);\r\n          }\r\n\r\n          tParent.appendChild(tCont);\r\n        } else {\r\n          this.innerElem.appendChild(tSpan);\r\n        }\r\n      } else {\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n\r\n        if (!this.isMasked) {\r\n          this.innerElem.appendChild(tParent); //\r\n\r\n          var tStyle = tSpan.style;\r\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n          tStyle.transform = tSpanTranslation;\r\n          tStyle.webkitTransform = tSpanTranslation;\r\n        } else {\r\n          this.innerElem.appendChild(tSpan);\r\n        }\r\n      } //\r\n\r\n\r\n      if (!this.isMasked) {\r\n        this.textSpans[cnt] = tParent;\r\n      } else {\r\n        this.textSpans[cnt] = tSpan;\r\n      }\r\n\r\n      this.textSpans[cnt].style.display = 'block';\r\n      this.textPaths[cnt] = tSpan;\r\n      cnt += 1;\r\n    }\r\n\r\n    while (cnt < this.textSpans.length) {\r\n      this.textSpans[cnt].style.display = 'none';\r\n      cnt += 1;\r\n    }\r\n  };\r\n\r\n  HTextElement.prototype.renderInnerContent = function () {\r\n    var svgStyle;\r\n\r\n    if (this.data.singleShape) {\r\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n        return;\r\n      }\r\n\r\n      if (this.isMasked && this.finalTransform._matMdf) {\r\n        // Todo Benchmark if using this is better than getBBox\r\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n        svgStyle = this.svgElement.style;\r\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n        svgStyle.transform = translation;\r\n        svgStyle.webkitTransform = translation;\r\n      }\r\n    }\r\n\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n\r\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n      return;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    var count = 0;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n    var letters = this.textProperty.currentData.l;\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var textSpan;\r\n    var textPath;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        count += 1;\r\n      } else {\r\n        textSpan = this.textSpans[i];\r\n        textPath = this.textPaths[i];\r\n        renderedLetter = renderedLetters[count];\r\n        count += 1;\r\n\r\n        if (renderedLetter._mdf.m) {\r\n          if (!this.isMasked) {\r\n            textSpan.style.webkitTransform = renderedLetter.m;\r\n            textSpan.style.transform = renderedLetter.m;\r\n          } else {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n\r\n\r\n        textSpan.style.opacity = renderedLetter.o;\r\n\r\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n        }\r\n\r\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n          textPath.setAttribute('stroke', renderedLetter.sc);\r\n        }\r\n\r\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n          textPath.setAttribute('fill', renderedLetter.fc);\r\n          textPath.style.color = renderedLetter.fc;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n      var boundingBox = this.innerElem.getBBox();\r\n\r\n      if (this.currentBBox.w !== boundingBox.width) {\r\n        this.currentBBox.w = boundingBox.width;\r\n        this.svgElement.setAttribute('width', boundingBox.width);\r\n      }\r\n\r\n      if (this.currentBBox.h !== boundingBox.height) {\r\n        this.currentBBox.h = boundingBox.height;\r\n        this.svgElement.setAttribute('height', boundingBox.height);\r\n      }\r\n\r\n      var margin = 1;\r\n\r\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\r\n        this.currentBBox.w = boundingBox.width + margin * 2;\r\n        this.currentBBox.h = boundingBox.height + margin * 2;\r\n        this.currentBBox.x = boundingBox.x - margin;\r\n        this.currentBBox.y = boundingBox.y - margin;\r\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n        svgStyle = this.svgElement.style;\r\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        svgStyle.transform = svgTransform;\r\n        svgStyle.webkitTransform = svgTransform;\r\n      }\r\n    }\r\n  };\r\n\r\n  function HCameraElement(data, globalData, comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initHierarchy();\r\n    var getProp = PropertyFactory.getProp;\r\n    this.pe = getProp(this, data.pe, 0, 0, this);\r\n\r\n    if (data.ks.p.s) {\r\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n    } else {\r\n      this.p = getProp(this, data.ks.p, 1, 0, this);\r\n    }\r\n\r\n    if (data.ks.a) {\r\n      this.a = getProp(this, data.ks.a, 1, 0, this);\r\n    }\r\n\r\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n      var i;\r\n      var len = data.ks.or.k.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        data.ks.or.k[i].to = null;\r\n        data.ks.or.k[i].ti = null;\r\n      }\r\n    }\r\n\r\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n    this.or.sh = true;\r\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n    this.mat = new Matrix();\r\n    this._prevMat = new Matrix();\r\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n\r\n    this.finalTransform = {\r\n      mProp: this\r\n    };\r\n  }\r\n\r\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\n  HCameraElement.prototype.setup = function () {\r\n    var i;\r\n    var len = this.comp.threeDElements.length;\r\n    var comp;\r\n    var perspectiveStyle;\r\n    var containerStyle;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      // [perspectiveElem,container]\r\n      comp = this.comp.threeDElements[i];\r\n\r\n      if (comp.type === '3d') {\r\n        perspectiveStyle = comp.perspectiveElem.style;\r\n        containerStyle = comp.container.style;\r\n        var perspective = this.pe.v + 'px';\r\n        var origin = '0px 0px 0px';\r\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n        perspectiveStyle.perspective = perspective;\r\n        perspectiveStyle.webkitPerspective = perspective;\r\n        containerStyle.transformOrigin = origin;\r\n        containerStyle.mozTransformOrigin = origin;\r\n        containerStyle.webkitTransformOrigin = origin;\r\n        perspectiveStyle.transform = matrix;\r\n        perspectiveStyle.webkitTransform = matrix;\r\n      }\r\n    }\r\n  };\r\n\r\n  HCameraElement.prototype.createElements = function () {};\r\n\r\n  HCameraElement.prototype.hide = function () {};\r\n\r\n  HCameraElement.prototype.renderFrame = function () {\r\n    var _mdf = this._isFirstFrame;\r\n    var i;\r\n    var len;\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n      }\r\n    }\r\n\r\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\r\n      this.mat.reset();\r\n\r\n      if (this.hierarchy) {\r\n        len = this.hierarchy.length - 1;\r\n\r\n        for (i = len; i >= 0; i -= 1) {\r\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n        }\r\n      }\r\n\r\n      if (this.p) {\r\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n      } else {\r\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n      }\r\n\r\n      if (this.a) {\r\n        var diffVector;\r\n\r\n        if (this.p) {\r\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n        } else {\r\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n        }\r\n\r\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n\r\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\r\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\r\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n      }\r\n\r\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n      this.mat.translate(0, 0, this.pe.v);\r\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n\r\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n        len = this.comp.threeDElements.length;\r\n        var comp;\r\n        var perspectiveStyle;\r\n        var containerStyle;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          comp = this.comp.threeDElements[i];\r\n\r\n          if (comp.type === '3d') {\r\n            if (hasMatrixChanged) {\r\n              var matValue = this.mat.toCSS();\r\n              containerStyle = comp.container.style;\r\n              containerStyle.transform = matValue;\r\n              containerStyle.webkitTransform = matValue;\r\n            }\r\n\r\n            if (this.pe._mdf) {\r\n              perspectiveStyle = comp.perspectiveElem.style;\r\n              perspectiveStyle.perspective = this.pe.v + 'px';\r\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n            }\r\n          }\r\n        }\r\n\r\n        this.mat.clone(this._prevMat);\r\n      }\r\n    }\r\n\r\n    this._isFirstFrame = false;\r\n  };\r\n\r\n  HCameraElement.prototype.prepareFrame = function (num) {\r\n    this.prepareProperties(num, true);\r\n  };\r\n\r\n  HCameraElement.prototype.destroy = function () {};\r\n\r\n  HCameraElement.prototype.getBaseElement = function () {\r\n    return null;\r\n  };\r\n\r\n  function HImageElement(data, globalData, comp) {\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data, globalData, comp);\r\n  }\r\n\r\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\n  HImageElement.prototype.createContent = function () {\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    var img = new Image();\r\n\r\n    if (this.data.hasMask) {\r\n      this.imageElem = createNS('image');\r\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n      this.layerElement.appendChild(this.imageElem);\r\n      this.baseElement.setAttribute('width', this.assetData.w);\r\n      this.baseElement.setAttribute('height', this.assetData.h);\r\n    } else {\r\n      this.layerElement.appendChild(img);\r\n    }\r\n\r\n    img.crossOrigin = 'anonymous';\r\n    img.src = assetPath;\r\n\r\n    if (this.data.ln) {\r\n      this.baseElement.setAttribute('id', this.data.ln);\r\n    }\r\n  };\r\n\r\n  function HybridRendererBase(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n      className: config && config.className || '',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n      filterSize: {\r\n        width: config && config.filterSize && config.filterSize.width || '400%',\r\n        height: config && config.filterSize && config.filterSize.height || '400%',\r\n        x: config && config.filterSize && config.filterSize.x || '-100%',\r\n        y: config && config.filterSize && config.filterSize.y || '-100%'\r\n      }\r\n    };\r\n    this.globalData = {\r\n      _mdf: false,\r\n      frameNum: -1,\r\n      renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n    this.rendererType = 'html';\r\n  }\r\n\r\n  extendPrototype([BaseRenderer], HybridRendererBase);\r\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\n  HybridRendererBase.prototype.checkPendingElements = function () {\r\n    while (this.pendingElements.length) {\r\n      var element = this.pendingElements.pop();\r\n      element.checkParenting();\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\r\n    var newDOMElement = element.getBaseElement();\r\n\r\n    if (!newDOMElement) {\r\n      return;\r\n    }\r\n\r\n    var layer = this.layers[pos];\r\n\r\n    if (!layer.ddd || !this.supports3d) {\r\n      if (this.threeDElements) {\r\n        this.addTo3dContainer(newDOMElement, pos);\r\n      } else {\r\n        var i = 0;\r\n        var nextDOMElement;\r\n        var nextLayer;\r\n        var tmpDOMElement;\r\n\r\n        while (i < pos) {\r\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n            nextLayer = this.elements[i];\r\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n            nextDOMElement = tmpDOMElement || nextDOMElement;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (nextDOMElement) {\r\n          if (!layer.ddd || !this.supports3d) {\r\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n          }\r\n        } else if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.appendChild(newDOMElement);\r\n        }\r\n      }\r\n    } else {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.createShape = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGShapeElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HShapeElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createText = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGTextLottieElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HTextElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createCamera = function (data) {\r\n    this.camera = new HCameraElement(data, this.globalData, this);\r\n    return this.camera;\r\n  };\r\n\r\n  HybridRendererBase.prototype.createImage = function (data) {\r\n    if (!this.supports3d) {\r\n      return new IImageElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HImageElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createSolid = function (data) {\r\n    if (!this.supports3d) {\r\n      return new ISolidElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HSolidElement(data, this.globalData, this);\r\n  };\r\n\r\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\r\n    var i = 0;\r\n    var len = this.threeDElements.length;\r\n\r\n    while (i < len) {\r\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n        return this.threeDElements[i].perspectiveElem;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\r\n    var perspectiveElem = createTag('div');\r\n    var style;\r\n    var containerStyle;\r\n    styleDiv(perspectiveElem);\r\n    var container = createTag('div');\r\n    styleDiv(container);\r\n\r\n    if (type === '3d') {\r\n      style = perspectiveElem.style;\r\n      style.width = this.globalData.compSize.w + 'px';\r\n      style.height = this.globalData.compSize.h + 'px';\r\n      var center = '50% 50%';\r\n      style.webkitTransformOrigin = center;\r\n      style.mozTransformOrigin = center;\r\n      style.transformOrigin = center;\r\n      containerStyle = container.style;\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      containerStyle.transform = matrix;\r\n      containerStyle.webkitTransform = matrix;\r\n    }\r\n\r\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\r\n\r\n    var threeDContainerData = {\r\n      container: container,\r\n      perspectiveElem: perspectiveElem,\r\n      startPos: pos,\r\n      endPos: pos,\r\n      type: type\r\n    };\r\n    this.threeDElements.push(threeDContainerData);\r\n    return threeDContainerData;\r\n  };\r\n\r\n  HybridRendererBase.prototype.build3dContainers = function () {\r\n    var i;\r\n    var len = this.layers.length;\r\n    var lastThreeDContainerData;\r\n    var currentContainer = '';\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n        if (currentContainer !== '3d') {\r\n          currentContainer = '3d';\r\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n        }\r\n\r\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n      } else {\r\n        if (currentContainer !== '2d') {\r\n          currentContainer = '2d';\r\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n        }\r\n\r\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n      }\r\n    }\r\n\r\n    len = this.threeDElements.length;\r\n\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\r\n    var i = 0;\r\n    var len = this.threeDElements.length;\r\n\r\n    while (i < len) {\r\n      if (pos <= this.threeDElements[i].endPos) {\r\n        var j = this.threeDElements[i].startPos;\r\n        var nextElement;\r\n\r\n        while (j < pos) {\r\n          if (this.elements[j] && this.elements[j].getBaseElement) {\r\n            nextElement = this.elements[j].getBaseElement();\r\n          }\r\n\r\n          j += 1;\r\n        }\r\n\r\n        if (nextElement) {\r\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n        } else {\r\n          this.threeDElements[i].container.appendChild(elem);\r\n        }\r\n\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.configAnimation = function (animData) {\r\n    var resizerElem = createTag('div');\r\n    var wrapper = this.animationItem.wrapper;\r\n    var style = resizerElem.style;\r\n    style.width = animData.w + 'px';\r\n    style.height = animData.h + 'px';\r\n    this.resizerElem = resizerElem;\r\n    styleDiv(resizerElem);\r\n    style.transformStyle = 'flat';\r\n    style.mozTransformStyle = 'flat';\r\n    style.webkitTransformStyle = 'flat';\r\n\r\n    if (this.renderConfig.className) {\r\n      resizerElem.setAttribute('class', this.renderConfig.className);\r\n    }\r\n\r\n    wrapper.appendChild(resizerElem);\r\n    style.overflow = 'hidden';\r\n    var svg = createNS('svg');\r\n    svg.setAttribute('width', '1');\r\n    svg.setAttribute('height', '1');\r\n    styleDiv(svg);\r\n    this.resizerElem.appendChild(svg);\r\n    var defs = createNS('defs');\r\n    svg.appendChild(defs);\r\n    this.data = animData; // Mask animation\r\n\r\n    this.setupGlobalData(animData, svg);\r\n    this.globalData.defs = defs;\r\n    this.layers = animData.layers;\r\n    this.layerElement = this.resizerElem;\r\n    this.build3dContainers();\r\n    this.updateContainerSize();\r\n  };\r\n\r\n  HybridRendererBase.prototype.destroy = function () {\r\n    if (this.animationItem.wrapper) {\r\n      this.animationItem.wrapper.innerText = '';\r\n    }\r\n\r\n    this.animationItem.container = null;\r\n    this.globalData.defs = null;\r\n    var i;\r\n    var len = this.layers ? this.layers.length : 0;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      this.elements[i].destroy();\r\n    }\r\n\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n  };\r\n\r\n  HybridRendererBase.prototype.updateContainerSize = function () {\r\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    var elementRel = elementWidth / elementHeight;\r\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n    var sx;\r\n    var sy;\r\n    var tx;\r\n    var ty;\r\n\r\n    if (animationRel > elementRel) {\r\n      sx = elementWidth / this.globalData.compSize.w;\r\n      sy = elementWidth / this.globalData.compSize.w;\r\n      tx = 0;\r\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\r\n    } else {\r\n      sx = elementHeight / this.globalData.compSize.h;\r\n      sy = elementHeight / this.globalData.compSize.h;\r\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n      ty = 0;\r\n    }\r\n\r\n    var style = this.resizerElem.style;\r\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n    style.transform = style.webkitTransform;\r\n  };\r\n\r\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\n  HybridRendererBase.prototype.hide = function () {\r\n    this.resizerElem.style.display = 'none';\r\n  };\r\n\r\n  HybridRendererBase.prototype.show = function () {\r\n    this.resizerElem.style.display = 'block';\r\n  };\r\n\r\n  HybridRendererBase.prototype.initItems = function () {\r\n    this.buildAllItems();\r\n\r\n    if (this.camera) {\r\n      this.camera.setup();\r\n    } else {\r\n      var cWidth = this.globalData.compSize.w;\r\n      var cHeight = this.globalData.compSize.h;\r\n      var i;\r\n      var len = this.threeDElements.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        var style = this.threeDElements[i].perspectiveElem.style;\r\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n        style.perspective = style.webkitPerspective;\r\n      }\r\n    }\r\n  };\r\n\r\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\r\n    var i;\r\n    var len = assets.length;\r\n    var floatingContainer = createTag('div');\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (assets[i].xt) {\r\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n        comp.initExpressions();\r\n        this.globalData.projectInterface.registerComposition(comp);\r\n      }\r\n    }\r\n  };\r\n\r\n  function HCompElement(data, globalData, comp) {\r\n    this.layers = data.layers;\r\n    this.supports3d = !data.hasMask;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\r\n      _placeholder: true\r\n    };\r\n  }\r\n\r\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\r\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\n  HCompElement.prototype.createContainerElements = function () {\r\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n\r\n\r\n    if (this.data.hasMask) {\r\n      this.svgElement.setAttribute('width', this.data.w);\r\n      this.svgElement.setAttribute('height', this.data.h);\r\n      this.transformedElement = this.baseElement;\r\n    } else {\r\n      this.transformedElement = this.layerElement;\r\n    }\r\n  };\r\n\r\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n    var j = 0;\r\n    var nextElement;\r\n\r\n    while (j < pos) {\r\n      if (this.elements[j] && this.elements[j].getBaseElement) {\r\n        nextElement = this.elements[j].getBaseElement();\r\n      }\r\n\r\n      j += 1;\r\n    }\r\n\r\n    if (nextElement) {\r\n      this.layerElement.insertBefore(elem, nextElement);\r\n    } else {\r\n      this.layerElement.appendChild(elem);\r\n    }\r\n  };\r\n\r\n  HCompElement.prototype.createComp = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  function HybridRenderer(animationItem, config) {\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n      className: config && config.className || '',\r\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\r\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n      filterSize: {\r\n        width: config && config.filterSize && config.filterSize.width || '400%',\r\n        height: config && config.filterSize && config.filterSize.height || '400%',\r\n        x: config && config.filterSize && config.filterSize.x || '-100%',\r\n        y: config && config.filterSize && config.filterSize.y || '-100%'\r\n      },\r\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\r\n    };\r\n    this.globalData = {\r\n      _mdf: false,\r\n      frameNum: -1,\r\n      renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n    this.rendererType = 'html';\r\n  }\r\n\r\n  extendPrototype([HybridRendererBase], HybridRenderer);\r\n\r\n  HybridRenderer.prototype.createComp = function (data) {\r\n    if (!this.supports3d) {\r\n      return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n\r\n    return new HCompElement(data, this.globalData, this);\r\n  };\r\n\r\n  var CompExpressionInterface = function () {\r\n    return function (comp) {\r\n      function _thisLayerFunction(name) {\r\n        var i = 0;\r\n        var len = comp.layers.length;\r\n\r\n        while (i < len) {\r\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n            return comp.elements[i].layerInterface;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null; // return {active:false};\r\n      }\r\n\r\n      Object.defineProperty(_thisLayerFunction, '_name', {\r\n        value: comp.data.nm\r\n      });\r\n      _thisLayerFunction.layer = _thisLayerFunction;\r\n      _thisLayerFunction.pixelAspect = 1;\r\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n      _thisLayerFunction.pixelAspect = 1;\r\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n      _thisLayerFunction.displayStartTime = 0;\r\n      _thisLayerFunction.numLayers = comp.layers.length;\r\n      return _thisLayerFunction;\r\n    };\r\n  }();\r\n\r\n  var Expressions = function () {\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n\r\n    function initExpressions(animation) {\r\n      var stackCount = 0;\r\n      var registers = [];\r\n\r\n      function pushExpression() {\r\n        stackCount += 1;\r\n      }\r\n\r\n      function popExpression() {\r\n        stackCount -= 1;\r\n\r\n        if (stackCount === 0) {\r\n          releaseInstances();\r\n        }\r\n      }\r\n\r\n      function registerExpressionProperty(expression) {\r\n        if (registers.indexOf(expression) === -1) {\r\n          registers.push(expression);\r\n        }\r\n      }\r\n\r\n      function releaseInstances() {\r\n        var i;\r\n        var len = registers.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          registers[i].release();\r\n        }\r\n\r\n        registers.length = 0;\r\n      }\r\n\r\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n      animation.renderer.globalData.pushExpression = pushExpression;\r\n      animation.renderer.globalData.popExpression = popExpression;\r\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var MaskManagerInterface = function () {\r\n    function MaskInterface(mask, data) {\r\n      this._mask = mask;\r\n      this._data = data;\r\n    }\r\n\r\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n      get: function get() {\r\n        if (this._mask.prop.k) {\r\n          this._mask.prop.getValue();\r\n        }\r\n\r\n        return this._mask.prop;\r\n      }\r\n    });\r\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n      get: function get() {\r\n        if (this._mask.op.k) {\r\n          this._mask.op.getValue();\r\n        }\r\n\r\n        return this._mask.op.v * 100;\r\n      }\r\n    });\r\n\r\n    var MaskManager = function MaskManager(maskManager) {\r\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\r\n      var i;\r\n      var len = maskManager.viewData.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n      }\r\n\r\n      var maskFunction = function maskFunction(name) {\r\n        i = 0;\r\n\r\n        while (i < len) {\r\n          if (maskManager.masksProperties[i].nm === name) {\r\n            return _masksInterfaces[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null;\r\n      };\r\n\r\n      return maskFunction;\r\n    };\r\n\r\n    return MaskManager;\r\n  }();\r\n\r\n  var ExpressionPropertyInterface = function () {\r\n    var defaultUnidimensionalValue = {\r\n      pv: 0,\r\n      v: 0,\r\n      mult: 1\r\n    };\r\n    var defaultMultidimensionalValue = {\r\n      pv: [0, 0, 0],\r\n      v: [0, 0, 0],\r\n      mult: 1\r\n    };\r\n\r\n    function completeProperty(expressionValue, property, type) {\r\n      Object.defineProperty(expressionValue, 'velocity', {\r\n        get: function get() {\r\n          return property.getVelocityAtTime(property.comp.currentFrame);\r\n        }\r\n      });\r\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n\r\n      expressionValue.key = function (pos) {\r\n        if (!expressionValue.numKeys) {\r\n          return 0;\r\n        }\r\n\r\n        var value = '';\r\n\r\n        if ('s' in property.keyframes[pos - 1]) {\r\n          value = property.keyframes[pos - 1].s;\r\n        } else if ('e' in property.keyframes[pos - 2]) {\r\n          value = property.keyframes[pos - 2].e;\r\n        } else {\r\n          value = property.keyframes[pos - 2].s;\r\n        }\r\n\r\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n\r\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n        return valueProp;\r\n      };\r\n\r\n      expressionValue.valueAtTime = property.getValueAtTime;\r\n      expressionValue.speedAtTime = property.getSpeedAtTime;\r\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n      expressionValue.propertyGroup = property.propertyGroup;\r\n    }\r\n\r\n    function UnidimensionalPropertyInterface(property) {\r\n      if (!property || !('pv' in property)) {\r\n        property = defaultUnidimensionalValue;\r\n      }\r\n\r\n      var mult = 1 / property.mult;\r\n      var val = property.pv * mult;\r\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n\r\n      expressionValue.value = val;\r\n      completeProperty(expressionValue, property, 'unidimensional');\r\n      return function () {\r\n        if (property.k) {\r\n          property.getValue();\r\n        }\r\n\r\n        val = property.v * mult;\r\n\r\n        if (expressionValue.value !== val) {\r\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n\r\n          expressionValue.value = val;\r\n          completeProperty(expressionValue, property, 'unidimensional');\r\n        }\r\n\r\n        return expressionValue;\r\n      };\r\n    }\r\n\r\n    function MultidimensionalPropertyInterface(property) {\r\n      if (!property || !('pv' in property)) {\r\n        property = defaultMultidimensionalValue;\r\n      }\r\n\r\n      var mult = 1 / property.mult;\r\n      var len = property.data && property.data.l || property.pv.length;\r\n      var expressionValue = createTypedArray('float32', len);\r\n      var arrValue = createTypedArray('float32', len);\r\n      expressionValue.value = arrValue;\r\n      completeProperty(expressionValue, property, 'multidimensional');\r\n      return function () {\r\n        if (property.k) {\r\n          property.getValue();\r\n        }\r\n\r\n        for (var i = 0; i < len; i += 1) {\r\n          arrValue[i] = property.v[i] * mult;\r\n          expressionValue[i] = arrValue[i];\r\n        }\r\n\r\n        return expressionValue;\r\n      };\r\n    } // TODO: try to avoid using this getter\r\n\r\n\r\n    function defaultGetter() {\r\n      return defaultUnidimensionalValue;\r\n    }\r\n\r\n    return function (property) {\r\n      if (!property) {\r\n        return defaultGetter;\r\n      }\r\n\r\n      if (property.propType === 'unidimensional') {\r\n        return UnidimensionalPropertyInterface(property);\r\n      }\r\n\r\n      return MultidimensionalPropertyInterface(property);\r\n    };\r\n  }();\r\n\r\n  var TransformExpressionInterface = function () {\r\n    return function (transform) {\r\n      function _thisFunction(name) {\r\n        switch (name) {\r\n          case 'scale':\r\n          case 'Scale':\r\n          case 'ADBE Scale':\r\n          case 6:\r\n            return _thisFunction.scale;\r\n\r\n          case 'rotation':\r\n          case 'Rotation':\r\n          case 'ADBE Rotation':\r\n          case 'ADBE Rotate Z':\r\n          case 10:\r\n            return _thisFunction.rotation;\r\n\r\n          case 'ADBE Rotate X':\r\n            return _thisFunction.xRotation;\r\n\r\n          case 'ADBE Rotate Y':\r\n            return _thisFunction.yRotation;\r\n\r\n          case 'position':\r\n          case 'Position':\r\n          case 'ADBE Position':\r\n          case 2:\r\n            return _thisFunction.position;\r\n\r\n          case 'ADBE Position_0':\r\n            return _thisFunction.xPosition;\r\n\r\n          case 'ADBE Position_1':\r\n            return _thisFunction.yPosition;\r\n\r\n          case 'ADBE Position_2':\r\n            return _thisFunction.zPosition;\r\n\r\n          case 'anchorPoint':\r\n          case 'AnchorPoint':\r\n          case 'Anchor Point':\r\n          case 'ADBE AnchorPoint':\r\n          case 1:\r\n            return _thisFunction.anchorPoint;\r\n\r\n          case 'opacity':\r\n          case 'Opacity':\r\n          case 11:\r\n            return _thisFunction.opacity;\r\n\r\n          default:\r\n            return null;\r\n        }\r\n      }\r\n\r\n      Object.defineProperty(_thisFunction, 'rotation', {\r\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'zRotation', {\r\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'xRotation', {\r\n        get: ExpressionPropertyInterface(transform.rx)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'yRotation', {\r\n        get: ExpressionPropertyInterface(transform.ry)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'scale', {\r\n        get: ExpressionPropertyInterface(transform.s)\r\n      });\r\n\r\n      var _px;\r\n\r\n      var _py;\r\n\r\n      var _pz;\r\n\r\n      var _transformFactory;\r\n\r\n      if (transform.p) {\r\n        _transformFactory = ExpressionPropertyInterface(transform.p);\r\n      } else {\r\n        _px = ExpressionPropertyInterface(transform.px);\r\n        _py = ExpressionPropertyInterface(transform.py);\r\n\r\n        if (transform.pz) {\r\n          _pz = ExpressionPropertyInterface(transform.pz);\r\n        }\r\n      }\r\n\r\n      Object.defineProperty(_thisFunction, 'position', {\r\n        get: function get() {\r\n          if (transform.p) {\r\n            return _transformFactory();\r\n          }\r\n\r\n          return [_px(), _py(), _pz ? _pz() : 0];\r\n        }\r\n      });\r\n      Object.defineProperty(_thisFunction, 'xPosition', {\r\n        get: ExpressionPropertyInterface(transform.px)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'yPosition', {\r\n        get: ExpressionPropertyInterface(transform.py)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'zPosition', {\r\n        get: ExpressionPropertyInterface(transform.pz)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n        get: ExpressionPropertyInterface(transform.a)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'opacity', {\r\n        get: ExpressionPropertyInterface(transform.o)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'skew', {\r\n        get: ExpressionPropertyInterface(transform.sk)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'skewAxis', {\r\n        get: ExpressionPropertyInterface(transform.sa)\r\n      });\r\n      Object.defineProperty(_thisFunction, 'orientation', {\r\n        get: ExpressionPropertyInterface(transform.or)\r\n      });\r\n      return _thisFunction;\r\n    };\r\n  }();\r\n\r\n  var LayerExpressionInterface = function () {\r\n    function getMatrix(time) {\r\n      var toWorldMat = new Matrix();\r\n\r\n      if (time !== undefined) {\r\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n\r\n        propMatrix.clone(toWorldMat);\r\n      } else {\r\n        var transformMat = this._elem.finalTransform.mProp;\r\n        transformMat.applyToMatrix(toWorldMat);\r\n      }\r\n\r\n      return toWorldMat;\r\n    }\r\n\r\n    function toWorldVec(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      toWorldMat.props[12] = 0;\r\n      toWorldMat.props[13] = 0;\r\n      toWorldMat.props[14] = 0;\r\n      return this.applyPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function toWorld(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      return this.applyPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function fromWorldVec(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      toWorldMat.props[12] = 0;\r\n      toWorldMat.props[13] = 0;\r\n      toWorldMat.props[14] = 0;\r\n      return this.invertPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function fromWorld(arr, time) {\r\n      var toWorldMat = this.getMatrix(time);\r\n      return this.invertPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function applyPoint(matrix, arr) {\r\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n        var i;\r\n        var len = this._elem.hierarchy.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n        }\r\n      }\r\n\r\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n    }\r\n\r\n    function invertPoint(matrix, arr) {\r\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n        var i;\r\n        var len = this._elem.hierarchy.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n        }\r\n      }\r\n\r\n      return matrix.inversePoint(arr);\r\n    }\r\n\r\n    function fromComp(arr) {\r\n      var toWorldMat = new Matrix();\r\n      toWorldMat.reset();\r\n\r\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n\r\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n        var i;\r\n        var len = this._elem.hierarchy.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        }\r\n\r\n        return toWorldMat.inversePoint(arr);\r\n      }\r\n\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n    function sampleImage() {\r\n      return [1, 1, 1, 1];\r\n    }\r\n\r\n    return function (elem) {\r\n      var transformInterface;\r\n\r\n      function _registerMaskInterface(maskManager) {\r\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n      }\r\n\r\n      function _registerEffectsInterface(effects) {\r\n        _thisLayerFunction.effect = effects;\r\n      }\r\n\r\n      function _thisLayerFunction(name) {\r\n        switch (name) {\r\n          case 'ADBE Root Vectors Group':\r\n          case 'Contents':\r\n          case 2:\r\n            return _thisLayerFunction.shapeInterface;\r\n\r\n          case 1:\r\n          case 6:\r\n          case 'Transform':\r\n          case 'transform':\r\n          case 'ADBE Transform Group':\r\n            return transformInterface;\r\n\r\n          case 4:\r\n          case 'ADBE Effect Parade':\r\n          case 'effects':\r\n          case 'Effects':\r\n            return _thisLayerFunction.effect;\r\n\r\n          case 'ADBE Text Properties':\r\n            return _thisLayerFunction.textInterface;\r\n\r\n          default:\r\n            return null;\r\n        }\r\n      }\r\n\r\n      _thisLayerFunction.getMatrix = getMatrix;\r\n      _thisLayerFunction.invertPoint = invertPoint;\r\n      _thisLayerFunction.applyPoint = applyPoint;\r\n      _thisLayerFunction.toWorld = toWorld;\r\n      _thisLayerFunction.toWorldVec = toWorldVec;\r\n      _thisLayerFunction.fromWorld = fromWorld;\r\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n      _thisLayerFunction.toComp = toWorld;\r\n      _thisLayerFunction.fromComp = fromComp;\r\n      _thisLayerFunction.sampleImage = sampleImage;\r\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n      _thisLayerFunction._elem = elem;\r\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n      Object.defineProperties(_thisLayerFunction, {\r\n        hasParent: {\r\n          get: function get() {\r\n            return elem.hierarchy.length;\r\n          }\r\n        },\r\n        parent: {\r\n          get: function get() {\r\n            return elem.hierarchy[0].layerInterface;\r\n          }\r\n        },\r\n        rotation: getDescriptor(transformInterface, 'rotation'),\r\n        scale: getDescriptor(transformInterface, 'scale'),\r\n        position: getDescriptor(transformInterface, 'position'),\r\n        opacity: getDescriptor(transformInterface, 'opacity'),\r\n        anchorPoint: anchorPointDescriptor,\r\n        anchor_point: anchorPointDescriptor,\r\n        transform: {\r\n          get: function get() {\r\n            return transformInterface;\r\n          }\r\n        },\r\n        active: {\r\n          get: function get() {\r\n            return elem.isInRange;\r\n          }\r\n        }\r\n      });\r\n      _thisLayerFunction.startTime = elem.data.st;\r\n      _thisLayerFunction.index = elem.data.ind;\r\n      _thisLayerFunction.source = elem.data.refId;\r\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n      _thisLayerFunction._name = elem.data.nm;\r\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n      return _thisLayerFunction;\r\n    };\r\n  }();\r\n\r\n  var propertyGroupFactory = function () {\r\n    return function (interfaceFunction, parentPropertyGroup) {\r\n      return function (val) {\r\n        val = val === undefined ? 1 : val;\r\n\r\n        if (val <= 0) {\r\n          return interfaceFunction;\r\n        }\r\n\r\n        return parentPropertyGroup(val - 1);\r\n      };\r\n    };\r\n  }();\r\n\r\n  var PropertyInterface = function () {\r\n    return function (propertyName, propertyGroup) {\r\n      var interfaceFunction = {\r\n        _name: propertyName\r\n      };\r\n\r\n      function _propertyGroup(val) {\r\n        val = val === undefined ? 1 : val;\r\n\r\n        if (val <= 0) {\r\n          return interfaceFunction;\r\n        }\r\n\r\n        return propertyGroup(val - 1);\r\n      }\r\n\r\n      return _propertyGroup;\r\n    };\r\n  }();\r\n\r\n  var EffectsExpressionInterface = function () {\r\n    var ob = {\r\n      createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup) {\r\n      if (elem.effectsManager) {\r\n        var effectElements = [];\r\n        var effectsData = elem.data.ef;\r\n        var i;\r\n        var len = elem.effectsManager.effectElements.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n        }\r\n\r\n        var effects = elem.data.ef || [];\r\n\r\n        var groupInterface = function groupInterface(name) {\r\n          i = 0;\r\n          len = effects.length;\r\n\r\n          while (i < len) {\r\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n              return effectElements[i];\r\n            }\r\n\r\n            i += 1;\r\n          }\r\n\r\n          return null;\r\n        };\r\n\r\n        Object.defineProperty(groupInterface, 'numProperties', {\r\n          get: function get() {\r\n            return effects.length;\r\n          }\r\n        });\r\n        return groupInterface;\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    function createGroupInterface(data, elements, propertyGroup, elem) {\r\n      function groupInterface(name) {\r\n        var effects = data.ef;\r\n        var i = 0;\r\n        var len = effects.length;\r\n\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            if (effects[i].ty === 5) {\r\n              return effectElements[i];\r\n            }\r\n\r\n            return effectElements[i]();\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        throw new Error();\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n      var effectElements = [];\r\n      var i;\r\n      var len = data.ef.length;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (data.ef[i].ty === 5) {\r\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n        } else {\r\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n        }\r\n      }\r\n\r\n      if (data.mn === 'ADBE Color Control') {\r\n        Object.defineProperty(groupInterface, 'color', {\r\n          get: function get() {\r\n            return effectElements[0]();\r\n          }\r\n        });\r\n      }\r\n\r\n      Object.defineProperties(groupInterface, {\r\n        numProperties: {\r\n          get: function get() {\r\n            return data.np;\r\n          }\r\n        },\r\n        _name: {\r\n          value: data.nm\r\n        },\r\n        propertyGroup: {\r\n          value: _propertyGroup\r\n        }\r\n      });\r\n      groupInterface.enabled = data.en !== 0;\r\n      groupInterface.active = groupInterface.enabled;\r\n      return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup) {\r\n      var expressionProperty = ExpressionPropertyInterface(element.p);\r\n\r\n      function interfaceFunction() {\r\n        if (type === 10) {\r\n          return elem.comp.compInterface(element.p.v);\r\n        }\r\n\r\n        return expressionProperty();\r\n      }\r\n\r\n      if (element.p.setGroupProperty) {\r\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n      }\r\n\r\n      return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n  }();\r\n\r\n  var ShapePathInterface = function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function get() {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n\r\n            return prop;\r\n          }\r\n        },\r\n        shape: {\r\n          get: function get() {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n\r\n            return prop;\r\n          }\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        ix: {\r\n          value: shape.ix\r\n        },\r\n        propertyIndex: {\r\n          value: shape.ix\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        },\r\n        propertyGroup: {\r\n          value: propertyGroup\r\n        }\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }();\r\n\r\n  var ShapeExpressionInterface = function () {\r\n    function iterateElements(shapes, view, propertyGroup) {\r\n      var arr = [];\r\n      var i;\r\n      var len = shapes ? shapes.length : 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        if (shapes[i].ty === 'gr') {\r\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'fl') {\r\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'st') {\r\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'tm') {\r\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n        } else if (shapes[i].ty === 'el') {\r\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'sr') {\r\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'sh') {\r\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'rc') {\r\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'rd') {\r\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'rp') {\r\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else if (shapes[i].ty === 'gf') {\r\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        } else {\r\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n        }\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n      var interfaces;\r\n\r\n      var interfaceFunction = function _interfaceFunction(value) {\r\n        var i = 0;\r\n        var len = interfaces.length;\r\n\r\n        while (i < len) {\r\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n            return interfaces[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (typeof value === 'number') {\r\n          return interfaces[value - 1];\r\n        }\r\n\r\n        return null;\r\n      };\r\n\r\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n      interfaceFunction.numProperties = interfaces.length;\r\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n      interfaceFunction.transform = transformInterface;\r\n      interfaceFunction.propertyIndex = shape.cix;\r\n      interfaceFunction._name = shape.nm;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function groupInterfaceFactory(shape, view, propertyGroup) {\r\n      var interfaceFunction = function _interfaceFunction(value) {\r\n        switch (value) {\r\n          case 'ADBE Vectors Group':\r\n          case 'Contents':\r\n          case 2:\r\n            return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n\r\n          default:\r\n            return interfaceFunction.transform;\r\n        }\r\n      };\r\n\r\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n      interfaceFunction.content = content;\r\n      interfaceFunction.transform = transformInterface;\r\n      Object.defineProperty(interfaceFunction, '_name', {\r\n        get: function get() {\r\n          return shape.nm;\r\n        }\r\n      }); // interfaceFunction.content = interfaceFunction;\r\n\r\n      interfaceFunction.numProperties = shape.np;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      interfaceFunction.nm = shape.nm;\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(val) {\r\n        if (val === 'Color' || val === 'color') {\r\n          return interfaceFunction.color;\r\n        }\r\n\r\n        if (val === 'Opacity' || val === 'opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        color: {\r\n          get: ExpressionPropertyInterface(view.c)\r\n        },\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        }\r\n      });\r\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(val) {\r\n        if (val === 'Start Point' || val === 'start point') {\r\n          return interfaceFunction.startPoint;\r\n        }\r\n\r\n        if (val === 'End Point' || val === 'end point') {\r\n          return interfaceFunction.endPoint;\r\n        }\r\n\r\n        if (val === 'Opacity' || val === 'opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        startPoint: {\r\n          get: ExpressionPropertyInterface(view.s)\r\n        },\r\n        endPoint: {\r\n          get: ExpressionPropertyInterface(view.e)\r\n        },\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        type: {\r\n          get: function get() {\r\n            return 'a';\r\n          }\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        }\r\n      });\r\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\r\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function defaultInterfaceFactory() {\r\n      function interfaceFunction() {\r\n        return null;\r\n      }\r\n\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n\r\n      function addPropertyToDashOb(i) {\r\n        Object.defineProperty(dashOb, shape.d[i].nm, {\r\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\r\n        });\r\n      }\r\n\r\n      var i;\r\n      var len = shape.d ? shape.d.length : 0;\r\n      var dashOb = {};\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        addPropertyToDashOb(i);\r\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n      }\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Color' || val === 'color') {\r\n          return interfaceFunction.color;\r\n        }\r\n\r\n        if (val === 'Opacity' || val === 'opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        if (val === 'Stroke Width' || val === 'stroke width') {\r\n          return interfaceFunction.strokeWidth;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        color: {\r\n          get: ExpressionPropertyInterface(view.c)\r\n        },\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        strokeWidth: {\r\n          get: ExpressionPropertyInterface(view.w)\r\n        },\r\n        dash: {\r\n          get: function get() {\r\n            return dashOb;\r\n          }\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        },\r\n        mn: {\r\n          value: shape.mn\r\n        }\r\n      });\r\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(val) {\r\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n          return interfaceFunction.end;\r\n        }\r\n\r\n        if (val === shape.s.ix) {\r\n          return interfaceFunction.start;\r\n        }\r\n\r\n        if (val === shape.o.ix) {\r\n          return interfaceFunction.offset;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      interfaceFunction.propertyGroup = propertyGroup;\r\n      Object.defineProperties(interfaceFunction, {\r\n        start: {\r\n          get: ExpressionPropertyInterface(view.s)\r\n        },\r\n        end: {\r\n          get: ExpressionPropertyInterface(view.e)\r\n        },\r\n        offset: {\r\n          get: ExpressionPropertyInterface(view.o)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.a.ix === value || value === 'Anchor Point') {\r\n          return interfaceFunction.anchorPoint;\r\n        }\r\n\r\n        if (shape.o.ix === value || value === 'Opacity') {\r\n          return interfaceFunction.opacity;\r\n        }\r\n\r\n        if (shape.p.ix === value || value === 'Position') {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n          return interfaceFunction.rotation;\r\n        }\r\n\r\n        if (shape.s.ix === value || value === 'Scale') {\r\n          return interfaceFunction.scale;\r\n        }\r\n\r\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\r\n          return interfaceFunction.skew;\r\n        }\r\n\r\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\r\n          return interfaceFunction.skewAxis;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n      if (view.transform.mProps.sk) {\r\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n      }\r\n\r\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        opacity: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\r\n        },\r\n        position: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\r\n        },\r\n        anchorPoint: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\r\n        },\r\n        scale: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\r\n        },\r\n        rotation: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\r\n        },\r\n        skew: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\r\n        },\r\n        skewAxis: {\r\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.ty = 'tr';\r\n      interfaceFunction.mn = shape.mn;\r\n      interfaceFunction.propertyGroup = propertyGroup;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.p.ix === value) {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.s.ix === value) {\r\n          return interfaceFunction.size;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        size: {\r\n          get: ExpressionPropertyInterface(prop.s)\r\n        },\r\n        position: {\r\n          get: ExpressionPropertyInterface(prop.p)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.p.ix === value) {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.r.ix === value) {\r\n          return interfaceFunction.rotation;\r\n        }\r\n\r\n        if (shape.pt.ix === value) {\r\n          return interfaceFunction.points;\r\n        }\r\n\r\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n          return interfaceFunction.outerRadius;\r\n        }\r\n\r\n        if (shape.os.ix === value) {\r\n          return interfaceFunction.outerRoundness;\r\n        }\r\n\r\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n          return interfaceFunction.innerRadius;\r\n        }\r\n\r\n        if (shape.is && shape.is.ix === value) {\r\n          return interfaceFunction.innerRoundness;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n      if (shape.ir) {\r\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n      }\r\n\r\n      Object.defineProperties(interfaceFunction, {\r\n        position: {\r\n          get: ExpressionPropertyInterface(prop.p)\r\n        },\r\n        rotation: {\r\n          get: ExpressionPropertyInterface(prop.r)\r\n        },\r\n        points: {\r\n          get: ExpressionPropertyInterface(prop.pt)\r\n        },\r\n        outerRadius: {\r\n          get: ExpressionPropertyInterface(prop.or)\r\n        },\r\n        outerRoundness: {\r\n          get: ExpressionPropertyInterface(prop.os)\r\n        },\r\n        innerRadius: {\r\n          get: ExpressionPropertyInterface(prop.ir)\r\n        },\r\n        innerRoundness: {\r\n          get: ExpressionPropertyInterface(prop.is)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.p.ix === value) {\r\n          return interfaceFunction.position;\r\n        }\r\n\r\n        if (shape.r.ix === value) {\r\n          return interfaceFunction.roundness;\r\n        }\r\n\r\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n          return interfaceFunction.size;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        position: {\r\n          get: ExpressionPropertyInterface(prop.p)\r\n        },\r\n        roundness: {\r\n          get: ExpressionPropertyInterface(prop.r)\r\n        },\r\n        size: {\r\n          get: ExpressionPropertyInterface(prop.s)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.r.ix === value || value === 'Round Corners 1') {\r\n          return interfaceFunction.radius;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        radius: {\r\n          get: ExpressionPropertyInterface(prop.rd)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n      function interfaceFunction(value) {\r\n        if (shape.c.ix === value || value === 'Copies') {\r\n          return interfaceFunction.copies;\r\n        }\r\n\r\n        if (shape.o.ix === value || value === 'Offset') {\r\n          return interfaceFunction.offset;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n      var prop = view;\r\n      interfaceFunction.propertyIndex = shape.ix;\r\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        copies: {\r\n          get: ExpressionPropertyInterface(prop.c)\r\n        },\r\n        offset: {\r\n          get: ExpressionPropertyInterface(prop.o)\r\n        },\r\n        _name: {\r\n          value: shape.nm\r\n        }\r\n      });\r\n      interfaceFunction.mn = shape.mn;\r\n      return interfaceFunction;\r\n    }\r\n\r\n    return function (shapes, view, propertyGroup) {\r\n      var interfaces;\r\n\r\n      function _interfaceFunction(value) {\r\n        if (typeof value === 'number') {\r\n          value = value === undefined ? 1 : value;\r\n\r\n          if (value === 0) {\r\n            return propertyGroup;\r\n          }\r\n\r\n          return interfaces[value - 1];\r\n        }\r\n\r\n        var i = 0;\r\n        var len = interfaces.length;\r\n\r\n        while (i < len) {\r\n          if (interfaces[i]._name === value) {\r\n            return interfaces[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      function parentGroupWrapper() {\r\n        return propertyGroup;\r\n      }\r\n\r\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n      _interfaceFunction.numProperties = interfaces.length;\r\n      _interfaceFunction._name = 'Contents';\r\n      return _interfaceFunction;\r\n    };\r\n  }();\r\n\r\n  var TextExpressionInterface = function () {\r\n    return function (elem) {\r\n      var _prevValue;\r\n\r\n      var _sourceText;\r\n\r\n      function _thisLayerFunction(name) {\r\n        switch (name) {\r\n          case 'ADBE Text Document':\r\n            return _thisLayerFunction.sourceText;\r\n\r\n          default:\r\n            return null;\r\n        }\r\n      }\r\n\r\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n        get: function get() {\r\n          elem.textProperty.getValue();\r\n          var stringValue = elem.textProperty.currentData.t;\r\n\r\n          if (stringValue !== _prevValue) {\r\n            elem.textProperty.currentData.t = _prevValue;\r\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n\r\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n          }\r\n\r\n          return _sourceText;\r\n        }\r\n      });\r\n      return _thisLayerFunction;\r\n    };\r\n  }();\r\n\r\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\r\n\r\n  var FootageInterface = function () {\r\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\r\n      var currentPropertyName = '';\r\n      var currentProperty = elem.getFootageData();\r\n\r\n      function init() {\r\n        currentPropertyName = '';\r\n        currentProperty = elem.getFootageData();\r\n        return searchProperty;\r\n      }\r\n\r\n      function searchProperty(value) {\r\n        if (currentProperty[value]) {\r\n          currentPropertyName = value;\r\n          currentProperty = currentProperty[value];\r\n\r\n          if (_typeof$2(currentProperty) === 'object') {\r\n            return searchProperty;\r\n          }\r\n\r\n          return currentProperty;\r\n        }\r\n\r\n        var propertyNameIndex = value.indexOf(currentPropertyName);\r\n\r\n        if (propertyNameIndex !== -1) {\r\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\r\n          currentProperty = currentProperty[index];\r\n\r\n          if (_typeof$2(currentProperty) === 'object') {\r\n            return searchProperty;\r\n          }\r\n\r\n          return currentProperty;\r\n        }\r\n\r\n        return '';\r\n      }\r\n\r\n      return init;\r\n    };\r\n\r\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\r\n      function interfaceFunction(value) {\r\n        if (value === 'Outline') {\r\n          return interfaceFunction.outlineInterface();\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      interfaceFunction._name = 'Outline';\r\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\r\n      return interfaceFunction;\r\n    };\r\n\r\n    return function (elem) {\r\n      function _interfaceFunction(value) {\r\n        if (value === 'Data') {\r\n          return _interfaceFunction.dataInterface;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      _interfaceFunction._name = 'Data';\r\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\r\n      return _interfaceFunction;\r\n    };\r\n  }();\r\n\r\n  var interfaces = {\r\n    layer: LayerExpressionInterface,\r\n    effects: EffectsExpressionInterface,\r\n    comp: CompExpressionInterface,\r\n    shape: ShapeExpressionInterface,\r\n    text: TextExpressionInterface,\r\n    footage: FootageInterface\r\n  };\r\n\r\n  function getInterface(type) {\r\n    return interfaces[type] || null;\r\n  }\r\n\r\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\r\n\r\n  /* eslint-disable */\r\n\r\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\r\n  function seedRandom(pool, math) {\r\n    //\r\n    // The following constants are related to IEEE 754 limits.\r\n    //\r\n    var global = this,\r\n        width = 256,\r\n        // each RC4 output is 0 <= x < 256\r\n    chunks = 6,\r\n        // at least six RC4 outputs for each double\r\n    digits = 52,\r\n        // there are 52 significant digits in a double\r\n    rngname = 'random',\r\n        // rngname: name for Math.random and Math.seedrandom\r\n    startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto; // node.js crypto module, initialized at the bottom.\r\n    //\r\n    // seedrandom()\r\n    // This is the seedrandom function described above.\r\n    //\r\n\r\n    function seedrandom(seed, options, callback) {\r\n      var key = [];\r\n      options = options === true ? {\r\n        entropy: true\r\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\r\n\r\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\r\n\r\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\r\n      // randomness in every bit of the mantissa of the IEEE 754 value.\r\n\r\n      var prng = function prng() {\r\n        var n = arc4.g(chunks),\r\n            // Start with a numerator n < 2 ^ 48\r\n        d = startdenom,\r\n            //   and denominator d = 2 ^ 48.\r\n        x = 0; //   and no 'extra last byte'.\r\n\r\n        while (n < significance) {\r\n          // Fill up all significant digits by\r\n          n = (n + x) * width; //   shifting numerator and\r\n\r\n          d *= width; //   denominator and generating a\r\n\r\n          x = arc4.g(1); //   new least-significant-byte.\r\n        }\r\n\r\n        while (n >= overflow) {\r\n          // To avoid rounding up, before adding\r\n          n /= 2; //   last byte, shift everything\r\n\r\n          d /= 2; //   right using integer math until\r\n\r\n          x >>>= 1; //   we have exactly the desired bits.\r\n        }\r\n\r\n        return (n + x) / d; // Form the number within [0, 1).\r\n      };\r\n\r\n      prng.int32 = function () {\r\n        return arc4.g(4) | 0;\r\n      };\r\n\r\n      prng.quick = function () {\r\n        return arc4.g(4) / 0x100000000;\r\n      };\r\n\r\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\r\n\r\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\r\n\r\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\r\n        if (state) {\r\n          // Load the arc4 state from the given state if it has an S array.\r\n          if (state.S) {\r\n            copy(state, arc4);\r\n          } // Only provide the .state method if requested via options.state.\r\n\r\n\r\n          prng.state = function () {\r\n            return copy(arc4, {});\r\n          };\r\n        } // If called as a method of Math (Math.seedrandom()), mutate\r\n        // Math.random because that is how seedrandom.js has worked since v1.0.\r\n\r\n\r\n        if (is_math_call) {\r\n          math[rngname] = prng;\r\n          return seed;\r\n        } // Otherwise, it is a newer calling convention, so return the\r\n        // prng directly.\r\n        else return prng;\r\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\r\n    }\r\n\r\n    math['seed' + rngname] = seedrandom; //\r\n    // ARC4\r\n    //\r\n    // An ARC4 implementation.  The constructor takes a key in the form of\r\n    // an array of at most (width) integers that should be 0 <= x < (width).\r\n    //\r\n    // The g(count) method returns a pseudorandom integer that concatenates\r\n    // the next (count) outputs from ARC4.  Its return value is a number x\r\n    // that is in the range 0 <= x < (width ^ count).\r\n    //\r\n\r\n    function ARC4(key) {\r\n      var t,\r\n          keylen = key.length,\r\n          me = this,\r\n          i = 0,\r\n          j = me.i = me.j = 0,\r\n          s = me.S = []; // The empty key [] is treated as [0].\r\n\r\n      if (!keylen) {\r\n        key = [keylen++];\r\n      } // Set up S using the standard key scheduling algorithm.\r\n\r\n\r\n      while (i < width) {\r\n        s[i] = i++;\r\n      }\r\n\r\n      for (i = 0; i < width; i++) {\r\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\r\n        s[j] = t;\r\n      } // The \"g\" method returns the next (count) outputs as one number.\r\n\r\n\r\n      me.g = function (count) {\r\n        // Using instance members instead of closure state nearly doubles speed.\r\n        var t,\r\n            r = 0,\r\n            i = me.i,\r\n            j = me.j,\r\n            s = me.S;\r\n\r\n        while (count--) {\r\n          t = s[i = mask & i + 1];\r\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\r\n        }\r\n\r\n        me.i = i;\r\n        me.j = j;\r\n        return r; // For robust unpredictability, the function call below automatically\r\n        // discards an initial batch of values.  This is called RC4-drop[256].\r\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n      };\r\n    } //\r\n    // copy()\r\n    // Copies internal state of ARC4 to or from a plain object.\r\n    //\r\n\r\n\r\n    function copy(f, t) {\r\n      t.i = f.i;\r\n      t.j = f.j;\r\n      t.S = f.S.slice();\r\n      return t;\r\n    } //\r\n    // flatten()\r\n    // Converts an object tree to nested arrays of strings.\r\n    //\r\n\r\n\r\n    function flatten(obj, depth) {\r\n      var result = [],\r\n          typ = _typeof$1(obj),\r\n          prop;\r\n\r\n      if (depth && typ == 'object') {\r\n        for (prop in obj) {\r\n          try {\r\n            result.push(flatten(obj[prop], depth - 1));\r\n          } catch (e) {}\r\n        }\r\n      }\r\n\r\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\r\n    } //\r\n    // mixkey()\r\n    // Mixes a string seed into a key that is an array of integers, and\r\n    // returns a shortened string seed that is equivalent to the result key.\r\n    //\r\n\r\n\r\n    function mixkey(seed, key) {\r\n      var stringseed = seed + '',\r\n          smear,\r\n          j = 0;\r\n\r\n      while (j < stringseed.length) {\r\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\r\n      }\r\n\r\n      return tostring(key);\r\n    } //\r\n    // autoseed()\r\n    // Returns an object for autoseeding, using window.crypto and Node crypto\r\n    // module if available.\r\n    //\r\n\r\n\r\n    function autoseed() {\r\n      try {\r\n        if (nodecrypto) {\r\n          return tostring(nodecrypto.randomBytes(width));\r\n        }\r\n\r\n        var out = new Uint8Array(width);\r\n        (global.crypto || global.msCrypto).getRandomValues(out);\r\n        return tostring(out);\r\n      } catch (e) {\r\n        var browser = global.navigator,\r\n            plugins = browser && browser.plugins;\r\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n      }\r\n    } //\r\n    // tostring()\r\n    // Converts an array of charcodes to a string\r\n    //\r\n\r\n\r\n    function tostring(a) {\r\n      return String.fromCharCode.apply(0, a);\r\n    } //\r\n    // When seedrandom.js is loaded, we immediately mix a few bits\r\n    // from the built-in RNG into the entropy pool.  Because we do\r\n    // not want to interfere with deterministic PRNG state later,\r\n    // seedrandom will not call math.random on its own again after\r\n    // initialization.\r\n    //\r\n\r\n\r\n    mixkey(math.random(), pool); //\r\n    // Nodejs and AMD support: export the implementation as a module using\r\n    // either convention.\r\n    //\r\n    // End anonymous scope, and pass initial values.\r\n  }\r\n\r\n  ;\r\n\r\n  function initialize$2(BMMath) {\r\n    seedRandom([], BMMath);\r\n  }\r\n\r\n  var propTypes = {\r\n    SHAPE: 'shape'\r\n  };\r\n\r\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\n  var ExpressionManager = function () {\r\n    'use strict';\r\n\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n    var XMLHttpRequest = null;\r\n    var fetch = null;\r\n    var frames = null;\r\n    initialize$2(BMMath);\r\n\r\n    function $bm_isInstanceOfArray(arr) {\r\n      return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function isNumerable(tOfV, v) {\r\n      return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n    }\r\n\r\n    function $bm_neg(a) {\r\n      var tOfA = _typeof(a);\r\n\r\n      if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\r\n        return -a;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a)) {\r\n        var i;\r\n        var lenA = a.length;\r\n        var retArr = [];\r\n\r\n        for (i = 0; i < lenA; i += 1) {\r\n          retArr[i] = -a[i];\r\n        }\r\n\r\n        return retArr;\r\n      }\r\n\r\n      if (a.propType) {\r\n        return a.v;\r\n      }\r\n\r\n      return -a;\r\n    }\r\n\r\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n    function sum(a, b) {\r\n      var tOfA = _typeof(a);\r\n\r\n      var tOfB = _typeof(b);\r\n\r\n      if (tOfA === 'string' || tOfB === 'string') {\r\n        return a + b;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n        return a + b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        a = a.slice(0);\r\n        a[0] += b;\r\n        return a;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        b = b.slice(0);\r\n        b[0] = a + b[0];\r\n        return b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n        var i = 0;\r\n        var lenA = a.length;\r\n        var lenB = b.length;\r\n        var retArr = [];\r\n\r\n        while (i < lenA || i < lenB) {\r\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n            retArr[i] = a[i] + b[i];\r\n          } else {\r\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return retArr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    var add = sum;\r\n\r\n    function sub(a, b) {\r\n      var tOfA = _typeof(a);\r\n\r\n      var tOfB = _typeof(b);\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n        if (tOfA === 'string') {\r\n          a = parseInt(a, 10);\r\n        }\r\n\r\n        if (tOfB === 'string') {\r\n          b = parseInt(b, 10);\r\n        }\r\n\r\n        return a - b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        a = a.slice(0);\r\n        a[0] -= b;\r\n        return a;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        b = b.slice(0);\r\n        b[0] = a - b[0];\r\n        return b;\r\n      }\r\n\r\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n        var i = 0;\r\n        var lenA = a.length;\r\n        var lenB = b.length;\r\n        var retArr = [];\r\n\r\n        while (i < lenA || i < lenB) {\r\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n            retArr[i] = a[i] - b[i];\r\n          } else {\r\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        return retArr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    function mul(a, b) {\r\n      var tOfA = _typeof(a);\r\n\r\n      var tOfB = _typeof(b);\r\n\r\n      var arr;\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n        return a * b;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        len = a.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a[i] * b;\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        len = b.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a * b[i];\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    function div(a, b) {\r\n      var tOfA = _typeof(a);\r\n\r\n      var tOfB = _typeof(b);\r\n\r\n      var arr;\r\n\r\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n        return a / b;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n\r\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n        len = a.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a[i] / b;\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n        len = b.length;\r\n        arr = createTypedArray('float32', len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = a / b[i];\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      return 0;\r\n    }\r\n\r\n    function mod(a, b) {\r\n      if (typeof a === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n\r\n      if (typeof b === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n\r\n      return a % b;\r\n    }\r\n\r\n    var $bm_sum = sum;\r\n    var $bm_sub = sub;\r\n    var $bm_mul = mul;\r\n    var $bm_div = div;\r\n    var $bm_mod = mod;\r\n\r\n    function clamp(num, min, max) {\r\n      if (min > max) {\r\n        var mm = max;\r\n        max = min;\r\n        min = mm;\r\n      }\r\n\r\n      return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n      return val / degToRads;\r\n    }\r\n\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n      return val * degToRads;\r\n    }\r\n\r\n    var degrees_to_radians = radiansToDegrees;\r\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n    function length(arr1, arr2) {\r\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n        arr2 = arr2 || 0;\r\n        return Math.abs(arr1 - arr2);\r\n      }\r\n\r\n      if (!arr2) {\r\n        arr2 = helperLengthArray;\r\n      }\r\n\r\n      var i;\r\n      var len = Math.min(arr1.length, arr2.length);\r\n      var addedLength = 0;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n      }\r\n\r\n      return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n      return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n      var r = val[0];\r\n      var g = val[1];\r\n      var b = val[2];\r\n      var max = Math.max(r, g, b);\r\n      var min = Math.min(r, g, b);\r\n      var h;\r\n      var s;\r\n      var l = (max + min) / 2;\r\n\r\n      if (max === min) {\r\n        h = 0; // achromatic\r\n\r\n        s = 0; // achromatic\r\n      } else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n\r\n        switch (max) {\r\n          case r:\r\n            h = (g - b) / d + (g < b ? 6 : 0);\r\n            break;\r\n\r\n          case g:\r\n            h = (b - r) / d + 2;\r\n            break;\r\n\r\n          case b:\r\n            h = (r - g) / d + 4;\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n\r\n        h /= 6;\r\n      }\r\n\r\n      return [h, s, l, val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t) {\r\n      if (t < 0) t += 1;\r\n      if (t > 1) t -= 1;\r\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n      if (t < 1 / 2) return q;\r\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n      return p;\r\n    }\r\n\r\n    function hslToRgb(val) {\r\n      var h = val[0];\r\n      var s = val[1];\r\n      var l = val[2];\r\n      var r;\r\n      var g;\r\n      var b;\r\n\r\n      if (s === 0) {\r\n        r = l; // achromatic\r\n\r\n        b = l; // achromatic\r\n\r\n        g = l; // achromatic\r\n      } else {\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n      }\r\n\r\n      return [r, g, b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2) {\r\n      if (value1 === undefined || value2 === undefined) {\r\n        value1 = tMin;\r\n        value2 = tMax;\r\n        tMin = 0;\r\n        tMax = 1;\r\n      }\r\n\r\n      if (tMax < tMin) {\r\n        var _tMin = tMax;\r\n        tMax = tMin;\r\n        tMin = _tMin;\r\n      }\r\n\r\n      if (t <= tMin) {\r\n        return value1;\r\n      }\r\n\r\n      if (t >= tMax) {\r\n        return value2;\r\n      }\r\n\r\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n\r\n      if (!value1.length) {\r\n        return value1 + (value2 - value1) * perc;\r\n      }\r\n\r\n      var i;\r\n      var len = value1.length;\r\n      var arr = createTypedArray('float32', len);\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n      }\r\n\r\n      return arr;\r\n    }\r\n\r\n    function random(min, max) {\r\n      if (max === undefined) {\r\n        if (min === undefined) {\r\n          min = 0;\r\n          max = 1;\r\n        } else {\r\n          max = min;\r\n          min = undefined;\r\n        }\r\n      }\r\n\r\n      if (max.length) {\r\n        var i;\r\n        var len = max.length;\r\n\r\n        if (!min) {\r\n          min = createTypedArray('float32', len);\r\n        }\r\n\r\n        var arr = createTypedArray('float32', len);\r\n        var rnd = BMMath.random();\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n        }\r\n\r\n        return arr;\r\n      }\r\n\r\n      if (min === undefined) {\r\n        min = 0;\r\n      }\r\n\r\n      var rndm = BMMath.random();\r\n      return min + rndm * (max - min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n      var i;\r\n      var len = points.length;\r\n      var path = shapePool.newElement();\r\n      path.setPathData(!!closed, len);\r\n      var arrPlaceholder = [0, 0];\r\n      var inVertexPoint;\r\n      var outVertexPoint;\r\n\r\n      for (i = 0; i < len; i += 1) {\r\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\r\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\r\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n      }\r\n\r\n      return path;\r\n    }\r\n\r\n    function initiateExpression(elem, data, property) {\r\n      // Bail out if we don't want expressions\r\n      function noOp(_value) {\r\n        return _value;\r\n      }\r\n\r\n      if (!elem.globalData.renderConfig.runExpressions) {\r\n        return noOp;\r\n      }\r\n\r\n      var val = data.x;\r\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n\r\n      var _needsRandom = val.indexOf('random') !== -1;\r\n\r\n      var elemType = elem.data.ty;\r\n      var transform;\r\n      var $bm_transform;\r\n      var content;\r\n      var effect;\r\n      var thisProperty = property;\r\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n      Object.defineProperty(thisProperty, 'value', {\r\n        get: function get() {\r\n          return thisProperty.v;\r\n        }\r\n      });\r\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n      elem.comp.displayStartTime = 0;\r\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n      var width = elem.data.sw ? elem.data.sw : 0;\r\n      var height = elem.data.sh ? elem.data.sh : 0;\r\n      var name = elem.data.nm;\r\n      var loopIn;\r\n      var loop_in;\r\n      var loopOut;\r\n      var loop_out;\r\n      var smooth;\r\n      var toWorld;\r\n      var fromWorld;\r\n      var fromComp;\r\n      var toComp;\r\n      var fromCompToSurface;\r\n      var position;\r\n      var rotation;\r\n      var anchorPoint;\r\n      var scale;\r\n      var thisLayer;\r\n      var thisComp;\r\n      var mask;\r\n      var valueAtTime;\r\n      var velocityAtTime;\r\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\r\n\r\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n\r\n      var numKeys = property.kf ? data.k.length : 0;\r\n      var active = !this.data || this.data.hd !== true;\r\n\r\n      var wiggle = function wiggle(freq, amp) {\r\n        var iWiggle;\r\n        var j;\r\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n        var addedAmps = createTypedArray('float32', lenWiggle);\r\n        freq = 5;\r\n        var iterations = Math.floor(time * freq);\r\n        iWiggle = 0;\r\n        j = 0;\r\n\r\n        while (iWiggle < iterations) {\r\n          // var rnd = BMMath.random();\r\n          for (j = 0; j < lenWiggle; j += 1) {\r\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\r\n          }\r\n\r\n          iWiggle += 1;\r\n        } // var rnd2 = BMMath.random();\r\n\r\n\r\n        var periods = time * freq;\r\n        var perc = periods - Math.floor(periods);\r\n        var arr = createTypedArray('float32', lenWiggle);\r\n\r\n        if (lenWiggle > 1) {\r\n          for (j = 0; j < lenWiggle; j += 1) {\r\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n          }\r\n\r\n          return arr;\r\n        }\r\n\r\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n      }.bind(this);\r\n\r\n      if (thisProperty.loopIn) {\r\n        loopIn = thisProperty.loopIn.bind(thisProperty);\r\n        loop_in = loopIn;\r\n      }\r\n\r\n      if (thisProperty.loopOut) {\r\n        loopOut = thisProperty.loopOut.bind(thisProperty);\r\n        loop_out = loopOut;\r\n      }\r\n\r\n      if (thisProperty.smooth) {\r\n        smooth = thisProperty.smooth.bind(thisProperty);\r\n      }\r\n\r\n      function loopInDuration(type, duration) {\r\n        return loopIn(type, duration, true);\r\n      }\r\n\r\n      function loopOutDuration(type, duration) {\r\n        return loopOut(type, duration, true);\r\n      }\r\n\r\n      if (this.getValueAtTime) {\r\n        valueAtTime = this.getValueAtTime.bind(this);\r\n      }\r\n\r\n      if (this.getVelocityAtTime) {\r\n        velocityAtTime = this.getVelocityAtTime.bind(this);\r\n      }\r\n\r\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n      function lookAt(elem1, elem2) {\r\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n        return [yaw, pitch, 0];\r\n      }\r\n\r\n      function easeOut(t, tMin, tMax, val1, val2) {\r\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n      }\r\n\r\n      function easeIn(t, tMin, tMax, val1, val2) {\r\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n      }\r\n\r\n      function ease(t, tMin, tMax, val1, val2) {\r\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n      }\r\n\r\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n        if (val1 === undefined) {\r\n          val1 = tMin;\r\n          val2 = tMax;\r\n        } else {\r\n          t = (t - tMin) / (tMax - tMin);\r\n        }\r\n\r\n        if (t > 1) {\r\n          t = 1;\r\n        } else if (t < 0) {\r\n          t = 0;\r\n        }\r\n\r\n        var mult = fn(t);\r\n\r\n        if ($bm_isInstanceOfArray(val1)) {\r\n          var iKey;\r\n          var lenKey = val1.length;\r\n          var arr = createTypedArray('float32', lenKey);\r\n\r\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n          }\r\n\r\n          return arr;\r\n        }\r\n\r\n        return (val2 - val1) * mult + val1;\r\n      }\r\n\r\n      function nearestKey(time) {\r\n        var iKey;\r\n        var lenKey = data.k.length;\r\n        var index;\r\n        var keyTime;\r\n\r\n        if (!data.k.length || typeof data.k[0] === 'number') {\r\n          index = 0;\r\n          keyTime = 0;\r\n        } else {\r\n          index = -1;\r\n          time *= elem.comp.globalData.frameRate;\r\n\r\n          if (time < data.k[0].t) {\r\n            index = 1;\r\n            keyTime = data.k[0].t;\r\n          } else {\r\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n              if (time === data.k[iKey].t) {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n                break;\r\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                  index = iKey + 2;\r\n                  keyTime = data.k[iKey + 1].t;\r\n                } else {\r\n                  index = iKey + 1;\r\n                  keyTime = data.k[iKey].t;\r\n                }\r\n\r\n                break;\r\n              }\r\n            }\r\n\r\n            if (index === -1) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n            }\r\n          }\r\n        }\r\n\r\n        var obKey = {};\r\n        obKey.index = index;\r\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n        return obKey;\r\n      }\r\n\r\n      function key(ind) {\r\n        var obKey;\r\n        var iKey;\r\n        var lenKey;\r\n\r\n        if (!data.k.length || typeof data.k[0] === 'number') {\r\n          throw new Error('The property has no keyframe at index ' + ind);\r\n        }\r\n\r\n        ind -= 1;\r\n        obKey = {\r\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n          value: []\r\n        };\r\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n        lenKey = arr.length;\r\n\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          obKey[iKey] = arr[iKey];\r\n          obKey.value[iKey] = arr[iKey];\r\n        }\r\n\r\n        return obKey;\r\n      }\r\n\r\n      function framesToTime(fr, fps) {\r\n        if (!fps) {\r\n          fps = elem.comp.globalData.frameRate;\r\n        }\r\n\r\n        return fr / fps;\r\n      }\r\n\r\n      function timeToFrames(t, fps) {\r\n        if (!t && t !== 0) {\r\n          t = time;\r\n        }\r\n\r\n        if (!fps) {\r\n          fps = elem.comp.globalData.frameRate;\r\n        }\r\n\r\n        return t * fps;\r\n      }\r\n\r\n      function seedRandom(seed) {\r\n        BMMath.seedrandom(randSeed + seed);\r\n      }\r\n\r\n      function sourceRectAtTime() {\r\n        return elem.sourceRectAtTime();\r\n      }\r\n\r\n      function substring(init, end) {\r\n        if (typeof value === 'string') {\r\n          if (end === undefined) {\r\n            return value.substring(init);\r\n          }\r\n\r\n          return value.substring(init, end);\r\n        }\r\n\r\n        return '';\r\n      }\r\n\r\n      function substr(init, end) {\r\n        if (typeof value === 'string') {\r\n          if (end === undefined) {\r\n            return value.substr(init);\r\n          }\r\n\r\n          return value.substr(init, end);\r\n        }\r\n\r\n        return '';\r\n      }\r\n\r\n      function posterizeTime(framesPerSecond) {\r\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n        value = valueAtTime(time);\r\n      }\r\n\r\n      var time;\r\n      var velocity;\r\n      var value;\r\n      var text;\r\n      var textIndex;\r\n      var textTotal;\r\n      var selectorValue;\r\n      var index = elem.data.ind;\r\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      var parent;\r\n      var randSeed = Math.floor(Math.random() * 1000000);\r\n      var globalData = elem.globalData;\r\n\r\n      function executeExpression(_value) {\r\n        // globalData.pushExpression();\r\n        value = _value;\r\n\r\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n          return value;\r\n        }\r\n\r\n        if (this.propType === 'textSelector') {\r\n          textIndex = this.textIndex;\r\n          textTotal = this.textTotal;\r\n          selectorValue = this.selectorValue;\r\n        }\r\n\r\n        if (!thisLayer) {\r\n          text = elem.layerInterface.text;\r\n          thisLayer = elem.layerInterface;\r\n          thisComp = elem.comp.compInterface;\r\n          toWorld = thisLayer.toWorld.bind(thisLayer);\r\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n          fromComp = thisLayer.fromComp.bind(thisLayer);\r\n          toComp = thisLayer.toComp.bind(thisLayer);\r\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n          fromCompToSurface = fromComp;\r\n        }\r\n\r\n        if (!transform) {\r\n          transform = elem.layerInterface('ADBE Transform Group');\r\n          $bm_transform = transform;\r\n\r\n          if (transform) {\r\n            anchorPoint = transform.anchorPoint;\r\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\r\n          }\r\n        }\r\n\r\n        if (elemType === 4 && !content) {\r\n          content = thisLayer('ADBE Root Vectors Group');\r\n        }\r\n\r\n        if (!effect) {\r\n          effect = thisLayer(4);\r\n        }\r\n\r\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n\r\n        if (hasParent && !parent) {\r\n          parent = elem.hierarchy[0].layerInterface;\r\n        }\r\n\r\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n\r\n        if (_needsRandom) {\r\n          seedRandom(randSeed + time);\r\n        }\r\n\r\n        if (needsVelocity) {\r\n          velocity = velocityAtTime(time);\r\n        }\r\n\r\n        expression_function();\r\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\r\n\r\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\r\n        return scoped_bm_rt;\r\n      } // Bundlers will see these as dead code and unless we reference them\r\n\r\n\r\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\r\n      return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath];\r\n    return ob;\r\n  }();\r\n\r\n  var expressionHelpers = function () {\r\n    function searchExpressions(elem, data, prop) {\r\n      if (data.x) {\r\n        prop.k = true;\r\n        prop.x = true;\r\n        prop.initiateExpression = ExpressionManager.initiateExpression;\r\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n      }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n      frameNum *= this.elem.globalData.frameRate;\r\n      frameNum -= this.offsetTime;\r\n\r\n      if (frameNum !== this._cachingAtTime.lastFrame) {\r\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n        this._cachingAtTime.lastFrame = frameNum;\r\n      }\r\n\r\n      return this._cachingAtTime.value;\r\n    }\r\n\r\n    function getSpeedAtTime(frameNum) {\r\n      var delta = -0.01;\r\n      var v1 = this.getValueAtTime(frameNum);\r\n      var v2 = this.getValueAtTime(frameNum + delta);\r\n      var speed = 0;\r\n\r\n      if (v1.length) {\r\n        var i;\r\n\r\n        for (i = 0; i < v1.length; i += 1) {\r\n          speed += Math.pow(v2[i] - v1[i], 2);\r\n        }\r\n\r\n        speed = Math.sqrt(speed) * 100;\r\n      } else {\r\n        speed = 0;\r\n      }\r\n\r\n      return speed;\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n      if (this.vel !== undefined) {\r\n        return this.vel;\r\n      }\r\n\r\n      var delta = -0.001; // frameNum += this.elem.data.st;\r\n\r\n      var v1 = this.getValueAtTime(frameNum);\r\n      var v2 = this.getValueAtTime(frameNum + delta);\r\n      var velocity;\r\n\r\n      if (v1.length) {\r\n        velocity = createTypedArray('float32', v1.length);\r\n        var i;\r\n\r\n        for (i = 0; i < v1.length; i += 1) {\r\n          // removing frameRate\r\n          // if needed, don't add it here\r\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n          velocity[i] = (v2[i] - v1[i]) / delta;\r\n        }\r\n      } else {\r\n        velocity = (v2 - v1) / delta;\r\n      }\r\n\r\n      return velocity;\r\n    }\r\n\r\n    function getStaticValueAtTime() {\r\n      return this.pv;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup) {\r\n      this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n    return {\r\n      searchExpressions: searchExpressions,\r\n      getSpeedAtTime: getSpeedAtTime,\r\n      getVelocityAtTime: getVelocityAtTime,\r\n      getValueAtTime: getValueAtTime,\r\n      getStaticValueAtTime: getStaticValueAtTime,\r\n      setGroupProperty: setGroupProperty\r\n    };\r\n  }();\r\n\r\n  function addPropertyDecorator() {\r\n    function loopOut(type, duration, durationFlag) {\r\n      if (!this.k || !this.keyframes) {\r\n        return this.pv;\r\n      }\r\n\r\n      type = type ? type.toLowerCase() : '';\r\n      var currentFrame = this.comp.renderedFrame;\r\n      var keyframes = this.keyframes;\r\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n\r\n      if (currentFrame <= lastKeyFrame) {\r\n        return this.pv;\r\n      }\r\n\r\n      var cycleDuration;\r\n      var firstKeyFrame;\r\n\r\n      if (!durationFlag) {\r\n        if (!duration || duration > keyframes.length - 1) {\r\n          duration = keyframes.length - 1;\r\n        }\r\n\r\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n        cycleDuration = lastKeyFrame - firstKeyFrame;\r\n      } else {\r\n        if (!duration) {\r\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n        } else {\r\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n        }\r\n\r\n        firstKeyFrame = lastKeyFrame - cycleDuration;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n      var ret;\r\n\r\n      if (type === 'pingpong') {\r\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n\r\n        if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n        }\r\n      } else if (type === 'offset') {\r\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(initV.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return (endV - initV) * repeats + current;\r\n      } else if (type === 'continue') {\r\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(lastValue.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\r\n      }\r\n\r\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n    }\r\n\r\n    function loopIn(type, duration, durationFlag) {\r\n      if (!this.k) {\r\n        return this.pv;\r\n      }\r\n\r\n      type = type ? type.toLowerCase() : '';\r\n      var currentFrame = this.comp.renderedFrame;\r\n      var keyframes = this.keyframes;\r\n      var firstKeyFrame = keyframes[0].t;\r\n\r\n      if (currentFrame >= firstKeyFrame) {\r\n        return this.pv;\r\n      }\r\n\r\n      var cycleDuration;\r\n      var lastKeyFrame;\r\n\r\n      if (!durationFlag) {\r\n        if (!duration || duration > keyframes.length - 1) {\r\n          duration = keyframes.length - 1;\r\n        }\r\n\r\n        lastKeyFrame = keyframes[duration].t;\r\n        cycleDuration = lastKeyFrame - firstKeyFrame;\r\n      } else {\r\n        if (!duration) {\r\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n        } else {\r\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n        }\r\n\r\n        lastKeyFrame = firstKeyFrame + cycleDuration;\r\n      }\r\n\r\n      var i;\r\n      var len;\r\n      var ret;\r\n\r\n      if (type === 'pingpong') {\r\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n\r\n        if (iterations % 2 === 0) {\r\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n        }\r\n      } else if (type === 'offset') {\r\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(initV.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return current - (endV - initV) * repeats;\r\n      } else if (type === 'continue') {\r\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n\r\n        if (this.pv.length) {\r\n          ret = new Array(firstValue.length);\r\n          len = ret.length;\r\n\r\n          for (i = 0; i < len; i += 1) {\r\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\r\n          }\r\n\r\n          return ret;\r\n        }\r\n\r\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\r\n      }\r\n\r\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n    }\r\n\r\n    function smooth(width, samples) {\r\n      if (!this.k) {\r\n        return this.pv;\r\n      }\r\n\r\n      width = (width || 0.4) * 0.5;\r\n      samples = Math.floor(samples || 5);\r\n\r\n      if (samples <= 1) {\r\n        return this.pv;\r\n      }\r\n\r\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      var initFrame = currentTime - width;\r\n      var endFrame = currentTime + width;\r\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n      var i = 0;\r\n      var j = 0;\r\n      var value;\r\n\r\n      if (this.pv.length) {\r\n        value = createTypedArray('float32', this.pv.length);\r\n      } else {\r\n        value = 0;\r\n      }\r\n\r\n      var sampleValue;\r\n\r\n      while (i < samples) {\r\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n\r\n        if (this.pv.length) {\r\n          for (j = 0; j < this.pv.length; j += 1) {\r\n            value[j] += sampleValue[j];\r\n          }\r\n        } else {\r\n          value += sampleValue;\r\n        }\r\n\r\n        i += 1;\r\n      }\r\n\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] /= samples;\r\n        }\r\n      } else {\r\n        value /= samples;\r\n      }\r\n\r\n      return value;\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n      if (!this._transformCachingAtTime) {\r\n        this._transformCachingAtTime = {\r\n          v: new Matrix()\r\n        };\r\n      } /// /\r\n\r\n\r\n      var matrix = this._transformCachingAtTime.v;\r\n      matrix.cloneFromProps(this.pre.props);\r\n\r\n      if (this.appliedTransformations < 1) {\r\n        var anchor = this.a.getValueAtTime(time);\r\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\r\n      }\r\n\r\n      if (this.appliedTransformations < 2) {\r\n        var scale = this.s.getValueAtTime(time);\r\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\r\n      }\r\n\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        var skew = this.sk.getValueAtTime(time);\r\n        var skewAxis = this.sa.getValueAtTime(time);\r\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n      }\r\n\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        var rotation = this.r.getValueAtTime(time);\r\n        matrix.rotate(-rotation * this.r.mult);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        var rotationZ = this.rz.getValueAtTime(time);\r\n        var rotationY = this.ry.getValueAtTime(time);\r\n        var rotationX = this.rx.getValueAtTime(time);\r\n        var orientation = this.or.getValueAtTime(time);\r\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\r\n      }\r\n\r\n      if (this.data.p && this.data.p.s) {\r\n        var positionX = this.px.getValueAtTime(time);\r\n        var positionY = this.py.getValueAtTime(time);\r\n\r\n        if (this.data.p.z) {\r\n          var positionZ = this.pz.getValueAtTime(time);\r\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\r\n        } else {\r\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n        }\r\n      } else {\r\n        var position = this.p.getValueAtTime(time);\r\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\r\n      }\r\n\r\n      return matrix; /// /\r\n    }\r\n\r\n    function getTransformStaticValueAtTime() {\r\n      return this.v.clone(new Matrix());\r\n    }\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n\r\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n      var prop = getTransformProperty(elem, data, container);\r\n\r\n      if (prop.dynamicProperties.length) {\r\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n      } else {\r\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n      }\r\n\r\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n      return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n\r\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\r\n      // prop.loopOut = loopOut;\r\n      // prop.loopIn = loopIn;\r\n\r\n      if (prop.kf) {\r\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n      } else {\r\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n      }\r\n\r\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n      prop.loopOut = loopOut;\r\n      prop.loopIn = loopIn;\r\n      prop.smooth = smooth;\r\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n      prop.propertyIndex = data.ix;\r\n      var value = 0;\r\n\r\n      if (type !== 0) {\r\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n      }\r\n\r\n      prop._cachingAtTime = {\r\n        lastFrame: initialDefaultFrame,\r\n        lastIndex: 0,\r\n        value: value\r\n      };\r\n      expressionHelpers.searchExpressions(elem, data, prop);\r\n\r\n      if (prop.k) {\r\n        container.addDynamicProperty(prop);\r\n      }\r\n\r\n      return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n      if (!this._cachingAtTime) {\r\n        this._cachingAtTime = {\r\n          shapeValue: shapePool.clone(this.pv),\r\n          lastIndex: 0,\r\n          lastTime: initialDefaultFrame\r\n        };\r\n      }\r\n\r\n      frameNum *= this.elem.globalData.frameRate;\r\n      frameNum -= this.offsetTime;\r\n\r\n      if (frameNum !== this._cachingAtTime.lastTime) {\r\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n        this._cachingAtTime.lastTime = frameNum;\r\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n      }\r\n\r\n      return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions() {}\r\n\r\n    ShapeExpressions.prototype = {\r\n      vertices: function vertices(prop, time) {\r\n        if (this.k) {\r\n          this.getValue();\r\n        }\r\n\r\n        var shapePath = this.v;\r\n\r\n        if (time !== undefined) {\r\n          shapePath = this.getValueAtTime(time, 0);\r\n        }\r\n\r\n        var i;\r\n        var len = shapePath._length;\r\n        var vertices = shapePath[prop];\r\n        var points = shapePath.v;\r\n        var arr = createSizedArray(len);\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n          if (prop === 'i' || prop === 'o') {\r\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n          } else {\r\n            arr[i] = [vertices[i][0], vertices[i][1]];\r\n          }\r\n        }\r\n\r\n        return arr;\r\n      },\r\n      points: function points(time) {\r\n        return this.vertices('v', time);\r\n      },\r\n      inTangents: function inTangents(time) {\r\n        return this.vertices('i', time);\r\n      },\r\n      outTangents: function outTangents(time) {\r\n        return this.vertices('o', time);\r\n      },\r\n      isClosed: function isClosed() {\r\n        return this.v.c;\r\n      },\r\n      pointOnPath: function pointOnPath(perc, time) {\r\n        var shapePath = this.v;\r\n\r\n        if (time !== undefined) {\r\n          shapePath = this.getValueAtTime(time, 0);\r\n        }\r\n\r\n        if (!this._segmentsLength) {\r\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n        }\r\n\r\n        var segmentsLength = this._segmentsLength;\r\n        var lengths = segmentsLength.lengths;\r\n        var lengthPos = segmentsLength.totalLength * perc;\r\n        var i = 0;\r\n        var len = lengths.length;\r\n        var accumulatedLength = 0;\r\n        var pt;\r\n\r\n        while (i < len) {\r\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n            var initIndex = i;\r\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\r\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n            break;\r\n          } else {\r\n            accumulatedLength += lengths[i].addedLength;\r\n          }\r\n\r\n          i += 1;\r\n        }\r\n\r\n        if (!pt) {\r\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n        }\r\n\r\n        return pt;\r\n      },\r\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\r\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n        if (perc == 1) {\r\n          // eslint-disable-line eqeqeq\r\n          perc = this.v.c;\r\n        } else if (perc == 0) {\r\n          // eslint-disable-line eqeqeq\r\n          perc = 0.999;\r\n        }\r\n\r\n        var pt1 = this.pointOnPath(perc, time);\r\n        var pt2 = this.pointOnPath(perc + 0.001, time);\r\n        var xLength = pt2[0] - pt1[0];\r\n        var yLength = pt2[1] - pt1[1];\r\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n\r\n        if (magnitude === 0) {\r\n          return [0, 0];\r\n        }\r\n\r\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n        return unitVector;\r\n      },\r\n      tangentOnPath: function tangentOnPath(perc, time) {\r\n        return this.vectorOnPath(perc, time, 'tangent');\r\n      },\r\n      normalOnPath: function normalOnPath(perc, time) {\r\n        return this.vectorOnPath(perc, time, 'normal');\r\n      },\r\n      setGroupProperty: expressionHelpers.setGroupProperty,\r\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n\r\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n      prop.propertyIndex = data.ix;\r\n      prop.lock = false;\r\n\r\n      if (type === 3) {\r\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n      } else if (type === 4) {\r\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n      }\r\n\r\n      if (prop.k) {\r\n        elem.addDynamicProperty(prop);\r\n      }\r\n\r\n      return prop;\r\n    };\r\n  }\r\n\r\n  function initialize$1() {\r\n    addPropertyDecorator();\r\n  }\r\n\r\n  function addDecorator() {\r\n    function searchExpressions() {\r\n      if (this.data.d.x) {\r\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n        this.addEffect(this.getExpressionValue.bind(this));\r\n        return true;\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n      var newValue = this.calculateExpression(text);\r\n\r\n      if (currentValue.t !== newValue) {\r\n        var newData = {};\r\n        this.copyData(newData, currentValue);\r\n        newData.t = newValue.toString();\r\n        newData.__complete = false;\r\n        return newData;\r\n      }\r\n\r\n      return currentValue;\r\n    };\r\n\r\n    TextProperty.prototype.searchProperty = function () {\r\n      var isKeyframed = this.searchKeyframes();\r\n      var hasExpressions = this.searchExpressions();\r\n      this.kf = isKeyframed || hasExpressions;\r\n      return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n  }\r\n\r\n  function initialize() {\r\n    addDecorator();\r\n  }\r\n\r\n  function SVGComposableEffect() {}\r\n\r\n  SVGComposableEffect.prototype = {\r\n    createMergeNode: function createMergeNode(resultId, ins) {\r\n      var feMerge = createNS('feMerge');\r\n      feMerge.setAttribute('result', resultId);\r\n      var feMergeNode;\r\n      var i;\r\n\r\n      for (i = 0; i < ins.length; i += 1) {\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in', ins[i]);\r\n        feMerge.appendChild(feMergeNode);\r\n        feMerge.appendChild(feMergeNode);\r\n      }\r\n\r\n      return feMerge;\r\n    }\r\n  };\r\n\r\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result', id + '_tint_1');\r\n    filter.appendChild(feColorMatrix);\r\n    feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result', id + '_tint_2');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\r\n    filter.appendChild(feMerge);\r\n  }\r\n\r\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\r\n\r\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var colorBlack = this.filterManager.effectElements[0].p.v;\r\n      var colorWhite = this.filterManager.effectElements[1].p.v;\r\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n  };\r\n\r\n  function SVGFillFilter(filter, filterManager, elem, id) {\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result', id);\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n  }\r\n\r\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var color = this.filterManager.effectElements[2].p.v;\r\n      var opacity = this.filterManager.effectElements[6].p.v;\r\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n  };\r\n\r\n  function SVGStrokeEffect(fil, filterManager, elem) {\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.elem = elem;\r\n    this.paths = [];\r\n  }\r\n\r\n  SVGStrokeEffect.prototype.initialize = function () {\r\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n    var path;\r\n    var groupPath;\r\n    var i;\r\n    var len;\r\n\r\n    if (this.filterManager.effectElements[1].p.v === 1) {\r\n      len = this.elem.maskManager.masksProperties.length;\r\n      i = 0;\r\n    } else {\r\n      i = this.filterManager.effectElements[0].p.v - 1;\r\n      len = i + 1;\r\n    }\r\n\r\n    groupPath = createNS('g');\r\n    groupPath.setAttribute('fill', 'none');\r\n    groupPath.setAttribute('stroke-linecap', 'round');\r\n    groupPath.setAttribute('stroke-dashoffset', 1);\r\n\r\n    for (i; i < len; i += 1) {\r\n      path = createNS('path');\r\n      groupPath.appendChild(path);\r\n      this.paths.push({\r\n        p: path,\r\n        m: i\r\n      });\r\n    }\r\n\r\n    if (this.filterManager.effectElements[10].p.v === 3) {\r\n      var mask = createNS('mask');\r\n      var id = createElementID();\r\n      mask.setAttribute('id', id);\r\n      mask.setAttribute('mask-type', 'alpha');\r\n      mask.appendChild(groupPath);\r\n      this.elem.globalData.defs.appendChild(mask);\r\n      var g = createNS('g');\r\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\r\n\r\n      while (elemChildren[0]) {\r\n        g.appendChild(elemChildren[0]);\r\n      }\r\n\r\n      this.elem.layerElement.appendChild(g);\r\n      this.masker = mask;\r\n      groupPath.setAttribute('stroke', '#fff');\r\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n      if (this.filterManager.effectElements[10].p.v === 2) {\r\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n\r\n        while (elemChildren.length) {\r\n          this.elem.layerElement.removeChild(elemChildren[0]);\r\n        }\r\n      }\r\n\r\n      this.elem.layerElement.appendChild(groupPath);\r\n      this.elem.layerElement.removeAttribute('mask');\r\n      groupPath.setAttribute('stroke', '#fff');\r\n    }\r\n\r\n    this.initialized = true;\r\n    this.pathMasker = groupPath;\r\n  };\r\n\r\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n    if (!this.initialized) {\r\n      this.initialize();\r\n    }\r\n\r\n    var i;\r\n    var len = this.paths.length;\r\n    var mask;\r\n    var path;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.paths[i].m !== -1) {\r\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n        path = this.paths[i].p;\r\n\r\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n          path.setAttribute('d', mask.lastPath);\r\n        }\r\n\r\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n          var dasharrayValue;\r\n\r\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n            var l = path.getTotalLength();\r\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n            var lineLength = l * (e - s);\r\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n            var units = Math.floor(lineLength / segment);\r\n            var j;\r\n\r\n            for (j = 0; j < units; j += 1) {\r\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n            }\r\n\r\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n          } else {\r\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          }\r\n\r\n          path.setAttribute('stroke-dasharray', dasharrayValue);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n    }\r\n\r\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n    }\r\n\r\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n        var color = this.filterManager.effectElements[3].p.v;\r\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n      }\r\n    }\r\n  };\r\n\r\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    filter.appendChild(feColorMatrix);\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feComponentTransfer.setAttribute('result', id);\r\n    this.matrixFilter = feComponentTransfer;\r\n    var feFuncR = createNS('feFuncR');\r\n    feFuncR.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFuncR);\r\n    this.feFuncR = feFuncR;\r\n    var feFuncG = createNS('feFuncG');\r\n    feFuncG.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFuncG);\r\n    this.feFuncG = feFuncG;\r\n    var feFuncB = createNS('feFuncB');\r\n    feFuncB.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFuncB);\r\n    this.feFuncB = feFuncB;\r\n    filter.appendChild(feComponentTransfer);\r\n  }\r\n\r\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var color1 = this.filterManager.effectElements[0].p.v;\r\n      var color2 = this.filterManager.effectElements[1].p.v;\r\n      var color3 = this.filterManager.effectElements[2].p.v;\r\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n      this.feFuncR.setAttribute('tableValues', tableR);\r\n      this.feFuncG.setAttribute('tableValues', tableG);\r\n      this.feFuncB.setAttribute('tableValues', tableB);\r\n    }\r\n  };\r\n\r\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\r\n    this.filterManager = filterManager;\r\n    var effectElements = this.filterManager.effectElements;\r\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\r\n\r\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    } // Green\r\n\r\n\r\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    } // Blue\r\n\r\n\r\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    } // Alpha\r\n\r\n\r\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n    } // RGB\r\n\r\n\r\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n      filter.appendChild(feComponentTransfer);\r\n    }\r\n\r\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n      feComponentTransfer = createNS('feComponentTransfer');\r\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n      feComponentTransfer.setAttribute('result', id);\r\n      filter.appendChild(feComponentTransfer);\r\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n  }\r\n\r\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n    var feFunc = createNS(type);\r\n    feFunc.setAttribute('type', 'table');\r\n    feComponentTransfer.appendChild(feFunc);\r\n    return feFunc;\r\n  };\r\n\r\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n    var cnt = 0;\r\n    var segments = 256;\r\n    var perc;\r\n    var min = Math.min(inputBlack, inputWhite);\r\n    var max = Math.max(inputBlack, inputWhite);\r\n    var table = Array.call(null, {\r\n      length: segments\r\n    });\r\n    var colorValue;\r\n    var pos = 0;\r\n    var outputDelta = outputWhite - outputBlack;\r\n    var inputDelta = inputWhite - inputBlack;\r\n\r\n    while (cnt <= 256) {\r\n      perc = cnt / 256;\r\n\r\n      if (perc <= min) {\r\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n      } else if (perc >= max) {\r\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n      } else {\r\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\r\n      }\r\n\r\n      table[pos] = colorValue;\r\n      pos += 1;\r\n      cnt += 256 / (segments - 1);\r\n    }\r\n\r\n    return table.join(' ');\r\n  };\r\n\r\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      var val;\r\n      var effectElements = this.filterManager.effectElements;\r\n\r\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n        this.feFuncRComposed.setAttribute('tableValues', val);\r\n        this.feFuncGComposed.setAttribute('tableValues', val);\r\n        this.feFuncBComposed.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n        this.feFuncR.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n        this.feFuncG.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n        this.feFuncB.setAttribute('tableValues', val);\r\n      }\r\n\r\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n        this.feFuncA.setAttribute('tableValues', val);\r\n      }\r\n    }\r\n  };\r\n\r\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\r\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n    var filterSize = filterManager.data.fs || globalFilterSize;\r\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\r\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\r\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\r\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\r\n    this.filterManager = filterManager;\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\r\n    feGaussianBlur.setAttribute('stdDeviation', '0');\r\n    this.feGaussianBlur = feGaussianBlur;\r\n    filter.appendChild(feGaussianBlur);\r\n    var feOffset = createNS('feOffset');\r\n    feOffset.setAttribute('dx', '25');\r\n    feOffset.setAttribute('dy', '0');\r\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\r\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\r\n    this.feOffset = feOffset;\r\n    filter.appendChild(feOffset);\r\n    var feFlood = createNS('feFlood');\r\n    feFlood.setAttribute('flood-color', '#00ff00');\r\n    feFlood.setAttribute('flood-opacity', '1');\r\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\r\n    this.feFlood = feFlood;\r\n    filter.appendChild(feFlood);\r\n    var feComposite = createNS('feComposite');\r\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\r\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\r\n    feComposite.setAttribute('operator', 'in');\r\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\r\n    filter.appendChild(feComposite);\r\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\r\n    filter.appendChild(feMerge); //\r\n  }\r\n\r\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\r\n\r\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n      }\r\n\r\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n        var col = this.filterManager.effectElements[0].p.v;\r\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n      }\r\n\r\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n      }\r\n\r\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n        var distance = this.filterManager.effectElements[3].p.v;\r\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n        var x = distance * Math.cos(angle);\r\n        var y = distance * Math.sin(angle);\r\n        this.feOffset.setAttribute('dx', x);\r\n        this.feOffset.setAttribute('dy', y);\r\n      }\r\n    }\r\n  };\r\n\r\n  var _svgMatteSymbols = [];\r\n\r\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.filterElem = filterElem;\r\n    this.elem = elem;\r\n    elem.matteElement = createNS('g');\r\n    elem.matteElement.appendChild(elem.layerElement);\r\n    elem.matteElement.appendChild(elem.transformedElement);\r\n    elem.baseElement = elem.matteElement;\r\n  }\r\n\r\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n    var i = 0;\r\n    var len = _svgMatteSymbols.length;\r\n\r\n    while (i < len) {\r\n      if (_svgMatteSymbols[i] === mask) {\r\n        return _svgMatteSymbols[i];\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n    var parentNode = mask.layerElement.parentNode;\r\n\r\n    if (!parentNode) {\r\n      return;\r\n    }\r\n\r\n    var children = parentNode.children;\r\n    var i = 0;\r\n    var len = children.length;\r\n\r\n    while (i < len) {\r\n      if (children[i] === mask.layerElement) {\r\n        break;\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    var nextChild;\r\n\r\n    if (i <= len - 2) {\r\n      nextChild = children[i + 1];\r\n    }\r\n\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n\r\n    if (nextChild) {\r\n      parentNode.insertBefore(useElem, nextChild);\r\n    } else {\r\n      parentNode.appendChild(useElem);\r\n    }\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n    if (!this.findSymbol(mask)) {\r\n      var symbolId = createElementID();\r\n      var masker = createNS('mask');\r\n      masker.setAttribute('id', mask.layerId);\r\n      masker.setAttribute('mask-type', 'alpha');\r\n\r\n      _svgMatteSymbols.push(mask);\r\n\r\n      var defs = elem.globalData.defs;\r\n      defs.appendChild(masker);\r\n      var symbol = createNS('symbol');\r\n      symbol.setAttribute('id', symbolId);\r\n      this.replaceInParent(mask, symbolId);\r\n      symbol.appendChild(mask.layerElement);\r\n      defs.appendChild(symbol);\r\n      var useElem = createNS('use');\r\n      useElem.setAttribute('href', '#' + symbolId);\r\n      masker.appendChild(useElem);\r\n      mask.data.hd = false;\r\n      mask.show();\r\n    }\r\n\r\n    elem.setMatte(mask.layerId);\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.initialize = function () {\r\n    var ind = this.filterManager.effectElements[0].p.v;\r\n    var elements = this.elem.comp.elements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n\r\n    while (i < len) {\r\n      if (elements[i] && elements[i].data.ind === ind) {\r\n        this.setElementAsMask(this.elem, elements[i]);\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    this.initialized = true;\r\n  };\r\n\r\n  SVGMatte3Effect.prototype.renderFrame = function () {\r\n    if (!this.initialized) {\r\n      this.initialize();\r\n    }\r\n  };\r\n\r\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\r\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n    filter.setAttribute('x', '-100%');\r\n    filter.setAttribute('y', '-100%');\r\n    filter.setAttribute('width', '300%');\r\n    filter.setAttribute('height', '300%');\r\n    this.filterManager = filterManager;\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('result', id);\r\n    filter.appendChild(feGaussianBlur);\r\n    this.feGaussianBlur = feGaussianBlur;\r\n  }\r\n\r\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n    if (forceRender || this.filterManager._mdf) {\r\n      // Empirical value, matching AE's blur appearance.\r\n      var kBlurrinessToSigma = 0.3;\r\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\r\n      //\r\n      //   1 -> horizontal & vertical\r\n      //   2 -> horizontal only\r\n      //   3 -> vertical only\r\n      //\r\n\r\n      var dimensions = this.filterManager.effectElements[1].p.v;\r\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\r\n      //\r\n      //   0 -> off -> duplicate\r\n      //   1 -> on  -> wrap\r\n\r\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n\r\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n    }\r\n  };\r\n\r\n  registerRenderer('canvas', CanvasRenderer);\r\n  registerRenderer('html', HybridRenderer);\r\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\r\n\r\n  ShapeModifiers.registerModifier('tm', TrimModifier);\r\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n  ShapeModifiers.registerModifier('zz', ZigZagModifier);\r\n  ShapeModifiers.registerModifier('op', OffsetPathModifier); // Registering expression plugin\r\n\r\n  setExpressionsPlugin(Expressions);\r\n  setExpressionInterfaces(getInterface);\r\n  initialize$1();\r\n  initialize(); // Registering svg effects\r\n\r\n  registerEffect(20, SVGTintFilter, true);\r\n  registerEffect(21, SVGFillFilter, true);\r\n  registerEffect(22, SVGStrokeEffect, false);\r\n  registerEffect(23, SVGTritoneFilter, true);\r\n  registerEffect(24, SVGProLevelsFilter, true);\r\n  registerEffect(25, SVGDropShadowEffect, true);\r\n  registerEffect(28, SVGMatte3Effect, false);\r\n  registerEffect(29, SVGGaussianBlurEffect, true);\r\n\r\n  return lottie;\r\n\r\n}));\r\n", "/**\n * Copyright 2021 Design Barn Inc.\n */\n\nimport { css } from \"lit\";\n\nexport default css`\n  * {\n    box-sizing: border-box;\n  }\n\n  :host {\n    --lottie-player-toolbar-height: 35px;\n    --lottie-player-toolbar-background-color: transparent;\n    --lottie-player-toolbar-icon-color: #999;\n    --lottie-player-toolbar-icon-hover-color: #222;\n    --lottie-player-toolbar-icon-active-color: #555;\n    --lottie-player-seeker-track-color: #ccc;\n    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);\n    --lottie-player-seeker-display: block;\n\n    display: block;\n    width: 100%;\n    height: 100%;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n  }\n\n  .animation {\n    width: 100%;\n    height: 100%;\n    display: flex;\n  }\n  .animation.controls {\n    height: calc(100% - 35px);\n  }\n\n  .toolbar {\n    display: flex;\n    align-items: center;\n    justify-items: center;\n    background-color: var(--lottie-player-toolbar-background-color);\n    margin: 0 5px;\n    height: 35px;\n  }\n\n  .toolbar button {\n    cursor: pointer;\n    fill: var(--lottie-player-toolbar-icon-color);\n    display: flex;\n    background: none;\n    border: 0;\n    padding: 0;\n    outline: none;\n    height: 100%;\n  }\n\n  .toolbar button:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button.active {\n    fill: var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button.active:hover {\n    fill: var(--lottie-player-toolbar-icon-hover-color);\n  }\n\n  .toolbar button:focus {\n    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);\n  }\n\n  .toolbar button svg {\n  }\n\n  .toolbar button.disabled svg {\n    display: none;\n  }\n\n  .seeker {\n    -webkit-appearance: none;\n    width: 95%;\n    outline: none;\n    background-color: var(--lottie-player-toolbar-background-color);\n    display: var(--lottie-player-seeker-display);\n  }\n\n  .seeker::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-webkit-slider-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-top: -5px;\n  }\n  .seeker:focus::-webkit-slider-runnable-track {\n    background: #999;\n  }\n  .seeker::-moz-range-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-moz-range-thumb {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker::-ms-track {\n    width: 100%;\n    height: 5px;\n    cursor: pointer;\n    background: transparent;\n    border-color: transparent;\n    color: transparent;\n  }\n  .seeker::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n    border-radius: 3px;\n  }\n  .seeker::-ms-thumb {\n    border: 0;\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    background: var(--lottie-player-seeker-thumb-color);\n    cursor: pointer;\n  }\n  .seeker:focus::-ms-fill-lower {\n    background: var(--lottie-player-seeker-track-color);\n  }\n  .seeker:focus::-ms-fill-upper {\n    background: var(--lottie-player-seeker-track-color);\n  }\n\n  .error {\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    align-items: center;\n  }\n`;\n", "export const LOTTIE_PLAYER_VERSION = \"2.0.2\"; \nexport const LOTTIE_WEB_VERSION = \"^5.10.0\";\n", "// eslint-disable-next-line header/header\nimport { LitElement, html } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators.js\";\nimport { TemplateResult } from \"lit/html.js\";\nimport * as lottie from \"lottie-web/build/player/lottie\";\n\nimport styles from \"./lottie-player.styles\";\nimport { LOTTIE_PLAYER_VERSION, LOTTIE_WEB_VERSION } from \"./versions\";\n\n// import ResizeObserver from \"resize-observer-polyfill\";\n\n// Define valid player states\nexport enum PlayerState {\n  Destroyed = \"destroyed\",\n  Error = \"error\",\n  Frozen = \"frozen\",\n  Loading = \"loading\",\n  Paused = \"paused\",\n  Playing = \"playing\",\n  Stopped = \"stopped\",\n}\n\n// Define play modes\nexport enum PlayMode {\n  Bounce = \"bounce\",\n  Normal = \"normal\",\n}\n\n// Define player events\nexport enum PlayerEvents {\n  Complete = \"complete\",\n  Destroyed = \"destroyed\",\n  Error = \"error\",\n  Frame = \"frame\",\n  Freeze = \"freeze\",\n  Load = \"load\",\n  Loop = \"loop\",\n  Pause = \"pause\",\n  Play = \"play\",\n  Ready = \"ready\",\n  Rendered = \"rendered\",\n  Stop = \"stop\",\n}\n\nexport interface Versions {\n  lottiePlayerVersion: string;\n  lottieWebVersion: string;\n}\n\n/**\n * Parse a resource into a JSON object or a URL string\n */\nexport function parseSrc(src: string | object): string | object {\n  if (typeof src === \"object\") {\n    return src;\n  }\n\n  try {\n    return JSON.parse(src);\n  } catch (e) {\n    // Try construct an absolute URL from the src URL\n    const srcUrl: URL = new URL(src, window.location.href);\n\n    return srcUrl.toString();\n  }\n}\n\nfunction isLottie(json: Record<string, any>): boolean {\n  const mandatory: string[] = [\"v\", \"ip\", \"op\", \"layers\", \"fr\", \"w\", \"h\"];\n\n  return mandatory.every((field: string) =>\n    Object.prototype.hasOwnProperty.call(json, field)\n  );\n}\n\nasync function fromURL(url: string): Promise<Record<string, any>> {\n  if (typeof url !== \"string\") {\n    throw new Error(`The url value must be a string`);\n  }\n\n  let json;\n\n  try {\n    // Try construct an absolute URL from the src URL\n    const srcUrl: URL = new URL(url);\n\n    // Fetch the JSON file from the URL\n    const result: any = await fetch(srcUrl.toString());\n\n    json = await result.json();\n  } catch (err) {\n    throw new Error(\n      `An error occurred while trying to load the Lottie file from URL`\n    );\n  }\n\n  return json;\n}\n/**\n * LottiePlayer web component class\n *\n * @export\n * @class LottiePlayer\n * @extends {LitElement}\n */\n@customElement(\"lottie-player\")\nexport class LottiePlayer extends LitElement {\n  /**\n   * Autoplay animation on load.\n   */\n  @property({ type: Boolean })\n  public autoplay: boolean = false;\n\n  /**\n   * Background color.\n   */\n  @property({ type: String, reflect: true })\n  public background?: string = \"transparent\";\n\n  /**\n   * Show controls.\n   */\n  @property({ type: Boolean })\n  public controls: boolean = false;\n\n  /**\n   * Number of times to loop animation.\n   */\n  @property({ type: Number })\n  public count?: number;\n\n  /**\n   * Player state.\n   */\n  @property({ type: String })\n  public currentState: PlayerState = PlayerState.Loading;\n\n  /**\n   * Animation description for screen readers.\n   */\n  @property({ type: String })\n  public description: string = \"Lottie animation\";\n\n  /**\n   * Direction of animation.\n   */\n  @property({ type: Number })\n  public direction: number = 1;\n\n  /**\n   * Disable checking if the Lottie is valid before loading\n   */\n  @property({ type: Boolean })\n  public disableCheck?: boolean = false;\n\n  /**\n   * Disable using shadow dom as the root\n   */\n  @property({ type: Boolean })\n  public disableShadowDOM: boolean = false;\n\n  /**\n   * Whether to play on mouse hover\n   */\n  @property({ type: Boolean })\n  public hover: boolean = false;\n\n  /**\n   * Intermission\n   */\n  @property()\n  public intermission: number = 1;\n\n  /**\n   * Whether to loop animation.\n   */\n  @property({ type: Boolean, reflect: true })\n  public loop: boolean = false;\n\n  /**\n   * Play mode.\n   */\n  @property()\n  public mode: PlayMode = PlayMode.Normal;\n\n  /**\n   * Aspect ratio to pass to lottie-web.\n   */\n  @property({ type: String })\n  public preserveAspectRatio: string = \"xMidYMid meet\";\n\n  /**\n   * Renderer to use.\n   */\n  @property({ type: String })\n  public renderer: \"svg\" = \"svg\";\n\n  /**\n   * Viewbox size for renderer settings\n   */\n  @property({ type: String })\n  public viewBoxSize?: string;\n\n  /**\n   * seeker\n   */\n\n  @property()\n  public seeker: any;\n\n  /**\n   * Animation speed.\n   */\n  @property({ type: Number })\n  public speed: number = 1;\n\n  /**\n   * Bodymovin JSON data or URL to JSON.\n   */\n  @property({ type: String })\n  public src?: string;\n\n  /**\n   * Enable web workers\n   */\n  @property({ type: Boolean })\n  public webworkers?: boolean;\n\n  /**\n   * Animation container.\n   */\n  @query(\".animation\")\n  protected container!: HTMLElement;\n\n  private _io: IntersectionObserver | undefined = undefined;\n\n  // private _ro: ResizeObserver | undefined = undefined;\n  private _lottie?: any;\n\n  private _prevState?: any;\n\n  private _counter: number = 1;\n\n  /**\n   * Configure and initialize lottie-web player instance.\n   */\n  public async load(src: string | object) {\n    const options: any = {\n      container: this.container,\n      loop: false,\n      autoplay: false,\n      renderer: this.renderer,\n      rendererSettings: {\n        preserveAspectRatio: this.preserveAspectRatio,\n        clearCanvas: false,\n        progressiveLoad: true,\n        hideOnTransparent: true,\n        ...(this.viewBoxSize && { viewBoxSize: this.viewBoxSize }),\n      },\n    };\n\n    // Load the resource information\n    try {\n      const srcParsed = parseSrc(src);\n      let jsonData = {};\n      let srcAttrib = typeof srcParsed === \"string\" ? \"path\" : \"animationData\";\n\n      // Clear previous animation, if any\n      if (this._lottie) {\n        this._lottie.destroy();\n      }\n\n      if (this.webworkers) {\n        lottie.useWebWorker(true);\n      }\n\n      // Initialize lottie player and load animation\n      this._lottie = lottie.loadAnimation({\n        ...options,\n\n        [srcAttrib]: srcParsed,\n      });\n\n      // Attach the event listeners before we check the requested json file for errors\n      this._attachEventListeners();\n\n      if (!this.disableCheck) {\n        // Fetch resource if src is a remote URL\n        if (srcAttrib === \"path\") {\n          jsonData = await fromURL(srcParsed as string);\n          srcAttrib = \"animationData\";\n        } else {\n          jsonData = srcParsed;\n        }\n\n        if (!isLottie(jsonData)) {\n          this.currentState = PlayerState.Error;\n          this.dispatchEvent(new CustomEvent(PlayerEvents.Error));\n        }\n      }\n    } catch (err) {\n      this.currentState = PlayerState.Error;\n      this.dispatchEvent(new CustomEvent(PlayerEvents.Error));\n    }\n  }\n\n  /**\n   * Returns the lottie-web instance used in the component.\n   */\n  public getLottie(): any {\n    return this._lottie;\n  }\n\n  /**\n   * Returns the lottie-web version and this player's version\n   */\n  public getVersions(): Versions {\n    return {\n      lottieWebVersion: LOTTIE_WEB_VERSION,\n      lottiePlayerVersion: LOTTIE_PLAYER_VERSION,\n    };\n  }\n\n  /**\n   * Start playing animation.\n   */\n  public play() {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._lottie.play();\n    this.currentState = PlayerState.Playing;\n\n    this.dispatchEvent(new CustomEvent(PlayerEvents.Play));\n  }\n\n  /**\n   * Pause animation play.\n   */\n  public pause(): void {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._lottie.pause();\n    this.currentState = PlayerState.Paused;\n\n    this.dispatchEvent(new CustomEvent(PlayerEvents.Pause));\n  }\n\n  /**\n   * Stops animation play.\n   */\n  public stop(): void {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._counter = 1;\n    this._lottie.stop();\n    this.currentState = PlayerState.Stopped;\n\n    this.dispatchEvent(new CustomEvent(PlayerEvents.Stop));\n  }\n\n  /**\n   * Destroy animation and lottie-player element.\n   */\n  public destroy(): void {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._lottie.destroy();\n    this._lottie = null;\n    this.currentState = PlayerState.Destroyed;\n    this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed));\n    this.remove();\n  }\n\n  /**\n   * Seek to a given frame.\n   */\n  public seek(value: number | string): void {\n    if (!this._lottie) {\n      return;\n    }\n\n    // Extract frame number from either number or percentage value\n    const matches = /^(\\d+)(%?)$/.exec(value.toString());\n\n    if (!matches) {\n      return;\n    }\n\n    // Calculate and set the frame number\n    const frame =\n      matches[2] === \"%\"\n        ? (this._lottie.totalFrames * Number(matches[1])) / 100\n        : Number(matches[1]);\n\n    // Set seeker to new frame number\n    this.seeker = frame;\n\n    // Send lottie player to the new frame\n    if (this.currentState === PlayerState.Playing) {\n      this._lottie.goToAndPlay(frame, true);\n    } else {\n      this._lottie.goToAndStop(frame, true);\n      this._lottie.pause();\n    }\n  }\n\n  /**\n   * Snapshot the current frame as SVG.\n   *\n   * If 'download' argument is boolean true, then a download is triggered in browser.\n   */\n  public snapshot(download: boolean = true): string | void {\n    if (!this.shadowRoot) return;\n\n    // Get SVG element and serialize markup\n    const svgElement = this.shadowRoot.querySelector(\".animation svg\") as Node;\n    const data = new XMLSerializer().serializeToString(svgElement);\n\n    // Trigger file download\n    if (download) {\n      const element = document.createElement(\"a\");\n\n      element.href = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(\n        data\n      )}`;\n      element.download = `download_${this.seeker}.svg`;\n      document.body.appendChild(element);\n\n      element.click();\n\n      document.body.removeChild(element);\n    }\n\n    return data;\n  }\n\n  /**\n   * Sets animation play speed.\n   *\n   * @param value Playback speed.\n   */\n  public setSpeed(value = 1): void {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._lottie.setSpeed(value);\n  }\n\n  /**\n   * Animation play direction.\n   *\n   * @param value Direction values.\n   */\n  public setDirection(value: number): void {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._lottie.setDirection(value);\n  }\n\n  /**\n   * Sets the looping of the animation.\n   *\n   * @param value Whether to enable looping. Boolean true enables looping.\n   */\n  public setLooping(value: boolean): void {\n    if (this._lottie) {\n      this.loop = value;\n      this._lottie.loop = value;\n    }\n  }\n\n  /**\n   * Toggle playing state.\n   */\n  public togglePlay(): void {\n    return this.currentState === PlayerState.Playing\n      ? this.pause()\n      : this.play();\n  }\n\n  /**\n   * Toggles animation looping.\n   */\n  public toggleLooping(): void {\n    this.setLooping(!this.loop);\n  }\n\n  /**\n   * Resize animation.\n   */\n  public resize() {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._lottie.resize();\n  }\n\n  /**\n   * Returns the styles for the component.\n   */\n  static get styles() {\n    return styles;\n  }\n\n  /**\n   * Cleanup on component destroy.\n   */\n  public disconnectedCallback(): void {\n    // Don't clean up if node is still connected to the context (i.e. this is a move).\n    if (this.isConnected) return;\n\n    // Remove intersection observer for detecting component being out-of-view.\n    if (this._io) {\n      this._io.disconnect();\n      this._io = undefined;\n    }\n\n    // Remove resize observer for detecting resize/reflow events affecting element.\n    // if (this._ro) {\n    //   this._ro.disconnect();\n    //   this._ro = undefined;\n    // }\n\n    // Remove the attached Visibility API's change event listener.\n    document.removeEventListener(\"visibilitychange\", () =>\n      this._onVisibilityChange()\n    );\n\n    // Destroy the animation instance and element\n    this.destroy();\n  }\n\n  public render(): TemplateResult | void {\n    const className: string = this.controls ? \"main controls\" : \"main\";\n    const animationClass: string = this.controls\n      ? \"animation controls\"\n      : \"animation\";\n\n    return html` <div\n      id=\"animation-container\"\n      class=${className}\n      lang=\"en\"\n      aria-label=${this.description}\n      role=\"img\"\n    >\n      <div\n        id=\"animation\"\n        class=${animationClass}\n        style=\"background:${this.background};\"\n      >\n        ${this.currentState === PlayerState.Error\n          ? html`<div class=\"error\"></div>`\n          : undefined}\n      </div>\n      ${this.controls && !this.disableShadowDOM\n        ? this.renderControls()\n        : undefined}\n    </div>`;\n  }\n\n  protected createRenderRoot(): Element | ShadowRoot {\n    if (this.disableShadowDOM) this.style.display = \"block\";\n\n    return this.disableShadowDOM ? this : super.createRenderRoot();\n  }\n\n  /**\n   * Initialize everything on component first render.\n   */\n  protected firstUpdated(): void {\n    // Add intersection observer for detecting component being out-of-view.\n    if (\"IntersectionObserver\" in window) {\n      this._io = new IntersectionObserver(\n        (entries: IntersectionObserverEntry[]) => {\n          if (entries[0].isIntersecting) {\n            if (this.currentState === PlayerState.Frozen) {\n              this.play();\n            }\n          } else if (this.currentState === PlayerState.Playing) {\n            this.freeze();\n          }\n        }\n      );\n\n      this._io.observe(this.container);\n    }\n\n    // Add listener for Visibility API's change event.\n    if (typeof document.hidden !== \"undefined\") {\n      document.addEventListener(\"visibilitychange\", () =>\n        this._onVisibilityChange()\n      );\n    }\n\n    // Setup lottie player\n    if (this.src) {\n      this.load(this.src);\n    }\n    this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered));\n  }\n\n  protected renderControls(): TemplateResult {\n    const isPlaying: boolean = this.currentState === PlayerState.Playing;\n    const isPaused: boolean = this.currentState === PlayerState.Paused;\n    const isStopped: boolean = this.currentState === PlayerState.Stopped;\n\n    return html`\n      <div\n        id=\"lottie-controls\"\n        aria-label=\"lottie-animation-controls\"\n        class=\"toolbar\"\n      >\n        <button\n          id=\"lottie-play-button\"\n          @click=${this.togglePlay}\n          class=${isPlaying || isPaused ? \"active\" : \"\"}\n          style=\"align-items:center;\"\n          tabindex=\"0\"\n          aria-label=\"play-pause\"\n        >\n          ${isPlaying\n            ? html`<svg\n                width=\"24\"\n                height=\"24\"\n                aria-hidden=\"true\"\n                focusable=\"false\"\n              >\n                <path\n                  d=\"M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z\"\n                />\n              </svg>`\n            : html`<svg\n                width=\"24\"\n                height=\"24\"\n                aria-hidden=\"true\"\n                focusable=\"false\"\n              >\n                <path d=\"M8.016 5.016L18.985 12 8.016 18.984V5.015z\" />\n              </svg>`}\n        </button>\n        <button\n          id=\"lottie-stop-button\"\n          @click=${this.stop}\n          class=${isStopped ? \"active\" : \"\"}\n          style=\"align-items:center;\"\n          tabindex=\"0\"\n          aria-label=\"stop\"\n        >\n          <svg width=\"24\" height=\"24\" aria-hidden=\"true\" focusable=\"false\">\n            <path d=\"M6 6h12v12H6V6z\" />\n          </svg>\n        </button>\n        <input\n          id=\"lottie-seeker-input\"\n          class=\"seeker\"\n          type=\"range\"\n          min=\"0\"\n          step=\"1\"\n          max=\"100\"\n          .value=${this.seeker}\n          @input=${this._handleSeekChange}\n          @mousedown=${() => {\n            this._prevState = this.currentState;\n            this.freeze();\n          }}\n          @mouseup=${() => {\n            this._prevState === PlayerState.Playing && this.play();\n          }}\n          aria-valuemin=\"1\"\n          aria-valuemax=\"100\"\n          role=\"slider\"\n          aria-valuenow=${this.seeker}\n          tabindex=\"0\"\n          aria-label=\"lottie-seek-input\"\n        />\n        <button\n          id=\"lottie-loop-toggle\"\n          @click=${this.toggleLooping}\n          class=${this.loop ? \"active\" : \"\"}\n          style=\"align-items:center;\"\n          tabindex=\"0\"\n          aria-label=\"loop-toggle\"\n        >\n          <svg width=\"24\" height=\"24\" aria-hidden=\"true\" focusable=\"false\">\n            <path\n              d=\"M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z\"\n            />\n          </svg>\n        </button>\n      </div>\n    `;\n  }\n\n  /**\n   * Handle visibility change events.\n   */\n  private _onVisibilityChange(): void {\n    if (document.hidden === true && this.currentState === PlayerState.Playing) {\n      this.freeze();\n    } else if (this.currentState === PlayerState.Frozen) {\n      this.play();\n    }\n  }\n\n  /**\n   * Handles click and drag actions on the progress track.\n   */\n  private _handleSeekChange(e: any): void {\n    if (!this._lottie || isNaN(e.target.value)) {\n      return;\n    }\n\n    const frame: number = (e.target.value / 100) * this._lottie.totalFrames;\n\n    this.seek(frame);\n  }\n\n  private _attachEventListeners(): void {\n    this._lottie.addEventListener(\"enterFrame\", () => {\n      this.seeker =\n        (this._lottie.currentFrame / this._lottie.totalFrames) * 100;\n\n      this.dispatchEvent(\n        new CustomEvent(PlayerEvents.Frame, {\n          detail: {\n            frame: this._lottie.currentFrame,\n            seeker: this.seeker,\n          },\n        })\n      );\n    });\n\n    // Handle animation play complete\n    this._lottie.addEventListener(\"complete\", () => {\n      if (this.currentState !== PlayerState.Playing) {\n        this.dispatchEvent(new CustomEvent(PlayerEvents.Complete));\n\n        return;\n      }\n\n      if (!this.loop || (this.count && this._counter >= this.count)) {\n        this.dispatchEvent(new CustomEvent(PlayerEvents.Complete));\n\n        if (this.mode === PlayMode.Bounce) {\n          if (this._lottie.currentFrame === 0) {\n            return;\n          }\n        } else {\n          return;\n        }\n      }\n\n      if (this.mode === PlayMode.Bounce) {\n        if (this.count) {\n          this._counter += 0.5;\n        }\n\n        setTimeout(() => {\n          this.dispatchEvent(new CustomEvent(PlayerEvents.Loop));\n\n          if (this.currentState === PlayerState.Playing) {\n            this._lottie.setDirection(this._lottie.playDirection * -1);\n            this._lottie.play();\n          }\n        }, this.intermission);\n      } else {\n        if (this.count) {\n          this._counter += 1;\n        }\n\n        window.setTimeout(() => {\n          this.dispatchEvent(new CustomEvent(PlayerEvents.Loop));\n\n          if (this.currentState === PlayerState.Playing) {\n            if (this.direction === -1) {\n              // Prevents flickering\n              this.seek(\"99%\");\n              this.play();\n            } else {\n              this._lottie.stop();\n              this._lottie.play();\n            }\n          }\n        }, this.intermission);\n      }\n    });\n\n    // Handle lottie-web ready event\n    this._lottie.addEventListener(\"DOMLoaded\", () => {\n      // Set initial playback speed and direction\n      this.setSpeed(this.speed);\n      this.setDirection(this.direction);\n\n      // Start playing if autoplay is enabled\n      if (this.autoplay) {\n        if (this.direction === -1) this.seek(\"100%\");\n        this.play();\n      }\n\n      this.dispatchEvent(new CustomEvent(PlayerEvents.Ready));\n    });\n\n    // Handle animation data load complete\n    this._lottie.addEventListener(\"data_ready\", () => {\n      this.dispatchEvent(new CustomEvent(PlayerEvents.Load));\n    });\n\n    // Set error state when animation load fail event triggers\n    this._lottie.addEventListener(\"data_failed\", () => {\n      this.currentState = PlayerState.Error;\n\n      this.dispatchEvent(new CustomEvent(PlayerEvents.Error));\n    });\n\n    // Set handlers to auto play animation on hover if enabled\n    this.container.addEventListener(\"mouseenter\", () => {\n      if (this.hover && this.currentState !== PlayerState.Playing) {\n        this.play();\n      }\n    });\n    this.container.addEventListener(\"mouseleave\", () => {\n      if (this.hover && this.currentState === PlayerState.Playing) {\n        this.stop();\n      }\n    });\n  }\n\n  /**\n   * Freeze animation play.\n   * This internal state pauses animation and is used to differentiate between\n   * user requested pauses and component instigated pauses.\n   */\n  private freeze(): void {\n    if (!this._lottie) {\n      return;\n    }\n\n    this._lottie.pause();\n    this.currentState = PlayerState.Frozen;\n\n    this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze));\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,IAAIA,iBAAgB,SAASC,IAAGC,IAAAA;AAAAA,SAC5BF,iBAAgBG,OAAOC,kBAClB,EAAEC,WAAW,CAAA,EAAA,aAAgBC,SAAS,SAAUL,IAAGC,IAAAA;AAAKD,IAAAA,GAAEI,YAAYH;EAAAA,KACvE,SAAUD,IAAGC,IAAAA;AAAAA,aAAcK,MAAKL;AAAOC,aAAOK,UAAUC,eAAeC,KAAKR,IAAGK,EAAAA,MAAIN,GAAEM,EAAAA,IAAKL,GAAEK,EAAAA;EAAAA,GACzFP,eAAcC,IAAGC,EAAAA;AAAAA;AAGrB,SAASS,UAAUV,IAAGC,IAAAA;AAAAA,MACR,cAAA,OAANA,MAA0B,SAANA;AAC3B,UAAM,IAAIU,UAAU,yBAAyBC,OAAOX,EAAAA,IAAK,+BAAA;AAAA,WAEpDY,KAAAA;AAAAA,SAAYC,cAAcd;EAAAA;AADnCD,iBAAcC,IAAGC,EAAAA,GAEjBD,GAAEO,YAAkB,SAANN,KAAaC,OAAOa,OAAOd,EAAAA,KAAMY,GAAGN,YAAYN,GAAEM,WAAW,IAAIM;AAAAA;AAG5E,IAAIG,UAAW,WAAA;AAAA,SAClBA,UAAWd,OAAOe,UAAU,SAAkBC,IAAAA;AAAAA,aACjCC,IAAGC,KAAI,GAAGC,KAAIC,UAAUC,QAAQH,KAAIC,IAAGD;AAAAA,eAEnCd,MADTa,KAAIG,UAAUF,EAAAA;AACOlB,eAAOK,UAAUC,eAAeC,KAAKU,IAAGb,EAAAA,MAAIY,GAAEZ,EAAAA,IAAKa,GAAEb,EAAAA;AAAAA,WAEvEY;EAAAA,GAEJF,QAASQ,MAAMC,MAAMH,SAAAA;AAAAA;AAGzB,SAASI,OAAOP,IAAGQ,IAAAA;AAAAA,MAClBT,KAAI,CAAA;AAAA,WACCZ,MAAKa;AAAOjB,WAAOK,UAAUC,eAAeC,KAAKU,IAAGb,EAAAA,KAAMqB,GAAEC,QAAQtB,EAAAA,IAAK,MAC9EY,GAAEZ,EAAAA,IAAKa,GAAEb,EAAAA;AAAAA,MACJ,QAALa,MAAqD,cAAA,OAAjCjB,OAAO2B,uBACtB;AAAA,QAAIT,KAAI;AAAb,SAAgBd,KAAIJ,OAAO2B,sBAAsBV,EAAAA,GAAIC,KAAId,GAAEiB,QAAQH;AAC3DO,MAAAA,GAAEC,QAAQtB,GAAEc,EAAAA,CAAAA,IAAM,KAAKlB,OAAOK,UAAUuB,qBAAqBrB,KAAKU,IAAGb,GAAEc,EAAAA,CAAAA,MACvEF,GAAEZ,GAAEc,EAAAA,CAAAA,IAAMD,GAAEb,GAAEc,EAAAA,CAAAA;EAAAA;AAAAA,SAEnBF;AAAAA;AAGJ,SAASa,WAAWC,IAAYC,IAAQC,IAAKC,IAAAA;AAAAA,MAC2EnC,IAAvHoC,KAAId,UAAUC,QAAQc,KAAID,KAAI,IAAIH,KAAkB,SAATE,KAAgBA,KAAOjC,OAAOoC,yBAAyBL,IAAQC,EAAAA,IAAOC;AAAAA,MAC9F,YAAA,OAAZI,WAAoD,cAAA,OAArBA,QAAQC;AAAyBH,IAAAA,KAAIE,QAAQC,SAASR,IAAYC,IAAQC,IAAKC,EAAAA;;AACpH,aAASf,KAAIY,GAAWT,SAAS,GAAGH,MAAK,GAAGA;AAAAA,OAASpB,KAAIgC,GAAWZ,EAAAA,OAAIiB,MAAKD,KAAI,IAAIpC,GAAEqC,EAAAA,IAAKD,KAAI,IAAIpC,GAAEiC,IAAQC,IAAKG,EAAAA,IAAKrC,GAAEiC,IAAQC,EAAAA,MAASG;AAAAA,SACzID,KAAI,KAAKC,MAAKnC,OAAOuC,eAAeR,IAAQC,IAAKG,EAAAA,GAAIA;AAAAA;AAGzD,SAASK,QAAQC,IAAYC,IAAAA;AAAAA,SACzB,SAAUX,IAAQC,IAAAA;AAAOU,IAAAA,GAAUX,IAAQC,IAAKS,EAAAA;EAAAA;AAAAA;AAGpD,SAASE,WAAWC,IAAaC,IAAAA;AAAAA,MACb,YAAA,OAAZR,WAAoD,cAAA,OAArBA,QAAQS;AAAyB,WAAOT,QAAQS,SAASF,IAAaC,EAAAA;AAAAA;AAG7G,SAASE,UAAUC,IAASC,IAAYC,IAAGC,IAAAA;AAAAA,SAEvC,KAAKD,OAAMA,KAAIE,UAAU,SAAUC,IAASC,IAAAA;AAAAA,aACtCC,GAAUC,IAAAA;AAAAA,UAAAA;AAAeC,QAAAA,GAAKN,GAAUO,KAAKF,EAAAA,CAAAA;MAAAA,SAAkB/B,IAAAA;AAAK6B,QAAAA,GAAO7B,EAAAA;MAAAA;IAAAA;AAAAA,aAC3EkC,GAASH,IAAAA;AAAAA,UAAAA;AAAeC,QAAAA,GAAKN,GAAS,MAAUK,EAAAA,CAAAA;MAAAA,SAAkB/B,IAAAA;AAAK6B,QAAAA,GAAO7B,EAAAA;MAAAA;IAAAA;AAAAA,aAC9EgC,GAAKG,IAAAA;AAAAA,UAJHJ;AAIaI,MAAAA,GAAOC,OAAOR,GAAQO,GAAOJ,KAAAA,KAJ1CA,KAIyDI,GAAOJ,OAJhDA,cAAiBN,KAAIM,KAAQ,IAAIN,GAAE,SAAUG,IAAAA;AAAWA,QAAAA,GAAQG,EAAAA;MAAAA,CAAAA,GAITM,KAAKP,IAAWI,EAAAA;IAAAA;AAClGF,IAAAA,IAAMN,KAAYA,GAAU7B,MAAM0B,IAASC,MAAc,CAAA,CAAA,GAAKS,KAAAA,CAAAA;EAAAA,CAAAA;AAAAA;AAI/D,SAASK,YAAYf,IAASgB,IAAAA;AAAAA,MACqEC,IAAGC,IAAGlD,IAAGmD,IAA3GC,KAAI,EAAEC,OAAO,GAAGC,MAAM,WAAA;AAAA,QAAwB,IAAPtD,GAAE,CAAA;AAAQ,YAAMA,GAAE,CAAA;AAAA,WAAWA,GAAE,CAAA;EAAA,GAAOuD,MAAM,CAAA,GAAIC,KAAK,CAAA,EAAA;AAAA,SACzFL,KAAI,EAAET,MAAMe,GAAK,CAAA,GAAA,OAAaA,GAAK,CAAA,GAAA,QAAcA,GAAK,CAAA,EAAA,GAAwB,cAAA,OAAXC,WAA0BP,GAAEO,OAAOC,QAAAA,IAAY,WAAA;AAAA,WAAoBpD;EAAAA,IAAU4C;AAAAA,WAC9IM,GAAKtD,IAAAA;AAAAA,WAAY,SAAUyD,IAAAA;AAAAA,aAAAA,SACtBC,IAAAA;AAAAA,YACNZ;AAAG,gBAAM,IAAIxD,UAAU,iCAAA;AAAA,eACpB2D;AAAAA,cAAAA;AAAAA,gBACCH,KAAI,GAAGC,OAAMlD,KAAY,IAAR6D,GAAG,CAAA,IAASX,GAAC,SAAaW,GAAG,CAAA,IAAKX,GAAC,WAAelD,KAAIkD,GAAC,WAAelD,GAAET,KAAK2D,EAAAA,GAAI,KAAKA,GAAER,SAAAA,EAAW1C,KAAIA,GAAET,KAAK2D,IAAGW,GAAG,CAAA,CAAA,GAAKhB;AAAM,qBAAO7C;AAAAA,oBACvJkD,KAAI,GAAGlD,OAAG6D,KAAK,CAAS,IAARA,GAAG,CAAA,GAAQ7D,GAAEwC,KAAAA,IACzBqB,GAAG,CAAA,GAAA;cAAA,KACF;cAAA,KAAQ;AAAG7D,gBAAAA,KAAI6D;AAAAA;cAAAA,KACf;AAAA,uBAAGT,GAAEC,SAAgB,EAAEb,OAAOqB,GAAG,CAAA,GAAIhB,MAAAA,MAAM;cAAA,KAC3C;AAAGO,gBAAAA,GAAEC,SAASH,KAAIW,GAAG,CAAA,GAAIA,KAAK,CAAC,CAAA;AAAA;cAAA,KAC/B;AAAGA,gBAAAA,KAAKT,GAAEI,IAAIM,IAAAA,GAAOV,GAAEG,KAAKO,IAAAA;AAAAA;cAAAA;AAAAA,oBAAAA,EAEvB9D,KAAIoD,GAAEG,OAAMvD,KAAIA,GAAEK,SAAS,KAAKL,GAAEA,GAAEK,SAAS,CAAA,MAAkB,MAAVwD,GAAG,CAAA,KAAsB,MAAVA,GAAG,CAAA,IAAW;AAAET,kBAAAA,KAAI;AAAA;gBAAA;AAAA,oBAChF,MAAVS,GAAG,CAAA,MAAA,CAAc7D,MAAM6D,GAAG,CAAA,IAAK7D,GAAE,CAAA,KAAM6D,GAAG,CAAA,IAAK7D,GAAE,CAAA,IAAM;AAAEoD,kBAAAA,GAAEC,QAAQQ,GAAG,CAAA;AAAA;gBAAA;AAAA,oBAC5D,MAAVA,GAAG,CAAA,KAAYT,GAAEC,QAAQrD,GAAE,CAAA,GAAI;AAAEoD,kBAAAA,GAAEC,QAAQrD,GAAE,CAAA,GAAIA,KAAI6D;AAAAA;gBAAAA;AAAAA,oBACrD7D,MAAKoD,GAAEC,QAAQrD,GAAE,CAAA,GAAI;AAAEoD,kBAAAA,GAAEC,QAAQrD,GAAE,CAAA,GAAIoD,GAAEI,IAAIO,KAAKF,EAAAA;AAAAA;gBAAAA;AAClD7D,gBAAAA,GAAE,CAAA,KAAIoD,GAAEI,IAAIM,IAAAA,GAChBV,GAAEG,KAAKO,IAAAA;AAAAA;YAAAA;AAEfD,YAAAA,KAAKb,GAAKzD,KAAKyC,IAASoB,EAAAA;UAAAA,SACnB3C,IAAAA;AAAKoD,YAAAA,KAAK,CAAC,GAAGpD,EAAAA,GAAIyC,KAAI;UAAA,UAAA;AAAeD,YAAAA,KAAIjD,KAAI;UAAA;AAAA,YAC1C,IAAR6D,GAAG,CAAA;AAAQ,gBAAMA,GAAG,CAAA;AAAA,eAAW,EAAErB,OAAOqB,GAAG,CAAA,IAAKA,GAAG,CAAA,IAAA,QAAahB,MAAAA,KAAM;MAAA,EArBzB,CAAC1C,IAAGyD,EAAAA,CAAAA;IAAAA;EAAAA;AAAAA;AAyBtD,IAAII,kBAAkBhF,OAAOa,SAAU,SAASoE,IAAGC,IAAGC,IAAGC,IAAAA;AAAAA,aACxDA,OAAkBA,KAAKD,KAC3BnF,OAAOuC,eAAe0C,IAAGG,IAAI,EAAEC,YAAAA,MAAkBC,KAAK,WAAA;AAAA,WAAoBJ,GAAEC,EAAAA;EAAAA,EAAAA,CAAAA;AAAAA,IAC1E,SAASF,IAAGC,IAAGC,IAAGC,IAAAA;AAAAA,aAChBA,OAAkBA,KAAKD,KAC3BF,GAAEG,EAAAA,IAAMF,GAAEC,EAAAA;AAAAA;AAGP,SAASI,aAAaL,IAAGD,IAAAA;AAAAA,WACnB7E,MAAK8E;AAAa,kBAAN9E,MAAoBJ,OAAOK,UAAUC,eAAeC,KAAK0E,IAAG7E,EAAAA,KAAI4E,gBAAgBC,IAAGC,IAAG9E,EAAAA;AAAAA;AAGxG,SAASoF,SAASP,IAAAA;AAAAA,MACjBhE,KAAsB,cAAA,OAAXyD,UAAyBA,OAAOC,UAAUO,KAAIjE,MAAKgE,GAAEhE,EAAAA,GAAIC,KAAI;AAAA,MACxEgE;AAAG,WAAOA,GAAE3E,KAAK0E,EAAAA;AAAAA,MACjBA,MAAyB,YAAA,OAAbA,GAAE5D;AAAqB,WAAO,EAC1CqC,MAAM,WAAA;AAAA,aACEuB,MAAK/D,MAAK+D,GAAE5D,WAAQ4D,KAAAA,SACjB,EAAEzB,OAAOyB,MAAKA,GAAE/D,IAAAA,GAAM2C,MAAAA,CAAOoB,GAAAA;IAAAA,EAAAA;AAAAA,QAGtC,IAAIxE,UAAUQ,KAAI,4BAA4B,iCAAA;AAAA;AAGjD,SAASwE,OAAOR,IAAG9D,IAAAA;AAAAA,MAClB+D,KAAsB,cAAA,OAAXR,UAAyBO,GAAEP,OAAOC,QAAAA;AAAAA,MAAAA,CAC5CO;AAAG,WAAOD;AAAAA,MACI9C,IAAYV,IAA3BP,KAAIgE,GAAE3E,KAAK0E,EAAAA,GAAOS,KAAK,CAAA;AAAA,MAAA;AAAA,YAAA,WAEfvE,MAAgBA,OAAM,MAAA,EAAQgB,KAAIjB,GAAEwC,KAAAA,GAAQG;AAAM6B,MAAAA,GAAGX,KAAK5C,GAAEqB,KAAAA;EAAAA,SAEjEmC,IAAAA;AAASlE,IAAAA,KAAI,EAAEkE,OAAOA,GAAAA;EAAAA,UAAAA;AAAAA,QAAAA;AAGjBxD,MAAAA,MAAAA,CAAMA,GAAE0B,SAASqB,KAAIhE,GAAC,WAAagE,GAAE3E,KAAKW,EAAAA;IAAAA,UAAAA;AAAAA,UAEpCO;AAAG,cAAMA,GAAEkE;IAAAA;EAAAA;AAAAA,SAEtBD;AAAAA;AAIJ,SAASE,WAAAA;AAAAA,WACHF,KAAK,CAAA,GAAIxE,KAAI,GAAGA,KAAIE,UAAUC,QAAQH;AAC3CwE,IAAAA,KAAKA,GAAGG,OAAOJ,OAAOrE,UAAUF,EAAAA,CAAAA,CAAAA;AAAAA,SAC7BwE;AAAAA;AAIJ,SAASI,iBAAAA;AAAAA,WACH7E,KAAI,GAAGC,KAAI,GAAG6E,KAAK3E,UAAUC,QAAQH,KAAI6E,IAAI7E;AAAKD,IAAAA,MAAKG,UAAUF,EAAAA,EAAGG;AACxE,MAAIc,KAAIhC,MAAMc,EAAAA,GAAIkE,KAAI;AAAA,OAAGjE,KAAI,GAAGA,KAAI6E,IAAI7E;AAAAA,aAChC8E,KAAI5E,UAAUF,EAAAA,GAAI+E,KAAI,GAAGC,KAAKF,GAAE3E,QAAQ4E,KAAIC,IAAID,MAAKd;AAC1DhD,MAAAA,GAAEgD,EAAAA,IAAKa,GAAEC,EAAAA;AAAAA,SACV9D;AAAAA;AAGJ,SAASgE,cAAcC,IAAIC,IAAMC,IAAAA;AAAAA,MAChCA,MAA6B,MAArBlF,UAAUC;AAAc,aAAiCqE,IAAxBxE,KAAI,GAAGqF,KAAIF,GAAKhF,QAAYH,KAAIqF,IAAGrF;AAAAA,OACxEwE,MAAQxE,MAAKmF,OACRX,OAAIA,KAAKvF,MAAME,UAAUmG,MAAMjG,KAAK8F,IAAM,GAAGnF,EAAAA,IAClDwE,GAAGxE,EAAAA,IAAKmF,GAAKnF,EAAAA;AAAAA,SAGdkF,GAAGP,OAAOH,MAAMvF,MAAME,UAAUmG,MAAMjG,KAAK8F,EAAAA,CAAAA;AAAAA;AAG/C,SAASI,QAAQ7B,IAAAA;AAAAA,SACbrD,gBAAgBkF,WAAWlF,KAAKqD,IAAIA,IAAGrD,QAAQ,IAAIkF,QAAQ7B,EAAAA;AAAAA;AAG/D,SAAS8B,iBAAiB1D,IAASC,IAAYE,IAAAA;AAAAA,MAAAA,CAC7CuB,OAAOiC;AAAe,UAAM,IAAIlG,UAAU,sCAAA;AAAA,MACKS,IAAhDiD,KAAIhB,GAAU7B,MAAM0B,IAASC,MAAc,CAAA,CAAA,GAAQ2D,KAAI,CAAA;AAAA,SACpD1F,KAAI,CAAA,GAAIuD,GAAK,MAAA,GAASA,GAAK,OAAA,GAAUA,GAAK,QAAA,GAAWvD,GAAEwD,OAAOiC,aAAAA,IAAiB,WAAA;AAAA,WAAqBpF;EAAAA,GAASL;AAAAA,WAC3GuD,GAAKtD,IAAAA;AAASgD,IAAAA,GAAEhD,EAAAA,MAAID,GAAEC,EAAAA,IAAK,SAAUyD,IAAAA;AAAAA,aAAY,IAAIxB,QAAQ,SAAU4C,IAAGjG,IAAAA;AAAK6G,QAAAA,GAAE7B,KAAK,CAAC5D,IAAGyD,IAAGoB,IAAGjG,EAAAA,CAAAA,IAAM,KAAK8G,GAAO1F,IAAGyD,EAAAA;MAAAA,CAAAA;IAAAA;EAAAA;AAAAA,WACrHiC,GAAO1F,IAAGyD,IAAAA;AAAAA,QAAAA;AAAAA,OAAAA,SACLzC,IAAAA;AAAKA,QAAAA,GAAEqB,iBAAiBiD,UAAUrD,QAAQC,QAAQlB,GAAEqB,MAAMoB,CAAAA,EAAGd,KAAKgD,IAASxD,EAAAA,IAAUyD,GAAOH,GAAE,CAAA,EAAG,CAAA,GAAIzE,EAAAA;MAAAA,EADhFgC,GAAEhD,EAAAA,EAAGyD,EAAAA,CAAAA;IAAAA,SAAcnD,IAAAA;AAAKsF,MAAAA,GAAOH,GAAE,CAAA,EAAG,CAAA,GAAInF,EAAAA;IAAAA;EAAAA;AAAAA,WAElEqF,GAAQtD,IAAAA;AAASqD,IAAAA,GAAO,QAAQrD,EAAAA;EAAAA;AAAAA,WAChCF,GAAOE,IAAAA;AAASqD,IAAAA,GAAO,SAASrD,EAAAA;EAAAA;AAAAA,WAChCuD,GAAO9C,IAAGW,IAAAA;AAASX,IAAAA,GAAEW,EAAAA,GAAIgC,GAAEI,MAAAA,GAASJ,GAAEvF,UAAQwF,GAAOD,GAAE,CAAA,EAAG,CAAA,GAAIA,GAAE,CAAA,EAAG,CAAA,CAAA;EAAA;AAAA;AAGzE,SAASK,iBAAiBhC,IAAAA;AAAAA,MACzB/D,IAAGd;AAAAA,SACAc,KAAI,CAAA,GAAIuD,GAAK,MAAA,GAASA,GAAK,SAAS,SAAUhD,IAAAA;AAAAA,UAAWA;EAAAA,CAAAA,GAAOgD,GAAK,QAAA,GAAWvD,GAAEwD,OAAOC,QAAAA,IAAY,WAAA;AAAA,WAAqBpD;EAAAA,GAASL;AAAAA,WACjIuD,GAAKtD,IAAG8C,IAAAA;AAAK/C,IAAAA,GAAEC,EAAAA,IAAK8D,GAAE9D,EAAAA,IAAK,SAAUyD,IAAAA;AAAAA,cAAaxE,KAAAA,CAAKA,MAAK,EAAEoD,OAAOiD,QAAQxB,GAAE9D,EAAAA,EAAGyD,EAAAA,CAAAA,GAAKf,MAAY,aAAN1C,GAAAA,IAAmB8C,KAAIA,GAAEW,EAAAA,IAAKA;IAAAA,IAAOX;EAAAA;AAAAA;AAGxI,SAASiD,cAAcjC,IAAAA;AAAAA,MAAAA,CACrBP,OAAOiC;AAAe,UAAM,IAAIlG,UAAU,sCAAA;AAAA,MACdS,IAA7BgE,KAAID,GAAEP,OAAOiC,aAAAA;AAAAA,SACVzB,KAAIA,GAAE3E,KAAK0E,EAAAA,KAAMA,KAAwB,cAAA,OAAbO,WAA0BA,SAASP,EAAAA,IAAKA,GAAEP,OAAOC,QAAAA,EAAAA,GAAazD,KAAI,CAAA,GAAIuD,GAAK,MAAA,GAASA,GAAK,OAAA,GAAUA,GAAK,QAAA,GAAWvD,GAAEwD,OAAOiC,aAAAA,IAAiB,WAAA;AAAA,WAAqBpF;EAAAA,GAASL;AAAAA,WACrMuD,GAAKtD,IAAAA;AAAKD,IAAAA,GAAEC,EAAAA,IAAK8D,GAAE9D,EAAAA,KAAM,SAAUyD,IAAAA;AAAAA,aAAY,IAAIxB,QAAQ,SAAUC,IAASC,IAAAA;AAAAA,SAAAA,SACvED,IAASC,IAAQxD,IAAG8E,IAAAA;AAAKxB,kBAAQC,QAAQuB,EAAAA,EAAGd,KAAK,SAASc,IAAAA;AAAKvB,YAAAA,GAAQ,EAAEG,OAAOoB,IAAGf,MAAM/D,GAAAA,CAAAA;UAAAA,GAASwD,EAAAA;QAAAA,GADGD,IAASC,KAA7BsB,KAAIK,GAAE9D,EAAAA,EAAGyD,EAAAA,GAA8Bf,MAAMe,GAAEpB,KAAAA;MAAAA,CAAAA;IAAAA;EAAAA;AAAAA;AAI7I,SAAS2D,qBAAqBC,IAAQC,IAAAA;AAAAA,SACrCrH,OAAOuC,iBAAkBvC,OAAOuC,eAAe6E,IAAQ,OAAO,EAAE5D,OAAO6D,GAAAA,CAAAA,IAAiBD,GAAOC,MAAMA,IAClGD;AAAAA;AAGX,IAAIE,qBAAqBtH,OAAOa,SAAU,SAASoE,IAAGL,IAAAA;AAClD5E,SAAOuC,eAAe0C,IAAG,WAAW,EAAEI,YAAAA,MAAkB7B,OAAOoB,GAAAA,CAAAA;AAAAA,IAC9D,SAASK,IAAGL,IAAAA;AACbK,EAAAA,GAAC,UAAcL;AAAAA;AAGZ,SAAS2C,aAAaC,IAAAA;AAAAA,MACrBA,MAAOA,GAAIC;AAAY,WAAOD;AAAAA,MAC9B5D,KAAS,CAAA;AAAA,MACF,QAAP4D;AAAa,aAASrC,MAAKqC;AAAe,oBAANrC,MAAmBnF,OAAOK,UAAUC,eAAeC,KAAKiH,IAAKrC,EAAAA,KAAIH,gBAAgBpB,IAAQ4D,IAAKrC,EAAAA;AAAAA,SACtImC,mBAAmB1D,IAAQ4D,EAAAA,GACpB5D;AAAAA;AAGJ,SAAS8D,gBAAgBF,IAAAA;AAAAA,SACpBA,MAAOA,GAAIC,aAAcD,KAAM,EAAEG,SAASH,GAAAA;AAAAA;AAG/C,SAASI,uBAAuBC,IAAUC,IAAOC,IAAM9D,IAAAA;AAAAA,MAC7C,QAAT8D,MAAAA,CAAiB9D;AAAG,UAAM,IAAIxD,UAAU,+CAAA;AAAA,MACvB,cAAA,OAAVqH,KAAuBD,OAAaC,MAAAA,CAAU7D,KAAAA,CAAK6D,GAAME,IAAIH,EAAAA;AAAW,UAAM,IAAIpH,UAAU,0EAAA;AAAA,SACvF,QAATsH,KAAe9D,KAAa,QAAT8D,KAAe9D,GAAE1D,KAAKsH,EAAAA,IAAY5D,KAAIA,GAAET,QAAQsE,GAAMxC,IAAIuC,EAAAA;AAAAA;AAGjF,SAASI,uBAAuBJ,IAAUC,IAAOtE,IAAOuE,IAAM9D,IAAAA;AAAAA,MACpD,QAAT8D;AAAc,UAAM,IAAItH,UAAU,gCAAA;AAAA,MACzB,QAATsH,MAAAA,CAAiB9D;AAAG,UAAM,IAAIxD,UAAU,+CAAA;AAAA,MACvB,cAAA,OAAVqH,KAAuBD,OAAaC,MAAAA,CAAU7D,KAAAA,CAAK6D,GAAME,IAAIH,EAAAA;AAAW,UAAM,IAAIpH,UAAU,yEAAA;AAAA,SACtF,QAATsH,KAAe9D,GAAE1D,KAAKsH,IAAUrE,EAAAA,IAASS,KAAIA,GAAET,QAAQA,KAAQsE,GAAMI,IAAIL,IAAUrE,EAAAA,GAASA;;ICpO3F2E,MACXC,OAAOC,eAAAA,WACND,OAAOE,YAA0BF,OAAOE,SAASC,iBAClD,wBAAwBC,SAASnI,aACjC,aAAaoI,cAAcpI;IAkBvBqI,MAAoBhE,OAAAA;IAEpBiE,MAAkB,oBAAIC;AAAAA,IASfC,MATeD,MASfC;EAKXjI,YAAoBkI,IAAiBC,IAAAA;AAAAA,QAHrCxH,KAAeyH,eAAAA,MAITD,OAAcL;AAChB,YAAUO,MACR,mEAAA;AAAA,SAGCH,UAAUA;EAAAA;EAKbI,IAAAA,aAAAA;AAAAA,QAGEA,KAAaP,IAAgBrD,IAAI/D,KAAKuH,OAAAA;AAAAA,WACtCX,OAAAA,WAA+Be,OACjCP,IAAgBT,IAAI3G,KAAKuH,SAAUI,KAAa,IAAIT,eAAAA,GACpDS,GAAWC,YAAY5H,KAAKuH,OAAAA,IAEvBI;EAAAA;EAGTE,WAAAA;AAAAA,WACS7H,KAAKuH;EAAAA;AAAAA;AAQhB,IAsBaO,MAAa7F,CAAAA,OACxB,IAAKqF,IACc,YAAA,OAAVrF,KAAqBA,KAAeA,KAAP9C,IACpCgI,GAAAA;AAzBJ,IAoCaY,MAAM,SACjBC,IAAAA;AAAAA,WAAAA,KAAAA,UAAAA,QACGC,KAAAA,IAAAA,MAAAA,KAAAA,IAAAA,KAAAA,IAAAA,CAAAA,GAAAA,KAAAA,GAAAA,KAAAA,IAAAA;AAAAA,IAAAA,GAAAA,KAAAA,CAAAA,IAAAA,UAAAA,EAAAA;AAAAA,MAEGV,KACe,MAAnBS,GAAQlI,SACJkI,GAAQ,CAAA,IACRC,GAAOC,OACL,CAACC,IAAK9E,IAAG+E,OAAQD,MA5CAlG,CAAAA,OAAAA;AAAAA,QAAAA,SAEpBA,GAAkCwF;AACrC,aAAQxF,GAAoBsF;AAAAA,QACF,YAAA,OAAVtF;AAChB,aAAOA;AAAAA,UAEGyF,MACR,qEACKzF,KADL,sFAAA;EAAA,GAoC6CoB,EAAAA,IAAK2E,GAAQI,KAAM,CAAA,GAC5DJ,GAAQ,CAAA,CAAA;AAAA,SAET,IAAKV,IAAqCC,IAASJ,GAAAA;AAAAA;AA/C5D,IA2DakB,MAAc,CACzBC,IACAC,OAAAA;AAEI3B,QACD0B,GAA0BE,qBAAqBD,GAAOE,IAAK/I,CAAAA,OAC1DA,cAAawH,gBAAgBxH,KAAIA,GAAEiI,UAAAA,IAGrCY,GAAOG,QAAShJ,CAAAA,OAAAA;AAAAA,QACRiJ,KAAQC,SAASC,cAAc,OAAA,GAE/BC,KAASjC,OAAyBkC;AAAAA,eACpCD,MACFH,GAAMK,aAAa,SAASF,EAAAA,GAE9BH,GAAMM,cAAevJ,GAAgB6H,SACrCe,GAAWY,YAAYP,EAAAA;EAAAA,CAAAA;AAAAA;AA5E7B,IAyFaQ,MAAqBvC,MAC7BlH,CAAAA,OAAyBA,KACzBA,CAAAA,OACCA,cAAawH,iBAXckC,CAAAA,OAAAA;AAAAA,MAC3B7B,KAAU;AAAA,WACH8B,MAAQD,GAAME;AACvB/B,IAAAA,MAAW8B,GAAK9B;AAAAA,SAEXO,IAAUP,EAAAA;AAAAA,GAMwC7H,EAAAA,IAAKA;AA5FhE;AAAA,ICtCM6J,MAAgB1C,OACnB0C;ADqCH,IC/BMC,MAAiCD,MAClCA,IAAaE,cACd;AD6BJ,IC3BMC,MAEF7C,OAAO8C;ADyBX,ICuJaC,MAA8C,EACzDC,YAAY5H,IAAgB6H,IAAAA;AAAAA,UAClBA,IAAAA;IAAAA,KACDC;AACH9H,MAAAA,KAAQA,KAAQuH,MAAiC;AAAA;IAAA,KAE9C/K;IAAAA,KACAG;AAGHqD,MAAAA,KAAiB,QAATA,KAAgBA,KAAQ+H,KAAKC,UAAUhI,EAAAA;EAAAA;AAAAA,SAG5CA;AAAAA,GAGTiI,cAAcjI,IAAsB6H,IAAAA;AAAAA,MAC9BK,KAAqBlI;AAAAA,UACjB6H,IAAAA;IAAAA,KACDC;AACHI,MAAAA,KAAsB,SAAVlI;AAAAA;IAAAA,KAETmI;AACHD,MAAAA,KAAsB,SAAVlI,KAAiB,OAAOmI,OAAOnI,EAAAA;AAAAA;IAAAA,KAExCxD;IAAAA,KACAG;AAAAA,UAAAA;AAMDuL,QAAAA,KAAYH,KAAKK,MAAMpI,EAAAA;MAAAA,SAChB/B,IAAAA;AACPiK,QAAAA,KAAY;MAAA;EAAA;AAAA,SAIXA;AAAAA,EAAAA;AD7LX,ICyMaG,MAAuB,CAACrI,IAAgBsI,OAE5CA,OAAQtI,OAAUsI,MAAQA,MAAOtI,MAAUA;AD3MpD,IC8MMuI,MAAkD,EACtDC,WAAAA,MACAX,MAAM3K,QACNuL,WAAWd,KACXe,SAAAA,OACAC,YAAYN,IAAAA;ADnNd,ICmNcA;AAAAA,IAwBQO,MAxBRP,cAyBJQ,YAAAA;EAggBRzL,cAAAA;AAAAA,UAAAA,GA1CQW,KAAAA,OAAwC,oBAAIqH,OAUpDrH,KAAAA,kBAAAA,OAOAA,KAAAA,aAAAA,OAkBQA,KAAAA,OAA2C,MASjDA,KAAK+K,EAAAA;EAAAA;EAAAA,OAAAA,eA7aeC,IAAAA;AAAAA,QAAAA;AAAAA,cAAAA,KACpBhL,KAAKiL,MAAAA,WAAAA,OAALjL,KAAKiL,IAAkB,CAAA,IACvBjL,KAAKiL,EAAczH,KAAKwH,EAAAA;EAAAA;EA2GfE,WAAAA,qBAAAA;AAAAA,SAEJC,SAAAA;AAAAA,QACCC,KAAuB,CAAA;AAAA,WAG7BpL,KAAKqL,kBAAkB3C,QAAQ,CAACrF,IAAGxE,OAAAA;AAAAA,UAC3ByM,KAAOtL,KAAKuL,KAA2B1M,IAAGwE,EAAAA;AAAAA,iBAC5CiI,OACFtL,KAAKwL,KAAyB7E,IAAI2E,IAAMzM,EAAAA,GACxCuM,GAAW5H,KAAK8H,EAAAA;IAAAA,CAAAA,GAGbF;EAAAA;EAAAA,OAAAA,eA6BPK,IAAAA;AAAAA,QACAC,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAA+BlB;AAAAA,QAG3BkB,GAAQnF,UAGTmF,GAAgBjB,YAAAA,QAInBzK,KAAKmL,SAAAA,GACLnL,KAAKqL,kBAAkB1E,IAAI8E,IAAMC,EAAAA,GAAAA,CAM5BA,GAAQC,cAAAA,CAAe3L,KAAKlB,UAAUC,eAAe0M,EAAAA,GAAO;AAAA,UACzDhL,KAAsB,YAAA,OAATgL,KAAoBtI,OAAAA,IAAW,OAAKsI,IACjDG,KAAa5L,KAAK6L,sBAAsBJ,IAAMhL,IAAKiL,EAAAA;AAAAA,iBACrDE,MACFnN,OAAOuC,eAAehB,KAAKlB,WAAW2M,IAAMG,EAAAA;IAAAA;EAAAA;EAAAA,OAAAA,sBA2ChDH,IACAhL,IACAiL,IAAAA;AAAAA,WAEO,EAEL3H,MAAAA;AAAAA,aACU/D,KAAkCS,EAAAA;IAAAA,GAE5CkG,IAA2B1E,IAAAA;AAAAA,UACnB6J,KAAY9L,KAChByL,EAAAA;AAAAA,WAEuChL,EAAAA,IAAiBwB,IACzDjC,KAAoC+L,cACnCN,IACAK,IACAJ,EAAAA;IAAAA,GAGJM,cAAAA,MACAlI,YAAAA,KAAAA;EAAAA;EAAAA,OAAAA,mBAkBsB2H,IAAAA;AAAAA,WACjBzL,KAAKqL,kBAAkBtH,IAAI0H,EAAAA,KAASjB;EAAAA;EAAAA,OAAAA,WAAAA;AAAAA,QAUvCxK,KAAKjB,eA/WK,WAAA;AAgXZ,aAAA;AAAA,SAEYkN,YAAAA;AAAA,QAERC,KAAYzN,OAAO0N,eAAenM,IAAAA;AAAAA,QACxCkM,GAAUf,SAAAA,GACVnL,KAAKqL,oBAAoB,IAAIhE,IAAI6E,GAAUb,iBAAAA,GAE3CrL,KAAKwL,OAA2B,oBAAInE,OAKhCrH,KAAKjB,eAAyC,YAAA,GAAsB;AAAA,UAChEqN,KAAQpM,KAAKqM,YAEbC,KAAW,CAAA,GACZ7N,OAAO8N,oBAAoBH,EAAAA,GAAAA,GAC3B3N,OAAO2B,sBAAsBgM,EAAAA,CAAAA;AAAAA,eAGvBvN,MAAKyN;AAAAA,aAITE,eAAe3N,IAAIuN,GAAcvN,EAAAA,CAAAA;IAAAA;AAAAA,WAG1CmB,KAAKyM,gBAAgBzM,KAAK0M,eAAe1M,KAAKuI,MAAAA,GAAAA;EAAAA;EAAAA,OAAAA,eA+C9CA,IAAAA;AAAAA,QAEMkE,KAAgB,CAAA;AAAA,QAClB7N,MAAM+N,QAAQpE,EAAAA,GAAS;AAAA,UAInB5B,KAAM,IAAIiG,IAAKrE,GAA0BsE,KAAKC,IAAAA,CAAAA,EAAUC,QAAAA,CAAAA;AAAAA,eAEnDrN,MAAKiH;AACd8F,QAAAA,GAAcO,QAAQ7D,IAAmBzJ,EAAAA,CAAAA;IAAAA;AAAAA,iBAElC6I,MACTkE,GAAcjJ,KAAK2F,IAAmBZ,EAAAA,CAAAA;AAAAA,WAEjCkE;EAAAA;EAAAA,OAAAA,KAePhB,IACAC,IAAAA;AAAAA,QAEMjB,KAAYiB,GAAQjB;AAAAA,WAAAA,UACnBA,KAAAA,SAEkB,YAAA,OAAdA,KACPA,KACgB,YAAA,OAATgB,KACPA,GAAKwB,YAAAA,IAAAA;EAAAA;EAyDXlC,IAAAA;AAAAA,QAAAA;AAAAA,SACOmC,OAAkB,IAAIrL,QACxBsL,CAAAA,OAASnN,KAAKoN,iBAAiBD,EAAAA,GAElCnN,KAAKqN,OAAsB,oBAAIhG,OAC/BrH,KAAKsN,KAAAA,GAGLtN,KAAK+L,cAAAA,GAAAA,UAAAA,KACJ/L,KAAKX,YAAuC4L,MAAAA,WAAAA,MAAAA,GAAevC,QAAS/I,CAAAA,OACnEA,GAAEK,IAAAA,CAAAA;EAAAA;EAaNuN,cAAcC,IAAAA;AAAAA,QAAAA,IAAAA;AAAAA,KAAAA,UAAAA,KACXxN,KAAKyN,SAAAA,WAAAA,KAAAA,KAALzN,KAAKyN,OAAkB,CAAA,GAAIjK,KAAKgK,EAAAA,GAAAA,WAK7BxN,KAAKsI,cAA4BtI,KAAK0N,gBAAAA,UAAAA,KACxCF,GAAWG,kBAAAA,WAAAA,MAAAA,GAAAA,KAAXH,EAAAA;EAAAA;EAQJI,iBAAiBJ,IAAAA;AAAAA,QAAAA;AAAAA,cAAAA,KAGfxN,KAAKyN,SAAAA,WAAAA,MAAAA,GAAeI,OAAO7N,KAAKyN,KAActN,QAAQqN,EAAAA,MAAgB,GAAG,CAAA;EAAA;EAenEF,OAAAA;AAAAA,SAGAjO,YAAuCgM,kBAAkB3C,QAC7D,CAACoF,IAAIjP,OAAAA;AAAAA,WACME,eAAeF,EAAAA,MACtBmB,KAAK+N,KAAsBpH,IAAI9H,IAAGmB,KAAKnB,EAAAA,CAAAA,GAAAA,OAChCmB,KAAKnB,EAAAA;IAAAA,CAAAA;EAAAA;EAeVmP,mBAAAA;AAAAA,QAAAA,IACF1F,KAAAA,UAAAA,KACJtI,KAAKiO,eAAAA,WAAAA,KAAAA,KACLjO,KAAKkO,aACFlO,KAAKX,YAAuC8O,iBAAAA;AAAAA,WAEjD9F,IACEC,IACCtI,KAAKX,YAAuCoN,aAAAA,GAExCnE;EAAAA;EAQT8F,oBAAAA;AAAAA,QAAAA;AAAAA,eAEMpO,KAAKsI,eAELtI,KAGAsI,aAAatI,KAAKgO,iBAAAA,IAEtBhO,KAAKoN,eAAAA,IAAAA,GAAe,UAAA3N,KACpBO,KAAKyN,SAAAA,WAAAA,MAAAA,GAAe/E,QAAS/H,CAAAA,OAAAA;AAAAA,UAAAA;AAAAA,aAAM,UAAAhB,KAAAF,GAAEkO,kBAAAA,WAAAA,KAAAA,SAAAA,GAAAA,KAAFlO,EAAAA;IAAAA,CAAAA;EAAAA;EAS3B2N,eAAeiB,IAAAA;EAAAA;EAQzBC,uBAAAA;AAAAA,QAAAA;AAAAA,cAAAA,KACEtO,KAAKyN,SAAAA,WAAAA,MAAAA,GAAe/E,QAAS/H,CAAAA,OAAAA;AAAAA,UAAAA;AAAAA,aAAM,UAAAhB,KAAAF,GAAE8O,qBAAAA,WAAAA,KAAAA,SAAAA,GAAAA,KAAF9O,EAAAA;IAAAA,CAAAA;EAAAA;EAOrC+O,yBACE/C,IACAgD,IACAxM,IAAAA;AAAAA,SAEKyM,KAAsBjD,IAAMxJ,EAAAA;EAAAA;EAG3B0M,KACNlD,IACAxJ,IAAAA;AAAAA,QAC+BuI,IAAAA,IAA/BkB,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAA+BlB,KAEzBc,KACJtL,KAAKX,YACLkM,KAA2BE,IAAMC,EAAAA;AAAAA,QAAAA,WAC/BJ,MAAAA,SAAsBI,GAAQf,SAAkB;AAAA,UAI5CiE,MAAAA,UAAAA,KAAAA,UAAAA,KAFHlD,GAAQhB,cAAAA,WAAAA,KAAAA,SAAAA,GAAyCb,gBAAAA,WAAAA,KAAAA,KAClDD,IAAiBC,aACY5H,IAAOyJ,GAAQ5B,IAAAA;AAAAA,WAwBzC+E,OAAuBpD,IACX,QAAbmD,KACF5O,KAAK8O,gBAAgBxD,EAAAA,IAErBtL,KAAKgJ,aAAasC,IAAMsD,EAAAA,GAG1B5O,KAAK6O,OAAuB;IAAA;EAAA;EAKhCH,KAAsBjD,IAAcxJ,IAAAA;AAAAA,QAAAA,IAAAA,IAAAA,IAC5B8M,KAAO/O,KAAKX,aAGZ2P,KAAYD,GAAKvD,KAA0CzH,IAAI0H,EAAAA;AAAAA,QAAAA,WAGjEuD,MAA0BhP,KAAK6O,SAAyBG,IAAU;AAAA,UAC9DtD,KAAUqD,GAAKE,mBAAmBD,EAAAA,GAClCtE,KAAYgB,GAAQhB,WACpBR,KAAAA,UAAAA,KAAAA,UAAAA,KAAAA,UAAAA,KACHQ,OAAAA,WAAAA,KAAAA,SAAAA,GAAyCR,kBAAAA,WAAAA,KAAAA,KACpB,cAAA,OAAdQ,KACHA,KACD,SAAA,WAAA9J,KAAAA,KACJgJ,IAAiBM;AAAAA,WAEd2E,OAAuBG,IAE5BhP,KAAKgP,EAAAA,IAA0B9E,GAAejI,IAAOyJ,GAAQ5B,IAAAA,GAE7D9J,KAAK6O,OAAuB;IAAA;EAAA;EAkBhC9C,cACEN,IACAK,IACAJ,IAAAA;AAAAA,QAEIwD,KAAAA;AAAAA,eAEAzD,SACFC,KACEA,MACC1L,KAAKX,YAAuC4P,mBAAmBxD,EAAAA,GACvCb,cAAcN,KAC1BtK,KAAKyL,EAAAA,GAAqBK,EAAAA,KAClC9L,KAAKqN,KAAoB5G,IAAIgF,EAAAA,KAChCzL,KAAKqN,KAAoB1G,IAAI8E,IAAMK,EAAAA,GAAAA,SAMjCJ,GAAQf,WAAoB3K,KAAK6O,SAAyBpD,OAAAA,WACxDzL,KAAKmP,SACPnP,KAAKmP,OAAyB,oBAAI9H,QAEpCrH,KAAKmP,KAAuBxI,IAAI8E,IAAMC,EAAAA,MAIxCwD,KAAAA,QAAAA,CAGClP,KAAKoP,mBAAmBF,OAC3BlP,KAAKkN,OAAkBlN,KAAKqP,KAAAA;EAAAA;EAYxBC,OAAAA;AAAAA,QAAAA,KAAAA;AAAAA,WAAAA,kBAAAA,aAAAA;AACNtP,MAAAA,GAAKoP,kBAAAA;AAAAA,UAAAA;AAAAA,cAIGpP,GAAKkN;MAAAA,SACJhN,IAAAA;AAKP2B,gBAAQE,OAAO7B,EAAAA;MAAAA;AAAAA,UAEXmC,KAASrC,GAAKuP,eAAAA;AAAAA,aAIN,QAAVlN,OAAAA,MACIA,KAAAA,CAEArC,GAAKoP;IAAAA,CAAAA,EAAAA;EAAAA;EAoBLG,iBAAAA;AAAAA,WACDvP,KAAKwP,cAAAA;EAAAA;EAoBJA,gBAAAA;AAAAA,QAAAA;AAAAA,QAIHxP,KAAKoP,iBAAAA;AAAAA,WAIAK,YAyBNzP,KAAK+N,SAIP/N,KAAK+N,KAAsBrF,QAAQ,CAACrF,IAAGxE,OAAQmB,KAAanB,EAAAA,IAAKwE,EAAAA,GACjErD,KAAK+N,OAAAA;AAAAA,UAEH2B,KAAAA,OACEC,KAAoB3P,KAAKqN;AAAAA,UAAAA;AAAAA,SAE7BqC,KAAe1P,KAAK0P,aAAaC,EAAAA,MAE/B3P,KAAK4P,WAAWD,EAAAA,GAAAA,UAAAA,KAChB3P,KAAKyN,SAAAA,WAAAA,MAAAA,GAAe/E,QAAS/H,CAAAA,OAAAA;AAAAA,cAAAA;AAAAA,iBAAM,UAAAhB,KAAAF,GAAEoQ,eAAAA,WAAAA,KAAAA,SAAAA,GAAAA,KAAFpQ,EAAAA;QAAAA,CAAAA,GACnCO,KAAK8P,OAAOH,EAAAA,KAEZ3P,KAAK+P,KAAAA;MAAAA,SAEA7P,IAAAA;AAAAA,cAGPwP,KAAAA,OAEA1P,KAAK+P,KAAAA,GACC7P;MAAAA;AAGJwP,MAAAA,MACF1P,KAAKgQ,KAAYL,EAAAA;IAAAA;EAAAA;EAOXC,WAAWK,IAAAA;EAAAA;EAIrBD,KAAYL,IAAAA;AAAAA,QAAAA;AAAAA,cAAAA,KACV3P,KAAKyN,SAAAA,WAAAA,MAAAA,GAAe/E,QAAS/H,CAAAA,OAAAA;AAAAA,UAAAA;AAAAA,aAAM,UAAAhB,KAAAF,GAAEyQ,gBAAAA,WAAAA,KAAAA,SAAAA,GAAAA,KAAFzQ,EAAAA;IAAAA,CAAAA,GAC9BO,KAAKyP,eACRzP,KAAKyP,aAAAA,MACLzP,KAAKmQ,aAAaR,EAAAA,IAEpB3P,KAAKoQ,QAAQT,EAAAA;EAAAA;EAmBPI,OAAAA;AAAAA,SACD1C,OAAsB,oBAAIhG,OAC/BrH,KAAKoP,kBAAAA;EAAAA;EAmBHiB,IAAAA,iBAAAA;AAAAA,WACKrQ,KAAKsQ,kBAAAA;EAAAA;EA0BJA,oBAAAA;AAAAA,WACDtQ,KAAKkN;EAAAA;EAWJwC,aAAaO,IAAAA;AAAAA,WAAAA;EACrB;EAYQH,OAAOG,IAAAA;AAAAA,eACXjQ,KAAKmP,SAGPnP,KAAKmP,KAAuBzG,QAAQ,CAACrF,IAAGO,OACtC5D,KAAK2O,KAAsB/K,IAAG5D,KAAK4D,EAAAA,GAAkBP,EAAAA,CAAAA,GAEvDrD,KAAKmP,OAAAA,SAEPnP,KAAK+P,KAAAA;EAAAA;EAaGK,QAAQH,IAAAA;EAAAA;EAYRE,aAAaF,IAAAA;EAAAA;AAAAA;AAr7BNpF,IAAAA,YAAAA,MAQVA,IAAAA,oBAA4C,oBAAIxD,OAmChDwD,IAAAA,gBAA0C,CAAA,GAkQ1CA,IAAAA,oBAAoC,EAAC0F,MAAM,OAAA,GA4oBpD7G,QAAAA,OAAAA,IAAkB,EAACmB,iBAAAA,IAAAA,CAAAA,IAAAA,UAAAA,MAoClB2F,WAAWC,4BAAAA,WAAAA,MAAAA,MAAXD,WAAWC,0BAA4B,CAAA,GAAIjN,KAAK,OAAA;AC11CjD,IAOM+F,MAAgBiH,WAA0CjH;AAPhE,IAiBMmH,MAASnH,MACXA,IAAaoH,aAAa,YAAY,EACpCC,YAAalR,CAAAA,OAAMA,GAAAA,CAAAA,IAAAA;AAnBzB,IAuGMmR,MAAAA,OAAAA,QAAuBC,KAAKC,OAAAA,IAAZ5R,IAAsB8F,MAAM,CAAA,GAAA,GAAA;AAvGlD,IA0GM+L,MAAc,MAAMH;AA1G1B,IA8GMI,MAAAA,IAAAA,OAAiBD,KAAAA,GAAAA;AA9GvB,IAgHMzS,MAAIqK;AAhHV,IAmHMsI,MAAe,WAAA;AAAA,MAAC7N,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAAI;AAAA,SAAO9E,IAAE4S,cAAc9N,EAAAA;AAAAA;AAnHjD,IAuHM+N,MAAenP,CAAAA,OACT,SAAVA,MAAmC,YAAA,OAATA,MAAqC,cAAA,OAATA;AAxHxD,IAyHM0K,IAAU/N,MAAM+N;AAzHtB,IA0HM0E,IAAcpP,CAAAA,OAAAA;AAAAA,MAAAA;AAAAA,SAClB1D,EAAQ0D,EAAAA,KAEqC,cAAA,QAAA,UAAAtC,KAArCsC,OAAAA,WAAAA,KAAAA,SAAAA,GAAgBkB,OAAOC,QAAAA;AAAAA;AA7HjC,IAiJMkO,IAAe;AAjJrB,IAsJMC,IAAkB;AAtJxB,IA0JMC,IAAmB;AA1JzB,IAkLMC,IAAc;AAlLpB,IA2LMC,IAA0B;AA3LhC,IA4LMC,IAA0B;AA5LhC,IAmMMC,IAAiB;AAnMvB,IAuPMC,IACmB/H,CAAAA,OACvB,SAAC9B,IAAAA;AAAAA,WAAAA,KAAAA,UAAAA,QAAkCC,KAAAA,IAAAA,MAAAA,KAAAA,IAAAA,KAAAA,IAAAA,CAAAA,GAAAA,KAAAA,GAAAA,KAAAA,IAAAA;AAAAA,IAAAA,GAAAA,KAAAA,CAAAA,IAAAA,UAAAA,EAAAA;AAAAA,SAU1B,EAEL6J,YAAgBhI,IAChB9B,SAAAA,IACAC,QAAAA,GAAAA;AAAAA;AAvQN,IAwRa8J,IAAOF,EAlFA,CAAA;AAtMpB,IA8RaG,IAAMH,EAvFA,CAAA;AAvMnB,IAoSaI,IAAW9O,OAAO+O,IAAI,cAAA;AApSnC,IAyTaC,IAAUhP,OAAO+O,IAAI,aAAA;AAzTlC,IAkUME,IAAgB,oBAAIC;AAlU1B,IAyXaC,IAAS,CACpBrQ,IACAsQ,IACA7G,OAAAA;AAAAA,MAAAA,IAAAA,IAEM8G,KAAAA,UAAAA,KAAgB9G,QAAAA,KAAAA,SAAAA,GAAS+G,iBAAAA,WAAAA,KAAAA,KAAgBF,IAG3CG,KAAmBF,GAAkCG;AAAAA,MAAAA,WACrDD,IAAoB;AAAA,QAChBE,KAAAA,UAAAA,KAAUlH,QAAAA,KAAAA,SAAAA,GAAS+G,iBAAAA,WAAAA,KAAAA,KAAgB;AAiBxCD,IAAAA,GAAkCG,aAAID,KAAO,IAAIG,EAChDN,GAAUO,aAAa5B,IAAAA,GAAgB0B,EAAAA,GACvCA,IAAAA,QAEAlH,QAAAA,KAAAA,KAAW,CAAA,CAAA;EAAA;AAAA,SAGfgH,GAAKK,KAAW9Q,EAAAA,GACTyQ;AAAAA;AA5ZT,IAwaMM,IAASzU,IAAE0U,iBACf1U,KACA,KACA,MAAA,KAAA;AA3aF,IA6cM2U,IAAkB,CACtBlL,IACA8B,OAAAA;AAAAA,WAkBIqJ,IAVEnO,KAAIgD,GAAQlI,SAAS,GAIrBsT,KAAuC,CAAA,GACzCrB,KArRa,MAqRNjI,KAAsB,UAAU,IASvCuJ,KAAQ/B,GAEH3R,KAAI,GAAGA,KAAIqF,IAAGrF,MAAK;AAAA,aACpBD,KAAIsI,GAAQrI,EAAAA,GAOd2T,KAAAA,QAEAC,KAAAA,QAHAC,KAAAA,IAEAC,KAAY,GAKTA,KAAY/T,GAAEI,WAEnBuT,GAAMI,YAAYA,IAEJ,UADdF,KAAQF,GAAMK,KAAKhU,EAAAA;AAInB+T,MAAAA,KAAYJ,GAAMI,WACdJ,OAAU/B,IACiB,UAAzBiC,GA5WU,CAAA,IA6WZF,KAAQ9B,IAAAA,WACCgC,GA9WG,CAAA,IAgXZF,KAAQ7B,IAAAA,WACC+B,GAhXF,CAAA,KAiXH3B,EAAe+B,KAAKJ,GAjXjB,CAAA,CAAA,MAoXLJ,KAAsBS,OAAO,OAAKL,GApX7B,CAAA,GAoXgD,GAAA,IAEvDF,KAAQ5B,KAAAA,WACC8B,GAtXM,CAAA,MA6XfF,KAAQ5B,KAED4B,OAAU5B,IACS,QAAxB8B,GA9VS,CAAA,KAiWXF,KAAQF,QAAAA,KAAAA,KAAmB7B,GAG3BkC,KAAAA,MAAoB,WACXD,GApWI,CAAA,IAsWbC,KAAAA,MAEAA,KAAmBH,GAAMI,YAAYF,GAvWrB,CAAA,EAuW8CzT,QAC9DwT,KAAWC,GAzWE,CAAA,GA0WbF,KAAAA,WACEE,GAzWO,CAAA,IA0WH9B,IACsB,QAAtB8B,GA3WG,CAAA,IA4WH5B,IACAD,KAGR2B,OAAU1B,KACV0B,OAAU3B,IAEV2B,KAAQ5B,IACC4B,OAAU9B,KAAmB8B,OAAU7B,IAChD6B,KAAQ/B,KAIR+B,KAAQ5B,GACR0B,KAAAA;AAAAA,QA8BEU,KACJR,OAAU5B,KAAezJ,GAAQrI,KAAI,CAAA,EAAGmU,WAAW,IAAA,IAAQ,MAAM;AACnE/B,IAAAA,MACEsB,OAAU/B,IACN5R,KAAIuR,MACJuC,MAAoB,KACnBJ,GAAU5P,KAAK8P,EAAAA,GAChB5T,GAAEuF,MAAM,GAAGuO,EAAAA,IAvfQ,UAyfjB9T,GAAEuF,MAAMuO,EAAAA,IACV3C,MACAgD,MACAnU,KACAmR,OAAAA,OACC2C,MAA2BJ,GAAU5P,KAAAA,MAAAA,GAAiB7D,MAAKkU;EAAAA;AAAAA,MAG9DE,KACJhC,MAAQ/J,GAAQhD,EAAAA,KAAM,UA5ZP,MA4ZiB8E,KAAsB,WAAW;AAAA,MAAA,CAO9DlL,MAAM+N,QAAQ3E,EAAAA,KAAAA,CAAaA,GAAQjJ,eAAe,KAAA;AASrD,UAAU2I,MARI,gCAAA;AAAA,SAWT,CAAA,WACLgJ,MACIA,IAAOE,WAAWmD,EAAAA,IACjBA,IACLX,EAAAA;AAAAA;AAMJ,IAAMY,IAAN,MAAMA,GAAAA;EAMJ3U,YAAAA,IAGEqM,IAAAA;AAAAA,QAEIuI,IAAAA,EAHJjM,SAACA,IAAS8J,YAAgBhI,GAAAA,IAAAA;AAAAA,SAJ5B9J,QAA6B,CAAA;AAAA,QAQvBkU,KAAY,GACZC,KAAgB,GACdC,KAAYpM,GAAQlI,SAAS,GAC7BuU,KAAQrU,KAAKqU,OAAAA,CAGZtC,IAAMqB,EAAAA,IAAaF,EAAgBlL,IAAS8B,EAAAA;AAAAA,QACnD9J,KAAKsU,KAAKN,GAASnL,cAAckJ,IAAMrG,EAAAA,GACvCsH,EAAOuB,cAAcvU,KAAKsU,GAAGE,SA7cd,MAgdX1K,IAAqB;AAAA,UACjB0K,KAAUxU,KAAKsU,GAAGE,SAClBC,KAAaD,GAAQE;AAC3BD,MAAAA,GAAWE,OAAAA,GACXH,GAAQI,OAAAA,GAAUH,GAAWI,UAAAA;IAAAA;AAAAA,WAIO,UAA9BZ,KAAOjB,EAAO8B,SAAAA,MAAwBT,GAAMvU,SAASsU,MAAW;AAAA,UAChD,MAAlBH,GAAKc,UAAgB;AAAA,YAuBlBd,GAAiBe,cAAAA,GAAiB;AAAA,cAI/BC,KAAgB,CAAA;AAAA,mBACXxJ,MAASwI,GAAiBiB,kBAAAA;AAAAA,gBASjCzJ,GAAK0J,SApmBU,OAAA,KAqmBf1J,GAAKqI,WAAWjD,GAAAA,GAChB;AAAA,kBACMuE,KAAWhC,GAAUe,IAAAA;AAAAA,kBAC3Bc,GAAczR,KAAKiI,EAAAA,GAAAA,WACf2J,IAAwB;AAAA,oBAKpBC,KAHSpB,GAAiBqB,aAC9BF,GAASnI,YAAAA,IA5mBE,OAAA,EA8mBSsI,MAAM1E,GAAAA,GACtBlN,KAAI,eAAe+P,KAAK0B,EAAAA;AAC9Bf,gBAAAA,GAAM7Q,KAAK,EACTsG,MArgBK,GAsgBL0L,OAAOtB,IACPzI,MAAM9H,GAAE,CAAA,GACRqE,SAASqN,IACTtG,MACW,QAATpL,GAAE,CAAA,IACE8R,IACS,QAAT9R,GAAE,CAAA,IACF+R,IACS,QAAT/R,GAAE,CAAA,IACFgS,IACAC,EAAAA,CAAAA;cAAAA;AAGRvB,gBAAAA,GAAM7Q,KAAK,EACTsG,MA/gBG,GAghBH0L,OAAOtB,GAAAA,CAAAA;YAAAA;AAAAA,mBAKJzI,MAAQwJ;AAChBhB,YAAAA,GAAiBnF,gBAAgBrD,EAAAA;QAAAA;AAAAA,YAKlCmG,EAAe+B,KAAMM,GAAiB4B,OAAAA,GAAU;AAAA,cAI5C7N,KAAWiM,GAAiBhL,YAAasM,MAAM1E,GAAAA,GAC/C4C,KAAYzL,GAAQlI,SAAS;AAAA,cAC/B2T,KAAY,GAAG;AAChBQ,YAAAA,GAAiBhL,cAAcM,MAC3BA,IAAaE,cACd;AAAA,qBAMK9J,KAAI,GAAGA,KAAI8T,IAAW9T;AAC5BsU,cAAAA,GAAiBW,OAAO5M,GAAQrI,EAAAA,GAAIuR,IAAAA,CAAAA,GAErC8B,EAAO8B,SAAAA,GACPT,GAAM7Q,KAAK,EAACsG,MAljBP,GAkjByB0L,OAAAA,EAAStB,GAAAA,CAAAA;AAKxCD,YAAAA,GAAiBW,OAAO5M,GAAQyL,EAAAA,GAAYvC,IAAAA,CAAAA;UAAAA;QAAAA;MAAAA,WAGtB,MAAlB+C,GAAKc;AAEd,YADcd,GAAiB6B,SAClB9E;AACXqD,UAAAA,GAAM7Q,KAAK,EAACsG,MA7jBH,GA6jBqB0L,OAAOtB,GAAAA,CAAAA;;AAAAA,mBAEjCvU,KAAAA,IAAK,QACDA,KAAKsU,GAAiB6B,KAAK3V,QAAQ0Q,KAAQlR,KAAI,CAAA;AAGrD0U,YAAAA,GAAM7Q,KAAK,EAACsG,MA9jBH,GA8jBuB0L,OAAOtB,GAAAA,CAAAA,GAEvCvU,MAAKkR,IAAO/Q,SAAS;AAI3BoU,MAAAA;IAAAA;EAAAA;EAAAA,OAAAA,cAMiBnC,IAAmBgE,IAAAA;AAAAA,QAChCzB,KAAK/V,IAAEsK,cAAc,UAAA;AAAA,WAC3ByL,GAAG0B,YAAYjE,IACRuC;EAAAA;AAAAA;AAiBX,SAAS2B,EACPvD,IACAzQ,IAAAA;AAAAA,MAEAiU,IAAAA,IAAAA,IAAAA,IADAC,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAA0BzD,IAC1BwD,KAAAA,UAAAA,SAAAA,IAAAA,UAAAA,CAAAA,IAAAA;AAAAA,MAIIjU,OAAUgQ;AACZ,WAAOhQ;AAAAA,MAELmU,KAAAA,WACFF,KAAAA,UAAAA,KACKC,GAAyBE,SAAAA,WAAAA,KAAAA,SAAAA,GAAeH,EAAAA,IACxCC,GAA+CG,MAChDC,KAA2BnF,IAAYnP,EAAAA,IAAAA,SAGxCA,GAA2CuU;AAAAA,UAC5CJ,QAAAA,KAAAA,SAAAA,GAAkB/W,iBAAgBkX,OAAAA,UAAAA,KAEpCH,QAAAA,KAAAA,SAAAA,GAAuDK,SAAAA,WAAA7W,MAAAA,GAAAZ,KAAvDoX,IAAAA,KAAAA,GAAAA,WACIG,KACFH,KAAAA,UAEAA,KAAmB,IAAIG,GAAyB7D,EAAAA,GAC/BgE,KAAahE,IAAMyD,IAAQD,EAAAA,GAAAA,WAE1CA,MAAAA,UAAAA,MAAAA,KACAC,IAAyBE,SAAAA,WAAAA,KAAAA,KAAAA,GAAAA,OAAiB,CAAA,GAAIH,EAAAA,IAC9CE,KAEDD,GAAiCG,OAAcF,KAAAA,WAGhDA,OACFnU,KAAQgU,EACNvD,IACA0D,GAAiBO,KAAUjE,IAAOzQ,GAA0BgG,MAAAA,GAC5DmO,IACAF,EAAAA,IAGGjU;AAAAA;AAOT,IAAM2U,IAAN,MAAMA;EAWJvX,YAAYwX,IAAoBV,IAAAA;AAAAA,SAPhCnW,IAAkC,CAAA,GAKlCA,KAAAA,OAAAA,QAGEA,KAAK8W,OAAaD,IAClB7W,KAAK+W,OAAWZ;EAAAA;EAIda,IAAAA,aAAAA;AAAAA,WACKhX,KAAK+W,KAASC;EAAAA;EAInBC,IAAAA,OAAAA;AAAAA,WACKjX,KAAK+W,KAASE;EAAAA;EAKvBC,EAAOxL,IAAAA;AAAAA,QAAAA,IAAAA,EAEH4I,IAAAA,EAAIE,SAACA,GAAAA,GACLH,OAAOA,GAAAA,IACLrU,KAAK8W,MACHK,MAAAA,UAAAA,KAAYzL,QAAAA,KAAAA,SAAAA,GAAS0L,kBAAAA,WAAAA,KAAAA,KAAiB7Y,KAAG8Y,WAAW7C,IAAAA,IAAAA;AAC1DxB,MAAOuB,cAAc4C;AAAAA,aAEjBlD,KAAOjB,EAAO8B,SAAAA,GACdZ,KAAY,GACZoD,KAAY,GACZC,KAAelD,GAAM,CAAA,GAAA,WAElBkD,MAA4B;AAAA,UAC7BrD,OAAcqD,GAAa/B,OAAO;AAAA,YAChC9C,KAAAA;AAAAA,cACA6E,GAAazN,OACf4I,KAAO,IAAIG,EACToB,IACAA,GAAKuD,aACLxX,MACA0L,EAAAA,IAvsBW,MAysBJ6L,GAAazN,OACtB4I,KAAO,IAAI6E,GAAaxI,KACtBkF,IACAsD,GAAa9L,MACb8L,GAAavP,SACbhI,MACA0L,EAAAA,IA1sBS,MA4sBF6L,GAAazN,SACtB4I,KAAO,IAAI+E,EAAYxD,IAAqBjU,MAAM0L,EAAAA,IAEpD1L,KAAK0X,EAAOlU,KAAKkP,EAAAA,GACjB6E,KAAelD,GAAAA,EAAQiD,EAAAA;MAAAA;AAErBpD,MAAAA,QAAcqD,QAAAA,KAAAA,SAAAA,GAAc/B,WAC9BvB,KAAOjB,EAAO8B,SAAAA,GACdZ;IAAAA;AAAAA,WAGGiD;EAAAA;EAGTQ,EAAQ1P,IAAAA;AAAAA,QACFtI,KAAI;AAAA,aACG+S,MAAQ1S,KAAK0X;AAAAA,iBAClBhF,OAAAA,WACGA,GAAuB1K,WACzB0K,GAAuBK,KAAW9K,IAAQyK,IAAuB/S,EAAAA,GAIlEA,MAAM+S,GAAuB1K,QAASlI,SAAS,KAE/C4S,GAAKK,KAAW9K,GAAOtI,EAAAA,CAAAA,IAG3BA;EAAAA;AAAAA;AAkDN,IAAMkT,IAAN,MAAMA,GAAAA;EA4CJxT,YACEuY,IACAhF,IACAuD,IACAzK,IAAAA;AAAAA,QAAAA;AAAAA,SA/CO1L,OA/xBQ,GAiyBjBA,KAAAA,OAA4BmS,GA+B5BnS,KAAAA,OAAAA,QAgBEA,KAAK6X,OAAcD,IACnB5X,KAAK8X,OAAYlF,IACjB5S,KAAK+W,OAAWZ,IAChBnW,KAAK0L,UAAUA,IAIf1L,KAAK+X,OAAAA,UAAAA,KAAgBrM,QAAAA,KAAAA,SAAAA,GAASgC,gBAAAA,WAAAA,MAAAA;EAAAA;EAjC5BuJ,IAAAA,OAAAA;AAAAA,QAAAA,IAAAA;AAAAA,WAIF,UAAAtX,KAAA,UAAAF,KAAOO,KAAK+W,SAAAA,WAAAA,KAAAA,SAAAA,GAAUE,SAAAA,WAAAA,KAAAA,KAAiBjX,KAAK+X;EAAAA;EAsD1Cf,IAAAA,aAAAA;AAAAA,QACEA,KAAwBhX,KAAK6X,KAAab,YACxCb,KAASnW,KAAK+W;AAAAA,WAAAA,WAElBZ,MACwB,OAAxBa,GAAWjC,aAKXiC,KAAcb,GAAwCa,aAEjDA;EAAAA;EAOLY,IAAAA,YAAAA;AAAAA,WACK5X,KAAK6X;EAAAA;EAOVjF,IAAAA,UAAAA;AAAAA,WACK5S,KAAK8X;EAAAA;EAGd/E,KAAW9Q,IAAAA;AAMTA,IAAAA,KAAQgU,EAAiBjW,MAAMiC,IAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAN6BjC,IAAAA,GAOxDoR,IAAYnP,EAAAA,IAIVA,OAAUkQ,KAAoB,QAATlQ,MAA2B,OAAVA,MACpCjC,KAAKgY,SAAqB7F,KAC5BnS,KAAKiY,KAAAA,GAEPjY,KAAKgY,OAAmB7F,KACflQ,OAAUjC,KAAKgY,QAAoB/V,OAAUgQ,KACtDjS,KAAKkY,EAAYjW,EAAAA,IAAAA,WAGTA,GAAqC6P,aAC/C9R,KAAKmY,EAAsBlW,EAAAA,IAAAA,WACjBA,GAAe8S,WACzB/U,KAAKoY,EAAYnW,EAAAA,IACRoP,EAAWpP,EAAAA,IACpBjC,KAAKqY,EAAgBpW,EAAAA,IAGrBjC,KAAKkY,EAAYjW,EAAAA;EAAAA;EAIbqW,EAAwBrE,IAAAA;AAAAA,QAASsE,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAAMvY,KAAK8X;AAAAA,WACjC9X,KAAK6X,KAAab,WAAalE,aAAamB,IAAMsE,EAAAA;EAAAA;EAG7DH,EAAYnW,IAAAA;AAAAA,SACT+V,SAAqB/V,OAC5BjC,KAAKiY,KAAAA,GA4BLjY,KAAKgY,OAAmBhY,KAAKsY,EAAQrW,EAAAA;EAAAA;EAIjCiW,EAAYjW,IAAAA;AAAAA,SAKX+V,SAAqB7F,KAC1Bf,IAAYpR,KAAKgY,IAAAA,IAEChY,KAAK6X,KAAaL,YAOrB1B,OAAO7T,KAepBjC,KAAKoY,EAAY7Z,IAAEia,eAAevW,EAAAA,CAAAA,GAGtCjC,KAAKgY,OAAmB/V;EAAAA;EAGlBkW,EACN9V,IAAAA;AAAAA,QAAAA,IAAAA,EAGM4F,QAACA,IAAQ6J,YAAgBhI,GAAAA,IAAQzH,IAKjCwU,KACY,YAAA,OAAT/M,KACH9J,KAAKyY,KAAcpW,EAAAA,KAAAA,WAClByH,GAAKwK,OACHxK,GAAKwK,KAAKN,EAASnL,cAAciB,GAAK4O,GAAG1Y,KAAK0L,OAAAA,IACjD5B;AAAAA,SAEN,UAAAnK,KAAKK,KAAKgY,SAAAA,WAAAA,KAAAA,SAAAA,GAAuClB,UAAeD;AAC7D7W,WAAKgY,KAAsCL,EAAQ1P,EAAAA;SAC/C;AAAA,UACC0Q,KAAW,IAAI/B,EAAiBC,IAAsB7W,IAAAA,GACtDmX,KAAWwB,GAASzB,EAAOlX,KAAK0L,OAAAA;AACtCiN,MAAAA,GAAShB,EAAQ1P,EAAAA,GACjBjI,KAAKoY,EAAYjB,EAAAA,GACjBnX,KAAKgY,OAAmBW;IAAAA;EAAAA;EAM5BF,KAAcpW,IAAAA;AAAAA,QACRwU,KAAWzE,EAAcrO,IAAI1B,GAAO2F,OAAAA;AAAAA,WAAAA,WACpC6O,MACFzE,EAAczL,IAAItE,GAAO2F,SAAU6O,KAAW,IAAI7C,EAAS3R,EAAAA,CAAAA,GAEtDwU;EAAAA;EAGDwB,EAAgBpW,IAAAA;AAWjB0K,MAAQ3M,KAAKgY,IAAAA,MAChBhY,KAAKgY,OAAmB,CAAA,GACxBhY,KAAKiY,KAAAA;AAAAA,QAOHW,IAFEC,KAAY7Y,KAAKgY,MACnBV,KAAY;AAAA,aAGLwB,MAAQ7W;AACbqV,MAAAA,OAAcuB,GAAU/Y,SAK1B+Y,GAAUrV,KACPoV,KAAW,IAAI/F,GACd7S,KAAKsY,EAAQpH,IAAAA,CAAAA,GACblR,KAAKsY,EAAQpH,IAAAA,CAAAA,GACblR,MACAA,KAAK0L,OAAAA,CAAAA,IAKTkN,KAAWC,GAAUvB,EAAAA,GAEvBsB,GAAS7F,KAAW+F,EAAAA,GACpBxB;AAGEA,IAAAA,KAAYuB,GAAU/Y,WAExBE,KAAKiY,KACHW,MAAiBA,GAASd,KAAYN,aACtCF,EAAAA,GAGFuB,GAAU/Y,SAASwX;EAAAA;EAevBW,OAAAA;AAAAA,QAEEnT,IADAiU,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAA+B/Y,KAAK6X,KAAaL,aACjD1S,KAAAA,UAAAA,SAAAA,IAAAA,UAAAA,CAAAA,IAAAA;AAAAA,SAGA,UAAApF,KADAM,KAAKgZ,SAAAA,WAAAA,MAAAA,GAAAA,KAALhZ,MAAAA,OAAAA,MAA8C8E,EAAAA,GACvCiU,MAASA,OAAU/Y,KAAK8X,QAAW;AAAA,UAClClY,KAASmZ,GAAQvB;AACjBuB,MAAAA,GAAoBpE,OAAAA,GAC1BoE,KAAQnZ;IAAAA;EAAAA;EAUZqZ,aAAavL,IAAAA;AAAAA,QAAAA;AAAAA,eACP1N,KAAK+W,SACP/W,KAAK+X,OAAgBrK,IAAAA,UAAAA,KACrB1N,KAAKgZ,SAAAA,WAAAA,MAAAA,GAAAA,KAALhZ,MAAiC0N,EAAAA;EAAAA;AAAAA;AAkCvC,IAAMkI,IAAN,MAAMA;EAoCJvW,YACE6Z,IACAzN,IACAzD,IACAmO,IACAzK,IAAAA;AAAAA,SAxCO1L,OAzpCY,GAyqCrBA,KAAAA,OAA6CmS,GAM7CnS,KAAAA,OAAAA,QAoBEA,KAAKkZ,UAAUA,IACflZ,KAAKyL,OAAOA,IACZzL,KAAK+W,OAAWZ,IAChBnW,KAAK0L,UAAUA,IACX1D,GAAQlI,SAAS,KAAoB,OAAfkI,GAAQ,CAAA,KAA4B,OAAfA,GAAQ,CAAA,KACrDhI,KAAKgY,OAAuBpZ,MAAMoJ,GAAQlI,SAAS,CAAA,EAAGqZ,KAAK,IAAIha,QAAAA,GAC/Da,KAAKgI,UAAUA,MAEfhI,KAAKgY,OAAmB7F;EAAAA;EAxBxB0D,IAAAA,UAAAA;AAAAA,WACK7V,KAAKkZ,QAAQrD;EAAAA;EAIlBoB,IAAAA,OAAAA;AAAAA,WACKjX,KAAK+W,KAASE;EAAAA;EA+CvBlE,KACE9Q,IAAAA;AAAAA,QACAmX,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAAmCpZ,MACnCqZ,KAAAA,UAAAA,SAAAA,IAAAA,UAAAA,CAAAA,IAAAA,QACAC,KAAAA,UAAAA,SAAAA,IAAAA,UAAAA,CAAAA,IAAAA,QAEMtR,KAAUhI,KAAKgI,SAGjBuR,KAAAA;AAAAA,QAAAA,WAEAvR;AAEF/F,MAAAA,KAAQgU,EAAiBjW,MAAMiC,IAAOmX,IAAiB,CAAA,IACvDG,KAAAA,CACGnI,IAAYnP,EAAAA,KACZA,OAAUjC,KAAKgY,QAAoB/V,OAAUgQ,OAE9CjS,KAAKgY,OAAmB/V;SAErB;AAAA,UAKDtC,IAAG0D,IAHD4E,KAAShG;AAAAA,WACfA,KAAQ+F,GAAQ,CAAA,GAGXrI,KAAI,GAAGA,KAAIqI,GAAQlI,SAAS,GAAGH;AAAAA,SAClC0D,KAAI4S,EAAiBjW,MAAMiI,GAAOoR,KAAc1Z,EAAAA,GAAIyZ,IAAiBzZ,EAAAA,OAE3DsS,MAER5O,KAAKrD,KAAKgY,KAAoCrY,EAAAA,IAEhD4Z,OAAAA,KAAAA,CACGnI,IAAY/N,EAAAA,KAAMA,OAAOrD,KAAKgY,KAAoCrY,EAAAA,IACjE0D,OAAM8O,IACRlQ,KAAQkQ,IACClQ,OAAUkQ,MACnBlQ,OAAUoB,QAAAA,KAAAA,KAAK,MAAM2E,GAAQrI,KAAI,CAAA,IAIlCK,KAAKgY,KAAoCrY,EAAAA,IAAK0D;IAAAA;AAG/CkW,IAAAA,MAAAA,CAAWD,MACbtZ,KAAKwZ,EAAavX,EAAAA;EAAAA;EAKtBuX,EAAavX,IAAAA;AACPA,IAAAA,OAAUkQ,IACNnS,KAAKkZ,QAAqBpK,gBAAgB9O,KAAKyL,IAAAA,IAY/CzL,KAAKkZ,QAAqBlQ,aAC9BhJ,KAAKyL,MACJxJ,QAAAA,KAAAA,KAAS,EAAA;EAAA;AAAA;AAOlB,IAAMwT,IAAN,cAA2BG,EAAAA;EAA3BvW,cAAAA;AAAAA,UAAAA,GAAAQ,SAAAA,GACoBG,KAAAA,OAjzCE;EAAA;EAozCXwZ,EAAavX,IAAAA;AAAAA,SAYdiX,QAAgBlZ,KAAKyL,IAAAA,IAAQxJ,OAAUkQ,IAAAA,SAAsBlQ;EAAAA;AAAAA;AAQvE,IAAMuH,IAAiCD,MAClCA,IAAaE,cACd;AAGJ,IAAMiM,IAAN,cAAmCE,EAAAA;EAAnCvW,cAAAA;AAAAA,UAAAA,GAAAQ,SAAAA,GACoBG,KAAAA,OA70CW;EAAA;EAg1CpBwZ,EAAavX,IAAAA;AAChBA,IAAAA,MAASA,OAAUkQ,IACfnS,KAAKkZ,QAAqBlQ,aAC9BhJ,KAAKyL,MACLjC,CAAAA,IAGIxJ,KAAKkZ,QAAqBpK,gBAAgB9O,KAAKyL,IAAAA;EAAAA;AAAAA;AAoB3D,IAAMkK,IAAN,cAAwBC,EAAAA;EAGtBvW,YACE6Z,IACAzN,IACAzD,IACAmO,IACAzK,IAAAA;AAAAA,UAEMwN,IAASzN,IAAMzD,IAASmO,IAAQzK,EAAAA,GATtB1L,KAAAA,OA32CD;EAAA;EAk4CR+S,KACP0G,IAAAA;AAAAA,QACmCzZ;AAAAA,SAEnCyZ,KAAAA,UAAAA,KACExD,EAAiBjW,MAAMyZ,IAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAHUzZ,MAGoB,CAAA,MAAA,WAAAN,KAAAA,KAAMyS,OACzCF,GAAAA;AAAAA,UAGdyH,KAAc1Z,KAAKgY,MAInB2B,KACHF,OAAgBtH,KAAWuH,OAAgBvH,KAC3CsH,GAAyCG,YACvCF,GAAyCE,WAC3CH,GAAyCI,SACvCH,GAAyCG,QAC3CJ,GAAyCK,YACvCJ,GAAyCI,SAIxCC,KACJN,OAAgBtH,MACfuH,OAAgBvH,KAAWwH;AAE1BA,MAAAA,MACF3Z,KAAKkZ,QAAQc,oBACXha,KAAKyL,MACLzL,MACA0Z,EAAAA,GAGAK,MAIF/Z,KAAKkZ,QAAQe,iBACXja,KAAKyL,MACLzL,MACAyZ,EAAAA,GAGJzZ,KAAKgY,OAAmByB;IAAAA;EAAAA;EAG1BS,YAAYC,IAAAA;AAAAA,QAAAA,IAAAA;AAAAA,kBAAAA,OACCna,KAAKgY,OACdhY,KAAKgY,KAAiBhZ,KAAAA,UAAAA,KAAAA,UAAAA,KAAKgB,KAAK0L,YAAAA,WAAAA,KAAAA,SAAAA,GAAS0O,SAAAA,WAAAA,KAAAA,KAAQpa,KAAKkZ,SAASiB,EAAAA,IAE9Dna,KAAKgY,KAAyCkC,YAAYC,EAAAA;EAAAA;AAAAA;AAMjE,IAAM1C,IAAN,MAAMA;EAiBJpY,YACS6Z,IACP/C,IACAzK,IAAAA;AAAAA,SAFOwN,UAAAA,IAjBAlZ,KAAAA,OA57CU,GAw8CnBA,KAAAA,OAAAA,QASEA,KAAK+W,OAAWZ,IAChBnW,KAAK0L,UAAUA;EAAAA;EAIbuL,IAAAA,OAAAA;AAAAA,WACKjX,KAAK+W,KAASE;EAAAA;EAGvBlE,KAAW9Q,IAAAA;AACTgU,MAAiBjW,MAAMiC,EAAAA;EAAAA;AAAAA;AAAAA,IAsBdoY,IAAO,EAElBC,GApmD2B,SAqmD3BC,GAAS1J,KACT2J,GAAcxJ,KACdyJ,GAlgDkB,GAmgDlBC,GAAkBxH,GAElByH,GAAmB/D,GACnBgE,GAAavJ,GACbwJ,GAAmB5E,GAEnB6E,GAAYjI,GACZkI,GAAgBnF,GAChBoF,GAAuBtF,GACvBuF,GAAYtF,GACZuF,GAAezF,GACf0F,GAAc1D,EAAAA;AAvCWxV,IA2CrByH,IAEF7C,OAAOuU;AA7CgBnZ,IA6ChBmZ;AA7CgBnZ,IA6ChBmZ;AACX1R,QAAAA,KAAAA,EAAkBsK,GAAUnB,CAAAA,IAAAA,UAAAA,MAI3BrC,WAAW6K,oBAAAA,WAAAA,MAAAA,MAAX7K,WAAW6K,kBAAoB,CAAA,GAAI7X,KAAK,OAAA;AAAA,ICltD5B8X,IAAkBzQ;AAAAA,IA+BlB0Q,IA/BkB1Q,cA+BCA,IAAAA;EAAhCxL,cAAAA;AAAAA,UAAAA,GAAAA,SAAAA,GAgBWW,KAAAA,gBAA+B,EAACoa,MAAMpa,KAAAA,GAEvCA,KAAAA,OAAAA;EAAAA;EAKWgO,mBAAAA;AAAAA,QAAAA,IAAAA,IACX1F,KAAakT,MAAMxN,iBAAAA;AAAAA,WAOzB,UAAAvO,MAAAS,KADAF,KAAKyb,eAAchJ,iBAAAA,WAAAA,OAAAA,GAAAA,eAAiBnK,GAAYoM,aACzCpM;EAAAA;EAUUwH,OAAOH,IAAAA;AAAAA,QAIlB1N,KAAQjC,KAAKsS,OAAAA;AAAAA,SACT7C,eACRzP,KAAKyb,cAAc/N,cAAc1N,KAAK0N,cAExC8N,MAAM1L,OAAOH,EAAAA,GACb3P,KAAK0b,OAAcpJ,EAAOrQ,IAAOjC,KAAKsI,YAAYtI,KAAKyb,aAAAA;EAAAA;EAuBhDrN,oBAAAA;AAAAA,QAAAA;AAAAA,UACDA,kBAAAA,GAAAA,UAAAA,KACNpO,KAAK0b,SAAAA,WAAAA,MAAAA,GAAazC,aAAAA,IAAAA;EAAAA;EAsBX3K,uBAAAA;AAAAA,QAAAA;AAAAA,UACDA,qBAAAA,GAAAA,UAAAA,KACNtO,KAAK0b,SAAAA,WAAAA,MAAAA,GAAazC,aAAAA,KAAAA;EAAAA;EAUV3G,SAAAA;AAAAA,WACDL;EAAAA;AAAAA;AAtGiBsJ,EAAYtP,YAAAA,MAG/BsP,EAAgBI,gBAAAA,MAAI,UAAA3W,MAwG7BwL,WAAWoL,6BAAAA,WAAAA,OAAAA,IAAAA,KAAXpL,YAAsC,EAAC+K,YAAAA,EAAAA,CAAAA;AAGvC,IAAM7R,MAEF8G,WAAWqL;AACfnS,QAAAA,OAAAA,IAAkB,EAAC6R,YAAAA,EAAAA,CAAAA;AAAAA,IAkDNO,IAAO,EAClBpN,MAAuB,CACrB4F,IACA7I,IACAxJ,OAAAA;AAGCqS,EAAAA,GAAW5F,KAAsBjD,IAAMxJ,EAAAA;AAAAA,GAG1CoL,MAAsBiH,CAAAA,OAAoBA,GAAWjH,KAAAA;CAAAA,UAAAA,MAKtDmD,WAAWuL,uBAAAA,WAAAA,MAAAA,MAAXvL,WAAWuL,qBAAuB,CAAA,GAAIvY,KAAK,OAAA;AC7P5C,IAwCawY,MACVnG,CAAAA,OACAoG,CAAAA,OAC8B,cAAA,OAAtBA,MA3CiB,CAACpG,IAAiBqG,QAC5CrV,OAAOsV,eAAeC,OAAOvG,IAASqG,EAAAA,GAO/BA,KAoCmBrG,IAASoG,EAAAA,KAjCP,CAC5BpG,IACAjK,OAAAA;AAAAA,MAAAA,EAEMpF,MAACA,IAAI6V,UAAEA,GAAAA,IAAYzQ;AAAAA,SAClB,EACLpF,MAAAA,IACA6V,UAAAA,IAEAC,SAASJ,IAAAA;AACPrV,WAAOsV,eAAeC,OAAOvG,IAASqG,EAAAA;EAAAA,EAAAA;AAAAA,GAwBdrG,IAASoG,EAAAA;AA7CvC,ICJMM,MAAmB,CACvB7Q,IACAwN,OAMmB,aAAjBA,GAAQ1S,QACR0S,GAAQtN,cAAAA,EACN,WAAWsN,GAAQtN,cAAAA,eAAAA,eAAAA,CAAAA,GAGhBsN,EAAAA,GAAAA,CAAAA,GAAAA,EACHoD,SAASJ,IAAAA;AACPA,EAAAA,GAAM1P,eAAe0M,GAAQzY,KAAKiL,EAAAA;AAAAA,EAAAA,CAAAA,IAO/B,EACLlF,MAAM,SACN/F,KAAK0C,OAAAA,GACLqZ,WAAW,OACX5Q,YAAY,CAAA,GAEZ6Q,aAAavD,GAAQzY,KAUrBuK,cAAAA;AAAAA,gBAAAA,OACakO,GAAQlO,gBACjBhL,KAAKkZ,GAAQzY,GAAAA,IAAiByY,GAAQlO,YAAYhM,KAAKgB,IAAAA;AAAAA,GAG3Dsc,SAASJ,IAAAA;AACPA,EAAAA,GAAM1P,eAAe0M,GAAQzY,KAAKiL,EAAAA;AAAAA,EAAAA;AAAAA,SA8C1BgR,IAAShR,IAAAA;AAAAA,SAEhB,CAACiR,IAA0ClR,OAAAA,WAChDA,MA3CmB,CACrBC,IACAkR,IACAnR,OAAAA;AAECmR,IAAAA,GAAMvd,YAAuCmN,eAAef,IAAMC,EAAAA;EAAAA,GAuC9CA,IAAUiR,IAA6BlR,EAAAA,IACtD8Q,IAAiB7Q,IAAUiR,EAAAA;AAAAA;SC5EnBpW,IAAMmF,IAAAA;AAAAA,SACbgR,IAAAA,eAAAA,eAAAA,CAAAA,GACFhR,EAAAA,GAAAA,CAAAA,GAAAA,EACHnF,OAAAA,KAAAA,CAAAA,CAAAA;AAAAA;ICNSsW,MAAwB,CACnCjR,IACAgR,IACAnR,OAAAA;AAEAhN,SAAOuC,eAAe4b,IAAOnR,IAAMG,EAAAA;AAAAA;IAGxBkR,IAA0B,CACrClR,IACAsN,QAAAA,EAEA1S,MAAM,UACNgW,WAAW,aACX/b,KAAKyY,GAAQzY,KACbmL,YAAAA,GAAAA;IAgBWmR,MACXC,CAAAA,OAAAA;AAAAA,MAAAA,EACEV,UAAAA,IACA1Q,YAAAA,GAAAA,IAAAA;AAAAA,SAOF,CACE+Q,IACAlR,OAAAA;AAAAA,QAAAA;AAAAA,QAAAA,WAKIA,IAQG;AAAA,UAGChL,KAAAA,UAAAA,KAEHkc,GAA0BF,gBAAAA,WAAAA,KAAAA,KAC1BE,GAAmClc,KAChCwc,KACUC,QAAdtR,KACI,EACEpF,MAAM,UACNgW,WAAW,aACX/b,KAAAA,IACAmL,YAAYA,GAAY+Q,GAAmClc,GAAAA,EAAAA,IAAAA,eAAAA,eAAAA,CAAAA,GAExDkc,EAAAA,GAAAA,CAAAA,GAAAA,EAAoClc,KAAAA,GAAAA,CAAAA;AAAAA,aAC/Byc,QAAZZ,OACFW,GAAKX,WAAW,SACdvN,IAAAA;AAEAuN,QAAAA,GAASvN,IAA2CtO,EAAAA;MAAAA,IAGjDwc;IAAAA;AAAAA,QA9BDlO,KAAQ4N,GACXtd;AAAAA,eACCuM,MACFnN,OAAOuC,eAAe2b,IAAmBlR,IAAMG,GAAWH,EAAAA,CAAAA,GAE5D6Q,QAAAA,MAAAA,GAAWvN,IAAMtD,EAAAA;EAAAA;AAAAA;IAAAA;SCvCP0R,IAAazR,IAAAA;AAAAA,SACpBqR,IAAiB,EACtBT,UAAU,CAACvN,IAA8BtD,OAAAA;AACvChN,WAAOe,OAAOuP,GAAKjQ,UAAU2M,EAAAA,GAAgCC,EAAAA;EAAAA,EAAAA,CAAAA;AAAAA;SCRnD0R,EAAMC,IAAkBC,IAAAA;AAAAA,SAC/BP,IAAiB,EACtBnR,YAAaH,CAAAA,OAAAA;AAAAA,QACLG,KAAa,EACjB7H,MAAAA;AAAAA,UAAAA,IAAAA;AAAAA,aACE,UAAAnE,KAAA,UAAA8D,KAAO1D,KAAKsI,eAAAA,WAAAA,KAAAA,SAAAA,GAAYiV,cAAcF,EAAAA,MAAAA,WAAAA,KAAAA,KAAa;IAAA,GAErDvZ,YAAAA,MACAkI,cAAAA,KAAAA;AAAAA,QAEEsR,IAAO;AAAA,UACH7c,KAAsB,YAAA,OAATgL,KAAoBtI,OAAAA,IAAW,OAAKsI;AACvDG,MAAAA,GAAW7H,MAAM,WAAA;AAAA,YAAAL,IAAAjE;AAAAA,eAAAA,WAEZO,KACCS,EAAAA,MAGDT,KACCS,EAAAA,IAAAA,UAAAA,KAAAA,UAAAA,KACET,KAAKsI,eAAAA,WAAAA,KAAAA,SAAAA,GAAYiV,cAAcF,EAAAA,MAAAA,WAAAA,KAAAA,KAAa,OAE1Crd,KACNS,EAAAA;MAAAA;IAAAA;AAAAA,WAICmL;EAAAA,EAAAA,CAAAA;AAAAA;SC5BG4R,IAASH,IAAAA;AAAAA,SAChBN,IAAiB,EACtBnR,YAAa6R,CAAAA,QAAAA,EACX1Z,MAAAA;AAAAA,QAAAA,IAAAA;AAAAA,WACE,UAAAL,KAAA,UAAA9C,KAAOZ,KAAKsI,eAAAA,WAAAA,KAAAA,SAAAA,GAAYoV,iBAAiBL,EAAAA,MAAAA,WAAAA,KAAAA,KAAa,CAAA;EAAA,GAExDvZ,YAAAA,MACAkI,cAAAA,KAAAA,GAAAA,CAAAA;AAAAA;SCMU2R,IAAWN,IAAAA;AAAAA,SAClBN,IAAiB,EACtBnR,YAAa6R,CAAAA,QAAAA,EACXnO,MAAAA;AAAAA,QAAAA,KAAAA;AAAAA,WAAAA,kBAAAA,aAAAA;AAAAA,UAAAA;AAAAA,aAAAA,MACQtP,GAAKqQ,gBAAAA,UAAAA,KACJrQ,GAAKsI,eAAAA,WAAAA,KAAAA,SAAAA,GAAYiV,cAAcF,EAAAA;IAAAA,CAAAA,EAAAA;EAAAA,GAExCvZ,YAAAA,MACAkI,cAAAA,KAAAA,GAAAA,CAAAA;AAAAA;ACxCN,IAAM4R,IACkD,SAAA,UAAAhe,IAAtDiH,OAAOgX,oBAAAA,WAAAA,IAAAA,SAAAA,EAAiB/e,UAAUgf,oBAC9B,CAACC,IAAuBC,OACtBD,GAAKD,iBAAiBE,EAAAA,IACxB,CAACD,IAAuBC,OACtBD,GACGE,cAAcD,EAAAA,EACdE,OACEjK,CAAAA,OAA0BA,GAAKc,aAAaoJ,KAAKC,YAAAA;AAAAA,SA8C9CC,EAAsB3S,IAAAA;AAAAA,MAAAA,EAC9BqS,MAACA,IAAIV,UAAEA,GAAAA,IAAY3R,QAAAA,KAAAA,KAAW,CAAA;AAAA,SAC7BqR,IAAiB,EACtBnR,YAAa6R,CAAAA,QAAAA,EACX1Z,MAAAA;AAAAA,QAAAA,IACQua,KAAe,UAAOP,KAAAA,SAAAA,OAAgBA,IAAAA,GAAAA,IAAU,iBAChDQ,KAAAA,UAAAA,KACJve,KAAKsI,eAAAA,WAAAA,KAAAA,SAAAA,GAAYiV,cAA+Be,EAAAA,GAC5CjC,KACM,QAAVkC,KAAiBX,EAAqBW,IAAQ7S,EAAAA,IAAW,CAAA;AAAA,WACvD2R,KACKhB,GAAS6B,OAAQjK,CAAAA,OAASA,GAAKuK,QAAQnB,EAAAA,CAAAA,IAEzChB;EAAAA,GAETvY,YAAAA,MACAkI,cAAAA,KAAAA,GAAAA,CAAAA;AAAAA;SCWUyS,EACdC,IACAC,IACAtB,IAAAA;AAAAA,MAIIuB,IADAb,KAAOW;AAAAA,SAEkB,YAAA,OAAlBA,MACTX,KAAOW,GAAcX,MACrBa,KAAuBF,MAEvBE,KAAuB,EAACD,SAAAA,GAAAA,GAKtBtB,KACKgB,EAAsB,EAC3BN,MAAMA,IACNY,SAAAA,IACAtB,UAAAA,GAAAA,CAAAA,IAIGN,IAAiB,EACtBnR,YAAa6R,CAAAA,QAAAA,EACX1Z,MAAAA;AAAAA,QAAAA,IAAAA,IACQua,KAAe,UAAOP,KAAAA,SAAAA,OAAgBA,IAAAA,GAAAA,IAAU,iBAChDQ,KAAAA,UAAAA,KACJve,KAAKsI,eAAAA,WAAAA,KAAAA,SAAAA,GAAYiV,cAA+Be,EAAAA;AAAAA,WAClD,UAAA7e,KAAO8e,QAAAA,KAAAA,SAAAA,GAAQN,cAAcW,EAAAA,MAAAA,WAAAA,KAAAA,KAAyB,CAAA;EAAA,GAExD9a,YAAAA,MACAkI,cAAAA,KAAAA,GAAAA,CAAAA;AAAAA;AAAAA,IAAAA,iBAAAA,eAAAA,OAAAA,aAAAA,aAAAA,eAAAA,OAAAA,SAAAA,SAAAA,eAAAA,OAAAA,SAAAA,SAAAA,eAAAA,OAAAA,OAAAA,OAAAA,CAAAA;AAAAA,SAAAA,wBAAAA,IAAAA;AAAAA,SAAAA,MAAAA,GAAAA,cAAAA,OAAAA,UAAAA,eAAAA,KAAAA,IAAAA,SAAAA,IAAAA,GAAAA,UAAAA;AAAAA;AAAAA,SAAAA,uCAAAA,IAAAA;AAAAA,SAAAA,MAAAA,OAAAA,UAAAA,eAAAA,KAAAA,IAAAA,SAAAA,IAAAA,GAAAA,UAAAA;AAAAA;AAAAA,SAAAA,wCAAAA,IAAAA;AAAAA,SAAAA,MAAAA,OAAAA,UAAAA,eAAAA,KAAAA,IAAAA,SAAAA,KAAAA,MAAAA,OAAAA,KAAAA,EAAAA,EAAAA,SAAAA,GAAAA,UAAAA;AAAAA;AAAAA,SAAAA,sBAAAA,IAAAA;AAAAA,MAAAA,GAAAA;AAAAA,WAAAA;AAAAA,MAAAA,KAAAA,OAAAA,eAAAA,CAAAA,GAAAA,cAAAA,EAAAA,OAAAA,KAAAA,CAAAA;AAAAA,SAAAA,OAAAA,KAAAA,EAAAA,EAAAA,QAAAA,SAAAA,IAAAA;AAAAA,QAAAA,KAAAA,OAAAA,yBAAAA,IAAAA,EAAAA;AAAAA,WAAAA,eAAAA,IAAAA,IAAAA,GAAAA,MAAAA,KAAAA,EAAAA,YAAAA,MAAAA,KAAAA,WAAAA;AAAAA,aAAAA,GAAAA,EAAAA;IAAAA,EAAAA,CAAAA;EAAAA,CAAAA,GAAAA;AAAAA;AAAAA,SAAAA,gBAAAA,IAAAA;AAAAA,QAAAA,IAAAA,MAAAA,oCAAAA,KAAAA,2JAAAA;AAAAA;AAAAA,IAAAA,WAAAA,EAAAA,SAAAA,CAAAA,EAAAA;CAAAA,SAAAA,QAAAA,SAAAA;ACxIiC,MAAkB6S;AAAnC,iBAAA,OAAdC,cAAiDD,UAI/C,WAAA;AAER,QAAIE,QAAQ,8BACRC,eAAe,IACfC,gBAAAA,OACAC,sBAAAA,SAEAC,eAAe,SAAsBC,IAAAA;AACvCH,sBAAAA,CAAAA,CAAkBG;IAAAA,GAGhBC,eAAe,WAAA;AACjB,aAAOJ;IAAAA,GAGLK,kBAAkB,SAAyBrd,IAAAA;AAC7C+c,qBAAe/c;IAAAA,GAGbsd,kBAAkB,WAAA;AACpB,aAAOP;IAAAA;AAGT,aAASQ,UAAU1V,IAAAA;AAEjB,aAAOlB,SAASC,cAAciB,EAAAA;IAAAA;AAGhC,aAAS2V,gBAAgBC,IAASC,IAAAA;AAChC,UAAIhgB,IAEAigB,IADAC,KAAMH,GAAQ5f;AAGlB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGxB,iBAAS2L,MAFTsU,KAAkBF,GAAQ/f,EAAAA,EAAGb;AAGvBL,iBAAOK,UAAUC,eAAeC,KAAK4gB,IAAiBtU,EAAAA,MAAOqU,GAAY7gB,UAAUwM,EAAAA,IAAQsU,GAAgBtU,EAAAA;IAAAA;AAKrH,aAASwU,cAAcC,IAAQC,IAAAA;AAC7B,aAAOvhB,OAAOoC,yBAAyBkf,IAAQC,EAAAA;IAAAA;AAGjD,aAASC,oBAAoBnhB,IAAAA;AAC3B,eAASohB,KAAAA;MAAAA;AAGT,aADAA,GAAcphB,YAAYA,IACnBohB;IAAAA;AAIT,QAAIC,yBAAyB,WAAA;AAC3B,eAASC,GAAgBC,IAAAA;AACvBrgB,aAAKsgB,SAAS,CAAA,GACdtgB,KAAKqgB,eAAeA,IACpBrgB,KAAKugB,UAAU,GACfvgB,KAAKwgB,WAAAA;MAAW;AAqFlB,aAlFAJ,GAAgBthB,YAAY,EAC1B2hB,UAAU,SAAkBC,IAAAA;AAC1B1gB,aAAKsgB,OAAO9c,KAAKkd,EAAAA;MAAAA,GAEnBC,OAAO,WAAA;AACL,YAAIhhB,IACAkgB,KAAM7f,KAAKsgB,OAAOxgB;AAEtB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAKsgB,OAAO3gB,EAAAA,EAAGghB,MAAAA;MAAAA,GAGnBrb,QAAQ,WAAA;AACN,YAAI3F,IACAkgB,KAAM7f,KAAKsgB,OAAOxgB;AAEtB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAKsgB,OAAO3gB,EAAAA,EAAG2F,OAAAA;MAAAA,GAGnBsb,SAAS,SAAiBC,IAAAA;AACxB,YAAIlhB,IACAkgB,KAAM7f,KAAKsgB,OAAOxgB;AAEtB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAKsgB,OAAO3gB,EAAAA,EAAGihB,QAAQC,EAAAA;MAAAA,GAG3BC,aAAa,SAAqBC,IAAAA;AAChC,eAAI/gB,KAAKqgB,eAAAA,KACKA,aAAaU,EAAAA,IAGvBla,OAAOma,OAAAA,IACEna,OAAOma,KAAK,EACrBC,KAAK,CAACF,EAAAA,EAAAA,CAAAA,IAIH,EACLG,WAAAA,OACAC,MAAM,WAAA;AACJnhB,eAAKkhB,YAAAA;QAAY,GAEnBE,MAAM,WAAA;AACJphB,eAAKkhB,YAAAA;QAAY,GAEnBG,SAAS,WAAA;QAAA,GACTC,MAAM,WAAA;QAAA,GACNC,WAAW,WAAA;QAAA,EAAA;MAAA,GAGfC,iBAAiB,SAAyBnB,IAAAA;AACxCrgB,aAAKqgB,eAAeA;MAAAA,GAEtBkB,WAAW,SAAmBtf,IAAAA;AAC5BjC,aAAKugB,UAAUte,IAEfjC,KAAKyhB,cAAAA;MAAAA,GAEPC,MAAM,WAAA;AACJ1hB,aAAKwgB,WAAAA,MAELxgB,KAAKyhB,cAAAA;MAAAA,GAEPE,QAAQ,WAAA;AACN3hB,aAAKwgB,WAAAA,OAELxgB,KAAKyhB,cAAAA;MAAAA,GAEPG,WAAW,WAAA;AACT,eAAA,KAAYrB;MAAAA,GAEdkB,eAAe,WAAA;AACb,YAAI9hB,IACAkgB,KAAM7f,KAAKsgB,OAAOxgB;AAEtB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAKsgB,OAAO3gB,EAAAA,EAAGkiB,OAAO7hB,KAAKugB,WAAWvgB,KAAKwgB,WAAW,IAAI,EAAA;MAAA,EAAA,GAAA,WAAA;AAK9D,eAAA,IAAWJ;MAAAA;IAAAA,EA3Fc,GA+FzB0B,mBAAmB,WAAA;AACrB,eAASC,GAAmBjY,IAAM+V,IAAAA;AAChC,YAEI5d,IAFAtC,KAAI,GACJqiB,KAAM,CAAA;AAGV,gBAAQlY,IAAAA;UACN,KAAK;UACL,KAAK;AACH7H,YAAAA,KAAQ;AACR;UAEF;AACEA,YAAAA,KAAQ;QAAA;AAIZ,aAAKtC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqiB,UAAAA,GAAIxe,KAAKvB,EAAAA;AAGX,eAAO+f;MAAAA;AAmBT,aAAiC,cAAA,OAAtBC,qBAA4D,cAAA,OAAjBC,eAhBtD,SAAiCpY,IAAM+V,IAAAA;AACrC,eAAa,cAAT/V,KAAAA,IACSoY,aAAarC,EAAAA,IAGb,YAAT/V,KAAAA,IACSqY,WAAWtC,EAAAA,IAGX,aAAT/V,KAAAA,IACSmY,kBAAkBpC,EAAAA,IAGxBkC,GAAmBjY,IAAM+V,EAAAA;MAAAA,IAO3BkC;IAAAA,EA5Cc;AA+CvB,aAASK,iBAAiBvC,IAAAA;AACxB,aAAOjhB,MAAMmB,MAAM,MAAM,EACvBD,QAAQ+f,GAAAA,CAAAA;IAAAA;AAIZ,aAASwC,UAAUC,IAAAA;AAAuV,aAA1OD,YAArD,cAAA,OAAXlf,UAAoD,YAAA,OAApBA,OAAOC,WAAqC,SAAiBkf,IAAAA;AAAO,eAAA,OAAcA;MAAAA,IAA6B,SAAiBA,IAAAA;AAAO,eAAOA,MAAyB,cAAA,OAAXnf,UAAyBmf,GAAIjjB,gBAAgB8D,UAAUmf,OAAQnf,OAAOrE,YAAY,WAAA,OAAkBwjB;MAAAA,GAAiBD,UAAUC,EAAAA;IAAAA;AAC3X,QAAIC,kBAAAA,MACAC,oBAAoB,MACpBC,wBAAwB,MACxBC,aAAa,IACbC,WAAW,iCAAiChP,KAAKmL,UAAU8D,SAAAA,GAC3DC,qBAAAA,OACAC,QAAQhS,KAAKiS,KACbC,SAASlS,KAAKmS,MACdC,UAAUpS,KAAKqS,OACfC,QAAQtS,KAAKuS,KACbC,QAAQxS,KAAKyS,KACbC,SAAS,CAAA;AAYb,aAASC,qBAAAA;AACP,aAAO,CAAA;IAAA;AAAA,KAXT,WAAA;AACE,UACI9jB,IADA+jB,KAAgB,CAAC,OAAO,QAAQ,SAAS,QAAQ,SAAS,QAAQ,SAAS,SAAS,QAAQ,QAAQ,SAAS,SAAS,OAAO,QAAQ,OAAO,SAAS,UAAU,SAAS,QAAQ,OAAO,SAAS,QAAQ,SAAS,OAAO,OAAO,OAAO,UAAU,SAAS,QAAQ,OAAO,QAAQ,QAAQ,OAAO,QAAQ,SAAS,KAAK,QAAQ,OAAO,UAAU,SAAS,MAAM,WAAW,OAAA,GAExW7D,KAAM6D,GAAc5jB;AAExB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB6jB,eAAOE,GAAc/jB,EAAAA,CAAAA,IAAMmR,KAAK4S,GAAc/jB,EAAAA,CAAAA;IAAAA,EANlD,GAcA6jB,OAAOzS,SAASD,KAAKC,QAErByS,OAAOG,MAAM,SAAUC,IAAAA;AAGrB,UAAe,aAFFvB,UAAUuB,EAAAA,KAEIA,GAAI9jB,QAAQ;AACrC,YACIH,IADAkkB,KAASzB,iBAAiBwB,GAAI9jB,MAAAA,GAE9B+f,KAAM+D,GAAI9jB;AAEd,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBkkB,UAAAA,GAAOlkB,EAAAA,IAAKmR,KAAK6S,IAAIC,GAAIjkB,EAAAA,CAAAA;AAG3B,eAAOkkB;MAAAA;AAGT,aAAO/S,KAAK6S,IAAIC,EAAAA;IAAAA;AAGlB,QAAIE,uBAAuB,KACvBC,YAAYjT,KAAKkT,KAAK,KACtBC,cAAc;AAElB,aAASC,YAAY9E,IAAAA;AACnByD,2BAAAA,CAAAA,CAAuBzD;IAAAA;AAGzB,aAAS+E,MAAMliB,IAAAA;AACb,aAAI4gB,qBACK/R,KAAKsT,MAAMniB,EAAAA,IAGbA;IAAAA;AAGT,aAASoiB,SAASnL,IAAAA;AAChBA,MAAAA,GAAQvQ,MAAM2b,WAAW,YACzBpL,GAAQvQ,MAAM4b,MAAM,GACpBrL,GAAQvQ,MAAM6b,OAAO,GACrBtL,GAAQvQ,MAAM8b,UAAU,SACxBvL,GAAQvQ,MAAM+b,kBAAkB,OAChCxL,GAAQvQ,MAAMgc,wBAAwB,OACtCzL,GAAQvQ,MAAMic,qBAAqB,WACnC1L,GAAQvQ,MAAMkc,2BAA2B,WACzC3L,GAAQvQ,MAAMmc,iBAAiB,eAC/B5L,GAAQvQ,MAAMoc,uBAAuB,eACrC7L,GAAQvQ,MAAMqc,oBAAoB;IAAA;AAGpC,aAASC,kBAAkBnb,IAAMob,IAAaC,IAAWC,IAAAA;AACvDplB,WAAK8J,OAAOA,IACZ9J,KAAKklB,cAAcA,IACnBllB,KAAKmlB,YAAYA,IACjBnlB,KAAKqlB,YAAYD,KAAkB,IAAA,KAAS;IAAA;AAG9C,aAASE,gBAAgBxb,IAAMsb,IAAAA;AAC7BplB,WAAK8J,OAAOA,IACZ9J,KAAKqlB,YAAYD,KAAkB,IAAA,KAAS;IAAA;AAG9C,aAASG,oBAAoBzb,IAAM0b,IAAYC,IAAaL,IAAAA;AAC1DplB,WAAK8J,OAAOA,IACZ9J,KAAKylB,cAAcA,IACnBzlB,KAAKwlB,aAAaA,IAClBxlB,KAAKqlB,YAAYD,KAAkB,IAAA,KAAS;IAAA;AAG9C,aAASM,oBAAoB5b,IAAM6b,IAAYC,IAAAA;AAC7C5lB,WAAK8J,OAAOA,IACZ9J,KAAK2lB,aAAaA,IAClB3lB,KAAK4lB,cAAcA;IAAAA;AAGrB,aAASC,eAAe/b,IAAMtJ,IAAAA;AAC5BR,WAAK8J,OAAOA,IACZ9J,KAAKQ,SAASA;IAAAA;AAGhB,aAASslB,wBAAwBC,IAAab,IAAAA;AAC5CllB,WAAK8J,OAAO,oBACZ9J,KAAK+lB,cAAcA,IACnB/lB,KAAKklB,cAAcA;IAAAA;AAGrB,aAASc,mBAAmBD,IAAAA;AAC1B/lB,WAAK8J,OAAO,eACZ9J,KAAK+lB,cAAcA;IAAAA;AAGrB,aAASE,4BAA4Bnc,IAAMic,IAAAA;AACzC/lB,WAAK8J,OAAOA,IACZ9J,KAAK+lB,cAAcA;IAAAA;AAGrB,QAAIG,mBACEC,SAAS,GAAA,WAAA;AAGX,aAAOzD,aAAa,uBADpByD,UAAU;IAAA,IAFRA;AAON,aAASC,SAAS1N,IAAGhZ,IAAG2D,IAAAA;AACtB,UAAIzC,IACAgC,IACApE,IACAmB,IACA+C,IACA7D,IACAwG,IACA5F;AAOJ,cAJAZ,KAAIwE,MAAK,IAAI3D,KACb2F,KAAIhC,MAAK,KAFTX,KAAQ,IAAJgW,MADJ/Y,KAAImR,KAAKqS,MAAU,IAAJzK,EAAAA,MAGEhZ,KACjBD,KAAI4D,MAAK,KAAK,IAAIX,MAAKhD,KAEfC,KAAI,GAAA;QACV,KAAA;AACEiB,UAAAA,KAAIyC,IACJT,KAAInD,IACJjB,KAAIK;AACJ;QAEF,KAAA;AACE+B,UAAAA,KAAIyE,IACJzC,KAAIS,IACJ7E,KAAIK;AACJ;QAEF,KAAA;AACE+B,UAAAA,KAAI/B,IACJ+D,KAAIS,IACJ7E,KAAIiB;AACJ;QAEF,KAAA;AACEmB,UAAAA,KAAI/B,IACJ+D,KAAIyC,IACJ7G,KAAI6E;AACJ;QAEF,KAAA;AACEzC,UAAAA,KAAInB,IACJmD,KAAI/D,IACJL,KAAI6E;AACJ;QAEF,KAAA;AACEzC,UAAAA,KAAIyC,IACJT,KAAI/D,IACJL,KAAI6G;MAAAA;AAOR,aAAO,CAACzE,IAAGgC,IAAGpE,EAAAA;IAAAA;AAGhB,aAAS6nB,SAASzlB,IAAGgC,IAAGpE,IAAAA;AACtB,UAGIka,IAHA2K,KAAMvS,KAAKuS,IAAIziB,IAAGgC,IAAGpE,EAAAA,GACrB+kB,KAAMzS,KAAKyS,IAAI3iB,IAAGgC,IAAGpE,EAAAA,GACrBD,KAAI8kB,KAAME,IAEV7jB,KAAY,MAAR2jB,KAAY,IAAI9kB,KAAI8kB,IACxBhgB,KAAIggB,KAAM;AAEd,cAAQA,IAAAA;QACN,KAAKE;AACH7K,UAAAA,KAAI;AACJ;QAEF,KAAK9X;AACH8X,UAAAA,KAAI9V,KAAIpE,KAAID,MAAKqE,KAAIpE,KAAI,IAAI,IAC7Bka,MAAK,IAAIna;AACT;QAEF,KAAKqE;AACH8V,UAAAA,KAAIla,KAAIoC,KAAQ,IAAJrC,IACZma,MAAK,IAAIna;AACT;QAEF,KAAKC;AACHka,UAAAA,KAAI9X,KAAIgC,KAAQ,IAAJrE,IACZma,MAAK,IAAIna;MAAAA;AAOb,aAAO,CAACma,IAAGhZ,IAAG2D,EAAAA;IAAAA;AAGhB,aAASijB,mBAAmBC,IAAOC,IAAAA;AACjC,UAAIC,KAAMJ,SAAoB,MAAXE,GAAM,CAAA,GAAqB,MAAXA,GAAM,CAAA,GAAqB,MAAXA,GAAM,CAAA,CAAA;AASzD,aARAE,GAAI,CAAA,KAAMD,IAENC,GAAI,CAAA,IAAK,IACXA,GAAI,CAAA,IAAK,IACAA,GAAI,CAAA,KAAM,MACnBA,GAAI,CAAA,IAAK,IAGJL,SAASK,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,CAAA;IAAA;AAGtC,aAASC,mBAAmBH,IAAOC,IAAAA;AACjC,UAAIC,KAAMJ,SAAoB,MAAXE,GAAM,CAAA,GAAqB,MAAXA,GAAM,CAAA,GAAqB,MAAXA,GAAM,CAAA,CAAA;AASzD,aARAE,GAAI,CAAA,KAAMD,IAENC,GAAI,CAAA,IAAK,IACXA,GAAI,CAAA,IAAK,IACAA,GAAI,CAAA,IAAK,MAClBA,GAAI,CAAA,IAAK,IAGJL,SAASK,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,CAAA;IAAA;AAGtC,aAASE,YAAYJ,IAAOC,IAAAA;AAC1B,UAAIC,KAAMJ,SAAoB,MAAXE,GAAM,CAAA,GAAqB,MAAXA,GAAM,CAAA,GAAqB,MAAXA,GAAM,CAAA,CAAA;AASzD,aARAE,GAAI,CAAA,KAAMD,KAAS,KAEfC,GAAI,CAAA,IAAK,IACXA,GAAI,CAAA,KAAM,IACDA,GAAI,CAAA,IAAK,MAClBA,GAAI,CAAA,KAAM,IAGLL,SAASK,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,CAAA;IAAA;AAGtC,QAAIG,WAAW,WAAA;AACb,UACIjnB,IACAknB,IAFAC,KAAW,CAAA;AAIf,WAAKnnB,KAAI,GAAGA,KAAI,KAAKA,MAAK;AACxBknB,QAAAA,KAAMlnB,GAAEkI,SAAS,EAAA,GACjBif,GAASnnB,EAAAA,IAAoB,MAAfknB,GAAI/mB,SAAe,MAAM+mB,KAAMA;AAG/C,aAAA,SAAiBjmB,IAAGgC,IAAGpE,IAAAA;AAarB,eAZIoC,KAAI,MACNA,KAAI,IAGFgC,KAAI,MACNA,KAAI,IAGFpE,KAAI,MACNA,KAAI,IAGC,MAAMsoB,GAASlmB,EAAAA,IAAKkmB,GAASlkB,EAAAA,IAAKkkB,GAAStoB,EAAAA;MAAAA;IAAAA,EAvBvC,GA2BXuoB,qBAAqB,SAA4B3H,IAAAA;AACnDmD,wBAAAA,CAAAA,CAAoBnD;IAAAA,GAGlB4H,qBAAqB,WAAA;AACvB,aAAOzE;IAAAA,GAGL0E,uBAAuB,SAA8BhlB,IAAAA;AACvDugB,0BAAoBvgB;IAAAA,GAGlBilB,uBAAuB,WAAA;AACzB,aAAO1E;IAAAA,GAGL2E,0BAA0B,SAAiCllB,IAAAA;AAC7DwgB,8BAAwBxgB;IAAAA,GAGtBmlB,0BAA0B,WAAA;AAC5B,aAAO3E;IAAAA,GAGL4E,0BAA0B,SAAiCplB,IAAAA;AAC7D6hB,6BAAuB7hB;IAAAA,GAGrBqlB,0BAA0B,WAAA;AAC5B,aAAOxD;IAAAA,GAGLyD,cAAc,SAAqBtlB,IAAAA;AACrCygB,mBAAazgB;IAAAA,GAGXulB,cAAc,WAAA;AAChB,aAAO9E;IAAAA;AAGT,aAAS+E,SAAS3d,IAAAA;AAEhB,aAAOlB,SAAS8e,gBAAgB3I,OAAOjV,EAAAA;IAAAA;AAGzC,aAAS6d,UAAUrF,IAAAA;AAAuV,aAA1OqF,YAArD,cAAA,OAAXxkB,UAAoD,YAAA,OAApBA,OAAOC,WAAqC,SAAiBkf,IAAAA;AAAO,eAAA,OAAcA;MAAAA,IAA6B,SAAiBA,IAAAA;AAAO,eAAOA,MAAyB,cAAA,OAAXnf,UAAyBmf,GAAIjjB,gBAAgB8D,UAAUmf,OAAQnf,OAAOrE,YAAY,WAAA,OAAkBwjB;MAAAA,GAAiBqF,UAAUrF,EAAAA;IAAAA;AAE3X,QAAIsF,cAAc,WAAA;AAChB,UAEIC,IACAC,IAHAC,KAAa,GACbC,KAAY,CAAA,GAGZC,KAAc,EAChBC,WAAW,WAAA;MAAA,GACXC,aAAa,SAAqBC,IAAAA;AAChCP,QAAAA,GAAS,EACP/R,MAAMsS,GAAAA,CAAAA;MAAAA,EAAAA,GAIRC,cAAc,EAChBF,aAAa,SAAqBrS,IAAAA;AAChCmS,QAAAA,GAAYC,UAAU,EACpBpS,MAAMA,GAAAA,CAAAA;MAAAA,EAAAA;AAmBZ,eAASwS,KAAAA;AACFR,QAAAA,OACHA,KAhBJ,SAAsBS,IAAAA;AACpB,cAAI1hB,OAAO2hB,UAAU3hB,OAAO4hB,QAAQpJ,aAAAA,GAAgB;AAClD,gBAAIqJ,KAAO,IAAID,KAAK,CAAC,6CAA6CF,GAAG1gB,SAAAA,CAAAA,GAAa,EAChFiC,MAAM,kBAAA,CAAA,GAGJ6e,KAAMC,IAAIC,gBAAgBH,EAAAA;AAC9B,mBAAA,IAAWF,OAAOG,EAAAA;UAAAA;AAIpB,iBADAd,KAAWU,IACJN;QAAAA,EAKyB,SAAqB/nB,IAAAA;AAknBjD,cA3EKmoB,YAAYT,gBACfS,YAAYT,cAviBd,WAAA;AACE,qBAASkB,GAAeC,IAAQC,IAAAA;AAC9B,kBAAIC,IACAtpB,IAEA+E,IACAwkB,IACAtlB,IACAulB,IAJAtJ,KAAMkJ,GAAOjpB;AAMjB,mBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGxB,oBAAI,SAFJspB,KAAYF,GAAOppB,EAAAA,MAAAA,CAEOspB,GAAUG,WAAW;AAG7C,sBAFAH,GAAUG,YAAAA,MAENH,GAAUI,SAAS;AACrB,wBAAIC,KAAYL,GAAUM;AAG1B,yBAFAL,KAAOI,GAAUxpB,QAEZ4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzB,0BAAI4kB,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEjE;AACpB8pB,wBAAAA,GAA6BH,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,CAAAA;;AAI7C,6BAFAulB,KAAOG,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAE9D,QAEpB8D,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACrB0lB,0BAAAA,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAGlE,KACvB+pB,GAA6BH,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAGlE,EAAE,CAAA,CAAA,GAGlD4pB,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAG1D,KACvBupB,GAA6BH,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAG1D,EAAE,CAAA,CAAA;kBAAA;AAOzC,wBAAjB+oB,GAAUS,MACZT,GAAUF,SAASY,GAAeV,GAAUW,OAAOZ,EAAAA,GACnDF,GAAeG,GAAUF,QAAQC,EAAAA,KACP,MAAjBC,GAAUS,KACnBG,GAAeZ,GAAUa,MAAAA,IACC,MAAjBb,GAAUS,MACnBK,GAAad,EAAAA;gBAAAA;YAAAA;AAgDrB,qBAASU,GAAeK,IAAIhB,IAAAA;AAC1B,kBAAIiB,KAhBN,SAAkBD,IAAIhB,IAAAA;AAIpB,yBAHIrpB,KAAI,GACJkgB,KAAMmJ,GAAMlpB,QAETH,KAAIkgB,MAAK;AACd,sBAAImJ,GAAMrpB,EAAAA,EAAGqqB,OAAOA;AAClB,2BAAOhB,GAAMrpB,EAAAA;AAGfA,kBAAAA,MAAK;gBAAA;AAGP,uBAAA;cAAA,EAIoBqqB,IAAIhB,EAAAA;AAExB,qBAAIiB,KACGA,GAAKlB,OAAOmB,SAKVlgB,KAAKK,MAAML,KAAKC,UAAUggB,GAAKlB,MAAAA,CAAAA,KAJpCkB,GAAKlB,OAAOmB,SAAAA,MACLD,GAAKlB,UAAAA;YAAAA;AASlB,qBAASc,GAAe7H,IAAAA;AACtB,kBAAIriB,IAEA+E,IACAwkB;AAEJ,mBAAKvpB,KAJKqiB,GAAIliB,SAIC,GAAGH,MAAK,GAAGA,MAAK;AAC7B,oBAAkB,SAAdqiB,GAAIriB,EAAAA,EAAG+pB;AACT,sBAAI1H,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEjE;AACd8pB,oBAAAA,GAA6BzH,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,CAAAA;;AAIvC,yBAFAslB,KAAOlH,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAE9D,QAEd4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACrBsd,sBAAAA,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGhF,KACjB+pB,GAA6BzH,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGhF,EAAE,CAAA,CAAA,GAG5CsiB,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGxE,KACjBupB,GAA6BzH,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGxE,EAAE,CAAA,CAAA;;AAI7B,2BAAd8hB,GAAIriB,EAAAA,EAAG+pB,MAChBG,GAAe7H,GAAIriB,EAAAA,EAAGyqB,EAAAA;YAAAA;AAK5B,qBAASX,GAA6BrB,IAAAA;AACpC,kBAAIzoB,IACAkgB,KAAMuI,GAAKzoB,EAAEG;AAEjB,mBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxByoB,gBAAAA,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,KAAMyoB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,GAC1ByoB,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,KAAMyoB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,GAC1ByoB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,KAAMyoB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,GAC1ByoB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,KAAMyoB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA;YAAA;AAI9B,qBAAS0qB,GAAaC,IAASC,IAAAA;AAC7B,kBAAIC,KAAcD,KAAoBA,GAAkBhV,MAAM,GAAA,IAAO,CAAC,KAAK,KAAK,GAAA;AAEhF,qBAAI+U,GAAQ,CAAA,IAAKE,GAAY,CAAA,KAAA,EAIzBA,GAAY,CAAA,IAAKF,GAAQ,CAAA,OAIzBA,GAAQ,CAAA,IAAKE,GAAY,CAAA,KAAA,EAIzBA,GAAY,CAAA,IAAKF,GAAQ,CAAA,OAIzBA,GAAQ,CAAA,IAAKE,GAAY,CAAA,KAAA,EAIzBA,GAAY,CAAA,IAAKF,GAAQ,CAAA,MAAA;YAAA;AAO/B,gBA2CMG,IA3CFC,KAAY,WAAA;AACd,kBAAID,KAAiB,CAAC,GAAG,GAAG,EAAA;AAY5B,uBAASE,GAAc5B,IAAAA;AACrB,oBAAIppB,IAXmBirB,IACnBC,IAWAhL,KAAMkJ,GAAOjpB;AAEjB,qBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACH,wBAAjBopB,GAAOppB,EAAAA,EAAG+pB,OAdZmB,KAAAA,QAAAA,MADmBD,KAgBH7B,GAAOppB,EAAAA,GAfEF,EAAElB,GAC/BqsB,GAAUnrB,EAAElB,IAAI,EACdqF,GAAG,CAAC,EACFlE,GAAGmrB,IACHprB,GAAG,EAAA,CAAA,EAAA;cAAA;AAgBT,qBAAA,SAAiBqrB,IAAAA;AACf,oBAAIT,GAAaI,IAAgBK,GAAcznB,CAAAA,MAC7CsnB,GAAcG,GAAc/B,MAAAA,GAExB+B,GAAcC,SAAQ;AACxB,sBAAIprB,IACAkgB,KAAMiL,GAAcC,OAAOjrB;AAE/B,uBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBmrB,oBAAAA,GAAcC,OAAOprB,EAAAA,EAAGopB,UAC1B4B,GAAcG,GAAcC,OAAOprB,EAAAA,EAAGopB,MAAAA;gBAAAA;cAAAA;YAAAA,EAlClC,GA0CZiC,MACEP,KAAiB,CAAC,GAAG,GAAG,EAAA,GAAA,SACXK,IAAAA;AACf,kBAAIA,GAAcG,SAAAA,CAAUZ,GAAaI,IAAgBK,GAAcznB,CAAAA,GAAI;AACzE,oBAAI1D,IACAkgB,KAAMiL,GAAcG,MAAMnrB;AAE9B,qBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAC3B,sBAAIurB,KAAWJ,GAAcG,MAAMtrB,EAAAA;AAE/BurB,kBAAAA,GAASpV,QAAQoV,GAASpV,KAAKgU,WACjCD,GAAeqB,GAASpV,KAAKgU,MAAAA,GAC7BoB,GAASpV,KAAKqV,KAAK,GACnBD,GAASpV,KAAKxS,KAAK,OACnB4nB,GAASpV,KAAKsV,KAAK,GACnBF,GAASpV,KAAKuV,KAAK,GACnBH,GAASpV,KAAKqU,KAAK,EACjBtrB,GAAG,EACD+E,GAAG,CAAC,GAAG,CAAA,GACPa,GAAG,EAAA,GAEL/E,GAAG,EACDkE,GAAG,CAAC,KAAK,GAAA,GACTa,GAAG,EAAA,GAELA,GAAG,EACDb,GAAG,CAAC,GAAG,CAAA,GACPa,GAAG,EAAA,GAEL7D,GAAG,EACDgD,GAAG,GACHa,GAAG,EAAA,GAELf,GAAG,EACDE,GAAG,KACHa,GAAG,EAAA,EAAA,GAIFqmB,GAAcG,MAAMtrB,EAAAA,EAAGF,MAC1ByrB,GAASpV,KAAKgU,OAAOtmB,KAAK,EACxBkmB,IAAI,KAAA,CAAA,GAENwB,GAASpV,KAAKgU,OAAO,CAAA,EAAGM,GAAG5mB,KAAK,EAC9B3E,GAAG,EACD+E,GAAG,CAAC,GAAG,CAAA,GACPa,GAAG,EAAA,GAEL/E,GAAG,EACDkE,GAAG,CAAC,KAAK,GAAA,GACTa,GAAG,EAAA,GAELA,GAAG,EACDb,GAAG,CAAC,GAAG,CAAA,GACPa,GAAG,EAAA,GAEL7D,GAAG,EACDgD,GAAG,GACHa,GAAG,EAAA,GAELf,GAAG,EACDE,GAAG,KACHa,GAAG,EAAA,GAEL6mB,IAAI,EACF1nB,GAAG,GACHa,GAAG,EAAA,GAEL8mB,IAAI,EACF3nB,GAAG,GACHa,GAAG,EAAA,GAELilB,IAAI,KAAA,CAAA;gBAAA;cAAA;YAAA,IASd8B,KAAsB,WAAA;AACxB,kBAAIf,KAAiB,CAAC,GAAG,GAAG,EAAA;AA2B5B,uBAASE,GAAc5B,IAAAA;AACrB,oBAAIppB,IAzBA8rB,IA0BA5L,KAAMkJ,GAAOjpB;AAEjB,qBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACH,wBAAjBopB,GAAOppB,EAAAA,EAAG+pB,OA7BZ+B,KAAAA,QAEsB,YAAA,QAFtBA,KA8BgB1C,GAAOppB,EAAAA,EA9BFF,EAAEZ,GAEP4F,MAClBgnB,GAAShnB,IAAI,EACXA,GAAG,GACHb,GAAG6nB,GAAShnB,EAAAA,IAIU,YAAA,OAAfgnB,GAAS5sB,MAClB4sB,GAAS5sB,IAAI,EACX4F,GAAG,GACHb,GAAG6nB,GAAS5sB,EAAAA,IAIU,YAAA,OAAf4sB,GAAS7qB,MAClB6qB,GAAS7qB,IAAI,EACX6D,GAAG,GACHb,GAAG6nB,GAAS7qB,EAAAA;cAAAA;AAgBlB,qBAAA,SAAiBkqB,IAAAA;AACf,oBAAIT,GAAaI,IAAgBK,GAAcznB,CAAAA,MAC7CsnB,GAAcG,GAAc/B,MAAAA,GAExB+B,GAAcC,SAAQ;AACxB,sBAAIprB,IACAkgB,KAAMiL,GAAcC,OAAOjrB;AAE/B,uBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBmrB,oBAAAA,GAAcC,OAAOprB,EAAAA,EAAGopB,UAC1B4B,GAAcG,GAAcC,OAAOprB,EAAAA,EAAGopB,MAAAA;gBAAAA;cAAAA;YAAAA,EAjDxB,GAyDtB2C,KAAc,WAAA;AAChB,kBAAIjB,KAAiB,CAAC,GAAG,GAAG,CAAA;AAE5B,uBAASkB,GAAc7B,IAAAA;AACrB,oBAAInqB,IAEA+E,IACAwkB,IAFArJ,KAAMiK,GAAOhqB;AAIjB,qBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,sBAAqB,SAAjBmqB,GAAOnqB,EAAAA,EAAG+pB;AACZiC,oBAAAA,GAAc7B,GAAOnqB,EAAAA,EAAGyqB,EAAAA;2BACE,SAAjBN,GAAOnqB,EAAAA,EAAG+pB,MAAgC,SAAjBI,GAAOnqB,EAAAA,EAAG+pB;AAC5C,wBAAII,GAAOnqB,EAAAA,EAAGgB,EAAEiD,KAAKkmB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAE,CAAA,EAAGjE;AAGpC,2BAFAupB,KAAOY,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAE9D,QAEhB4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACrBolB,wBAAAA,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGhF,MACnBoqB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGhF,EAAE,CAAA,KAAM,KACzBoqB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGhF,EAAE,CAAA,KAAM,KACzBoqB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGhF,EAAE,CAAA,KAAM,KACzBoqB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGhF,EAAE,CAAA,KAAM,MAGvBoqB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGxE,MACnB4pB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGxE,EAAE,CAAA,KAAM,KACzB4pB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGxE,EAAE,CAAA,KAAM,KACzB4pB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGxE,EAAE,CAAA,KAAM,KACzB4pB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAEc,EAAAA,EAAGxE,EAAE,CAAA,KAAM;;AAI7B4pB,sBAAAA,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAE,CAAA,KAAM,KACpBkmB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAE,CAAA,KAAM,KACpBkmB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAE,CAAA,KAAM,KACpBkmB,GAAOnqB,EAAAA,EAAGgB,EAAEiD,EAAE,CAAA,KAAM;cAAA;AAM5B,uBAAS+mB,GAAc5B,IAAAA;AACrB,oBAAIppB,IACAkgB,KAAMkJ,GAAOjpB;AAEjB,qBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACH,wBAAjBopB,GAAOppB,EAAAA,EAAG+pB,MACZiC,GAAc5C,GAAOppB,EAAAA,EAAGmqB,MAAAA;cAAAA;AAK9B,qBAAA,SAAiBgB,IAAAA;AACf,oBAAIT,GAAaI,IAAgBK,GAAcznB,CAAAA,MAC7CsnB,GAAcG,GAAc/B,MAAAA,GAExB+B,GAAcC,SAAQ;AACxB,sBAAIprB,IACAkgB,KAAMiL,GAAcC,OAAOjrB;AAE/B,uBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBmrB,oBAAAA,GAAcC,OAAOprB,EAAAA,EAAGopB,UAC1B4B,GAAcG,GAAcC,OAAOprB,EAAAA,EAAGopB,MAAAA;gBAAAA;cAAAA;YAAAA,EA9DhC,GAsEd6C,KAAc,WAAA;AAChB,kBAAInB,KAAiB,CAAC,GAAG,GAAG,EAAA;AAE5B,uBAASoB,GAAsB7J,IAAAA;AAC7B,oBAAIriB,IAEA+E,IACAwkB;AAEJ,qBAAKvpB,KAJKqiB,GAAIliB,SAIC,GAAGH,MAAK,GAAGA,MAAK;AAC7B,sBAAkB,SAAdqiB,GAAIriB,EAAAA,EAAG+pB;AACT,wBAAI1H,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEjE;AACdqiB,sBAAAA,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEjD,IAAIqhB,GAAIriB,EAAAA,EAAGmsB;;AAIvB,2BAFA5C,KAAOlH,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAE9D,QAEd4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACrBsd,wBAAAA,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGhF,MACjBsiB,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGhF,EAAE,CAAA,EAAGiB,IAAIqhB,GAAIriB,EAAAA,EAAGmsB,SAG7B9J,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGxE,MACjB8hB,GAAIriB,EAAAA,EAAGwqB,GAAGvmB,EAAEc,EAAAA,EAAGxE,EAAE,CAAA,EAAGS,IAAIqhB,GAAIriB,EAAAA,EAAGmsB;;AAId,6BAAd9J,GAAIriB,EAAAA,EAAG+pB,MAChBmC,GAAsB7J,GAAIriB,EAAAA,EAAGyqB,EAAAA;cAAAA;AAKnC,uBAASO,GAAc5B,IAAAA;AACrB,oBAAIE,IACAtpB,IAEA+E,IACAwkB,IACAtlB,IACAulB,IAJAtJ,KAAMkJ,GAAOjpB;AAMjB,qBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAG3B,uBAFAspB,KAAYF,GAAOppB,EAAAA,GAEL0pB,SAAS;AACrB,wBAAIC,KAAYL,GAAUM;AAG1B,yBAFAL,KAAOI,GAAUxpB,QAEZ4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzB,0BAAI4kB,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEjE;AACpB2pB,wBAAAA,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEjD,IAAI2oB,GAAU5kB,EAAAA,EAAGqnB;;AAInC,6BAFA5C,KAAOG,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAE9D,QAEpB8D,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACrB0lB,0BAAAA,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAGlE,MACvB4pB,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAGlE,EAAE,CAAA,EAAGiB,IAAI2oB,GAAU5kB,EAAAA,EAAGqnB,KAGzCzC,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAG1D,MACvBopB,GAAU5kB,EAAAA,EAAG8kB,GAAG5lB,EAAEA,EAAAA,EAAG1D,EAAE,CAAA,EAAGS,IAAI2oB,GAAU5kB,EAAAA,EAAGqnB;kBAAAA;AAOhC,wBAAjB9C,GAAUS,MACZmC,GAAsB5C,GAAUa,MAAAA;gBAAAA;cAAAA;AAKtC,qBAAA,SAAiBgB,IAAAA;AACf,oBAAIT,GAAaI,IAAgBK,GAAcznB,CAAAA,MAC7CsnB,GAAcG,GAAc/B,MAAAA,GAExB+B,GAAcC,SAAQ;AACxB,sBAAIprB,IACAkgB,KAAMiL,GAAcC,OAAOjrB;AAE/B,uBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBmrB,oBAAAA,GAAcC,OAAOprB,EAAAA,EAAGopB,UAC1B4B,GAAcG,GAAcC,OAAOprB,EAAAA,EAAGopB,MAAAA;gBAAAA;cAAAA;YAAAA,EAnFhC;AA0GlB,qBAASgB,GAAajU,IAAAA;AACI,oBAApBA,GAAKrW,EAAEgF,EAAE3E,UAAyBgW,GAAKrW,EAAEZ;YAAAA;AAI/C,gBAAImtB,KAAW,EACfA,cArBA,SAAsBlB,IAAAA;AAChBA,cAAAA,GAAcmB,eAIlBP,GAAYZ,EAAAA,GACZJ,GAAUI,EAAAA,GACVE,GAAWF,EAAAA,GACXU,GAAoBV,EAAAA,GACpBc,GAAYd,EAAAA,GACZhC,GAAegC,GAAc/B,QAAQ+B,GAAcC,MAAAA,GA/drD,SAAuBE,IAAOF,IAAAA;AAC5B,oBAAIE,IAAO;AACT,sBAAItrB,KAAI,GACJkgB,KAAMoL,GAAMnrB;AAEhB,uBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACL,0BAAfsrB,GAAMtrB,EAAAA,EAAGF,MAEXwrB,GAAMtrB,EAAAA,EAAGmW,KAAKiT,SAASY,GAAesB,GAAMtrB,EAAAA,EAAGmW,KAAK8T,OAAOmB,EAAAA,GAa3DjC,GAAemC,GAAMtrB,EAAAA,EAAGmW,KAAKiT,QAAQgC,EAAAA;gBAAAA;cAAAA,EA2c7BD,GAAcG,OAAOH,GAAcC,MAAAA,GACjDD,GAAcmB,aAAAA;YAAa,EAAA;AAe7B,mBALAD,GAASN,cAAcA,IACvBM,GAAShB,aAAaA,IACtBgB,GAASR,sBAAsBA,IAC/BQ,GAASJ,cAAcA,IACvBI,GAASlD,iBAAiBA,IACnBkD;UAAAA,EAImBE,IAGvB7D,YAAY8D,gBACf9D,YAAY8D,cAAc,WAAA;AACxB,qBAASC,GAAeC,IAAAA;AAGtB,kBAAIC,KAAoBD,GAAIE,kBAAkB,cAAA;AAE9C,qBAAID,MAA0C,WAArBD,GAAIG,gBAAAA,OAA2BF,GAAkBnsB,QAAQ,MAAA,KAI9EksB,GAAII,YAAwC,aAA5B9E,UAAU0E,GAAII,QAAAA,IAHzBJ,GAAII,WAOTJ,GAAII,YAAoC,YAAA,OAAjBJ,GAAII,WACtBziB,KAAKK,MAAMgiB,GAAII,QAAAA,IAGpBJ,GAAIK,eACC1iB,KAAKK,MAAMgiB,GAAIK,YAAAA,IAAAA;YAAAA;AA6C1B,mBAAO,EACLC,MAxCF,SAAmBvE,IAAMwE,IAAUC,IAAUC,IAAAA;AAC3C,kBAAIL,IACAJ,KAAM,IAAIU;AAEd,kBAAA;AAEEV,gBAAAA,GAAIG,eAAe;cAAA,SACZQ,IAAAA;cAAAA;AAGTX,cAAAA,GAAIY,qBAAqB,WAAA;AACvB,oBAAuB,MAAnBZ,GAAIa;AACN,sBAAmB,QAAfb,GAAIc;AACNV,oBAAAA,KAAWL,GAAeC,EAAAA,GAC1BQ,GAASJ,EAAAA;;AAET,wBAAA;AACEA,sBAAAA,KAAWL,GAAeC,EAAAA,GAC1BQ,GAASJ,EAAAA;oBAAAA,SACFO,IAAAA;AACHF,sBAAAA,MACFA,GAAcE,EAAAA;oBAAAA;cAAAA;AAOxB,kBAAA;AAEEX,gBAAAA,GAAIe,KAAK,CAAC,KAAK,KAAK,GAAA,EAAKC,KAAK,EAAA,GAAKjF,IAAAA,IAAM;cAAA,SAClChkB,IAAAA;AAEPioB,gBAAAA,GAAIe,KAAK,CAAC,KAAK,KAAK,GAAA,EAAKC,KAAK,EAAA,GAAKT,KAAW,MAAMxE,IAAAA,IAAM;cAAA;AAG5DiE,cAAAA,GAAIiB,KAAAA;YAAAA,EAAAA;UAAAA,EA7DkB,IAsER,oBAAhBptB,GAAE4V,KAAKhM;AACTue,wBAAY8D,YAAYQ,KAAKzsB,GAAE4V,KAAKsS,MAAMloB,GAAE4V,KAAK8W,UAAU,SAAU9W,IAAAA;AACnEuS,0BAAYT,YAAY2F,aAAazX,EAAAA,GAErCuS,YAAYF,YAAY,EACtB6B,IAAI9pB,GAAE4V,KAAKkU,IACXwD,SAAS1X,IACTqX,QAAQ,UAAA,CAAA;YAAA,GAET,WAAA;AACD9E,0BAAYF,YAAY,EACtB6B,IAAI9pB,GAAE4V,KAAKkU,IACXmD,QAAQ,QAAA,CAAA;YAAA,CAAA;mBAGa,eAAhBjtB,GAAE4V,KAAKhM,MAAqB;AACrC,gBAAI2jB,KAAYvtB,GAAE4V,KAAK2X;AAEvBpF,wBAAYT,YAAY2F,aAAaE,EAAAA,GAErCpF,YAAYF,YAAY,EACtB6B,IAAI9pB,GAAE4V,KAAKkU,IACXwD,SAASC,IACTN,QAAQ,UAAA,CAAA;UAAA;AAEe,2BAAhBjtB,GAAE4V,KAAKhM,QAChBue,YAAY8D,YAAYQ,KAAKzsB,GAAE4V,KAAKsS,MAAMloB,GAAE4V,KAAK8W,UAAU,SAAU9W,IAAAA;AACnEuS,0BAAYF,YAAY,EACtB6B,IAAI9pB,GAAE4V,KAAKkU,IACXwD,SAAS1X,IACTqX,QAAQ,UAAA,CAAA;YAAA,GAET,WAAA;AACD9E,0BAAYF,YAAY,EACtB6B,IAAI9pB,GAAE4V,KAAKkU,IACXmD,QAAQ,QAAA,CAAA;YAAA,CAAA;QAAA,CAAA,GAMhBrF,GAAeI,YAAY,SAAU/N,IAAAA;AACnC,cAAIrE,KAAOqE,GAAMrE,MACbkU,KAAKlU,GAAKkU,IACV0D,KAAU1F,GAAUgC,EAAAA;AACxBhC,UAAAA,GAAUgC,EAAAA,IAAM,MAEI,cAAhBlU,GAAKqX,SACPO,GAAQC,WAAW7X,GAAK0X,OAAAA,IACfE,GAAQE,WACjBF,GAAQE,QAAAA;QAAAA;MAAAA;AAMhB,eAASC,GAAcF,IAAYC,IAAAA;AAEjC,YAAI5D,KAAK,gBADTjC,MAAc;AAMd,eAJAC,GAAUgC,EAAAA,IAAM,EACd2D,YAAYA,IACZC,SAASA,GAAAA,GAEJ5D;MAAAA;AAmCT,aAAO,EACL8D,eAjCF,SAAuB1F,IAAMuF,IAAYC,IAAAA;AACvCtF,QAAAA,GAAAA;AACA,YAAIyF,KAAYF,GAAcF,IAAYC,EAAAA;AAC1C9F,QAAAA,GAAeK,YAAY,EACzBre,MAAM,iBACNse,MAAMA,IACNwE,UAAU/lB,OAAOmnB,SAASC,SAASpnB,OAAOmnB,SAASE,UACnDlE,IAAI+D,GAAAA,CAAAA;MAAAA,GA2BNI,UAvBF,SAAkB/F,IAAMuF,IAAYC,IAAAA;AAClCtF,QAAAA,GAAAA;AACA,YAAIyF,KAAYF,GAAcF,IAAYC,EAAAA;AAC1C9F,QAAAA,GAAeK,YAAY,EACzBre,MAAM,YACNse,MAAMA,IACNwE,UAAU/lB,OAAOmnB,SAASC,SAASpnB,OAAOmnB,SAASE,UACnDlE,IAAI+D,GAAAA,CAAAA;MAAAA,GAiBNK,mBAbF,SAA2BC,IAAMV,IAAYC,IAAAA;AAC3CtF,QAAAA,GAAAA;AACA,YAAIyF,KAAYF,GAAcF,IAAYC,EAAAA;AAC1C9F,QAAAA,GAAeK,YAAY,EACzBre,MAAM,YACN2jB,WAAWY,IACXrE,IAAI+D,GAAAA,CAAAA;MAAAA,EAAAA;IAAAA,EArvBQ,GAgwBdO,iBAAiB,WAAA;AACnB,UAAIC,KAAa,WAAA;AACf,YAAIC,KAAShP,UAAU,QAAA;AACvBgP,QAAAA,GAAOC,QAAQ,GACfD,GAAOE,SAAS;AAChB,YAAIC,KAAMH,GAAOI,WAAW,IAAA;AAG5B,eAFAD,GAAIE,YAAY,iBAChBF,GAAIG,SAAS,GAAG,GAAG,GAAG,CAAA,GACfN;MAAAA,EAPQ;AAUjB,eAASO,KAAAA;AACP/uB,aAAKgvB,gBAAgB,GAEjBhvB,KAAKgvB,iBAAiBhvB,KAAKivB,eAAejvB,KAAKkvB,wBAAwBlvB,KAAKmvB,iBAC1EnvB,KAAKovB,kBACPpvB,KAAKovB,eAAe,IAAA;MAAA;AAK1B,eAASC,KAAAA;AACPrvB,aAAKkvB,uBAAuB,GAExBlvB,KAAKgvB,iBAAiBhvB,KAAKivB,eAAejvB,KAAKkvB,wBAAwBlvB,KAAKmvB,iBAC1EnvB,KAAKovB,kBACPpvB,KAAKovB,eAAe,IAAA;MAAA;AAK1B,eAASE,GAAcC,IAAWC,IAAYC,IAAAA;AAC5C,YAAIrH,KAAO;AAEX,YAAImH,GAAUrvB;AACZkoB,UAAAA,KAAOmH,GAAU1wB;iBACR2wB,IAAY;AACrB,cAAIE,KAAYH,GAAU1wB;AAAAA,iBAEtB6wB,GAAUvvB,QAAQ,SAAA,MACpBuvB,KAAYA,GAAUna,MAAM,GAAA,EAAK,CAAA,IAGnC6S,KAAOoH,KAAaE;QAAAA;AAEpBtH,UAAAA,KAAOqH,IACPrH,MAAQmH,GAAUI,IAAIJ,GAAUI,IAAI,IACpCvH,MAAQmH,GAAU1wB;AAGpB,eAAOupB;MAAAA;AAGT,eAASwH,GAAgBC,IAAAA;AACvB,YAAI1J,KAAS,GACT2J,KAAaC,aAAY,WAAA;AAAA,WACjBF,GAAIG,QAAAA,EAENvB,SAAStI,KAAS,SACxBnmB,KAAKiwB,aAAAA,GAELC,cAAcJ,EAAAA,IAGhB3J,MAAU;QAAA,GACVgK,KAAKnwB,IAAAA,GAAO,EAAA;MAAA;AAmDhB,eAASowB,GAAkBta,IAAAA;AACzB,YAAIua,KAAK,EACPd,WAAWzZ,GAAAA,GAETsS,KAAOkH,GAAcxZ,IAAM9V,KAAKwvB,YAAYxvB,KAAKooB,IAAAA;AAUrD,eATAR,YAAYuG,SAAS/F,KAAM,SAAUkI,IAAAA;AACnCD,UAAAA,GAAGR,MAAMS,IAETtwB,KAAKuwB,eAAAA;QAAAA,GACLJ,KAAKnwB,IAAAA,IAAO,WAAA;AACZqwB,UAAAA,GAAGR,MAAM,CAAA,GAET7vB,KAAKuwB,eAAAA;QAAAA,GACLJ,KAAKnwB,IAAAA,CAAAA,GACAqwB;MAAAA;AAkET,eAASG,KAAAA;AACPxwB,aAAKiwB,eAAelB,GAAYoB,KAAKnwB,IAAAA,GACrCA,KAAKuwB,iBAAiBlB,GAAcc,KAAKnwB,IAAAA,GACzCA,KAAK4vB,kBAAkBA,GAAgBO,KAAKnwB,IAAAA,GAC5CA,KAAKowB,oBAAoBA,GAAkBD,KAAKnwB,IAAAA,GAChDA,KAAKwvB,aAAa,IAClBxvB,KAAKooB,OAAO,IACZpoB,KAAKivB,cAAc,GACnBjvB,KAAKmvB,gBAAgB,GACrBnvB,KAAKgvB,eAAe,GACpBhvB,KAAKkvB,sBAAsB,GAC3BlvB,KAAKovB,iBAAiB,MACtBpvB,KAAKywB,SAAS,CAAA;MAAA;AAiBhB,aAdAD,GAAsB1xB,YAAY,EAChC4xB,YA/EF,SAAoB3F,IAAQ4F,IAAAA;AAE1B,YAAIhxB;AADJK,aAAKovB,iBAAiBuB;AAEtB,YAAI9Q,KAAMkL,GAAOjrB;AAEjB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACnBorB,UAAAA,GAAOprB,EAAAA,EAAGopB,WACRgC,GAAOprB,EAAAA,EAAGF,KAAqB,UAAhBsrB,GAAOprB,EAAAA,EAAGF,IAGH,MAAhBsrB,GAAOprB,EAAAA,EAAGF,MACnBO,KAAKmvB,iBAAiB,GACtBnvB,KAAKywB,OAAOjtB,KAAKxD,KAAKowB,kBAAkBrF,GAAOprB,EAAAA,CAAAA,CAAAA,MAJ/CK,KAAKivB,eAAe,GACpBjvB,KAAKywB,OAAOjtB,KAAKxD,KAAK4wB,iBAAiB7F,GAAOprB,EAAAA,CAAAA,CAAAA;MAAAA,GAuEpDkxB,eA1DF,SAAuBzI,IAAAA;AACrBpoB,aAAKwvB,aAAapH,MAAQ;MAAA,GA0D1B0I,SA/DF,SAAiB1I,IAAAA;AACfpoB,aAAKooB,OAAOA,MAAQ;MAAA,GA+DpB2I,cApCF,WAAA;AACE,eAAA,KAAY9B,gBAAgBjvB,KAAKgvB;MAAAA,GAoCjCgC,gBAjCF,WAAA;AACE,eAAA,KAAY7B,kBAAkBnvB,KAAKkvB;MAAAA,GAiCnC+B,SA3CF,WAAA;AACEjxB,aAAKovB,iBAAiB,MACtBpvB,KAAKywB,OAAO3wB,SAAS;MAAA,GA0CrBoxB,UA3DF,SAAkB3B,IAAAA;AAIhB,iBAHI5vB,KAAI,GACJkgB,KAAM7f,KAAKywB,OAAO3wB,QAEfH,KAAIkgB,MAAK;AACd,cAAI7f,KAAKywB,OAAO9wB,EAAAA,EAAG4vB,cAAcA;AAC/B,mBAAA,KAAYkB,OAAO9wB,EAAAA,EAAGkwB;AAGxBlwB,UAAAA,MAAK;QAAA;AAGP,eAAA;MAAA,GAgDAwxB,eAzHF,SAAuB5B,IAAAA;AACrB,YAAInH,KAAOkH,GAAcC,IAAWvvB,KAAKwvB,YAAYxvB,KAAKooB,IAAAA,GACtDyH,KAAMrQ,UAAU,KAAA;AACpBqQ,QAAAA,GAAIuB,cAAc,aAClBvB,GAAI5V,iBAAiB,QAAQja,KAAKiwB,cAAAA,KAAc,GAChDJ,GAAI5V,iBAAiB,UAAS,WAAA;AAC5BoW,UAAAA,GAAGR,MAAMtB,IAETvuB,KAAKiwB,aAAAA;QAAAA,GACLE,KAAKnwB,IAAAA,GAAAA,KAAO,GACd6vB,GAAI5O,MAAMmH;AACV,YAAIiI,KAAK,EACPR,KAAKA,IACLN,WAAWA,GAAAA;AAEb,eAAOc;MAAAA,GA2GPgB,iBAxJF,SAAyB9B,IAAAA;AACvB,YAAInH,KAAOkH,GAAcC,IAAWvvB,KAAKwvB,YAAYxvB,KAAKooB,IAAAA,GACtDyH,KAAMpI,SAAS,OAAA;AAEf9E,mBACF3iB,KAAK4vB,gBAAgBC,EAAAA,IAErBA,GAAI5V,iBAAiB,QAAQja,KAAKiwB,cAAAA,KAAc,GAGlDJ,GAAI5V,iBAAiB,UAAS,WAAA;AAC5BoW,UAAAA,GAAGR,MAAMtB,IAETvuB,KAAKiwB,aAAAA;QAAAA,GACLE,KAAKnwB,IAAAA,GAAAA,KAAO,GACd6vB,GAAIyB,eAAe,gCAAgC,QAAQlJ,EAAAA,GAEvDpoB,KAAKuxB,eAAe3c,SACtB5U,KAAKuxB,eAAe3c,OAAOib,EAAAA,IAE3B7vB,KAAKuxB,eAAeroB,YAAY2mB,EAAAA;AAGlC,YAAIQ,KAAK,EACPR,KAAKA,IACLN,WAAWA,GAAAA;AAEb,eAAOc;MAAAA,GA8HPtB,aAAaA,IACbM,eAAeA,IACfmC,cApCF,SAAsB1nB,IAAM2nB,IAAAA;AACb,kBAAT3nB,MACF9J,KAAKuxB,iBAAiBE,IACtBzxB,KAAK4wB,mBAAmB5wB,KAAKqxB,gBAAgBlB,KAAKnwB,IAAAA,KAElDA,KAAK4wB,mBAAmB5wB,KAAKmxB,cAAchB,KAAKnwB,IAAAA;MAAAA,EAAAA,GAiC7CwwB;IAAAA,EAjOY;AAoOrB,aAASkB,YAAAA;IAAAA;AAETA,cAAU5yB,YAAY,EACpB6yB,cAAc,SAAsBC,IAAWC,IAAAA;AAC7C,UAAI7xB,KAAK8xB,KAAKF,EAAAA;AAGZ,iBAFIG,KAAY/xB,KAAK8xB,KAAKF,EAAAA,GAEjBjyB,KAAI,GAAGA,KAAIoyB,GAAUjyB,QAAQH,MAAK;AACzCoyB,UAAAA,GAAUpyB,EAAAA,EAAGkyB,EAAAA;IAAAA,GAInB5X,kBAAkB,SAA0B2X,IAAW/E,IAAAA;AAOrD,aANK7sB,KAAK8xB,KAAKF,EAAAA,MACb5xB,KAAK8xB,KAAKF,EAAAA,IAAa,CAAA,IAGzB5xB,KAAK8xB,KAAKF,EAAAA,EAAWpuB,KAAKqpB,EAAAA,IAAAA,WAAAA;AAGxB7sB,aAAKga,oBAAoB4X,IAAW/E,EAAAA;MAAAA,GACpCsD,KAAKnwB,IAAAA;IAAAA,GAETga,qBAAqB,SAA6B4X,IAAW/E,IAAAA;AAC3D,UAAKA,IAAAA;AAAAA,YAEM7sB,KAAK8xB,KAAKF,EAAAA,GAAY;AAI/B,mBAHIjyB,KAAI,GACJkgB,KAAM7f,KAAK8xB,KAAKF,EAAAA,EAAW9xB,QAExBH,KAAIkgB;AACL7f,iBAAK8xB,KAAKF,EAAAA,EAAWjyB,EAAAA,MAAOktB,OAC9B7sB,KAAK8xB,KAAKF,EAAAA,EAAW/jB,OAAOlO,IAAG,CAAA,GAE/BA,MAAK,GACLkgB,MAAO,IAGTlgB,MAAK;AAGFK,eAAK8xB,KAAKF,EAAAA,EAAW9xB,WACxBE,KAAK8xB,KAAKF,EAAAA,IAAa;QAAA;MAAA;AAjBzB5xB,aAAK8xB,KAAKF,EAAAA,IAAa;IAAA,EAAA;AAuB7B,QAAII,eAAe,WAAA;AACjB,eAASC,GAAkBzE,IAAAA;AAMzB,iBAHI0E,IAFAC,KAAQ3E,GAAQjY,MAAM,MAAA,GACtB6c,KAAO,CAAA,GAEPC,KAAY,GAEP1yB,KAAI,GAAGA,KAAIwyB,GAAMryB,QAAQH,MAAK;AAGjB,iBAFpBuyB,KAAOC,GAAMxyB,EAAAA,EAAG4V,MAAM,GAAA,GAEbzV,WACPsyB,GAAKF,GAAK,CAAA,CAAA,IAAMA,GAAK,CAAA,EAAGI,KAAAA,GACxBD,MAAa;AAIjB,YAAkB,MAAdA;AACF,gBAAA,IAAU3qB;AAGZ,eAAO0qB;MAAAA;AAGT,aAAA,SAAiBG,IAAAA;AAGf,iBAFIC,KAAU,CAAA,GAEL7yB,KAAI,GAAGA,KAAI4yB,GAASzyB,QAAQH,MAAK,GAAG;AAC3C,cAAI4a,KAAUgY,GAAS5yB,EAAAA,GACnB8yB,KAAa,EACfC,MAAMnY,GAAQoY,IACdC,UAAUrY,GAAQsY,GAAAA;AAGpB,cAAA;AACEJ,YAAAA,GAAWjF,UAAUxjB,KAAKK,MAAMkoB,GAAS5yB,EAAAA,EAAGmzB,EAAAA;UAAAA,SACrCjwB,IAAAA;AACP,gBAAA;AACE4vB,cAAAA,GAAWjF,UAAUyE,GAAkBM,GAAS5yB,EAAAA,EAAGmzB,EAAAA;YAAAA,SAC5C1zB,IAAAA;AACPqzB,cAAAA,GAAWjF,UAAU,EACnB/hB,MAAM8mB,GAAS5yB,EAAAA,EAAGmzB,GAAAA;YAAAA;UAAAA;AAKxBN,UAAAA,GAAQhvB,KAAKivB,EAAAA;QAAAA;AAGf,eAAOD;MAAAA;IAAAA,EAhDQ,GAoDfO,mBAAmB,WAAA;AACrB,eAASC,GAAoB/I,IAAAA;AAC3BjqB,aAAKizB,aAAazvB,KAAKymB,EAAAA;MAAAA;AAGzB,aAAA,WAAA;AACE,iBAASiJ,GAAqBznB,IAAAA;AAI5B,mBAHI9L,KAAI,GACJkgB,KAAM7f,KAAKizB,aAAanzB,QAErBH,KAAIkgB,MAAK;AACd,gBAAI7f,KAAKizB,aAAatzB,EAAAA,EAAGmW,QAAQ9V,KAAKizB,aAAatzB,EAAAA,EAAGmW,KAAKqd,OAAO1nB;AAKhE,qBAJIzL,KAAKizB,aAAatzB,EAAAA,EAAGyzB,gBAAgBpzB,KAAKizB,aAAatzB,EAAAA,EAAGmW,KAAKud,MACjErzB,KAAKizB,aAAatzB,EAAAA,EAAGyzB,aAAapzB,KAAKszB,YAAAA,GAAAA,KAG7BL,aAAatzB,EAAAA,EAAG4zB;AAG9B5zB,YAAAA,MAAK;UAAA;AAGP,iBAAA;QAAA;AAMF,eAHAuzB,GAAqBD,eAAe,CAAA,GACpCC,GAAqBI,eAAe,GACpCJ,GAAqBF,sBAAsBA,IACpCE;MAAAA;IAAAA,EA5BY,GAgCnBM,YAAY,CAAA,GAEZC,mBAAmB,SAA0BhzB,IAAKwB,IAAAA;AACpDuxB,gBAAU/yB,EAAAA,IAAOwB;IAAAA;AAGnB,aAASyxB,YAAYjzB,IAAAA;AACnB,aAAO+yB,UAAU/yB,EAAAA;IAAAA;AAGnB,aAASkzB,UAAUrR,IAAAA;AAAuV,aAA1OqR,YAArD,cAAA,OAAXxwB,UAAoD,YAAA,OAApBA,OAAOC,WAAqC,SAAiBkf,IAAAA;AAAO,eAAA,OAAcA;MAAAA,IAA6B,SAAiBA,IAAAA;AAAO,eAAOA,MAAyB,cAAA,OAAXnf,UAAyBmf,GAAIjjB,gBAAgB8D,UAAUmf,OAAQnf,OAAOrE,YAAY,WAAA,OAAkBwjB;MAAAA,GAAiBqR,UAAUrR,EAAAA;IAAAA;AAE3X,QAAIsR,gBAAgB,WAAA;AAClB5zB,WAAK8xB,OAAO,CAAA,GACZ9xB,KAAKyL,OAAO,IACZzL,KAAKooB,OAAO,IACZpoB,KAAK6zB,WAAAA,OACL7zB,KAAKszB,eAAe,GACpBtzB,KAAK8zB,kBAAkB,GACvB9zB,KAAK2lB,aAAa,GAClB3lB,KAAK4lB,cAAc,GACnB5lB,KAAK+zB,YAAY,GACjB/zB,KAAKg0B,YAAY,GACjBh0B,KAAKi0B,YAAY,GACjBj0B,KAAKk0B,gBAAgB,GACrBl0B,KAAKm0B,YAAY,GACjBn0B,KAAK8qB,gBAAgB,CAAA,GACrB9qB,KAAK+qB,SAAS,CAAA,GACd/qB,KAAKo0B,WAAAA,MACLp0B,KAAKq0B,WAAAA,OACLr0B,KAAKs0B,OAAAA,MACLt0B,KAAKu0B,WAAW,MAChBv0B,KAAKw0B,cAActO,gBAAAA,GACnBlmB,KAAKwvB,aAAa,IAClBxvB,KAAKy0B,gBAAgB,GACrBz0B,KAAK00B,aAAa,GAClB10B,KAAK20B,oBAAoB3N,mBAAAA,GACzBhnB,KAAK40B,WAAW,CAAA,GAChB50B,KAAK60B,QAAAA,MACL70B,KAAK80B,iBAAAA,OACL90B,KAAK+0B,mBAAmBhC,iBAAAA,GACxB/yB,KAAKg1B,iBAAiB,IAAI1G,kBAC1BtuB,KAAKi1B,kBAAkB9U,uBAAAA,GACvBngB,KAAKwyB,UAAU,CAAA,GACfxyB,KAAKk1B,kBAAkBl1B,KAAKk1B,gBAAgB/E,KAAKnwB,IAAAA,GACjDA,KAAKm1B,eAAen1B,KAAKm1B,aAAahF,KAAKnwB,IAAAA,GAC3CA,KAAKo1B,oBAAoBp1B,KAAKo1B,kBAAkBjF,KAAKnwB,IAAAA,GACrDA,KAAKq1B,kBAAkB,IAAIpQ,kBAAkB,cAAc,GAAG,GAAG,CAAA;IAAA;AAGnExF,oBAAgB,CAACiS,SAAAA,GAAYkC,aAAAA,GAE7BA,cAAc90B,UAAUw2B,YAAY,SAAUC,IAAAA;AAAAA,OACxCA,GAAOC,WAAWD,GAAOhjB,eAC3BvS,KAAKw1B,UAAUD,GAAOC,WAAWD,GAAOhjB;AAG1C,UAAIkjB,KAAW;AAEXF,MAAAA,GAAOE,WACTA,KAAWF,GAAOE,WACTF,GAAOhB,aAChBkB,KAAWF,GAAOhB;AAGpB,UAAImB,KAAgBhC,YAAY+B,EAAAA;AAChCz1B,WAAKu0B,WAAW,IAAImB,GAAc11B,MAAMu1B,GAAOI,gBAAAA,GAC/C31B,KAAKg1B,eAAexD,aAAaiE,IAAUz1B,KAAKu0B,SAASqB,WAAWC,IAAAA,GACpE71B,KAAKu0B,SAASuB,oBAAoB91B,KAAK+0B,gBAAAA,GACvC/0B,KAAKy1B,WAAWA,IAEI,OAAhBF,GAAOjB,QAA+B,SAAhBiB,GAAOjB,QAAAA,WAAiBiB,GAAOjB,QAAAA,SAAsBiB,GAAOjB,OACpFt0B,KAAKs0B,OAAAA,OAAO,UACHiB,GAAOjB,OAChBt0B,KAAKs0B,OAAAA,QAELt0B,KAAKs0B,OAAOyB,SAASR,GAAOjB,MAAM,EAAA,GAGpCt0B,KAAKq0B,WAAAA,EAAW,cAAckB,OAASA,GAAOlB,UAC9Cr0B,KAAKyL,OAAO8pB,GAAO9pB,OAAO8pB,GAAO9pB,OAAO,IACxCzL,KAAKg2B,mBAAAA,CAAmBv3B,OAAOK,UAAUC,eAAeC,KAAKu2B,IAAQ,kBAAA,KAAsBA,GAAOS,kBAClGh2B,KAAKwvB,aAAa+F,GAAO/F,YACzBxvB,KAAKi2B,iBAAiBV,GAAOU,gBAEzBV,GAAOlV,gBACTrgB,KAAKi1B,gBAAgBzT,gBAAgB+T,GAAOlV,YAAAA,GAG1CkV,GAAOzK,gBACT9qB,KAAKk2B,eAAeX,GAAOzK,aAAAA,IAClByK,GAAOnN,SAAAA,OACZmN,GAAOnN,KAAK+N,YAAY,IAAA,IAC1Bn2B,KAAKooB,OAAOmN,GAAOnN,KAAKgO,OAAO,GAAGb,GAAOnN,KAAK+N,YAAY,IAAA,IAAQ,CAAA,IAElEn2B,KAAKooB,OAAOmN,GAAOnN,KAAKgO,OAAO,GAAGb,GAAOnN,KAAK+N,YAAY,GAAA,IAAO,CAAA,GAGnEn2B,KAAKq2B,WAAWd,GAAOnN,KAAKgO,OAAOb,GAAOnN,KAAK+N,YAAY,GAAA,IAAO,CAAA,GAClEn2B,KAAKq2B,WAAWr2B,KAAKq2B,SAASD,OAAO,GAAGp2B,KAAKq2B,SAASF,YAAY,OAAA,CAAA,GAClEvO,YAAYkG,cAAcyH,GAAOnN,MAAMpoB,KAAKk1B,iBAAiBl1B,KAAKm1B,YAAAA;IAAAA,GAItEvB,cAAc90B,UAAUq2B,eAAe,WAAA;AACrCn1B,WAAKs2B,QAAQ,aAAA;IAAA,GAGf1C,cAAc90B,UAAUo3B,iBAAiB,SAAUpgB,IAAAA;AACjD8R,kBAAYwG,kBAAkBtY,IAAM9V,KAAKk1B,eAAAA;IAAAA,GAG3CtB,cAAc90B,UAAUy3B,UAAU,SAAUf,IAAS1K,IAAAA;AAC/CA,MAAAA,MAC+B,aAA7B6I,UAAU7I,EAAAA,MACZA,KAAgB9gB,KAAKK,MAAMygB,EAAAA;AAI/B,UAAIyK,KAAS,EACXC,SAASA,IACT1K,eAAeA,GAAAA,GAEb0L,KAAoBhB,GAAQpqB;AAChCmqB,MAAAA,GAAOnN,OAAOoO,GAAkBC,aAAa,qBAAA,IAC3CD,GAAkBC,aAAa,qBAAA,EAAuBx0B,QAAQu0B,GAAkBC,aAAa,cAAA,IAC7FD,GAAkBC,aAAa,cAAA,EAAgBx0B,QAAQu0B,GAAkBC,aAAa,SAAA,IAAaD,GAAkBC,aAAa,SAAA,EAAWx0B,QAAQ,IACvJszB,GAAOE,WAAWe,GAAkBC,aAAa,gBAAA,IAC/CD,GAAkBC,aAAa,gBAAA,EAAkBx0B,QAAQu0B,GAAkBC,aAAa,cAAA,IACxFD,GAAkBC,aAAa,cAAA,EAAgBx0B,QAAQu0B,GAAkBC,aAAa,SAAA,IACtFD,GAAkBC,aAAa,SAAA,EAAWx0B,QAAQu0B,GAAkBC,aAAa,kBAAA,IACjFD,GAAkBC,aAAa,kBAAA,EAAoBx0B,QAAQu0B,GAAkBC,aAAa,aAAA,IAAiBD,GAAkBC,aAAa,aAAA,EAAex0B,QAAQ;AACnK,UAAIqyB,KAAOkC,GAAkBC,aAAa,gBAAA,IACxCD,GAAkBC,aAAa,gBAAA,EAAkBx0B,QAAQu0B,GAAkBC,aAAa,cAAA,IACxFD,GAAkBC,aAAa,cAAA,EAAgBx0B,QAAQu0B,GAAkBC,aAAa,SAAA,IAAaD,GAAkBC,aAAa,SAAA,EAAWx0B,QAAQ;AAE1I,kBAATqyB,KACFiB,GAAOjB,OAAAA,QACW,WAATA,KACTiB,GAAOjB,OAAAA,OACW,OAATA,OACTiB,GAAOjB,OAAOyB,SAASzB,IAAM,EAAA;AAG/B,UAAID,KAAWmC,GAAkBC,aAAa,oBAAA,IAC5CD,GAAkBC,aAAa,oBAAA,EAAsBx0B,QAAQu0B,GAAkBC,aAAa,kBAAA,IAC5FD,GAAkBC,aAAa,kBAAA,EAAoBx0B,QAAAA,CAAQu0B,GAAkBC,aAAa,aAAA,KAAiBD,GAAkBC,aAAa,aAAA,EAAex0B;AAC3JszB,MAAAA,GAAOlB,WAAwB,YAAbA,IAClBkB,GAAO9pB,OAAO+qB,GAAkBC,aAAa,WAAA,IAC3CD,GAAkBC,aAAa,WAAA,EAAax0B,QAAQu0B,GAAkBC,aAAa,cAAA,IACnFD,GAAkBC,aAAa,cAAA,EAAgBx0B,QAAQu0B,GAAkBC,aAAa,SAAA,IAAaD,GAAkBC,aAAa,SAAA,EAAWx0B,QAAQ,IAKrI,aAJFu0B,GAAkBC,aAAa,qBAAA,IAC7CD,GAAkBC,aAAa,qBAAA,EAAuBx0B,QAAQu0B,GAAkBC,aAAa,mBAAA,IAC7FD,GAAkBC,aAAa,mBAAA,EAAqBx0B,QAAQu0B,GAAkBC,aAAa,cAAA,IAAkBD,GAAkBC,aAAa,cAAA,EAAgBx0B,QAAQ,QAGpKszB,GAAOmB,YAAAA,QAGT12B,KAAKs1B,UAAUC,EAAAA;IAAAA,GAGjB3B,cAAc90B,UAAU63B,gBAAgB,SAAU7gB,IAAAA;AAC5CA,MAAAA,GAAKxS,KAAKtD,KAAK8qB,cAAcxnB,OAC/BtD,KAAK8qB,cAAcxnB,KAAKwS,GAAKxS,IAC7BtD,KAAK4lB,cAAc9U,KAAKqS,MAAMrN,GAAKxS,KAAKtD,KAAK8qB,cAAcK,EAAAA;AAG7D,UACIxrB,IAGA+E,IAJAqkB,KAAS/oB,KAAK8qB,cAAc/B,QAE5BlJ,KAAMkJ,GAAOjpB,QACb82B,KAAY9gB,GAAKiT,QAEjBG,KAAO0N,GAAU92B;AAErB,WAAK4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AAGzB,aAFA/E,KAAI,GAEGA,KAAIkgB,MAAK;AACd,cAAIkJ,GAAOppB,EAAAA,EAAGqqB,OAAO4M,GAAUlyB,EAAAA,EAAGslB,IAAI;AACpCjB,YAAAA,GAAOppB,EAAAA,IAAKi3B,GAAUlyB,EAAAA;AACtB;UAAA;AAGF/E,UAAAA,MAAK;QAAA;AAST,WALImW,GAAKmV,SAASnV,GAAK+gB,WACrB72B,KAAKu0B,SAASqB,WAAWkB,YAAYC,SAASjhB,GAAKmV,KAAAA,GACnDjrB,KAAKu0B,SAASqB,WAAWkB,YAAYE,SAASlhB,GAAK+gB,OAAO72B,KAAKu0B,SAASqB,WAAWC,IAAAA,IAGjF/f,GAAKiV;AAGP,aAFAlL,KAAM/J,GAAKiV,OAAOjrB,QAEbH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAK8qB,cAAcC,OAAOvnB,KAAKsS,GAAKiV,OAAOprB,EAAAA,CAAAA;AAI/CK,WAAK8qB,cAAcmB,aAAAA,OACnBrE,YAAYwG,kBAAkBpuB,KAAK8qB,eAAe9qB,KAAKo1B,iBAAAA;IAAAA,GAGzDxB,cAAc90B,UAAUs2B,oBAAoB,SAAUtf,IAAAA;AACpD9V,WAAK8qB,gBAAgBhV;AACrB,UAAI0M,KAAoB0E,qBAAAA;AAEpB1E,MAAAA,MACFA,GAAkByU,gBAAgBj3B,IAAAA,GAGpCA,KAAKk3B,gBAAAA;IAAAA,GAGPtD,cAAc90B,UAAUo4B,kBAAkB,WAAA;AACxC,UAAItC,KAAW50B,KAAK8qB,cAAc8J;AAElC,UAAA,CAAKA,MAAgC,MAApBA,GAAS90B,UAAAA,CAAiBE,KAAKg2B;AAG9C,eAFAh2B,KAAKs2B,QAAQ,YAAA,GAAA,MACbt2B,KAAKy0B,gBAAgBz0B,KAAK4lB;AAI5B,UAAIuR,KAAUvC,GAASnvB,MAAAA;AACvBzF,WAAKy0B,gBAAgB0C,GAAQzE,OAAO1yB,KAAK+zB;AACzC,UAAIqD,KAAcp3B,KAAKooB,OAAOpoB,KAAKq2B,WAAW,MAAMr2B,KAAK00B,aAAa;AACtE10B,WAAK00B,cAAc,GACnB9M,YAAYuG,SAASiJ,IAAap3B,KAAK22B,cAAcxG,KAAKnwB,IAAAA,IAAO,WAAA;AAC/DA,aAAKs2B,QAAQ,aAAA;MAAA,GACbnG,KAAKnwB,IAAAA,CAAAA;IAAAA,GAGT4zB,cAAc90B,UAAUu4B,eAAe,WAAA;AACtBr3B,WAAK8qB,cAAc8J,aAGhC50B,KAAKy0B,gBAAgBz0B,KAAK4lB,cAG5B5lB,KAAKk3B,gBAAAA;IAAAA,GAGPtD,cAAc90B,UAAUw4B,eAAe,WAAA;AACrCt3B,WAAKs2B,QAAQ,eAAA,GACbt2B,KAAKu3B,YAAAA;IAAAA,GAGP3D,cAAc90B,UAAU04B,gBAAgB,WAAA;AACtCx3B,WAAKg1B,eAAenE,cAAc7wB,KAAKwvB,UAAAA,GACvCxvB,KAAKg1B,eAAelE,QAAQ9wB,KAAKooB,IAAAA,GACjCpoB,KAAKg1B,eAAetE,WAAW1wB,KAAK8qB,cAAcC,QAAQ/qB,KAAKs3B,aAAanH,KAAKnwB,IAAAA,CAAAA;IAAAA,GAGnF4zB,cAAc90B,UAAUo2B,kBAAkB,SAAUuC,IAAAA;AAClD,UAAKz3B,KAAKu0B;AAIV,YAAA;AACEv0B,eAAK8qB,gBAAgB2M,IAEjBz3B,KAAKi2B,kBACPj2B,KAAK4lB,cAAc9U,KAAKqS,MAAMnjB,KAAKi2B,eAAe,CAAA,IAAKj2B,KAAKi2B,eAAe,CAAA,CAAA,GAC3Ej2B,KAAK2lB,aAAa7U,KAAKsT,MAAMpkB,KAAKi2B,eAAe,CAAA,CAAA,MAEjDj2B,KAAK4lB,cAAc9U,KAAKqS,MAAMnjB,KAAK8qB,cAAcxnB,KAAKtD,KAAK8qB,cAAcK,EAAAA,GACzEnrB,KAAK2lB,aAAa7U,KAAKsT,MAAMpkB,KAAK8qB,cAAcK,EAAAA,IAGlDnrB,KAAKu0B,SAASW,gBAAgBuC,EAAAA,GAEzBA,GAAS1M,WACZ0M,GAAS1M,SAAS,CAAA,IAGpB/qB,KAAK+qB,SAAS/qB,KAAK8qB,cAAcC,QACjC/qB,KAAK+zB,YAAY/zB,KAAK8qB,cAAc4M,IACpC13B,KAAKg0B,YAAYh0B,KAAK8qB,cAAc4M,KAAK,KACzC13B,KAAKu0B,SAASoD,wBAAwBF,GAAS1M,MAAAA,GAC/C/qB,KAAKwyB,UAAUR,aAAayF,GAASjF,WAAW,CAAA,CAAA,GAChDxyB,KAAKs2B,QAAQ,cAAA,GACbt2B,KAAKw3B,cAAAA,GACLx3B,KAAKq3B,aAAAA,GACLr3B,KAAK43B,kBAAAA,GACL53B,KAAK63B,mBAAAA,GAED73B,KAAKo0B,YACPp0B,KAAKi1B,gBAAgBtU,MAAAA;QAAAA,SAEhBvc,IAAAA;AACPpE,eAAK83B,mBAAmB1zB,EAAAA;QAAAA;IAAAA,GAI5BwvB,cAAc90B,UAAU+4B,qBAAqB,WAAA;AACtC73B,WAAKu0B,aAINv0B,KAAKu0B,SAASqB,WAAWkB,YAAYjD,WACvC7zB,KAAKu3B,YAAAA,IAELQ,WAAW/3B,KAAK63B,mBAAmB1H,KAAKnwB,IAAAA,GAAO,EAAA;IAAA,GAInD4zB,cAAc90B,UAAUy4B,cAAc,WAAA;AACpC,UAAA,CAAKv3B,KAAK6zB,YAAY7zB,KAAKu0B,SAASqB,WAAWkB,YAAYjD,aAAa7zB,KAAKg1B,eAAejE,aAAAA,KAAiD,aAA/B/wB,KAAKu0B,SAASyD,iBAA8Bh4B,KAAKg1B,eAAehE,eAAAA,GAAkB;AAC9LhxB,aAAK6zB,WAAAA;AACL,YAAIrR,KAAoB0E,qBAAAA;AAEpB1E,QAAAA,MACFA,GAAkByU,gBAAgBj3B,IAAAA,GAGpCA,KAAKu0B,SAAS0D,UAAAA,GACdF,YAAW,WAAA;AACT/3B,eAAKs2B,QAAQ,WAAA;QAAA,GACbnG,KAAKnwB,IAAAA,GAAO,CAAA,GACdA,KAAKk4B,UAAAA,GAEDl4B,KAAKq0B,YACPr0B,KAAKmhB,KAAAA;MAAAA;IAAAA,GAKXyS,cAAc90B,UAAUq5B,SAAS,SAAU1J,IAAOC,IAAAA;AAEhD,UAAI0J,KAA0B,YAAA,OAAV3J,KAAqBA,KAAAA,QAErC4J,KAA4B,YAAA,OAAX3J,KAAsBA,KAAAA;AAE3C1uB,WAAKu0B,SAAS+D,oBAAoBF,IAAQC,EAAAA;IAAAA,GAG5CzE,cAAc90B,UAAUy5B,cAAc,SAAUnZ,IAAAA;AAC9Cpf,WAAK20B,oBAAAA,CAAAA,CAAsBvV;IAAAA,GAG7BwU,cAAc90B,UAAUo5B,YAAY,WAAA;AAClCl4B,WAAKszB,eAAetzB,KAAK20B,oBAAoB30B,KAAK8zB,kBAAAA,CAAAA,CAAoB9zB,KAAK8zB,iBAEvE9zB,KAAKy0B,kBAAkBz0B,KAAK4lB,eAAe5lB,KAAKszB,eAAetzB,KAAKy0B,kBACtEz0B,KAAKszB,eAAetzB,KAAKy0B,gBAG3Bz0B,KAAKs2B,QAAQ,YAAA,GACbt2B,KAAKw4B,YAAAA,GACLx4B,KAAKs2B,QAAQ,YAAA;IAAA,GAGf1C,cAAc90B,UAAU05B,cAAc,WAAA;AACpC,UAAA,UAAIx4B,KAAK6zB,YAAuB7zB,KAAKu0B;AAIrC,YAAA;AACEv0B,eAAKu0B,SAASiE,YAAYx4B,KAAKszB,eAAetzB,KAAK2lB,UAAAA;QAAAA,SAC5CvhB,IAAAA;AACPpE,eAAKy4B,wBAAwBr0B,EAAAA;QAAAA;IAAAA,GAIjCwvB,cAAc90B,UAAUqiB,OAAO,SAAU1V,IAAAA;AACnCA,MAAAA,MAAQzL,KAAKyL,SAASA,MAAAA,SAItBzL,KAAKo0B,aACPp0B,KAAKo0B,WAAAA,OACLp0B,KAAKs2B,QAAQ,QAAA,GACbt2B,KAAKi1B,gBAAgB3vB,OAAAA,GAEjBtF,KAAK60B,UACP70B,KAAK60B,QAAAA,OACL70B,KAAKs2B,QAAQ,SAAA;IAAA,GAKnB1C,cAAc90B,UAAU6hB,QAAQ,SAAUlV,IAAAA;AACpCA,MAAAA,MAAQzL,KAAKyL,SAASA,MAAAA,UAItBzL,KAAKo0B,aACPp0B,KAAKo0B,WAAAA,MACLp0B,KAAKs2B,QAAQ,OAAA,GACbt2B,KAAK60B,QAAAA,MACL70B,KAAKs2B,QAAQ,OAAA,GACbt2B,KAAKi1B,gBAAgBtU,MAAAA;IAAAA,GAIzBiT,cAAc90B,UAAU45B,cAAc,SAAUjtB,IAAAA;AAC1CA,MAAAA,MAAQzL,KAAKyL,SAASA,OAAAA,SAItBzL,KAAKo0B,WACPp0B,KAAKmhB,KAAAA,IAELnhB,KAAK2gB,MAAAA;IAAAA,GAITiT,cAAc90B,UAAU65B,OAAO,SAAUltB,IAAAA;AACnCA,MAAAA,MAAQzL,KAAKyL,SAASA,OAI1BzL,KAAK2gB,MAAAA,GACL3gB,KAAKm0B,YAAY,GACjBn0B,KAAK80B,iBAAAA,OACL90B,KAAK44B,wBAAwB,CAAA;IAAA,GAG/BhF,cAAc90B,UAAU+5B,gBAAgB,SAAUC,IAAAA;AAGhD,eAFIjoB,IAEKlR,KAAI,GAAGA,KAAIK,KAAKwyB,QAAQ1yB,QAAQH,MAAK;AAG5C,aAFAkR,KAAS7Q,KAAKwyB,QAAQ7yB,EAAAA,GAEX6tB,WAAW3c,GAAO2c,QAAQ/hB,SAASqtB;AAC5C,iBAAOjoB;AAIX,aAAA;IAAA,GAGF+iB,cAAc90B,UAAUi6B,cAAc,SAAU92B,IAAO+2B,IAASvtB,IAAAA;AAC9D,UAAA,CAAIA,MAAQzL,KAAKyL,SAASA,IAA1B;AAIA,YAAIwtB,KAAW7uB,OAAOnI,EAAAA;AAEtB,YAAIi3B,MAAMD,EAAAA,GAAW;AACnB,cAAIpoB,KAAS7Q,KAAK64B,cAAc52B,EAAAA;AAE5B4O,UAAAA,MACF7Q,KAAK+4B,YAAYloB,GAAO6hB,MAAAA,IAAM;QAAA;AAEvBsG,UAAAA,KACTh5B,KAAK44B,wBAAwB32B,EAAAA,IAE7BjC,KAAK44B,wBAAwB32B,KAAQjC,KAAKm5B,aAAAA;AAG5Cn5B,aAAK2gB,MAAAA;MAAAA;IAAAA,GAGPiT,cAAc90B,UAAUs6B,cAAc,SAAUn3B,IAAO+2B,IAASvtB,IAAAA;AAC9D,UAAA,CAAIA,MAAQzL,KAAKyL,SAASA,IAA1B;AAIA,YAAIwtB,KAAW7uB,OAAOnI,EAAAA;AAEtB,YAAIi3B,MAAMD,EAAAA,GAAW;AACnB,cAAIpoB,KAAS7Q,KAAK64B,cAAc52B,EAAAA;AAE5B4O,UAAAA,OACGA,GAAO+hB,WAGV5yB,KAAKq5B,aAAa,CAACxoB,GAAO6hB,MAAM7hB,GAAO6hB,OAAO7hB,GAAO+hB,QAAAA,GAAAA,IAAW,IAFhE5yB,KAAK+4B,YAAYloB,GAAO6hB,MAAAA,IAAM;QAAA;AAMlC1yB,eAAK+4B,YAAYE,IAAUD,IAASvtB,EAAAA;AAGtCzL,aAAKmhB,KAAAA;MAAAA;IAAAA,GAGPyS,cAAc90B,UAAUw6B,cAAc,SAAUr3B,IAAAA;AAC9C,UAAA,SAAIjC,KAAKo0B,YAAAA,UAAqBp0B,KAAK6zB,UAAnC;AAIA,YAAI0F,KAAYv5B,KAAK8zB,kBAAkB7xB,KAAQjC,KAAKm5B,eAChDK,KAAAA;AAGAD,QAAAA,MAAav5B,KAAK4lB,cAAc,KAAK5lB,KAAKm5B,gBAAgB,IACvDn5B,KAAKs0B,QAAQt0B,KAAKm0B,cAAcn0B,KAAKs0B,OAK/BiF,MAAav5B,KAAK4lB,eAC3B5lB,KAAKm0B,aAAa,GAEbn0B,KAAKy5B,cAAcF,KAAYv5B,KAAK4lB,WAAAA,MACvC5lB,KAAK44B,wBAAwBW,KAAYv5B,KAAK4lB,WAAAA,GAC9C5lB,KAAK80B,iBAAAA,MACL90B,KAAKs2B,QAAQ,cAAA,MAGft2B,KAAK44B,wBAAwBW,EAAAA,IAbxBv5B,KAAKy5B,cAAcF,KAAYv5B,KAAK4lB,cAAc2T,KAAYv5B,KAAK4lB,cAAc,CAAA,MACpF4T,KAAAA,MACAD,KAAYv5B,KAAK4lB,cAAc,KAa1B2T,KAAY,IAChBv5B,KAAKy5B,cAAcF,KAAYv5B,KAAK4lB,WAAAA,MAAAA,CACnC5lB,KAAKs0B,QAAUt0B,KAAKm0B,eAAe,KAAA,SAAKn0B,KAAKs0B,QAU/CkF,KAAAA,MACAD,KAAY,MATZv5B,KAAK44B,wBAAwB54B,KAAK4lB,cAAc2T,KAAYv5B,KAAK4lB,WAAAA,GAE5D5lB,KAAK80B,iBAGR90B,KAAKs2B,QAAQ,cAAA,IAFbt2B,KAAK80B,iBAAAA,SAUX90B,KAAK44B,wBAAwBW,EAAAA,GAG3BC,OACFx5B,KAAK44B,wBAAwBW,EAAAA,GAC7Bv5B,KAAK2gB,MAAAA,GACL3gB,KAAKs2B,QAAQ,UAAA;MAAA;IAAA,GAIjB1C,cAAc90B,UAAU46B,gBAAgB,SAAU1X,IAAKwE,IAAAA;AACrDxmB,WAAKm0B,YAAY,GAEbnS,GAAI,CAAA,IAAKA,GAAI,CAAA,KACXhiB,KAAKm5B,gBAAgB,MACnBn5B,KAAKi0B,YAAY,IACnBj0B,KAAK25B,SAAAA,CAAU35B,KAAKi0B,SAAAA,IAEpBj0B,KAAK45B,aAAAA,EAAc,IAIvB55B,KAAK4lB,cAAc5D,GAAI,CAAA,IAAKA,GAAI,CAAA,GAChChiB,KAAKy0B,gBAAgBz0B,KAAK4lB,aAC1B5lB,KAAK2lB,aAAa3D,GAAI,CAAA,GACtBhiB,KAAK44B,wBAAwB54B,KAAK4lB,cAAc,OAAQY,EAAAA,KAC/CxE,GAAI,CAAA,IAAKA,GAAI,CAAA,MAClBhiB,KAAKm5B,gBAAgB,MACnBn5B,KAAKi0B,YAAY,IACnBj0B,KAAK25B,SAAAA,CAAU35B,KAAKi0B,SAAAA,IAEpBj0B,KAAK45B,aAAa,CAAA,IAItB55B,KAAK4lB,cAAc5D,GAAI,CAAA,IAAKA,GAAI,CAAA,GAChChiB,KAAKy0B,gBAAgBz0B,KAAK4lB,aAC1B5lB,KAAK2lB,aAAa3D,GAAI,CAAA,GACtBhiB,KAAK44B,wBAAwB,OAAQpS,EAAAA,IAGvCxmB,KAAKs2B,QAAQ,cAAA;IAAA,GAGf1C,cAAc90B,UAAU+6B,aAAa,SAAUC,IAAMjmB,IAAAA;AACnD,UAAIkmB,KAAAA;AAEA/5B,WAAKo0B,aACHp0B,KAAK8zB,kBAAkB9zB,KAAK2lB,aAAamU,KAC3CC,KAAeD,KACN95B,KAAK8zB,kBAAkB9zB,KAAK2lB,aAAa9R,OAClDkmB,KAAelmB,KAAMimB,MAIzB95B,KAAK2lB,aAAamU,IAClB95B,KAAK4lB,cAAc/R,KAAMimB,IACzB95B,KAAKy0B,gBAAgBz0B,KAAK4lB,aAAAA,OAEtBmU,MACF/5B,KAAK+4B,YAAYgB,IAAAA,IAAc;IAAA,GAInCnG,cAAc90B,UAAUu6B,eAAe,SAAUrX,IAAKgY,IAAAA;AAKpD,UAJIA,OACFh6B,KAAK40B,SAAS90B,SAAS,IAGC,aAAtB6zB,UAAU3R,GAAI,CAAA,CAAA,GAAkB;AAClC,YAAIriB,IACAkgB,KAAMmC,GAAIliB;AAEd,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAK40B,SAASpxB,KAAKwe,GAAIriB,EAAAA,CAAAA;MAAAA;AAGzBK,aAAK40B,SAASpxB,KAAKwe,EAAAA;AAGjBhiB,WAAK40B,SAAS90B,UAAUk6B,MAC1Bh6B,KAAK05B,cAAc15B,KAAK40B,SAASnvB,MAAAA,GAAS,CAAA,GAGxCzF,KAAKo0B,YACPp0B,KAAKmhB,KAAAA;IAAAA,GAITyS,cAAc90B,UAAUm7B,gBAAgB,SAAUD,IAAAA;AAChDh6B,WAAK40B,SAAS90B,SAAS,GACvBE,KAAK40B,SAASpxB,KAAK,CAACxD,KAAK8qB,cAAcK,IAAInrB,KAAK8qB,cAAcxnB,EAAAA,CAAAA,GAE1D02B,MACFh6B,KAAKy5B,cAAc,CAAA;IAAA,GAIvB7F,cAAc90B,UAAU26B,gBAAgB,SAAUjT,IAAAA;AAChD,aAAA,CAAA,CAAIxmB,KAAK40B,SAAS90B,WAChBE,KAAK05B,cAAc15B,KAAK40B,SAASnvB,MAAAA,GAAS+gB,EAAAA,GAAAA;IAAAA,GAO9CoN,cAAc90B,UAAUmyB,UAAU,SAAUxlB,IAAAA;AACtCA,MAAAA,MAAQzL,KAAKyL,SAASA,MAAAA,CAASzL,KAAKu0B,aAIxCv0B,KAAKu0B,SAAStD,QAAAA,GACdjxB,KAAKg1B,eAAe/D,QAAAA,GACpBjxB,KAAKs2B,QAAQ,SAAA,GACbt2B,KAAK8xB,OAAO,MACZ9xB,KAAKk6B,eAAe,MACpBl6B,KAAKm6B,iBAAiB,MACtBn6B,KAAK2tB,aAAa,MAClB3tB,KAAKo6B,iBAAiB,MACtBp6B,KAAKq6B,YAAY,MACjBr6B,KAAKu0B,WAAW,MAChBv0B,KAAKu0B,WAAW,MAChBv0B,KAAKg1B,iBAAiB,MACtBh1B,KAAK+0B,mBAAmB;IAAA,GAG1BnB,cAAc90B,UAAU85B,0BAA0B,SAAU32B,IAAAA;AAC1DjC,WAAK8zB,kBAAkB7xB,IACvBjC,KAAKk4B,UAAAA;IAAAA,GAGPtE,cAAc90B,UAAU66B,WAAW,SAAU/V,IAAAA;AAC3C5jB,WAAKi0B,YAAYrQ,IACjB5jB,KAAK43B,kBAAAA;IAAAA,GAGPhE,cAAc90B,UAAU86B,eAAe,SAAUhW,IAAAA;AAC/C5jB,WAAKk0B,gBAAgBtQ,KAAM,IAAA,KAAS,GACpC5jB,KAAK43B,kBAAAA;IAAAA,GAGPhE,cAAc90B,UAAUyiB,YAAY,SAAUqC,IAAKnY,IAAAA;AAC7CA,MAAAA,MAAQzL,KAAKyL,SAASA,MAI1BzL,KAAKi1B,gBAAgB1T,UAAUqC,EAAAA;IAAAA,GAGjCgQ,cAAc90B,UAAU8iB,YAAY,WAAA;AAClC,aAAA,KAAYqT,gBAAgBrT,UAAAA;IAAAA,GAG9BgS,cAAc90B,UAAU4iB,OAAO,SAAUjW,IAAAA;AACnCA,MAAAA,MAAQzL,KAAKyL,SAASA,MAI1BzL,KAAKi1B,gBAAgBvT,KAAAA;IAAAA,GAGvBkS,cAAc90B,UAAU6iB,SAAS,SAAUlW,IAAAA;AACrCA,MAAAA,MAAQzL,KAAKyL,SAASA,MAI1BzL,KAAKi1B,gBAAgBtT,OAAAA;IAAAA,GAGvBiS,cAAc90B,UAAU84B,oBAAoB,WAAA;AAC1C53B,WAAKm5B,gBAAgBn5B,KAAKg0B,YAAYh0B,KAAKi0B,YAAYj0B,KAAKk0B,eAC5Dl0B,KAAKi1B,gBAAgBrU,QAAQ5gB,KAAKi0B,YAAYj0B,KAAKk0B,aAAAA;IAAAA,GAGrDN,cAAc90B,UAAUw7B,UAAU,WAAA;AAChC,aAAA,KAAYlS;IAAAA,GAGdwL,cAAc90B,UAAUwwB,gBAAgB,SAAUC,IAAAA;AAChD,UAAInH,KAAO;AAEX,UAAImH,GAAUrvB;AACZkoB,QAAAA,KAAOmH,GAAU1wB;eACRmB,KAAKwvB,YAAY;AAC1B,YAAIE,KAAYH,GAAU1wB;AAAAA,eAEtB6wB,GAAUvvB,QAAQ,SAAA,MACpBuvB,KAAYA,GAAUna,MAAM,GAAA,EAAK,CAAA,IAGnC6S,KAAOpoB,KAAKwvB,aAAaE;MAAAA;AAEzBtH,QAAAA,KAAOpoB,KAAKooB,MACZA,MAAQmH,GAAUI,IAAIJ,GAAUI,IAAI,IACpCvH,MAAQmH,GAAU1wB;AAGpB,aAAOupB;IAAAA,GAGTwL,cAAc90B,UAAUy7B,eAAe,SAAUvQ,IAAAA;AAI/C,eAHIrqB,KAAI,GACJkgB,KAAM7f,KAAK+qB,OAAOjrB,QAEfH,KAAIkgB,MAAK;AACd,YAAImK,OAAOhqB,KAAK+qB,OAAOprB,EAAAA,EAAGqqB;AACxB,iBAAA,KAAYe,OAAOprB,EAAAA;AAGrBA,QAAAA,MAAK;MAAA;AAGP,aAAA;IAAA,GAGFi0B,cAAc90B,UAAU07B,OAAO,WAAA;AAC7Bx6B,WAAKu0B,SAASiG,KAAAA;IAAAA,GAGhB5G,cAAc90B,UAAU27B,OAAO,WAAA;AAC7Bz6B,WAAKu0B,SAASkG,KAAAA;IAAAA,GAGhB7G,cAAc90B,UAAU47B,cAAc,SAAU1B,IAAAA;AAC9C,aAAOA,KAAUh5B,KAAK4lB,cAAc5lB,KAAK4lB,cAAc5lB,KAAK+zB;IAAAA,GAG9DH,cAAc90B,UAAU67B,qBAAqB,SAAUvS,IAAMyC,IAAcrV,IAAAA;AACzE,UAAA;AACgBxV,aAAKu0B,SAASqG,iBAAiBxS,EAAAA,EACrCuS,mBAAmB9P,IAAcrV,EAAAA;MAAAA,SAClCpR,IAAAA;MAAAA;IAAAA,GAIXwvB,cAAc90B,UAAUw3B,UAAU,SAAU7qB,IAAAA;AAC1C,UAAIzL,KAAK8xB,QAAQ9xB,KAAK8xB,KAAKrmB,EAAAA;AACzB,gBAAQA,IAAAA;UACN,KAAK;AACHzL,iBAAK2xB,aAAalmB,IAAM,IAAIwZ,kBAAkBxZ,IAAMzL,KAAKszB,cAActzB,KAAK4lB,aAAa5lB,KAAKm5B,aAAAA,CAAAA;AAC9F;UAEF,KAAK;AACHn5B,iBAAKq1B,gBAAgBnQ,cAAcllB,KAAKszB,cACxCtzB,KAAKq1B,gBAAgBlQ,YAAYnlB,KAAK4lB,aACtC5lB,KAAKq1B,gBAAgBhQ,YAAYrlB,KAAKm5B,eACtCn5B,KAAK2xB,aAAalmB,IAAMzL,KAAKq1B,eAAAA;AAC7B;UAEF,KAAK;AACHr1B,iBAAK2xB,aAAalmB,IAAM,IAAI8Z,oBAAoB9Z,IAAMzL,KAAKs0B,MAAMt0B,KAAKm0B,WAAWn0B,KAAKg0B,SAAAA,CAAAA;AACtF;UAEF,KAAK;AACHh0B,iBAAK2xB,aAAalmB,IAAM,IAAI6Z,gBAAgB7Z,IAAMzL,KAAKg0B,SAAAA,CAAAA;AACvD;UAEF,KAAK;AACHh0B,iBAAK2xB,aAAalmB,IAAM,IAAIia,oBAAoBja,IAAMzL,KAAK2lB,YAAY3lB,KAAK4lB,WAAAA,CAAAA;AAC5E;UAEF,KAAK;AACH5lB,iBAAK2xB,aAAalmB,IAAM,IAAIoa,eAAepa,IAAMzL,IAAAA,CAAAA;AACjD;UAEF;AACEA,iBAAK2xB,aAAalmB,EAAAA;QAAAA;AAIX,uBAATA,MAAyBzL,KAAKk6B,gBAChCl6B,KAAKk6B,aAAal7B,KAAKgB,MAAM,IAAIilB,kBAAkBxZ,IAAMzL,KAAKszB,cAActzB,KAAK4lB,aAAa5lB,KAAKg0B,SAAAA,CAAAA,GAGxF,mBAATvoB,MAA2BzL,KAAKm6B,kBAClCn6B,KAAKm6B,eAAen7B,KAAKgB,MAAM,IAAIulB,oBAAoB9Z,IAAMzL,KAAKs0B,MAAMt0B,KAAKm0B,WAAWn0B,KAAKg0B,SAAAA,CAAAA,GAGlF,eAATvoB,MAAuBzL,KAAK2tB,cAC9B3tB,KAAK2tB,WAAW3uB,KAAKgB,MAAM,IAAIslB,gBAAgB7Z,IAAMzL,KAAKg0B,SAAAA,CAAAA,GAG/C,mBAATvoB,MAA2BzL,KAAKo6B,kBAClCp6B,KAAKo6B,eAAep7B,KAAKgB,MAAM,IAAI0lB,oBAAoBja,IAAMzL,KAAK2lB,YAAY3lB,KAAK4lB,WAAAA,CAAAA,GAGxE,cAATna,MAAsBzL,KAAKq6B,aAC7Br6B,KAAKq6B,UAAUr7B,KAAKgB,MAAM,IAAI6lB,eAAepa,IAAMzL,IAAAA,CAAAA;IAAAA,GAIvD4zB,cAAc90B,UAAU25B,0BAA0B,SAAU1S,IAAAA;AAC1D,UAAI3hB,KAAQ,IAAI0hB,wBAAwBC,IAAa/lB,KAAKszB,YAAAA;AAC1DtzB,WAAK2xB,aAAa,SAASvtB,EAAAA,GAEvBpE,KAAK4tB,WACP5tB,KAAK4tB,QAAQ5uB,KAAKgB,MAAMoE,EAAAA;IAAAA,GAI5BwvB,cAAc90B,UAAUg5B,qBAAqB,SAAU/R,IAAAA;AACrD,UAAI3hB,KAAQ,IAAI4hB,mBAAmBD,IAAa/lB,KAAKszB,YAAAA;AACrDtzB,WAAK2xB,aAAa,SAASvtB,EAAAA,GAEvBpE,KAAK4tB,WACP5tB,KAAK4tB,QAAQ5uB,KAAKgB,MAAMoE,EAAAA;IAAAA;AAI5B,QAAIy2B,mBAAmB,WAAA;AACrB,UAAI7O,KAAW,CAAA,GACX8O,KAAuB,CAAA,GACvBC,KAAW,GACXlb,KAAM,GACNmb,KAAuB,GACvBC,KAAAA,MACAC,KAAAA;AAEJ,eAASC,GAAcC,IAAAA;AAIrB,iBAHIz7B,KAAI,GACJ07B,KAAWD,GAAG56B,QAEXb,KAAIkgB;AACLib,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,cAAc4N,OACxCP,GAAqBjtB,OAAOlO,IAAG,CAAA,GAC/BA,MAAK,GACLkgB,MAAO,GAEFwb,GAASjH,YACZkH,GAAAA,IAIJ37B,MAAK;MAAA;AAIT,eAAS47B,GAAkBriB,IAAS4R,IAAAA;AAClC,YAAA,CAAK5R;AACH,iBAAA;AAKF,iBAFIvZ,KAAI,GAEDA,KAAIkgB,MAAK;AACd,cAAIib,GAAqBn7B,EAAAA,EAAG67B,SAAStiB,MAA4C,SAAjC4hB,GAAqBn7B,EAAAA,EAAG67B;AACtE,mBAAOV,GAAqBn7B,EAAAA,EAAG8tB;AAGjC9tB,UAAAA,MAAK;QAAA;AAGP,YAAI07B,KAAW,IAAIzH;AAGnB,eAFAsC,GAAemF,IAAUniB,EAAAA,GACzBmiB,GAAS9E,QAAQrd,IAAS4R,EAAAA,GACnBuQ;MAAAA;AAeT,eAASI,KAAAA;AACPT,QAAAA,MAAwB,GACxBU,GAAAA;MAAAA;AAGF,eAASJ,KAAAA;AACPN,QAAAA,MAAwB;MAAA;AAG1B,eAAS9E,GAAemF,IAAUniB,IAAAA;AAChCmiB,QAAAA,GAASphB,iBAAiB,WAAWkhB,EAAAA,GACrCE,GAASphB,iBAAiB,WAAWwhB,EAAAA,GACrCJ,GAASphB,iBAAiB,SAASqhB,EAAAA,GACnCR,GAAqBt3B,KAAK,EACxBg4B,MAAMtiB,IACNuU,WAAW4N,GAAAA,CAAAA,GAEbxb,MAAO;MAAA;AAkCT,eAASva,GAAOq2B,IAAAA;AACd,YACIh8B,IADAi8B,KAAcD,KAAUZ;AAG5B,aAAKp7B,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAU6L,YAAYsC,EAAAA;AAGhDb,QAAAA,KAAWY,IAEPX,MAAAA,CAAyBE,KAC3Br0B,OAAOg1B,sBAAsBv2B,EAAAA,IAE7B21B,KAAAA;MAAW;AAIf,eAASa,GAAMH,IAAAA;AACbZ,QAAAA,KAAWY,IACX90B,OAAOg1B,sBAAsBv2B,EAAAA;MAAAA;AAgF/B,eAASo2B,KAAAA;AAAAA,SACFR,MAAaF,MACZC,OACFp0B,OAAOg1B,sBAAsBC,EAAAA,GAC7Bb,KAAAA;MAAW;AAyDjB,aAnBAjP,GAASuP,oBAAoBA,IAC7BvP,GAAS8B,gBA7KT,SAAuByH,IAAAA;AACrB,YAAI8F,KAAW,IAAIzH;AAGnB,eAFAsC,GAAemF,IAAU,IAAA,GACzBA,GAAS/F,UAAUC,EAAAA,GACZ8F;MAAAA,GA0KTrP,GAAS2N,WAvKT,SAAkB/V,IAAK6J,IAAAA;AACrB,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUkM,SAAS/V,IAAK6J,EAAAA;MAAAA,GAoKpDzB,GAAS4N,eAhKT,SAAsBhW,IAAK6J,IAAAA;AACzB,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUmM,aAAahW,IAAK6J,EAAAA;MAAAA,GA6JxDzB,GAAS7K,OAzJT,SAAcsM,IAAAA;AACZ,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUtM,KAAKsM,EAAAA;MAAAA,GAsJ3CzB,GAASrL,QA5HT,SAAe8M,IAAAA;AACb,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAU9M,MAAM8M,EAAAA;MAAAA,GAyH5CzB,GAAS2M,OA7GT,SAAclL,IAAAA;AACZ,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUkL,KAAKlL,EAAAA;MAAAA,GA0G3CzB,GAAS0M,cAtGT,SAAqBjL,IAAAA;AACnB,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUiL,YAAYjL,EAAAA;MAAAA,GAmGlDzB,GAAS+P,mBAvFT,SAA0BjR,IAAekR,IAAYzH,IAAAA;AACnD,YACI50B,IADAs8B,KAAe,CAAA,EAAG33B,OAAO,CAAA,EAAGW,MAAMjG,KAAK4J,SAASszB,uBAAuB,QAAA,CAAA,GAAY,CAAA,EAAGj3B,MAAMjG,KAAK4J,SAASszB,uBAAuB,WAAA,CAAA,CAAA,GAEjIC,KAAWF,GAAan8B;AAE5B,aAAKH,KAAI,GAAGA,KAAIw8B,IAAUx8B,MAAK;AACzB40B,UAAAA,MACF0H,GAAat8B,EAAAA,EAAGqJ,aAAa,gBAAgBurB,EAAAA,GAG/CgH,GAAkBU,GAAat8B,EAAAA,GAAImrB,EAAAA;AAGrC,YAAIkR,MAA2B,MAAbG,IAAgB;AAC3B5H,UAAAA,OACHA,KAAW;AAGb,cAAI9xB,KAAOmG,SAASwzB,qBAAqB,MAAA,EAAQ,CAAA;AACjD35B,UAAAA,GAAK45B,YAAY;AACjB,cAAIC,KAAM9c,UAAU,KAAA;AACpB8c,UAAAA,GAAI3zB,MAAM8lB,QAAQ,QAClB6N,GAAI3zB,MAAM+lB,SAAS,QACnB4N,GAAItzB,aAAa,gBAAgBurB,EAAAA,GACjC9xB,GAAKyG,YAAYozB,EAAAA,GACjBf,GAAkBe,IAAKxR,EAAAA;QAAAA;MAAAA,GA+D3BkB,GAASmM,SA3DT,WAAA;AACE,YAAIx4B;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAU0K,OAAAA;MAAAA,GAyDtCnM,GAAS+M,cA1HT,SAAqB92B,IAAO+2B,IAASvL,IAAAA;AACnC,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUsL,YAAY92B,IAAO+2B,IAASvL,EAAAA;MAAAA,GAuHlEzB,GAASiF,UAnGT,SAAiBxD,IAAAA;AACf,YAAI9tB;AAEJ,aAAKA,KAAIkgB,KAAM,GAAGlgB,MAAK,GAAGA,MAAK;AAC7Bm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUwD,QAAQxD,EAAAA;MAAAA,GAgG9CzB,GAASuQ,SA9CT,WAAA;AACErB,QAAAA,KAAAA;MAAY,GA8CdlP,GAASwQ,WA3CT,WAAA;AACEtB,QAAAA,KAAAA,OACAQ,GAAAA;MAAAA,GA0CF1P,GAASzK,YAvCT,SAAmBqC,IAAK6J,IAAAA;AACtB,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAUlM,UAAUqC,IAAK6J,EAAAA;MAAAA,GAoCrDzB,GAAStK,OAhCT,SAAc+L,IAAAA;AACZ,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAU/L,KAAK+L,EAAAA;MAAAA,GA6B3CzB,GAASrK,SAzBT,SAAgB8L,IAAAA;AACd,YAAI9tB;AAEJ,aAAKA,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBm7B,UAAAA,GAAqBn7B,EAAAA,EAAG8tB,UAAU9L,OAAO8L,EAAAA;MAAAA,GAsB7CzB,GAASyQ,0BA9NT,WAAA;AACE,YAAI98B,IACAw8B,KAAWrB,GAAqBh7B,QAChC48B,KAAa,CAAA;AAEjB,aAAK/8B,KAAI,GAAGA,KAAIw8B,IAAUx8B,MAAK;AAC7B+8B,UAAAA,GAAWl5B,KAAKs3B,GAAqBn7B,EAAAA,EAAG8tB,SAAAA;AAG1C,eAAOiP;MAAAA,GAsNF1Q;IAAAA,EAhRc,GAoRnB2Q,gBAAgB,WAAA;AAWlB,UAAItM,KAAK,EACTA,iBAGA,SAAyB5rB,IAAGjG,IAAGmC,IAAGpC,IAAG40B,IAAAA;AACnC,YAAIyJ,KAAMzJ,OAAO,SAAS1uB,KAAI,MAAMjG,KAAI,MAAMmC,KAAI,MAAMpC,IAAGs+B,QAAQ,OAAO,GAAA;AAE1E,YAAIC,GAAQF,EAAAA;AACV,iBAAOE,GAAQF,EAAAA;AAGjB,YAAIG,KAAY,IAAIC,GAAa,CAACv4B,IAAGjG,IAAGmC,IAAGpC,EAAAA,CAAAA;AAE3C,eADAu+B,GAAQF,EAAAA,IAAOG,IACRA;MAAAA,EAAAA,GAXLD,KAAU,CAAA,GAoBVG,KAAkB,KAClBC,KAAgD,cAAA,OAAjBhb;AAEnC,eAASib,GAAEC,IAAKC,IAAAA;AACd,eAAA,IAAa,IAAMA,KAAM,IAAMD;MAAAA;AAGjC,eAASE,GAAEF,IAAKC,IAAAA;AACd,eAAA,IAAaA,KAAM,IAAMD;MAAAA;AAG3B,eAASG,GAAEH,IAAAA;AACT,eAAA,IAAaA;MAAAA;AAIf,eAASI,GAAWC,IAAIL,IAAKC,IAAAA;AAC3B,iBAASF,GAAEC,IAAKC,EAAAA,IAAOI,KAAKH,GAAEF,IAAKC,EAAAA,KAAQI,KAAKF,GAAEH,EAAAA,KAAQK;MAAAA;AAI5D,eAASC,GAASD,IAAIL,IAAKC,IAAAA;AACzB,eAAA,IAAaF,GAAEC,IAAKC,EAAAA,IAAOI,KAAKA,KAAK,IAAMH,GAAEF,IAAKC,EAAAA,IAAOI,KAAKF,GAAEH,EAAAA;MAAAA;AAqClE,eAASJ,GAAaW,IAAAA;AACpB39B,aAAK49B,KAAKD,IACV39B,KAAK69B,iBAAiBX,KAAwB,IAAIhb,aA9D7B,EAAA,IA8D8D,IAAItjB,MA9DlE,EAAA,GA+DrBoB,KAAK89B,eAAAA,OACL99B,KAAK+D,MAAM/D,KAAK+D,IAAIosB,KAAKnwB,IAAAA;MAAAA;AAsE3B,aAnEAg9B,GAAal+B,YAAY,EACvBiF,KAAK,SAAag6B,IAAAA;AAChB,YAAIC,KAAMh+B,KAAK49B,GAAG,CAAA,GACdK,KAAMj+B,KAAK49B,GAAG,CAAA,GACdM,KAAMl+B,KAAK49B,GAAG,CAAA,GACdO,KAAMn+B,KAAK49B,GAAG,CAAA;AAElB,eADK59B,KAAK89B,gBAAc99B,KAAKo+B,YAAAA,GACzBJ,OAAQC,MAAOC,OAAQC,KAAYJ,KAG7B,MAANA,KAAAA,IACM,MAANA,KAAAA,IACGP,GAAWx9B,KAAKq+B,UAAUN,EAAAA,GAAIE,IAAKE,EAAAA;MAAAA,GAG5CC,aAAa,WAAA;AACX,YAAIJ,KAAMh+B,KAAK49B,GAAG,CAAA,GACdK,KAAMj+B,KAAK49B,GAAG,CAAA,GACdM,KAAMl+B,KAAK49B,GAAG,CAAA,GACdO,KAAMn+B,KAAK49B,GAAG,CAAA;AAClB59B,aAAK89B,eAAAA,MAEDE,OAAQC,MAAOC,OAAQC,MACzBn+B,KAAKs+B,kBAAAA;MAAAA,GAGTA,mBAAmB,WAAA;AAIjB,iBAHIN,KAAMh+B,KAAK49B,GAAG,CAAA,GACdM,KAAMl+B,KAAK49B,GAAG,CAAA,GAETj+B,KAAI,GAAGA,KAjGG,IAAA,EAiGqBA;AACtCK,eAAK69B,eAAel+B,EAAAA,IAAK69B,GAAW79B,KAAIs9B,IAAiBe,IAAKE,EAAAA;MAAAA,GAOlEG,WAAW,SAAmBE,IAAAA;AAQ5B,iBAPIP,KAAMh+B,KAAK49B,GAAG,CAAA,GACdM,KAAMl+B,KAAK49B,GAAG,CAAA,GACdY,KAAgBx+B,KAAK69B,gBACrBY,KAAgB,GAChBC,KAAgB,GACHC,OAEVD,MAAgCF,GAAcE,EAAAA,KAAkBH,IAAAA,EAAMG;AAC3ED,UAAAA,MAAiBxB;AAKnB,YACI2B,KAAYH,MADJF,KAAKC,GAAAA,EAFfE,EAAAA,MAEgDF,GAAcE,KAAgB,CAAA,IAAKF,GAAcE,EAAAA,KAC5DzB,IACnC4B,KAAenB,GAASkB,IAAWZ,IAAKE,EAAAA;AAE5C,eAAIW,MA9He,OAgDvB,SAA8BN,IAAIO,IAASd,IAAKE,IAAAA;AAC9C,mBAASv+B,KAAI,GAAGA,KAlDM,GAAA,EAkDmBA,IAAG;AAC1C,gBAAIo/B,KAAerB,GAASoB,IAASd,IAAKE,EAAAA;AAC1C,gBAAqB,MAAjBa;AAAsB,qBAAOD;AAEjCA,YAAAA,OADetB,GAAWsB,IAASd,IAAKE,EAAAA,IAAOK,MACzBQ;UAAAA;AAGxB,iBAAOD;QAAAA,EAuEyBP,IAAIK,IAAWZ,IAAKE,EAAAA,IAG7B,MAAjBW,KACKD,KAtGb,SAAyBL,IAAIS,IAAIC,IAAIjB,IAAKE,IAAAA;AACxC,cAAIgB,IACAC,IACAx/B,KAAI;AAER,aAAA;AAAA,aAEEu/B,KAAW1B,GADX2B,KAAWH,MAAMC,KAAKD,MAAM,GACIhB,IAAKE,EAAAA,IAAOK,MAE7B,IACbU,KAAKE,KAELH,KAAKG;UAAAA,SAEAruB,KAAK6S,IAAIub,EAAAA,IA1CQ,QAAA,EA0C+Bv/B,KAzC1B;AA2C/B,iBAAOw/B;QAAAA,EAyFkBZ,IAAIE,IAAeA,KAAgBxB,IAAiBe,IAAKE,EAAAA;MAAAA,EAAAA,GAG7E7N;IAAAA,EAtKW,GAyKhB+O,UAKK,EACLC,QALF,SAAiBrd,IAAAA;AACf,aAAOA,GAAI1d,OAAO8d,iBAAiBJ,GAAIliB,MAAAA,CAAAA;IAAAA,EAAAA,GAQvCw/B,cAAAA,SACeC,IAAeC,IAASC,IAAAA;AACvC,UAAIC,KAAU,GACVC,KAAaJ,IACbK,KAAOxd,iBAAiBud,EAAAA;AAiC5B,aAhCS,EACPE,YAIF,WAAA;AAUE,eAPIH,KAEQE,GADVF,MAAW,CAAA,IAGDF,GAAAA;MAAAA,GAVZM,SAgBF,SAAiB5mB,IAAAA;AACXwmB,QAAAA,OAAYC,OACdC,KAAOR,QAAO,OAAWQ,EAAAA,GACzBD,MAAc,IAGZF,MACFA,GAASvmB,EAAAA,GAGX0mB,GAAKF,EAAAA,IAAWxmB,IAChBwmB,MAAW;MAAA,EAAA;IAAA,GAObK,mBASKT,YAAY,GARnB,WAAA;AACE,aAAO,EACLU,aAAa,GACbC,UAAUne,iBAAiB,WAAWwF,wBAAAA,CAAAA,GACtC4Y,SAASpe,iBAAiB,WAAWwF,wBAAAA,CAAAA,EAAAA;IAAAA,CAAAA,GAOvC6Y,qBAmBKb,YAAY,GAlBnB,WAAA;AACE,aAAO,EACLY,SAAS,CAAA,GACTE,aAAa,EAAA;IAAA,GAIjB,SAAiBlnB,IAAAA;AACf,UAAIvZ,IACAkgB,KAAM3G,GAAQgnB,QAAQpgC;AAE1B,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBogC,yBAAiBD,QAAQ5mB,GAAQgnB,QAAQvgC,EAAAA,CAAAA;AAG3CuZ,MAAAA,GAAQgnB,QAAQpgC,SAAS;IAAA,CAAA;AAM7B,aAASugC,cAAAA;AACP,UAAIC,KAAOxvB;AAEX,eAASyvB,GAAcC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,IAAAA;AACzC,YAAIC,KAAON,KAAKG,KAAKF,KAAKG,KAAKF,KAAKG,KAAKD,KAAKD,KAAKE,KAAKL,KAAKE,KAAKD;AAClE,eAAOK,KAAAA,SAAiBA,KAAO;MAAA;AA4BjC,UAAIC,KAAAA,SACeC,IAAKC,IAAKC,IAAKC,IAAAA;AAC9B,YACIv9B,IACAjE,IACAkgB,IACAuhB,IACAC,IAEAC,IAPAC,KAAgBja,wBAAAA,GAMhB0Y,KAAc,GAEdwB,KAAQ,CAAA,GACRC,KAAY,CAAA,GACZC,KAAa3B,iBAAiBF,WAAAA;AAGlC,aAFAhgB,KAAMqhB,GAAIphC,QAEL8D,KAAI,GAAGA,KAAI29B,IAAe39B,MAAK,GAAG;AAIrC,eAHAy9B,KAAOz9B,MAAK29B,KAAgB,IAC5BD,KAAa,GAER3hC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxByhC,YAAAA,KAAUte,MAAM,IAAIue,IAAM,CAAA,IAAKL,GAAIrhC,EAAAA,IAAK,IAAImjB,MAAM,IAAIue,IAAM,CAAA,IAAKA,KAAOH,GAAIvhC,EAAAA,IAAK,KAAK,IAAI0hC,MAAQve,MAAMue,IAAM,CAAA,IAAKF,GAAIxhC,EAAAA,IAAKmjB,MAAMue,IAAM,CAAA,IAAKJ,GAAIthC,EAAAA,GACjJ6hC,GAAM7hC,EAAAA,IAAKyhC,IAEU,SAAjBK,GAAU9hC,EAAAA,MACZ2hC,MAAcxe,MAAM0e,GAAM7hC,EAAAA,IAAK8hC,GAAU9hC,EAAAA,GAAI,CAAA,IAG/C8hC,GAAU9hC,EAAAA,IAAK6hC,GAAM7hC,EAAAA;AAGnB2hC,UAAAA,OAEFtB,MADAsB,KAAate,OAAOse,EAAAA,IAItBI,GAAWzB,SAASr8B,EAAAA,IAAKy9B,IACzBK,GAAWxB,QAAQt8B,EAAAA,IAAKo8B;QAAAA;AAI1B,eADA0B,GAAW1B,cAAcA,IAClB0B;MAAAA;AA6BX,eAASC,GAAW7hC,IAAAA;AAClBE,aAAK4hC,gBAAgB,GACrB5hC,KAAK29B,SAAS,IAAI/+B,MAAMkB,EAAAA;MAAAA;AAG1B,eAAS+hC,GAAUC,IAASN,IAAAA;AAC1BxhC,aAAK+hC,gBAAgBD,IACrB9hC,KAAKwhC,QAAQA;MAAAA;AAGf,UACMQ,IADFC,MACED,KAAa,CAAA,GAAA,SACAhB,IAAKC,IAAKC,IAAKC,IAAAA;AAC9B,YAAIe,MAAclB,GAAI,CAAA,IAAK,MAAMA,GAAI,CAAA,IAAK,MAAMC,GAAI,CAAA,IAAK,MAAMA,GAAI,CAAA,IAAK,MAAMC,GAAI,CAAA,IAAK,MAAMA,GAAI,CAAA,IAAK,MAAMC,GAAI,CAAA,IAAK,MAAMA,GAAI,CAAA,GAAItE,QAAQ,OAAO,GAAA;AAElJ,YAAA,CAAKmF,GAAWE,EAAAA,GAAa;AAC3B,cACIt+B,IACAjE,IACAkgB,IACAuhB,IACAC,IAEAC,IACAE,IARAD,KAAgBja,wBAAAA,GAMhB0Y,KAAc,GAGdyB,KAAY;AAEG,gBAAfT,GAAIlhC,WAAiBkhC,GAAI,CAAA,MAAOC,GAAI,CAAA,KAAMD,GAAI,CAAA,MAAOC,GAAI,CAAA,MAAOV,GAAcS,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIC,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAID,GAAI,CAAA,IAAKE,GAAI,CAAA,GAAIF,GAAI,CAAA,IAAKE,GAAI,CAAA,CAAA,KAAOX,GAAcS,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIC,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,IAAKE,GAAI,CAAA,GAAIF,GAAI,CAAA,IAAKE,GAAI,CAAA,CAAA,MACjOI,KAAgB;AAGlB,cAAIY,KAAa,IAAIR,GAAWJ,EAAAA;AAGhC,eAFA1hB,KAAMqhB,GAAIphC,QAEL8D,KAAI,GAAGA,KAAI29B,IAAe39B,MAAK,GAAG;AAKrC,iBAJA49B,KAAQpf,iBAAiBvC,EAAAA,GACzBwhB,KAAOz9B,MAAK29B,KAAgB,IAC5BD,KAAa,GAER3hC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxByhC,cAAAA,KAAUte,MAAM,IAAIue,IAAM,CAAA,IAAKL,GAAIrhC,EAAAA,IAAK,IAAImjB,MAAM,IAAIue,IAAM,CAAA,IAAKA,MAAQL,GAAIrhC,EAAAA,IAAKuhC,GAAIvhC,EAAAA,KAAM,KAAK,IAAI0hC,MAAQve,MAAMue,IAAM,CAAA,KAAMJ,GAAIthC,EAAAA,IAAKwhC,GAAIxhC,EAAAA,KAAMmjB,MAAMue,IAAM,CAAA,IAAKJ,GAAIthC,EAAAA,GACvK6hC,GAAM7hC,EAAAA,IAAKyhC,IAEO,SAAdK,OACFH,MAAcxe,MAAM0e,GAAM7hC,EAAAA,IAAK8hC,GAAU9hC,EAAAA,GAAI,CAAA;AAKjDqgC,YAAAA,MADAsB,KAAate,OAAOse,EAAAA,GAEpBa,GAAWxE,OAAO/5B,EAAAA,IAAK,IAAIi+B,GAAUP,IAAYE,EAAAA,GACjDC,KAAYD;UAAAA;AAGdW,UAAAA,GAAWP,gBAAgB5B,IAC3BgC,GAAWE,EAAAA,IAAcC;QAAAA;AAG3B,eAAOH,GAAWE,EAAAA;MAAAA;AAItB,eAASE,GAAgBf,IAAMc,IAAAA;AAC7B,YAAIlC,KAAWkC,GAAWlC,UACtBC,KAAUiC,GAAWjC,SACrBrgB,KAAMogB,GAASngC,QACfuiC,KAAUnf,SAASrD,KAAM,KAAKwhB,EAAAA,GAC9BiB,KAAYjB,KAAOc,GAAWnC,aAC9BuC,KAAQ;AAEZ,YAAIF,OAAYxiB,KAAM,KAAiB,MAAZwiB,MAAiBC,OAAcpC,GAAQmC,EAAAA;AAChE,iBAAOpC,GAASoC,EAAAA;AAMlB,iBAHIG,KAAMtC,GAAQmC,EAAAA,IAAWC,KAAAA,KAAiB,GAC1CljB,KAAAA,MAEGA;AAQL,cAPI8gB,GAAQmC,EAAAA,KAAYC,MAAapC,GAAQmC,KAAU,CAAA,IAAKC,MAC1DC,MAASD,KAAYpC,GAAQmC,EAAAA,MAAanC,GAAQmC,KAAU,CAAA,IAAKnC,GAAQmC,EAAAA,IACzEjjB,KAAAA,SAEAijB,MAAWG,IAGTH,KAAU,KAAKA,MAAWxiB,KAAM,GAAG;AAErC,gBAAIwiB,OAAYxiB,KAAM;AACpB,qBAAOogB,GAASoC,EAAAA;AAGlBjjB,YAAAA,KAAAA;UAAO;AAIX,eAAO6gB,GAASoC,EAAAA,KAAYpC,GAASoC,KAAU,CAAA,IAAKpC,GAASoC,EAAAA,KAAYE;MAAAA;AAW3E,UAAIE,KAAsB3gB,iBAAiB,WAAW,CAAA;AAyDtD,aAAO,EACL4gB,mBA7LF,SAA2BC,IAAAA;AACzB,YAKIhjC,IALAijC,KAAiBzC,mBAAmBN,WAAAA,GACpC/T,KAAS6W,GAAUhiC,GACnBkiC,KAAQF,GAAUt/B,GAClBy/B,KAAQH,GAAUj/B,GAClBq/B,KAAQJ,GAAUhjC,GAElBkgB,KAAM8iB,GAAUjD,SAChBQ,KAAU0C,GAAe1C,SACzBE,KAAc;AAElB,aAAKzgC,KAAI,GAAGA,KAAIkgB,KAAM,GAAGlgB,MAAK;AAC5BugC,UAAAA,GAAQvgC,EAAAA,IAAKohC,GAAgB8B,GAAMljC,EAAAA,GAAIkjC,GAAMljC,KAAI,CAAA,GAAImjC,GAAMnjC,EAAAA,GAAIojC,GAAMpjC,KAAI,CAAA,CAAA,GACzEygC,MAAeF,GAAQvgC,EAAAA,EAAGqgC;AAS5B,eANIlU,MAAUjM,OACZqgB,GAAQvgC,EAAAA,IAAKohC,GAAgB8B,GAAMljC,EAAAA,GAAIkjC,GAAM,CAAA,GAAIC,GAAMnjC,EAAAA,GAAIojC,GAAM,CAAA,CAAA,GACjE3C,MAAeF,GAAQvgC,EAAAA,EAAGqgC,cAG5B4C,GAAexC,cAAcA,IACtBwC;MAAAA,GAwKPI,eAzDF,SAAuBhC,IAAKC,IAAKC,IAAKC,IAAK8B,IAAWC,IAASf,IAAAA;AACzDc,QAAAA,KAAY,IACdA,KAAY,IACHA,KAAY,MACrBA,KAAY;AAGd,YAGItjC,IAHAwjC,KAAKf,GAAgBa,IAAWd,EAAAA,GAEhCiB,KAAKhB,GADTc,KAAUA,KAAU,IAAI,IAAIA,IACMf,EAAAA,GAE9BtiB,KAAMmhB,GAAIlhC,QACVujC,KAAK,IAAIF,IACTG,KAAK,IAAIF,IACTG,KAASF,KAAKA,KAAKA,IACnBG,KAAWL,KAAKE,KAAKA,KAAK,GAE1BI,KAAWN,KAAKA,KAAKE,KAAK,GAE1BK,KAASP,KAAKA,KAAKA,IAEnBQ,KAASN,KAAKA,KAAKC,IACnBM,KAAWT,KAAKE,KAAKC,KAAKD,KAAKF,KAAKG,KAAKD,KAAKA,KAAKD,IAEnDS,KAAWV,KAAKA,KAAKG,KAAKD,KAAKF,KAAKC,KAAKD,KAAKE,KAAKD,IAEnDU,KAASX,KAAKA,KAAKC,IAEnBW,KAASV,KAAKC,KAAKA,IACnBU,KAAWb,KAAKG,KAAKA,KAAKD,KAAKD,KAAKE,KAAKD,KAAKC,KAAKF,IAEnDa,KAAWd,KAAKC,KAAKE,KAAKD,KAAKD,KAAKA,KAAKD,KAAKG,KAAKF,IAEnDc,KAASf,KAAKC,KAAKA,IAEnBe,KAASb,KAAKA,KAAKA,IACnBc,KAAWhB,KAAKE,KAAKA,KAAKA,KAAKF,KAAKE,KAAKA,KAAKA,KAAKF,IAEnDiB,IAAWjB,KAAKA,KAAKE,KAAKA,KAAKF,KAAKA,KAAKA,KAAKE,KAAKF,IAEnDkB,KAASlB,KAAKA,KAAKA;AAEvB,aAAKzjC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB8iC,UAAAA,GAAwB,IAAJ9iC,EAAAA,IAAS2gC,GAAKlc,MAAoF,OAA7Emf,KAASvC,GAAIrhC,EAAAA,IAAK6jC,KAAWtC,GAAIvhC,EAAAA,IAAK8jC,KAAWtC,GAAIxhC,EAAAA,IAAK+jC,KAASzC,GAAIthC,EAAAA,EAAAA,IAAc,KAE9H8iC,GAAwB,IAAJ9iC,KAAQ,CAAA,IAAK2gC,GAAKlc,MAAoF,OAA7Euf,KAAS3C,GAAIrhC,EAAAA,IAAKikC,KAAW1C,GAAIvhC,EAAAA,IAAKkkC,KAAW1C,GAAIxhC,EAAAA,IAAKmkC,KAAS7C,GAAIthC,EAAAA,EAAAA,IAAc,KAElI8iC,GAAwB,IAAJ9iC,KAAQ,CAAA,IAAK2gC,GAAKlc,MAAoF,OAA7E2f,KAAS/C,GAAIrhC,EAAAA,IAAKqkC,KAAW9C,GAAIvhC,EAAAA,IAAKskC,KAAW9C,GAAIxhC,EAAAA,IAAKukC,KAASjD,GAAIthC,EAAAA,EAAAA,IAAc,KAElI8iC,GAAwB,IAAJ9iC,KAAQ,CAAA,IAAK2gC,GAAKlc,MAAoF,OAA7E+f,KAASnD,GAAIrhC,EAAAA,IAAKykC,KAAWlD,GAAIvhC,EAAAA,IAAK0kC,IAAWlD,GAAIxhC,EAAAA,IAAK2kC,KAASrD,GAAIthC,EAAAA,EAAAA,IAAc;AAGpI,eAAO8iC;MAAAA,GAMP8B,mBApEF,SAA2BvD,IAAKC,IAAKC,IAAKC,IAAKqD,IAASrC,IAAAA;AACtD,YAAIiB,KAAKhB,GAAgBoC,IAASrC,EAAAA,GAC9BmB,KAAK,IAAIF;AAGb,eAAO,CAFG9C,GAAKlc,MAAwK,OAAjKkf,KAAKA,KAAKA,KAAKtC,GAAI,CAAA,KAAMoC,KAAKE,KAAKA,KAAKA,KAAKF,KAAKE,KAAKA,KAAKA,KAAKF,MAAMlC,GAAI,CAAA,KAAMkC,KAAKA,KAAKE,KAAKA,KAAKF,KAAKA,KAAKA,KAAKE,KAAKF,MAAMjC,GAAI,CAAA,IAAKiC,KAAKA,KAAKA,KAAKnC,GAAI,CAAA,EAAA,IAAc,KACrLX,GAAKlc,MAAwK,OAAjKkf,KAAKA,KAAKA,KAAKtC,GAAI,CAAA,KAAMoC,KAAKE,KAAKA,KAAKA,KAAKF,KAAKE,KAAKA,KAAKA,KAAKF,MAAMlC,GAAI,CAAA,KAAMkC,KAAKA,KAAKE,KAAKA,KAAKF,KAAKA,KAAKA,KAAKE,KAAKF,MAAMjC,GAAI,CAAA,IAAKiC,KAAKA,KAAKA,KAAKnC,GAAI,CAAA,EAAA,IAAc,GAAA;MAAA,GAiE/LgB,iBAAiBA,IACjB1B,eAAeA,IACfkE,eAvQF,SAAuBjE,IAAIC,IAAIiE,IAAIhE,IAAIC,IAAIgE,IAAI/D,IAAIC,IAAI+D,IAAAA;AACrD,YAAW,MAAPF,MAAmB,MAAPC,MAAmB,MAAPC;AAC1B,iBAAOrE,GAAcC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,EAAAA;AAG3C,YAGIgE,IAHAC,KAAQxE,GAAKrd,KAAKqd,GAAKvd,IAAI2d,KAAKF,IAAI,CAAA,IAAKF,GAAKvd,IAAI4d,KAAKF,IAAI,CAAA,IAAKH,GAAKvd,IAAI4hB,KAAKD,IAAI,CAAA,CAAA,GAClFK,KAAQzE,GAAKrd,KAAKqd,GAAKvd,IAAI6d,KAAKJ,IAAI,CAAA,IAAKF,GAAKvd,IAAI8d,KAAKJ,IAAI,CAAA,IAAKH,GAAKvd,IAAI6hB,KAAKF,IAAI,CAAA,CAAA,GAClFM,KAAQ1E,GAAKrd,KAAKqd,GAAKvd,IAAI6d,KAAKF,IAAI,CAAA,IAAKJ,GAAKvd,IAAI8d,KAAKF,IAAI,CAAA,IAAKL,GAAKvd,IAAI6hB,KAAKD,IAAI,CAAA,CAAA;AAetF,gBAVIE,KAFAC,KAAQC,KACND,KAAQE,KACCF,KAAQC,KAAQC,KAEhBA,KAAQD,KAAQD,KAEpBE,KAAQD,KACNC,KAAQD,KAAQD,KAEhBC,KAAQD,KAAQE,MAAAA,SAGAH,KAAW;MAAA,EAAA;IAAA;AAqP5C,QAAII,MAAM5E,YAAAA,GAEN6E,kBAAkB,WAAA;AACpB,UAAIC,KAAYjmB,qBACZkmB,KAAUt0B,KAAK6S;AAEnB,eAAS0hB,GAAiBC,IAAUC,IAAAA;AAClC,YACIC,IADAC,KAAazlC,KAAKylC;AAGA,+BAAlBzlC,KAAK0lC,aACPF,KAAW1jB,iBAAiB,WAAW9hB,KAAK2lC,GAAG7lC,MAAAA;AAWjD,iBAJI8lC,IACAC,IACAC,IA6BAliC,IACAulB,IACAkY,IACAnY,IACAxkB,IACAqhC,IAxCAC,KAAiBT,GAAQ9xB,WACzB9T,KAAIqmC,IACJnmB,KAAM7f,KAAKimC,UAAUnmC,SAAS,GAC9Bsf,KAAAA,MAKGA,MAAM;AAIX,cAHAwmB,KAAU5lC,KAAKimC,UAAUtmC,EAAAA,GACzBkmC,KAAc7lC,KAAKimC,UAAUtmC,KAAI,CAAA,GAE7BA,OAAMkgB,KAAM,KAAKylB,MAAYO,GAAYpmC,IAAIgmC,IAAY;AACvDG,YAAAA,GAAQltB,MACVktB,KAAUC,KAGZG,KAAiB;AACjB;UAAA;AAGF,cAAIH,GAAYpmC,IAAIgmC,KAAaH,IAAU;AACzCU,YAAAA,KAAiBrmC;AACjB;UAAA;AAGEA,UAAAA,KAAIkgB,KAAM,IACZlgB,MAAK,KAELqmC,KAAiB,GACjB5mB,KAAAA;QAAO;AAIX0mB,QAAAA,KAAmB9lC,KAAKkmC,kBAAkBvmC,EAAAA,KAAM,CAAA;AAOhD,YAEIwmC,IA2LqBC,IAAKC,IAC1BC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IApMAC,KAAchB,GAAYpmC,IAAIgmC,IAC9BqB,KAAUlB,GAAQnmC,IAAIgmC;AAG1B,YAAIG,GAAQ/gC,IAAI;AACTihC,UAAAA,GAAiB3D,eACpB2D,GAAiB3D,aAAa8C,IAAIhD,gBAAgB2D,GAAQlmC,GAAGmmC,GAAYnmC,KAAKkmC,GAAQ1lC,GAAG0lC,GAAQ/gC,IAAI+gC,GAAQmB,EAAAA;AAG/G,cAAI5E,IAAa2D,GAAiB3D;AAElC,cAAImD,MAAYuB,MAAevB,KAAWwB,IAAS;AACjD,gBAAIE,KAAM1B,MAAYuB,KAAc1E,EAAWxE,OAAO79B,SAAS,IAAI;AAGnE,iBAFAqpB,KAAOgZ,EAAWxE,OAAOqJ,EAAAA,EAAKxF,MAAM1hC,QAE/B8D,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACzB4hC,cAAAA,GAAS5hC,EAAAA,IAAKu+B,EAAWxE,OAAOqJ,EAAAA,EAAKxF,MAAM59B,EAAAA;UAAAA,OAGxC;AACDkiC,YAAAA,GAAiBmB,SACnBlB,KAAMD,GAAiBmB,UAEvBlB,KAAMpJ,cAAcuK,gBAAgBtB,GAAQliC,EAAEq6B,GAAG6H,GAAQliC,EAAEf,GAAGijC,GAAQjmC,EAAEo+B,GAAG6H,GAAQjmC,EAAEgD,GAAGijC,GAAQhmC,CAAAA,EAAGmE,KACnG+hC,GAAiBmB,SAASlB,KAG5B1E,KAAO0E,IAAKT,KAAWwB,OAAYD,KAAcC,GAAAA;AACjD,gBACIK,GADAC,KAAiBjF,EAAWP,gBAAgBP,IAE5CrB,KAAcuF,GAAQ8B,YAAY/B,MAAYC,GAAQ+B,uBAAuB3nC,KAAI4lC,GAAQgC,mBAAmB;AAKhH,iBAJA7iC,KAAI6gC,GAAQ8B,YAAY/B,MAAYC,GAAQ+B,uBAAuB3nC,KAAI4lC,GAAQiC,aAAa,GAC5FpoB,KAAAA,MACA8J,KAAOiZ,EAAWxE,OAAO79B,QAElBsf,MAAM;AAGX,kBAFA4gB,MAAemC,EAAWxE,OAAOj5B,EAAAA,EAAGq9B,eAEb,MAAnBqF,MAAiC,MAAT/F,MAAc38B,OAAMy9B,EAAWxE,OAAO79B,SAAS,GAAG;AAG5E,qBAFAqpB,KAAOgZ,EAAWxE,OAAOj5B,EAAAA,EAAG88B,MAAM1hC,QAE7B8D,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACzB4hC,kBAAAA,GAAS5hC,EAAAA,IAAKu+B,EAAWxE,OAAOj5B,EAAAA,EAAG88B,MAAM59B,EAAAA;AAG3C;cAAA;AAAA,kBACSwjC,MAAkBpH,MAAeoH,KAAiBpH,KAAcmC,EAAWxE,OAAOj5B,KAAI,CAAA,EAAGq9B,eAAe;AAIjH,qBAHAoF,KAAeC,KAAiBpH,MAAemC,EAAWxE,OAAOj5B,KAAI,CAAA,EAAGq9B,eACxE5Y,KAAOgZ,EAAWxE,OAAOj5B,EAAAA,EAAG88B,MAAM1hC,QAE7B8D,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACzB4hC,kBAAAA,GAAS5hC,EAAAA,IAAKu+B,EAAWxE,OAAOj5B,EAAAA,EAAG88B,MAAM59B,EAAAA,KAAMu+B,EAAWxE,OAAOj5B,KAAI,CAAA,EAAG88B,MAAM59B,EAAAA,IAAKu+B,EAAWxE,OAAOj5B,EAAAA,EAAG88B,MAAM59B,EAAAA,KAAMujC;AAGtH;cAAA;AAGEziC,cAAAA,KAAIwkB,KAAO,IACbxkB,MAAK,IAEL0a,KAAAA;YAAO;AAIXmmB,YAAAA,GAAQiC,aAAa9iC,IACrB6gC,GAAQgC,mBAAmBvH,KAAcmC,EAAWxE,OAAOj5B,EAAAA,EAAGq9B,eAC9DwD,GAAQ+B,qBAAqB3nC;UAAAA;QAAAA,OAE1B;AACL,cAAI8nC,GACAC,IACAC,GACAC,IACAC;AAIJ,cAHAhoB,KAAM+lB,GAAQlmC,EAAEI,QAChBqmC,KAAWN,GAAYnmC,KAAKkmC,GAAQ1lC,GAEhCF,KAAK8nC,MAAoB,MAAdlC,GAAQltB;AACrB,gBAAI4sB,MAAYuB;AACdrB,cAAAA,GAAS,CAAA,IAAKW,GAAS,CAAA,GACvBX,GAAS,CAAA,IAAKW,GAAS,CAAA,GACvBX,GAAS,CAAA,IAAKW,GAAS,CAAA;qBACdb,MAAYwB;AACrBtB,cAAAA,GAAS,CAAA,IAAKI,GAAQlmC,EAAE,CAAA,GACxB8lC,GAAS,CAAA,IAAKI,GAAQlmC,EAAE,CAAA,GACxB8lC,GAAS,CAAA,IAAKI,GAAQlmC,EAAE,CAAA;iBACnB;AACL,kBAAIqoC,KAAYC,GAAiBpC,GAAQlmC,CAAAA,GACrCuoC,IAAUD,GAAiB7B,EAAAA;AAqGZC,cAAAA,KAnGDZ,IAmGMa,KA1ChC,SAAe5hC,IAAGjG,IAAGiB,IAAAA;AACnB,oBASIyoC,IACAC,IACAC,IACAC,IACAC,IAbAlC,KAAM,CAAA,GACNmC,KAAK9jC,GAAE,CAAA,GACP+jC,KAAK/jC,GAAE,CAAA,GACPgkC,KAAKhkC,GAAE,CAAA,GACPikC,KAAKjkC,GAAE,CAAA,GACPkkC,KAAKnqC,GAAE,CAAA,GACPoqC,KAAKpqC,GAAE,CAAA,GACPqqC,KAAKrqC,GAAE,CAAA,GACPsqC,KAAKtqC,GAAE,CAAA;AA8BX,wBAxBA2pC,KAAQI,KAAKI,KAAKH,KAAKI,KAAKH,KAAKI,KAAKH,KAAKI,MAE/B,MACVX,KAAAA,CAASA,IACTQ,KAAAA,CAAMA,IACNC,KAAAA,CAAMA,IACNC,KAAAA,CAAMA,IACNC,KAAAA,CAAMA,KAGJ,IAAMX,KAAQ,QAChBD,KAAQp3B,KAAKi4B,KAAKZ,EAAAA,GAClBC,KAAQt3B,KAAKk4B,IAAId,EAAAA,GACjBG,KAASv3B,KAAKk4B,KAAK,IAAMvpC,MAAKyoC,EAAAA,IAASE,IACvCE,KAASx3B,KAAKk4B,IAAIvpC,KAAIyoC,EAAAA,IAASE,OAE/BC,KAAS,IAAM5oC,IACf6oC,KAAS7oC,KAGX2mC,GAAI,CAAA,IAAKiC,KAASE,KAAKD,KAASK,IAChCvC,GAAI,CAAA,IAAKiC,KAASG,KAAKF,KAASM,IAChCxC,GAAI,CAAA,IAAKiC,KAASI,KAAKH,KAASO,IAChCzC,GAAI,CAAA,IAAKiC,KAASK,KAAKJ,KAASQ,IACzB1C;cAAAA,EAhGiC2B,IAAWE,IADjC3C,KAAWwB,OAAYD,KAAcC,GAAAA,GAqGnDR,KAAKD,GAAK,CAAA,GACVE,KAAKF,GAAK,CAAA,GACVG,KAAKH,GAAK,CAAA,GACVI,KAAKJ,GAAK,CAAA,GACVK,KAAU51B,KAAKm4B,MAAM,IAAI1C,KAAKE,KAAK,IAAIH,KAAKE,IAAI,IAAI,IAAID,KAAKA,KAAK,IAAIC,KAAKA,EAAAA,GAC3EG,KAAW71B,KAAKo4B,KAAK,IAAI5C,KAAKC,KAAK,IAAIC,KAAKC,EAAAA,GAC5CG,KAAO91B,KAAKm4B,MAAM,IAAI3C,KAAKG,KAAK,IAAIF,KAAKC,IAAI,IAAI,IAAIF,KAAKA,KAAK,IAAIE,KAAKA,EAAAA,GAC5EJ,GAAI,CAAA,IAAKM,KAAU3iB,WACnBqiB,GAAI,CAAA,IAAKO,KAAW5iB,WACpBqiB,GAAI,CAAA,IAAKQ,KAAO7iB;YAAAA;;AA1GZ,iBAAKpkB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACN,oBAAdimC,GAAQltB,MACN4sB,MAAYuB,KACdxF,KAAO,IACEiE,KAAWwB,KACpBzF,KAAO,KAEHuE,GAAQliC,EAAEq6B,EAAE1+B,gBAAgBT,SACzBknC,GAAiBmB,WACpBnB,GAAiBmB,SAAS,CAAA,IAGvBnB,GAAiBmB,OAAOtnC,EAAAA,IAQ3BomC,KAAMD,GAAiBmB,OAAOtnC,EAAAA,KAP9B8nC,IAAAA,WAAO7B,GAAQliC,EAAEq6B,EAAEp+B,EAAAA,IAAmBimC,GAAQliC,EAAEq6B,EAAE,CAAA,IAAK6H,GAAQliC,EAAEq6B,EAAEp+B,EAAAA,GACnE+nC,KAAAA,WAAO9B,GAAQliC,EAAEf,EAAEhD,EAAAA,IAAmBimC,GAAQliC,EAAEf,EAAE,CAAA,IAAKijC,GAAQliC,EAAEf,EAAEhD,EAAAA,GACnEgoC,IAAAA,WAAM/B,GAAQjmC,EAAEo+B,EAAEp+B,EAAAA,IAAmBimC,GAAQjmC,EAAEo+B,EAAE,CAAA,IAAK6H,GAAQjmC,EAAEo+B,EAAEp+B,EAAAA,GAClEioC,KAAAA,WAAMhC,GAAQjmC,EAAEgD,EAAEhD,EAAAA,IAAmBimC,GAAQjmC,EAAEgD,EAAE,CAAA,IAAKijC,GAAQjmC,EAAEgD,EAAEhD,EAAAA,GAClEomC,KAAMpJ,cAAcuK,gBAAgBO,GAAMC,IAAMC,GAAKC,EAAAA,EAAK7jC,KAC1D+hC,GAAiBmB,OAAOtnC,EAAAA,IAAKomC,OAIrBD,GAAiBmB,SAQ3BlB,KAAMD,GAAiBmB,UAPvBQ,IAAO7B,GAAQliC,EAAEq6B,GACjB2J,KAAO9B,GAAQliC,EAAEf,GACjBglC,IAAM/B,GAAQjmC,EAAEo+B,GAChB6J,KAAMhC,GAAQjmC,EAAEgD,GAChBojC,KAAMpJ,cAAcuK,gBAAgBO,GAAMC,IAAMC,GAAKC,EAAAA,EAAK7jC,KAC1D6hC,GAAQE,mBAAmBC,KAK7B1E,KAAO0E,IAAKT,KAAWwB,OAAYD,KAAcC,GAAAA,KAIrDX,KAAWN,GAAYnmC,KAAKkmC,GAAQ1lC,GACpC2nC,KAAyB,MAAdjC,GAAQltB,IAAUktB,GAAQlmC,EAAEC,EAAAA,IAAKimC,GAAQlmC,EAAEC,EAAAA,KAAMwmC,GAASxmC,EAAAA,IAAKimC,GAAQlmC,EAAEC,EAAAA,KAAM0hC,IAEpE,uBAAlBrhC,KAAK0lC,WACPF,GAAS7lC,EAAAA,IAAKkoC,KAEdrC,KAAWqC;QAAAA;AAOnB,eADAtC,GAAQ9xB,YAAYuyB,IACbR;MAAAA;AA2DT,eAASwC,GAAiB//B,IAAAA;AACxB,YAAIy+B,KAAUz+B,GAAO,CAAA,IAAK8b,WACtB4iB,KAAW1+B,GAAO,CAAA,IAAK8b,WACvB6iB,KAAO3+B,GAAO,CAAA,IAAK8b,WACnBolB,KAAKr4B,KAAKs4B,IAAI1C,KAAU,CAAA,GACxB2C,KAAKv4B,KAAKs4B,IAAIzC,KAAW,CAAA,GACzB2C,KAAKx4B,KAAKs4B,IAAIxC,KAAO,CAAA,GACrB2C,KAAKz4B,KAAKk4B,IAAItC,KAAU,CAAA,GACxB8C,KAAK14B,KAAKk4B,IAAIrC,KAAW,CAAA,GACzB8C,KAAK34B,KAAKk4B,IAAIpC,KAAO,CAAA;AAKzB,eAAO,CAHC2C,KAAKC,KAAKF,KAAKH,KAAKE,KAAKI,IACzBF,KAAKF,KAAKC,KAAKH,KAAKK,KAAKC,IACzBN,KAAKK,KAAKF,KAAKC,KAAKF,KAAKI,IAHzBN,KAAKE,KAAKC,KAAKC,KAAKC,KAAKC,EAAAA;MAAAA;AAOnC,eAASC,KAAAA;AACP,YAAIpE,KAAWtlC,KAAKiqB,KAAK0f,gBAAgB3pC,KAAKylC,YAC1C1K,KAAW/6B,KAAKimC,UAAU,CAAA,EAAGxmC,IAAIO,KAAKylC,YACtCmE,KAAU5pC,KAAKimC,UAAUjmC,KAAKimC,UAAUnmC,SAAS,CAAA,EAAGL,IAAIO,KAAKylC;AAEjE,YAAA,EAAMH,OAAatlC,KAAK6pC,SAASxC,aAAarnC,KAAK6pC,SAASxC,cAAclC,OAAcnlC,KAAK6pC,SAASxC,aAAauC,MAAWtE,MAAYsE,MAAW5pC,KAAK6pC,SAASxC,YAAYtM,MAAYuK,KAAWvK,MAAY;AAC5M/6B,eAAK6pC,SAASxC,aAAa/B,OAC7BtlC,KAAK6pC,SAASvC,qBAAAA,IACdtnC,KAAK6pC,SAASp2B,YAAY;AAG5B,cAAIq2B,KAAe9pC,KAAKqlC,iBAAiBC,IAAUtlC,KAAK6pC,QAAAA;AACxD7pC,eAAK2lC,KAAKmE;QAAAA;AAIZ,eADA9pC,KAAK6pC,SAASxC,YAAY/B,IAAAA,KACdK;MAAAA;AAGd,eAASoE,GAAUnmB,IAAAA;AACjB,YAAIomB;AAEJ,YAAsB,qBAAlBhqC,KAAK0lC;AACPsE,UAAAA,KAAkBpmB,KAAM5jB,KAAKiqC,MAEzB7E,GAAQplC,KAAKqD,IAAI2mC,EAAAA,IAAmB,SACtChqC,KAAKqD,IAAI2mC,IACThqC,KAAKkqC,OAAAA;;AAMP,mBAHIvqC,KAAI,GACJkgB,KAAM7f,KAAKqD,EAAEvD,QAEVH,KAAIkgB;AACTmqB,YAAAA,KAAkBpmB,GAAIjkB,EAAAA,IAAKK,KAAKiqC,MAE5B7E,GAAQplC,KAAKqD,EAAE1D,EAAAA,IAAKqqC,EAAAA,IAAmB,SACzChqC,KAAKqD,EAAE1D,EAAAA,IAAKqqC,IACZhqC,KAAKkqC,OAAAA,OAGPvqC,MAAK;MAAA;AAKX,eAASwqC,KAAAA;AACP,YAAInqC,KAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,WAAYpqC,KAAKqqC,gBAAgBvqC;AAI3E,cAAIE,KAAKsqC;AACPtqC,iBAAK+pC,UAAU/pC,KAAK2lC,EAAAA;eADtB;AAOA,gBAAIhmC;AAFJK,iBAAKsqC,OAAAA,MACLtqC,KAAKkqC,OAAOlqC,KAAKuqC;AAEjB,gBAAI1qB,KAAM7f,KAAKqqC,gBAAgBvqC,QAC3B0qC,KAAaxqC,KAAKyqC,KAAKzqC,KAAK2lC,KAAK3lC,KAAK8V,KAAKlS;AAE/C,iBAAKjE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB6qC,cAAAA,KAAaxqC,KAAKqqC,gBAAgB1qC,EAAAA,EAAG6qC,EAAAA;AAGvCxqC,iBAAK+pC,UAAUS,EAAAA,GACfxqC,KAAKuqC,gBAAAA,OACLvqC,KAAKsqC,OAAAA,OACLtqC,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU;UAAAA;MAAAA;AAGtC,eAASM,GAAUC,IAAAA;AACjB3qC,aAAKqqC,gBAAgB7mC,KAAKmnC,EAAAA,GAC1B3qC,KAAKuS,UAAUq4B,mBAAmB5qC,IAAAA;MAAAA;AAGpC,eAAS6qC,GAAcrP,IAAM1lB,IAAMm0B,IAAM13B,IAAAA;AACvCvS,aAAK0lC,WAAW,kBAChB1lC,KAAKiqC,OAAOA,MAAQ,GACpBjqC,KAAK8V,OAAOA,IACZ9V,KAAKqD,IAAI4mC,KAAOn0B,GAAKlS,IAAIqmC,KAAOn0B,GAAKlS,GACrC5D,KAAK2lC,KAAK7vB,GAAKlS,GACf5D,KAAKkqC,OAAAA,OACLlqC,KAAKw7B,OAAOA,IACZx7B,KAAKuS,YAAYA,IACjBvS,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAK4D,IAAAA,OACL5D,KAAKyqC,KAAAA,OACLzqC,KAAK8qC,MAAM,GACX9qC,KAAKqqC,kBAAkB,CAAA,GACvBrqC,KAAKuqC,gBAAAA,MACLvqC,KAAK+qC,WAAWZ,IAChBnqC,KAAK+pC,YAAYA,IACjB/pC,KAAK0qC,YAAYA;MAAAA;AAGnB,eAASM,GAAyBxP,IAAM1lB,IAAMm0B,IAAM13B,IAAAA;AAWlD,YAAI5S;AAVJK,aAAK0lC,WAAW,oBAChB1lC,KAAKiqC,OAAOA,MAAQ,GACpBjqC,KAAK8V,OAAOA,IACZ9V,KAAKkqC,OAAAA,OACLlqC,KAAKw7B,OAAOA,IACZx7B,KAAKuS,YAAYA,IACjBvS,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAK4D,IAAAA,OACL5D,KAAKyqC,KAAAA,OACLzqC,KAAKoqC,UAAAA;AAEL,YAAIvqB,KAAM/J,GAAKlS,EAAE9D;AAKjB,aAJAE,KAAKqD,IAAIye,iBAAiB,WAAWjC,EAAAA,GACrC7f,KAAK2lC,KAAK7jB,iBAAiB,WAAWjC,EAAAA,GACtC7f,KAAK8qC,MAAMhpB,iBAAiB,WAAWjC,EAAAA,GAElClgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAKqD,EAAE1D,EAAAA,IAAKmW,GAAKlS,EAAEjE,EAAAA,IAAKK,KAAKiqC,MAC7BjqC,KAAK2lC,GAAGhmC,EAAAA,IAAKmW,GAAKlS,EAAEjE,EAAAA;AAGtBK,aAAKuqC,gBAAAA,MACLvqC,KAAKqqC,kBAAkB,CAAA,GACvBrqC,KAAK+qC,WAAWZ,IAChBnqC,KAAK+pC,YAAYA,IACjB/pC,KAAK0qC,YAAYA;MAAAA;AAGnB,eAASO,GAAuBzP,IAAM1lB,IAAMm0B,IAAM13B,IAAAA;AAChDvS,aAAK0lC,WAAW,kBAChB1lC,KAAKimC,YAAYnwB,GAAKlS,GACtB5D,KAAKkmC,oBAAoB,CAAA,GACzBlmC,KAAKylC,aAAajK,GAAK1lB,KAAKsV,IAC5BprB,KAAKoqC,UAAAA,IACLpqC,KAAK6pC,WAAW,EACdxC,WAAWlC,IACX1xB,WAAW,GACXxR,OAAO,GACPqlC,oBAAAA,GAAqB,GAEvBtnC,KAAK4D,IAAAA,MACL5D,KAAKyqC,KAAAA,MACLzqC,KAAK8V,OAAOA,IACZ9V,KAAKiqC,OAAOA,MAAQ,GACpBjqC,KAAKw7B,OAAOA,IACZx7B,KAAKuS,YAAYA,IACjBvS,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAKqD,IAAI8hC,IACTnlC,KAAK2lC,KAAKR,IACVnlC,KAAKuqC,gBAAAA,MACLvqC,KAAK+qC,WAAWZ,IAChBnqC,KAAK+pC,YAAYA,IACjB/pC,KAAKqlC,mBAAmBA,IACxBrlC,KAAKqqC,kBAAkB,CAACX,GAAsBvZ,KAAKnwB,IAAAA,CAAAA,GACnDA,KAAK0qC,YAAYA;MAAAA;AAGnB,eAASQ,GAAkC1P,IAAM1lB,IAAMm0B,IAAM13B,IAAAA;AAE3D,YAAI5S;AADJK,aAAK0lC,WAAW;AAEhB,YACIhmC,IACAQ,IACA2E,IACAkiC,IAJAlnB,KAAM/J,GAAKlS,EAAE9D;AAMjB,aAAKH,KAAI,GAAGA,KAAIkgB,KAAM,GAAGlgB,MAAK;AACxBmW,UAAAA,GAAKlS,EAAEjE,EAAAA,EAAGkF,MAAMiR,GAAKlS,EAAEjE,EAAAA,EAAGD,KAAKoW,GAAKlS,EAAEjE,KAAI,CAAA,KAAMmW,GAAKlS,EAAEjE,KAAI,CAAA,EAAGD,MAChEA,KAAIoW,GAAKlS,EAAEjE,EAAAA,EAAGD,GACdQ,KAAI4V,GAAKlS,EAAEjE,KAAI,CAAA,EAAGD,GAClBmF,KAAKiR,GAAKlS,EAAEjE,EAAAA,EAAGkF,IACfkiC,KAAKjxB,GAAKlS,EAAEjE,EAAAA,EAAGonC,KAEE,MAAbrnC,GAAEI,WAAkBJ,GAAE,CAAA,MAAOQ,GAAE,CAAA,KAAMR,GAAE,CAAA,MAAOQ,GAAE,CAAA,MAAO+kC,IAAI1E,cAAc7gC,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIQ,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIR,GAAE,CAAA,IAAKmF,GAAG,CAAA,GAAInF,GAAE,CAAA,IAAKmF,GAAG,CAAA,CAAA,KAAOogC,IAAI1E,cAAc7gC,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIQ,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIA,GAAE,CAAA,IAAK6mC,GAAG,CAAA,GAAI7mC,GAAE,CAAA,IAAK6mC,GAAG,CAAA,CAAA,KAAoB,MAAbrnC,GAAEI,WAAkBJ,GAAE,CAAA,MAAOQ,GAAE,CAAA,KAAMR,GAAE,CAAA,MAAOQ,GAAE,CAAA,KAAMR,GAAE,CAAA,MAAOQ,GAAE,CAAA,MAAO+kC,IAAIR,cAAc/kC,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIQ,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIR,GAAE,CAAA,IAAKmF,GAAG,CAAA,GAAInF,GAAE,CAAA,IAAKmF,GAAG,CAAA,GAAInF,GAAE,CAAA,IAAKmF,GAAG,CAAA,CAAA,KAAOogC,IAAIR,cAAc/kC,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIQ,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIA,GAAE,CAAA,GAAIA,GAAE,CAAA,IAAK6mC,GAAG,CAAA,GAAI7mC,GAAE,CAAA,IAAK6mC,GAAG,CAAA,GAAI7mC,GAAE,CAAA,IAAK6mC,GAAG,CAAA,CAAA,OACldjxB,GAAKlS,EAAEjE,EAAAA,EAAGkF,KAAK,MACfiR,GAAKlS,EAAEjE,EAAAA,EAAGonC,KAAK,OAGbrnC,GAAE,CAAA,MAAOQ,GAAE,CAAA,KAAMR,GAAE,CAAA,MAAOQ,GAAE,CAAA,KAAgB,MAAV2E,GAAG,CAAA,KAAsB,MAAVA,GAAG,CAAA,KAAsB,MAAVkiC,GAAG,CAAA,KAAsB,MAAVA,GAAG,CAAA,MACnE,MAAbrnC,GAAEI,UAAgBJ,GAAE,CAAA,MAAOQ,GAAE,CAAA,KAAgB,MAAV2E,GAAG,CAAA,KAAsB,MAAVkiC,GAAG,CAAA,OACvDjxB,GAAKlS,EAAEjE,EAAAA,EAAGkF,KAAK,MACfiR,GAAKlS,EAAEjE,EAAAA,EAAGonC,KAAK;AAMvB/mC,aAAKqqC,kBAAkB,CAACX,GAAsBvZ,KAAKnwB,IAAAA,CAAAA,GACnDA,KAAK8V,OAAOA,IACZ9V,KAAKimC,YAAYnwB,GAAKlS,GACtB5D,KAAKkmC,oBAAoB,CAAA,GACzBlmC,KAAKylC,aAAajK,GAAK1lB,KAAKsV,IAC5BprB,KAAK4D,IAAAA,MACL5D,KAAKyqC,KAAAA,MACLzqC,KAAKuqC,gBAAAA,MACLvqC,KAAKiqC,OAAOA,MAAQ,GACpBjqC,KAAKw7B,OAAOA,IACZx7B,KAAKuS,YAAYA,IACjBvS,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAK+qC,WAAWZ,IAChBnqC,KAAK+pC,YAAYA,IACjB/pC,KAAKqlC,mBAAmBA,IACxBrlC,KAAKoqC,UAAAA;AACL,YAAIe,KAASr1B,GAAKlS,EAAE,CAAA,EAAGlE,EAAEI;AAIzB,aAHAE,KAAKqD,IAAIye,iBAAiB,WAAWqpB,EAAAA,GACrCnrC,KAAK2lC,KAAK7jB,iBAAiB,WAAWqpB,EAAAA,GAEjCxrC,KAAI,GAAGA,KAAIwrC,IAAQxrC,MAAK;AAC3BK,eAAKqD,EAAE1D,EAAAA,IAAKwlC,IACZnlC,KAAK2lC,GAAGhmC,EAAAA,IAAKwlC;AAGfnlC,aAAK6pC,WAAW,EACdxC,WAAWlC,IACX1xB,WAAW,GACXxR,OAAO6f,iBAAiB,WAAWqpB,EAAAA,EAAAA,GAErCnrC,KAAK0qC,YAAYA;MAAAA;AAgCnB,UAAIra,KAAK,EACP+a,SA9BF,SAAiB5P,IAAM1lB,IAAMhM,IAAMmgC,IAAM13B,IAAAA;AACvC,YAAI1T;AAEJ,YAAKiX,GAAKlS,EAAE9D;AAAAA,cAEoB,YAAA,OAAdgW,GAAKlS,EAAE,CAAA;AACvB/E,YAAAA,KAAI,IAAImsC,GAAyBxP,IAAM1lB,IAAMm0B,IAAM13B,EAAAA;;AAEnD,oBAAQzI,IAAAA;cACN,KAAA;AACEjL,gBAAAA,KAAI,IAAIosC,GAAuBzP,IAAM1lB,IAAMm0B,IAAM13B,EAAAA;AACjD;cAEF,KAAA;AACE1T,gBAAAA,KAAI,IAAIqsC,GAAkC1P,IAAM1lB,IAAMm0B,IAAM13B,EAAAA;YAAAA;;AAVhE1T,UAAAA,KAAI,IAAIgsC,GAAcrP,IAAM1lB,IAAMm0B,IAAM13B,EAAAA;AAsB1C,eAJI1T,GAAEwrC,gBAAgBvqC,UACpByS,GAAUq4B,mBAAmB/rC,EAAAA,GAGxBA;MAAAA,EAAAA;AAMT,aAAOwxB;IAAAA,EA1gBa;AA6gBtB,aAASgb,2BAAAA;IAAAA;AAETA,6BAAyBvsC,YAAY,EACnC8rC,oBAAoB,SAA4B5qB,IAAAA;AAAAA,aAC1ChgB,KAAKsrC,kBAAkBnrC,QAAQ6f,EAAAA,MACjChgB,KAAKsrC,kBAAkB9nC,KAAKwc,EAAAA,GAC5BhgB,KAAKuS,UAAUq4B,mBAAmB5qC,IAAAA,GAClCA,KAAKurC,cAAAA;IAAc,GAGvBC,0BAA0B,WAAA;AAExB,UAAI7rC;AADJK,WAAKkqC,OAAAA;AAEL,UAAIrqB,KAAM7f,KAAKsrC,kBAAkBxrC;AAEjC,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKsrC,kBAAkB3rC,EAAAA,EAAGorC,SAAAA,GAEtB/qC,KAAKsrC,kBAAkB3rC,EAAAA,EAAGuqC,SAC5BlqC,KAAKkqC,OAAAA;IAAO,GAIlBuB,8BAA8B,SAAsCl5B,IAAAA;AAClEvS,WAAKuS,YAAYA,IACjBvS,KAAKsrC,oBAAoB,CAAA,GACzBtrC,KAAKkqC,OAAAA,OACLlqC,KAAKurC,cAAAA;IAAc,EAAA;AAIvB,QAAIG,YAKKpM,YAAY,GAJnB,WAAA;AACE,aAAOxd,iBAAiB,WAAW,CAAA;IAAA,CAAA;AAMvC,aAAS6pB,YAAAA;AACP3rC,WAAKW,IAAAA,OACLX,KAAK0/B,UAAU,GACf1/B,KAAK2/B,aAAa,GAClB3/B,KAAKqD,IAAI+e,iBAAiBpiB,KAAK2/B,UAAAA,GAC/B3/B,KAAK0D,IAAI0e,iBAAiBpiB,KAAK2/B,UAAAA,GAC/B3/B,KAAKL,IAAIyiB,iBAAiBpiB,KAAK2/B,UAAAA;IAAAA;AAGjCgM,cAAU7sC,UAAU8sC,cAAc,SAAU9f,IAAQjM,IAAAA;AAClD7f,WAAKW,IAAImrB,IACT9rB,KAAK6rC,UAAUhsB,EAAAA;AAGf,eAFIlgB,KAAI,GAEDA,KAAIkgB;AACT7f,aAAKqD,EAAE1D,EAAAA,IAAK+rC,UAAU7L,WAAAA,GACtB7/B,KAAK0D,EAAE/D,EAAAA,IAAK+rC,UAAU7L,WAAAA,GACtB7/B,KAAKL,EAAEA,EAAAA,IAAK+rC,UAAU7L,WAAAA,GACtBlgC,MAAK;IAAA,GAITgsC,UAAU7sC,UAAU+sC,YAAY,SAAUhsB,IAAAA;AACxC,aAAO7f,KAAK2/B,aAAa9f;AACvB7f,aAAK8rC,kBAAAA;AAGP9rC,WAAK0/B,UAAU7f;IAAAA,GAGjB8rB,UAAU7sC,UAAUgtC,oBAAoB,WAAA;AACtC9rC,WAAKqD,IAAIrD,KAAKqD,EAAEiB,OAAO8d,iBAAiBpiB,KAAK2/B,UAAAA,CAAAA,GAC7C3/B,KAAKL,IAAIK,KAAKL,EAAE2E,OAAO8d,iBAAiBpiB,KAAK2/B,UAAAA,CAAAA,GAC7C3/B,KAAK0D,IAAI1D,KAAK0D,EAAEY,OAAO8d,iBAAiBpiB,KAAK2/B,UAAAA,CAAAA,GAC7C3/B,KAAK2/B,cAAc;IAAA,GAGrBgM,UAAU7sC,UAAUitC,UAAU,SAAUhO,IAAGp7B,IAAGmH,IAAMkiC,IAAKnP,IAAAA;AACvD,UAAI7a;AAOJ,cANAhiB,KAAK0/B,UAAU5uB,KAAKuS,IAAIrjB,KAAK0/B,SAASsM,KAAM,CAAA,GAExChsC,KAAK0/B,WAAW1/B,KAAK2/B,cACvB3/B,KAAK8rC,kBAAAA,GAGChiC,IAAAA;QACN,KAAK;AACHkY,UAAAA,KAAMhiB,KAAKqD;AACX;QAEF,KAAK;AACH2e,UAAAA,KAAMhiB,KAAKL;AACX;QAEF,KAAK;AACHqiB,UAAAA,KAAMhiB,KAAK0D;AACX;QAEF;AACEse,UAAAA,KAAM,CAAA;MAAA;AAAA,OAAA,CAILA,GAAIgqB,EAAAA,KAAQhqB,GAAIgqB,EAAAA,KAAAA,CAASnP,QAC5B7a,GAAIgqB,EAAAA,IAAON,UAAU7L,WAAAA,IAGvB7d,GAAIgqB,EAAAA,EAAK,CAAA,IAAKjO,IACd/b,GAAIgqB,EAAAA,EAAK,CAAA,IAAKrpC;IAAAA,GAGhBgpC,UAAU7sC,UAAUmtC,cAAc,SAAUC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIP,IAAKnP,IAAAA;AACvE78B,WAAK+rC,QAAQG,IAAIC,IAAI,KAAKH,IAAKnP,EAAAA,GAC/B78B,KAAK+rC,QAAQK,IAAIC,IAAI,KAAKL,IAAKnP,EAAAA,GAC/B78B,KAAK+rC,QAAQO,IAAIC,IAAI,KAAKP,IAAKnP,EAAAA;IAAAA,GAGjC8O,UAAU7sC,UAAUiO,UAAU,WAAA;AAC5B,UAAIy/B,KAAU,IAAIb;AAClBa,MAAAA,GAAQZ,YAAY5rC,KAAKW,GAAGX,KAAK0/B,OAAAA;AACjC,UAAI+M,KAAWzsC,KAAKqD,GAChBqpC,KAAY1sC,KAAK0D,GACjBipC,KAAW3sC,KAAKL,GAChBm6B,KAAO;AAEP95B,WAAKW,MACP6rC,GAAQP,YAAYQ,GAAS,CAAA,EAAG,CAAA,GAAIA,GAAS,CAAA,EAAG,CAAA,GAAIE,GAAS,CAAA,EAAG,CAAA,GAAIA,GAAS,CAAA,EAAG,CAAA,GAAID,GAAU,CAAA,EAAG,CAAA,GAAIA,GAAU,CAAA,EAAG,CAAA,GAAI,GAAA,KAAG,GACzH5S,KAAO;AAGT,UAEIn6B,IAFAitC,KAAM5sC,KAAK0/B,UAAU,GACrB7f,KAAM7f,KAAK0/B;AAGf,WAAK//B,KAAIm6B,IAAMn6B,KAAIkgB,IAAKlgB,MAAK;AAC3B6sC,QAAAA,GAAQP,YAAYQ,GAASG,EAAAA,EAAK,CAAA,GAAIH,GAASG,EAAAA,EAAK,CAAA,GAAID,GAASC,EAAAA,EAAK,CAAA,GAAID,GAASC,EAAAA,EAAK,CAAA,GAAIF,GAAUE,EAAAA,EAAK,CAAA,GAAIF,GAAUE,EAAAA,EAAK,CAAA,GAAIjtC,IAAAA,KAAG,GACrIitC,MAAO;AAGT,aAAOJ;IAAAA,GAGTb,UAAU7sC,UAAUgB,SAAS,WAAA;AAC3B,aAAA,KAAY4/B;IAAAA;AAGd,QAAImN,aAoCEhuB,UAAUygB,YAAY,GAnC1B,WAAA;AACE,aAAA,IAAWqM;IAAAA,GAGb,SAAiBmB,IAAAA;AACf,UACIntC,IADAkgB,KAAMitB,GAAUpN;AAGpB,WAAK//B,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB+rC,kBAAU5L,QAAQgN,GAAUzpC,EAAE1D,EAAAA,CAAAA,GAC9B+rC,UAAU5L,QAAQgN,GAAUntC,EAAEA,EAAAA,CAAAA,GAC9B+rC,UAAU5L,QAAQgN,GAAUppC,EAAE/D,EAAAA,CAAAA,GAC9BmtC,GAAUzpC,EAAE1D,EAAAA,IAAK,MACjBmtC,GAAUntC,EAAEA,EAAAA,IAAK,MACjBmtC,GAAUppC,EAAE/D,EAAAA,IAAK;AAGnBmtC,MAAAA,GAAUpN,UAAU,GACpBoN,GAAUnsC,IAAAA;IAAI,CAAA,GAkBhBke,QAAQkuB,QAfR,SAAeC,IAAAA;AACb,UACIrtC,IADAstC,KAASpuB,QAAQghB,WAAAA,GAEjBhgB,KAAAA,WAAMmtB,GAAMtN,UAAwBsN,GAAM3pC,EAAEvD,SAASktC,GAAMtN;AAI/D,WAHAuN,GAAOpB,UAAUhsB,EAAAA,GACjBotB,GAAOtsC,IAAIqsC,GAAMrsC,GAEZhB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBstC,QAAAA,GAAOhB,YAAYe,GAAM3pC,EAAE1D,EAAAA,EAAG,CAAA,GAAIqtC,GAAM3pC,EAAE1D,EAAAA,EAAG,CAAA,GAAIqtC,GAAMtpC,EAAE/D,EAAAA,EAAG,CAAA,GAAIqtC,GAAMtpC,EAAE/D,EAAAA,EAAG,CAAA,GAAIqtC,GAAMrtC,EAAEA,EAAAA,EAAG,CAAA,GAAIqtC,GAAMrtC,EAAEA,EAAAA,EAAG,CAAA,GAAIA,EAAAA;AAG/G,aAAOstC;IAAAA,GAKFpuB,UAFHA;AAKN,aAASquB,kBAAAA;AACPltC,WAAK0/B,UAAU,GACf1/B,KAAK2/B,aAAa,GAClB3/B,KAAK8pB,SAAS1H,iBAAiBpiB,KAAK2/B,UAAAA;IAAAA;AAGtCuN,oBAAgBpuC,UAAUquC,WAAW,SAAUxK,IAAAA;AACzC3iC,WAAK0/B,YAAY1/B,KAAK2/B,eACxB3/B,KAAK8pB,SAAS9pB,KAAK8pB,OAAOxlB,OAAO8d,iBAAiBpiB,KAAK2/B,UAAAA,CAAAA,GACvD3/B,KAAK2/B,cAAc,IAGrB3/B,KAAK8pB,OAAO9pB,KAAK0/B,OAAAA,IAAWiD,IAC5B3iC,KAAK0/B,WAAW;IAAA,GAGlBwN,gBAAgBpuC,UAAUsuC,gBAAgB,WAAA;AACxC,UAAIztC;AAEJ,WAAKA,KAAI,GAAGA,KAAIK,KAAK0/B,SAAS//B,MAAK;AACjCktC,kBAAU/M,QAAQ9/B,KAAK8pB,OAAOnqB,EAAAA,CAAAA;AAGhCK,WAAK0/B,UAAU;IAAA;AAGjB,QAAI2N,uBACEhd,KAAK,EACPid,oBAOF,WAAA;AAUE,aAPI5N,UAEgBE,KADlBF,WAAW,CAAA,IAGO,IAAIwN;IAAAA,GAbxBpN,SAmBF,SAAiByN,IAAAA;AACf,UAAI5tC,IACAkgB,KAAM0tB,GAAgB7N;AAE1B,WAAK//B,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBktC,kBAAU/M,QAAQyN,GAAgBzjB,OAAOnqB,EAAAA,CAAAA;AAG3C4tC,MAAAA,GAAgB7N,UAAU,GAEtBA,YAAYC,eACdC,OAAOR,QAAO,OAAWQ,IAAAA,GACzBD,cAAc,IAGhBC,KAAKF,OAAAA,IAAW6N,IAChB7N,WAAW;IAAA,EAAA,GAjCTA,UAAU,GACVC,aAAa,GACbC,OAAOxd,iBAAiBud,UAAAA,GAkCrBtP,KAxCHA,IAIAqP,SACAC,YACAC,MAqCF4N,uBAAuB,WAAA;AACzB,UAAIrI,KAAAA;AAEJ,eAASsI,GAAiBnI,IAAUoI,IAAenI,IAAAA;AACjD,YACIoI,IACAC,IACAC,IACAnpC,IACAd,IACAslB,IACAC,IACAkY,IACAyM,IATA9H,KAAiBT,GAAQ9xB,WAUzBg3B,KAAKzqC,KAAKimC;AAEd,YAAIX,KAAWmF,GAAG,CAAA,EAAGhrC,IAAIO,KAAKylC;AAC5BkI,UAAAA,KAAWlD,GAAG,CAAA,EAAG/qC,EAAE,CAAA,GACnBmuC,KAAAA,MACA7H,KAAiB;iBACRV,MAAYmF,GAAGA,GAAG3qC,SAAS,CAAA,EAAGL,IAAIO,KAAKylC;AAChDkI,UAAAA,KAAWlD,GAAGA,GAAG3qC,SAAS,CAAA,EAAGJ,IAAI+qC,GAAGA,GAAG3qC,SAAS,CAAA,EAAGJ,EAAE,CAAA,IAAK+qC,GAAGA,GAAG3qC,SAAS,CAAA,EAAGI,EAAE,CAAA,GAO9E2tC,KAAAA;aACK;AAQL,mBAJIjI,IACAC,IACAC,IALAnmC,KAAIqmC,IACJnmB,KAAM4qB,GAAG3qC,SAAS,GAClBsf,KAAAA,MAKGA,OACLwmB,KAAU6E,GAAG9qC,EAAAA,GAAAA,GACbkmC,KAAc4E,GAAG9qC,KAAI,CAAA,GAELF,IAAIO,KAAKylC,aAAaH;AAIlC3lC,YAAAA,KAAIkgB,KAAM,IACZlgB,MAAK,IAELyf,KAAAA;AAQJ,cAJA0mB,KAAmB9lC,KAAKkmC,kBAAkBvmC,EAAAA,KAAM,CAAA,GAEhDqmC,KAAiBrmC,IAAAA,EADjBkuC,KAAuB,MAAdjI,GAAQltB,IAGJ;AACX,gBAAI4sB,MAAYO,GAAYpmC,IAAIO,KAAKylC;AACnCpE,cAAAA,KAAO;qBACEiE,KAAWM,GAAQnmC,IAAIO,KAAKylC;AACrCpE,cAAAA,KAAO;iBACF;AACL,kBAAI0E;AAEAD,cAAAA,GAAiBmB,SACnBlB,KAAMD,GAAiBmB,UAEvBlB,KAAMpJ,cAAcuK,gBAAgBtB,GAAQliC,EAAEq6B,GAAG6H,GAAQliC,EAAEf,GAAGijC,GAAQjmC,EAAEo+B,GAAG6H,GAAQjmC,EAAEgD,CAAAA,EAAGoB,KACxF+hC,GAAiBmB,SAASlB,KAG5B1E,KAAO0E,IAAKT,MAAYM,GAAQnmC,IAAIO,KAAKylC,gBAAgBI,GAAYpmC,IAAIO,KAAKylC,cAAcG,GAAQnmC,IAAIO,KAAKylC,YAAAA;YAAAA;AAG/GmI,YAAAA,KAAW/H,GAAYnmC,IAAImmC,GAAYnmC,EAAE,CAAA,IAAKkmC,GAAQ1lC,EAAE,CAAA;UAAA;AAG1DytC,UAAAA,KAAW/H,GAAQlmC,EAAE,CAAA;QAAA;AAOvB,aAJAwpB,KAAOwkB,GAAchO,SACrBvW,KAAOwkB,GAAShuC,EAAE,CAAA,EAAGG,QACrBylC,GAAQ9xB,YAAYuyB,IAEfthC,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzB,eAAKd,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACzBkqC,YAAAA,KAAcD,KAASF,GAAShuC,EAAE+E,EAAAA,EAAGd,EAAAA,IAAK+pC,GAAShuC,EAAE+E,EAAAA,EAAGd,EAAAA,KAAMgqC,GAASjuC,EAAE+E,EAAAA,EAAGd,EAAAA,IAAK+pC,GAAShuC,EAAE+E,EAAAA,EAAGd,EAAAA,KAAMy9B,IACrGqM,GAAc/tC,EAAE+E,EAAAA,EAAGd,EAAAA,IAAKkqC,IACxBA,KAAcD,KAASF,GAASjqC,EAAEgB,EAAAA,EAAGd,EAAAA,IAAK+pC,GAASjqC,EAAEgB,EAAAA,EAAGd,EAAAA,KAAMgqC,GAASlqC,EAAEgB,EAAAA,EAAGd,EAAAA,IAAK+pC,GAASjqC,EAAEgB,EAAAA,EAAGd,EAAAA,KAAMy9B,IACrGqM,GAAchqC,EAAEgB,EAAAA,EAAGd,EAAAA,IAAKkqC,IACxBA,KAAcD,KAASF,GAAStqC,EAAEqB,EAAAA,EAAGd,EAAAA,IAAK+pC,GAAStqC,EAAEqB,EAAAA,EAAGd,EAAAA,KAAMgqC,GAASvqC,EAAEqB,EAAAA,EAAGd,EAAAA,IAAK+pC,GAAStqC,EAAEqB,EAAAA,EAAGd,EAAAA,KAAMy9B,IACrGqM,GAAcrqC,EAAEqB,EAAAA,EAAGd,EAAAA,IAAKkqC;MAAAA;AAK9B,eAASC,KAAAA;AACP,YAAIzI,KAAWtlC,KAAKiqB,KAAK0f,gBAAgB3pC,KAAKylC,YAC1C1K,KAAW/6B,KAAKimC,UAAU,CAAA,EAAGxmC,IAAIO,KAAKylC,YACtCmE,KAAU5pC,KAAKimC,UAAUjmC,KAAKimC,UAAUnmC,SAAS,CAAA,EAAGL,IAAIO,KAAKylC,YAC7D4B,KAAYrnC,KAAK6pC,SAASxC;AAS9B,eAPMA,OAAclC,OAAckC,KAAYtM,MAAYuK,KAAWvK,MAAYsM,KAAYuC,MAAWtE,KAAWsE,QAEjH5pC,KAAK6pC,SAASp2B,YAAY4zB,KAAY/B,KAAWtlC,KAAK6pC,SAASp2B,YAAY,GAC3EzT,KAAKytC,iBAAiBnI,IAAUtlC,KAAK2lC,IAAI3lC,KAAK6pC,QAAAA,IAGhD7pC,KAAK6pC,SAASxC,YAAY/B,IAAAA,KACdK;MAAAA;AAGd,eAASqI,KAAAA;AACPhuC,aAAKiuC,QAAQjuC,KAAKkuC;MAAAA;AAoBpB,eAASnE,GAAUyC,IAAAA;AAAAA,SAjBnB,SAAqB2B,IAAQC,IAAAA;AAC3B,cAAID,GAAOzO,YAAY0O,GAAO1O,WAAWyO,GAAOxtC,MAAMytC,GAAOztC;AAC3D,mBAAA;AAGF,cAAIhB,IACAkgB,KAAMsuB,GAAOzO;AAEjB,eAAK//B,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,gBAAIwuC,GAAO9qC,EAAE1D,EAAAA,EAAG,CAAA,MAAOyuC,GAAO/qC,EAAE1D,EAAAA,EAAG,CAAA,KAAMwuC,GAAO9qC,EAAE1D,EAAAA,EAAG,CAAA,MAAOyuC,GAAO/qC,EAAE1D,EAAAA,EAAG,CAAA,KAAMwuC,GAAOzqC,EAAE/D,EAAAA,EAAG,CAAA,MAAOyuC,GAAO1qC,EAAE/D,EAAAA,EAAG,CAAA,KAAMwuC,GAAOzqC,EAAE/D,EAAAA,EAAG,CAAA,MAAOyuC,GAAO1qC,EAAE/D,EAAAA,EAAG,CAAA,KAAMwuC,GAAOxuC,EAAEA,EAAAA,EAAG,CAAA,MAAOyuC,GAAOzuC,EAAEA,EAAAA,EAAG,CAAA,KAAMwuC,GAAOxuC,EAAEA,EAAAA,EAAG,CAAA,MAAOyuC,GAAOzuC,EAAEA,EAAAA,EAAG,CAAA;AAC1N,qBAAA;AAIJ,iBAAA;QAAA,GAIiBK,KAAKqD,GAAGmpC,EAAAA,MACvBxsC,KAAKqD,IAAIwpC,UAAUE,MAAMP,EAAAA,GACzBxsC,KAAKkuC,qBAAqBd,cAAAA,GAC1BptC,KAAKkuC,qBAAqBf,SAASntC,KAAKqD,CAAAA,GACxCrD,KAAKkqC,OAAAA,MACLlqC,KAAKiuC,QAAQjuC,KAAKkuC;MAAAA;AAItB,eAAS/D,KAAAA;AACP,YAAInqC,KAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC;AAI1C,cAAKpqC,KAAKqqC,gBAAgBvqC;AAK1B,gBAAIE,KAAKsqC;AACPtqC,mBAAK+pC,UAAU/pC,KAAK2lC,EAAAA;iBADtB;AAOA,kBAAI6E,IAUA7qC;AAZJK,mBAAKsqC,OAAAA,MACLtqC,KAAKkqC,OAAAA,OAIHM,KADExqC,KAAKyqC,KACMzqC,KAAK2lC,KACT3lC,KAAK8V,KAAKqU,KACNnqB,KAAK8V,KAAKqU,GAAGvmB,IAEb5D,KAAK8V,KAAK0T,GAAG5lB;AAI5B,kBAAIic,KAAM7f,KAAKqqC,gBAAgBvqC;AAE/B,mBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB6qC,gBAAAA,KAAaxqC,KAAKqqC,gBAAgB1qC,EAAAA,EAAG6qC,EAAAA;AAGvCxqC,mBAAK+pC,UAAUS,EAAAA,GACfxqC,KAAKsqC,OAAAA,OACLtqC,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU;YAAAA;;AA9BlCpqC,iBAAKkqC,OAAAA;MAAO;AAiChB,eAASmE,GAAc7S,IAAM1lB,IAAMhM,IAAAA;AACjC9J,aAAK0lC,WAAW,SAChB1lC,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAKuS,YAAYipB,IACjBx7B,KAAKw7B,OAAOA,IACZx7B,KAAK8V,OAAOA,IACZ9V,KAAK4D,IAAAA,OACL5D,KAAKyqC,KAAAA,OACLzqC,KAAKkqC,OAAAA;AACL,YAAIze,KAAoB,MAAT3hB,KAAagM,GAAK0T,GAAG5lB,IAAIkS,GAAKqU,GAAGvmB;AAChD5D,aAAKqD,IAAIwpC,UAAUE,MAAMthB,EAAAA,GACzBzrB,KAAK2lC,KAAKkH,UAAUE,MAAM/sC,KAAKqD,CAAAA,GAC/BrD,KAAKkuC,uBAAuBb,oBAAoBC,mBAAAA,GAChDttC,KAAKiuC,QAAQjuC,KAAKkuC,sBAClBluC,KAAKiuC,MAAMd,SAASntC,KAAKqD,CAAAA,GACzBrD,KAAKsuC,QAAQN,IACbhuC,KAAKqqC,kBAAkB,CAAA;MAAA;AAGzB,eAASK,GAAUC,IAAAA;AACjB3qC,aAAKqqC,gBAAgB7mC,KAAKmnC,EAAAA,GAC1B3qC,KAAKuS,UAAUq4B,mBAAmB5qC,IAAAA;MAAAA;AAQpC,eAASuuC,GAAuB/S,IAAM1lB,IAAMhM,IAAAA;AAC1C9J,aAAK0lC,WAAW,SAChB1lC,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAKw7B,OAAOA,IACZx7B,KAAKuS,YAAYipB,IACjBx7B,KAAKylC,aAAajK,GAAK1lB,KAAKsV,IAC5BprB,KAAKimC,YAAqB,MAATn8B,KAAagM,GAAK0T,GAAG5lB,IAAIkS,GAAKqU,GAAGvmB,GAClD5D,KAAKkmC,oBAAoB,CAAA,GACzBlmC,KAAK4D,IAAAA,MACL5D,KAAKyqC,KAAAA;AACL,YAAI5qB,KAAM7f,KAAKimC,UAAU,CAAA,EAAGvmC,EAAE,CAAA,EAAGC,EAAEG;AACnCE,aAAKqD,IAAIwpC,UAAUhN,WAAAA,GACnB7/B,KAAKqD,EAAEuoC,YAAY5rC,KAAKimC,UAAU,CAAA,EAAGvmC,EAAE,CAAA,EAAGiB,GAAGkf,EAAAA,GAC7C7f,KAAK2lC,KAAKkH,UAAUE,MAAM/sC,KAAKqD,CAAAA,GAC/BrD,KAAKkuC,uBAAuBb,oBAAoBC,mBAAAA,GAChDttC,KAAKiuC,QAAQjuC,KAAKkuC,sBAClBluC,KAAKiuC,MAAMd,SAASntC,KAAKqD,CAAAA,GACzBrD,KAAKqnC,YAAYlC,IACjBnlC,KAAKsuC,QAAQN,IACbhuC,KAAK6pC,WAAW,EACdxC,WAAWlC,IACX1xB,WAAW,EAAA,GAEbzT,KAAKqqC,kBAAkB,CAAC0D,GAA4B5d,KAAKnwB,IAAAA,CAAAA;MAAAA;AA5B3DquC,MAAAA,GAAcvvC,UAAU2uC,mBAAmBA,IAC3CY,GAAcvvC,UAAUisC,WAAWZ,IACnCkE,GAAcvvC,UAAUirC,YAAYA,IACpCsE,GAAcvvC,UAAU4rC,YAAYA,IA4BpC6D,GAAuBzvC,UAAUisC,WAAWZ,IAC5CoE,GAAuBzvC,UAAU2uC,mBAAmBA,IACpDc,GAAuBzvC,UAAUirC,YAAYA,IAC7CwE,GAAuBzvC,UAAU4rC,YAAYA;AAE7C,UAAI8D,KAAmB,WAAA;AACrB,YAAIC,KAASxqB;AAEb,iBAASyqB,GAAwBlT,IAAM1lB,IAAAA;AACrC9V,eAAKqD,IAAIwpC,UAAUhN,WAAAA,GACnB7/B,KAAKqD,EAAEuoC,YAAAA,MAAkB,CAAA,GACzB5rC,KAAKkuC,uBAAuBb,oBAAoBC,mBAAAA,GAChDttC,KAAKiuC,QAAQjuC,KAAKkuC,sBAClBluC,KAAKkuC,qBAAqBf,SAASntC,KAAKqD,CAAAA,GACxCrD,KAAKzB,IAAIuX,GAAKvX,GACdyB,KAAKw7B,OAAOA,IACZx7B,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAKoqC,UAAAA,IACLpqC,KAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKjX,GAAG,GAAG,GAAGmB,IAAAA,GACrDA,KAAKN,IAAIwlC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpW,GAAG,GAAG,GAAGM,IAAAA,GAEjDA,KAAKsrC,kBAAkBxrC,SACzBE,KAAK4D,IAAAA,QAEL5D,KAAK4D,IAAAA,OACL5D,KAAK2uC,iBAAAA;QAAAA;AAsDT,eAlDAD,GAAwB5vC,YAAY,EAClCwvC,OAAON,IACPjD,UAAU,WAAA;AACJ/qC,eAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,YAI1CpqC,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU,SACpCpqC,KAAKwrC,yBAAAA,GAEDxrC,KAAKkqC,QACPlqC,KAAK2uC,iBAAAA;QAAAA,GAGTA,kBAAkB,WAAA;AAChB,cAAIC,KAAK5uC,KAAKnB,EAAEwE,EAAE,CAAA,GACdwrC,KAAK7uC,KAAKnB,EAAEwE,EAAE,CAAA,GACdyrC,KAAK9uC,KAAKN,EAAE2D,EAAE,CAAA,IAAK,GACnBkmC,KAAKvpC,KAAKN,EAAE2D,EAAE,CAAA,IAAK,GAEnB0rC,KAAiB,MAAX/uC,KAAKzB,GAEXuP,KAAK9N,KAAKqD;AACdyK,UAAAA,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAKurC,IACb9gC,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAKwrC,KAAKtF,IAClBz7B,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAK0rC,KAAMH,KAAKE,KAAKF,KAAKE,IAClChhC,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAKwrC,IACb/gC,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAKurC,IACb9gC,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAKwrC,KAAKtF,IAClBz7B,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAK0rC,KAAMH,KAAKE,KAAKF,KAAKE,IAClChhC,GAAGzK,EAAE,CAAA,EAAG,CAAA,IAAKwrC,IACb/gC,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKovC,KAAMH,KAAKE,KAAKL,KAASG,KAAKE,KAAKL,IAChD3gC,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKkvC,KAAKtF,IAClBz7B,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKovC,KAAMH,KAAKE,KAAKF,KAAKE,IAClChhC,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKkvC,KAAKtF,KAAKkF,IACvB3gC,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKovC,KAAMH,KAAKE,KAAKL,KAASG,KAAKE,KAAKL,IAChD3gC,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKkvC,KAAKtF,IAClBz7B,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKovC,KAAMH,KAAKE,KAAKF,KAAKE,IAClChhC,GAAGnO,EAAE,CAAA,EAAG,CAAA,IAAKkvC,KAAKtF,KAAKkF,IACvB3gC,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKqrC,KAAMH,KAAKE,KAAKL,KAASG,KAAKE,KAAKL,IAChD3gC,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKmrC,KAAKtF,IAClBz7B,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKqrC,KAAMH,KAAKE,KAAKF,KAAKE,IAClChhC,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKmrC,KAAKtF,KAAKkF,IACvB3gC,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKqrC,KAAMH,KAAKE,KAAKL,KAASG,KAAKE,KAAKL,IAChD3gC,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKmrC,KAAKtF,IAClBz7B,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKqrC,KAAMH,KAAKE,KAAKF,KAAKE,IAClChhC,GAAGpK,EAAE,CAAA,EAAG,CAAA,IAAKmrC,KAAKtF,KAAKkF;QAAAA,EAAAA,GAG3BhvB,gBAAgB,CAAC4rB,wBAAAA,GAA2BqD,EAAAA,GACrCA;MAAAA,EA3Ec,GA8EnBM,KAAoB,WAAA;AACtB,iBAASC,GAAyBzT,IAAM1lB,IAAAA;AACtC9V,eAAKqD,IAAIwpC,UAAUhN,WAAAA,GACnB7/B,KAAKqD,EAAEuoC,YAAAA,MAAkB,CAAA,GACzB5rC,KAAKw7B,OAAOA,IACZx7B,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAK8V,OAAOA,IACZ9V,KAAKoqC,UAAAA,IACLpqC,KAAKzB,IAAIuX,GAAKvX,GACdyB,KAAKyrC,6BAA6BjQ,EAAAA,GAElB,MAAZ1lB,GAAKo5B,MACPlvC,KAAKmvC,KAAKjK,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKq5B,IAAI,GAAG,GAAGnvC,IAAAA,GACvDA,KAAKovC,KAAKlK,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKs5B,IAAI,GAAG,MAAMpvC,IAAAA,GAC1DA,KAAKqvC,gBAAgBrvC,KAAKsvC,qBAE1BtvC,KAAKqvC,gBAAgBrvC,KAAKuvC,sBAG5BvvC,KAAKwpB,KAAK0b,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK0T,IAAI,GAAG,GAAGxpB,IAAAA,GACvDA,KAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKjX,GAAG,GAAG,GAAGmB,IAAAA,GACrDA,KAAKY,IAAIskC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKlV,GAAG,GAAGmjB,WAAW/jB,IAAAA,GAC7DA,KAAKwvC,KAAKtK,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK05B,IAAI,GAAG,GAAGxvC,IAAAA,GACvDA,KAAKyvC,KAAKvK,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK25B,IAAI,GAAG,MAAMzvC,IAAAA,GAC1DA,KAAKkuC,uBAAuBb,oBAAoBC,mBAAAA,GAChDttC,KAAKkuC,qBAAqBf,SAASntC,KAAKqD,CAAAA,GACxCrD,KAAKiuC,QAAQjuC,KAAKkuC,sBAEdluC,KAAKsrC,kBAAkBxrC,SACzBE,KAAK4D,IAAAA,QAEL5D,KAAK4D,IAAAA,OACL5D,KAAKqvC,cAAAA;QAAAA;AAyFT,eArFAJ,GAAyBnwC,YAAY,EACnCwvC,OAAON,IACPjD,UAAU,WAAA;AACJ/qC,eAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,YAI1CpqC,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU,SACpCpqC,KAAKwrC,yBAAAA,GAEDxrC,KAAKkqC,QACPlqC,KAAKqvC,cAAAA;QAAAA,GAGTC,mBAAmB,WAAA;AACjB,cAaI3vC,IACA+vC,IACAC,IACAC,IAhBAC,KAAiC,IAAxB/+B,KAAKqS,MAAMnjB,KAAKwpB,GAAGnmB,CAAAA,GAC5BysC,KAAkB,IAAVh/B,KAAKkT,KAAS6rB,IAKtBE,KAAAA,MACAC,KAAUhwC,KAAKwvC,GAAGnsC,GAClB4sC,KAAWjwC,KAAKmvC,GAAG9rC,GACnB6sC,KAAYlwC,KAAKyvC,GAAGpsC,GACpB8sC,KAAanwC,KAAKovC,GAAG/rC,GACrB+sC,KAAmB,IAAIt/B,KAAKkT,KAAKgsB,MAAoB,IAATH,KAC5CQ,KAAoB,IAAIv/B,KAAKkT,KAAKisB,MAAqB,IAATJ,KAK9CS,KAAAA,CAAcx/B,KAAKkT,KAAK;AAC5BssB,UAAAA,MAActwC,KAAKY,EAAEyC;AACrB,cAAIm/B,KAAsB,MAAhBxiC,KAAK8V,KAAKvX,IAAAA,KAAe;AAGnC,eAFAyB,KAAKqD,EAAEq8B,UAAU,GAEZ//B,KAAI,GAAGA,KAAIkwC,IAAQlwC,MAAK,GAAG;AAE9BgwC,YAAAA,KAAYI,KAAWG,KAAYC,IACnCP,KAAeG,KAAWK,KAAmBC;AAC7C,gBAAItS,MAHJ2R,KAAMK,KAAWC,KAAUC,MAGbn/B,KAAKs4B,IAAIkH,EAAAA,GACnB3tC,KAAI+sC,KAAM5+B,KAAKk4B,IAAIsH,EAAAA,GACnBC,KAAW,MAANxS,MAAiB,MAANp7B,KAAU,IAAIA,KAAImO,KAAKmS,KAAK8a,KAAIA,KAAIp7B,KAAIA,EAAAA,GACxD6tC,KAAW,MAANzS,MAAiB,MAANp7B,KAAU,IAAA,CAAKo7B,KAAIjtB,KAAKmS,KAAK8a,KAAIA,KAAIp7B,KAAIA,EAAAA;AAC7Do7B,YAAAA,MAAAA,CAAM/9B,KAAKnB,EAAEwE,EAAE,CAAA,GACfV,MAAAA,CAAM3C,KAAKnB,EAAEwE,EAAE,CAAA,GACfrD,KAAKqD,EAAE4oC,YAAYlO,IAAGp7B,IAAGo7B,KAAIwS,KAAKX,KAAeD,KAAYnN,IAAK7/B,KAAI6tC,KAAKZ,KAAeD,KAAYnN,IAAKzE,KAAIwS,KAAKX,KAAeD,KAAYnN,IAAK7/B,KAAI6tC,KAAKZ,KAAeD,KAAYnN,IAAK7iC,IAAAA,IAAG,GAMhMowC,KAAAA,CAAYA,IACZO,MAAcR,KAAQtN;UAAAA;QAAAA,GAG1B+M,sBAAsB,WAAA;AACpB,cAKI5vC,IALAkwC,KAAS/+B,KAAKqS,MAAMnjB,KAAKwpB,GAAGnmB,CAAAA,GAC5BysC,KAAkB,IAAVh/B,KAAKkT,KAAS6rB,IACtBH,KAAM1vC,KAAKwvC,GAAGnsC,GACdssC,KAAY3vC,KAAKyvC,GAAGpsC,GACpBusC,KAAe,IAAI9+B,KAAKkT,KAAK0rB,MAAgB,IAATG,KAEpCS,KAAwB,MAAA,CAAVx/B,KAAKkT,IACnBwe,KAAsB,MAAhBxiC,KAAK8V,KAAKvX,IAAAA,KAAe;AAInC,eAHA+xC,MAActwC,KAAKY,EAAEyC,GACrBrD,KAAKqD,EAAEq8B,UAAU,GAEZ//B,KAAI,GAAGA,KAAIkwC,IAAQlwC,MAAK,GAAG;AAC9B,gBAAIo+B,KAAI2R,KAAM5+B,KAAKs4B,IAAIkH,EAAAA,GACnB3tC,KAAI+sC,KAAM5+B,KAAKk4B,IAAIsH,EAAAA,GACnBC,KAAW,MAANxS,MAAiB,MAANp7B,KAAU,IAAIA,KAAImO,KAAKmS,KAAK8a,KAAIA,KAAIp7B,KAAIA,EAAAA,GACxD6tC,KAAW,MAANzS,MAAiB,MAANp7B,KAAU,IAAA,CAAKo7B,KAAIjtB,KAAKmS,KAAK8a,KAAIA,KAAIp7B,KAAIA,EAAAA;AAC7Do7B,YAAAA,MAAAA,CAAM/9B,KAAKnB,EAAEwE,EAAE,CAAA,GACfV,MAAAA,CAAM3C,KAAKnB,EAAEwE,EAAE,CAAA,GACfrD,KAAKqD,EAAE4oC,YAAYlO,IAAGp7B,IAAGo7B,KAAIwS,KAAKX,KAAeD,KAAYnN,IAAK7/B,KAAI6tC,KAAKZ,KAAeD,KAAYnN,IAAKzE,KAAIwS,KAAKX,KAAeD,KAAYnN,IAAK7/B,KAAI6tC,KAAKZ,KAAeD,KAAYnN,IAAK7iC,IAAAA,IAAG,GAChM2wC,MAAcR,KAAQtN;UAAAA;AAGxBxiC,eAAKiuC,MAAMnuC,SAAS,GACpBE,KAAKiuC,MAAM,CAAA,IAAKjuC,KAAKqD;QAAAA,EAAAA,GAGzBoc,gBAAgB,CAAC4rB,wBAAAA,GAA2B4D,EAAAA,GACrCA;MAAAA,EAzHe,GA4HpBwB,KAAoB,WAAA;AACtB,iBAASC,GAAyBlV,IAAM1lB,IAAAA;AACtC9V,eAAKqD,IAAIwpC,UAAUhN,WAAAA,GACnB7/B,KAAKqD,EAAE1C,IAAAA,MACPX,KAAKkuC,uBAAuBb,oBAAoBC,mBAAAA,GAChDttC,KAAKkuC,qBAAqBf,SAASntC,KAAKqD,CAAAA,GACxCrD,KAAKiuC,QAAQjuC,KAAKkuC,sBAClBluC,KAAKw7B,OAAOA,IACZx7B,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAKoqC,UAAAA,IACLpqC,KAAKzB,IAAIuX,GAAKvX,GACdyB,KAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKjX,GAAG,GAAG,GAAGmB,IAAAA,GACrDA,KAAKN,IAAIwlC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpW,GAAG,GAAG,GAAGM,IAAAA,GACrDA,KAAKY,IAAIskC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKlV,GAAG,GAAG,GAAGZ,IAAAA,GAEjDA,KAAKsrC,kBAAkBxrC,SACzBE,KAAK4D,IAAAA,QAEL5D,KAAK4D,IAAAA,OACL5D,KAAK2wC,kBAAAA;QAAAA;AA8DT,eA1DAD,GAAyB5xC,YAAY,EACnC6xC,mBAAmB,WAAA;AACjB,cAAI/B,KAAK5uC,KAAKnB,EAAEwE,EAAE,CAAA,GACdwrC,KAAK7uC,KAAKnB,EAAEwE,EAAE,CAAA,GACdutC,KAAK5wC,KAAKN,EAAE2D,EAAE,CAAA,IAAK,GACnBwtC,KAAK7wC,KAAKN,EAAE2D,EAAE,CAAA,IAAK,GACnB+gB,KAAQd,MAAMstB,IAAIC,IAAI7wC,KAAKY,EAAEyC,CAAAA,GAC7BorC,KAASrqB,MAAS,IAAIH;AAC1BjkB,eAAKqD,EAAEq8B,UAAU,GAEF,MAAX1/B,KAAKzB,KAAsB,MAAXyB,KAAKzB,KACvByB,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQ,GAAA,IAAG,GACrGzuC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQG,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAO,GAAA,IAAG,GAEvF,MAAVA,MACFpkB,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAI,GAAA,IAAG,GACrG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAI,GAAA,IAAG,GACrG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQ,GAAA,IAAG,GACrGzuC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQG,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAO,GAAA,IAAG,GACrGpkB,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAI,GAAA,IAAG,GACrG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAI,GAAA,IAAG,MAErG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAIjC,KAAKgC,IAAI/B,KAAKgC,IAAI,CAAA,GAClF7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,IAAIjC,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQG,KAAKgC,IAAI/B,KAAKgC,IAAI,CAAA,OAGpF7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQG,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAO,GAAA,IAAG,GAEvF,MAAVA,MACFpkB,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAI,GAAA,IAAG,GACrG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAI,GAAA,IAAG,GACrG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQ,GAAA,IAAG,GACrGzuC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQG,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAO,GAAA,IAAG,GACrGpkB,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAI,GAAA,IAAG,GACrG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAIjC,KAAKgC,KAAKxsB,IAAOyqB,KAAKgC,IAAI,GAAA,IAAG,GACrG7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKzsB,IAAOwqB,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQ,GAAA,IAAG,MAErGzuC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAIjC,KAAKgC,IAAI/B,KAAKgC,IAAI,GAAA,IAAG,GACrF7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,IAAIjC,KAAKgC,IAAI/B,KAAKgC,KAAKpC,IAAQG,KAAKgC,IAAI/B,KAAKgC,IAAI,GAAA,IAAG,GACrF7wC,KAAKqD,EAAE4oC,YAAY2C,KAAKgC,IAAI/B,KAAKgC,IAAIjC,KAAKgC,KAAKnC,IAAQI,KAAKgC,IAAIjC,KAAKgC,IAAI/B,KAAKgC,IAAI,GAAA,IAAG;QAAA,GAI3F9F,UAAU,WAAA;AACJ/qC,eAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,YAI1CpqC,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU,SACpCpqC,KAAKwrC,yBAAAA,GAEDxrC,KAAKkqC,QACPlqC,KAAK2wC,kBAAAA;QAAAA,GAGTrC,OAAON,GAAAA,GAETvuB,gBAAgB,CAAC4rB,wBAAAA,GAA2BqF,EAAAA,GACrCA;MAAAA,EAlFe,GAwHpBrgB,KAAK,EACTA,cApCA,SAAsBmL,IAAM1lB,IAAMhM,IAAAA;AAChC,YAAIkW;AAuBJ,eArBa,MAATlW,MAAuB,MAATA,KAKdkW,MAJsB,MAATlW,KAAagM,GAAK0T,KAAK1T,GAAKqU,IACvBvmB,EAEX9D,SACA,IAAIyuC,GAAuB/S,IAAM1lB,IAAMhM,EAAAA,IAEvC,IAAIukC,GAAc7S,IAAM1lB,IAAMhM,EAAAA,IAErB,MAATA,KACTkW,KAAO,IAAIywB,GAAkBjV,IAAM1lB,EAAAA,IACjB,MAAThM,KACTkW,KAAO,IAAIwuB,GAAiBhT,IAAM1lB,EAAAA,IAChB,MAAThM,OACTkW,KAAO,IAAIgvB,GAAkBxT,IAAM1lB,EAAAA,IAGjCkK,GAAKpc,KACP43B,GAAKoP,mBAAmB5qB,EAAAA,GAGnBA;MAAAA,GAaTqQ,wBAVA,WAAA;AACE,eAAOge;MAAAA,GAUThe,iCAPA,WAAA;AACE,eAAOke;MAAAA,EAAAA;AAOT,aAAOle;IAAAA,EAxjBkB,GAwlBvBygB,SAAS,WAAA;AACX,UAAIC,KAAOjgC,KAAKs4B,KACZ4H,KAAOlgC,KAAKk4B,KACZiI,KAAOngC,KAAKogC,KACZC,KAAOrgC,KAAKsT;AAEhB,eAASkqB,KAAAA;AAiBP,eAhBAtuC,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,CAAA,IAAK,GAChBpM,KAAKoM,MAAM,EAAA,IAAM,GACjBpM,KAAKoM,MAAM,EAAA,IAAM,GACjBpM,KAAKoM,MAAM,EAAA,IAAM,GACjBpM,KAAKoM,MAAM,EAAA,IAAM,GACjBpM,KAAKoM,MAAM,EAAA,IAAM,GACjBpM,KAAKoM,MAAM,EAAA,IAAM,GAAA;MAAA;AAInB,eAASglC,GAAOtB,IAAAA;AACd,YAAc,MAAVA;AACF,iBAAA;AAGF,YAAIuB,KAAON,GAAKjB,EAAAA,GAEZwB,KAAON,GAAKlB,EAAAA;AAEhB,eAAA,KAAYyB,GAAGF,IAAAA,CAAOC,IAAM,GAAG,GAAGA,IAAMD,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAA;MAAA;AAG3E,eAASG,GAAQ1B,IAAAA;AACf,YAAc,MAAVA;AACF,iBAAA;AAGF,YAAIuB,KAAON,GAAKjB,EAAAA,GAEZwB,KAAON,GAAKlB,EAAAA;AAEhB,eAAA,KAAYyB,GAAG,GAAG,GAAG,GAAG,GAAG,GAAGF,IAAAA,CAAOC,IAAM,GAAG,GAAGA,IAAMD,IAAM,GAAG,GAAG,GAAG,GAAG,CAAA;MAAA;AAG3E,eAASI,GAAQ3B,IAAAA;AACf,YAAc,MAAVA;AACF,iBAAA;AAGF,YAAIuB,KAAON,GAAKjB,EAAAA,GAEZwB,KAAON,GAAKlB,EAAAA;AAEhB,eAAA,KAAYyB,GAAGF,IAAM,GAAGC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAA,CAAIA,IAAM,GAAGD,IAAM,GAAG,GAAG,GAAG,GAAG,CAAA;MAAA;AAG3E,eAASK,GAAQ5B,IAAAA;AACf,YAAc,MAAVA;AACF,iBAAA;AAGF,YAAIuB,KAAON,GAAKjB,EAAAA,GAEZwB,KAAON,GAAKlB,EAAAA;AAEhB,eAAA,KAAYyB,GAAGF,IAAAA,CAAOC,IAAM,GAAG,GAAGA,IAAMD,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAA;MAAA;AAG3E,eAASM,GAAMC,IAAI1C,IAAAA;AACjB,eAAA,KAAYqC,GAAG,GAAGrC,IAAI0C,IAAI,GAAG,GAAG,CAAA;MAAA;AAGlC,eAASC,GAAKtJ,IAAIC,IAAAA;AAChB,eAAA,KAAYmJ,MAAMV,GAAK1I,EAAAA,GAAK0I,GAAKzI,EAAAA,CAAAA;MAAAA;AAGnC,eAASsJ,GAAavJ,IAAIuH,IAAAA;AACxB,YAAIuB,KAAON,GAAKjB,EAAAA,GAEZwB,KAAON,GAAKlB,EAAAA;AAEhB,eAAA,KAAYyB,GAAGF,IAAMC,IAAM,GAAG,GAAA,CAAIA,IAAMD,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAA,EAAGE,GAAG,GAAG,GAAG,GAAG,GAAGN,GAAK1I,EAAAA,GAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAA,EAAGgJ,GAAGF,IAAAA,CAAOC,IAAM,GAAG,GAAGA,IAAMD,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAA;MAAA;AAGrM,eAASU,GAAMH,IAAI1C,IAAI8C,IAAAA;AAKrB,eAJKA,MAAa,MAAPA,OACTA,KAAK,IAGI,MAAPJ,MAAmB,MAAP1C,MAAmB,MAAP8C,KAAAA,OAAAA,KAIhBT,GAAGK,IAAI,GAAG,GAAG,GAAG,GAAG1C,IAAI,GAAG,GAAG,GAAG,GAAG8C,IAAI,GAAG,GAAG,GAAG,GAAG,CAAA;MAAA;AAGjE,eAASC,GAAaxtC,IAAGjG,IAAGmC,IAAGpC,IAAG2B,IAAGwC,IAAGE,IAAG8V,IAAG/Y,IAAG+E,IAAGd,IAAGoB,IAAGrB,IAAG/D,IAAG8D,IAAG7E,IAAAA;AAiBjE,eAhBAmB,KAAKoM,MAAM,CAAA,IAAK3H,IAChBzE,KAAKoM,MAAM,CAAA,IAAK5N,IAChBwB,KAAKoM,MAAM,CAAA,IAAKzL,IAChBX,KAAKoM,MAAM,CAAA,IAAK7N,IAChByB,KAAKoM,MAAM,CAAA,IAAKlM,IAChBF,KAAKoM,MAAM,CAAA,IAAK1J,IAChB1C,KAAKoM,MAAM,CAAA,IAAKxJ,IAChB5C,KAAKoM,MAAM,CAAA,IAAKsM,IAChB1Y,KAAKoM,MAAM,CAAA,IAAKzM,IAChBK,KAAKoM,MAAM,CAAA,IAAK1H,IAChB1E,KAAKoM,MAAM,EAAA,IAAMxI,IACjB5D,KAAKoM,MAAM,EAAA,IAAMpH,IACjBhF,KAAKoM,MAAM,EAAA,IAAMzI,IACjB3D,KAAKoM,MAAM,EAAA,IAAMxM,IACjBI,KAAKoM,MAAM,EAAA,IAAM1I,IACjB1D,KAAKoM,MAAM,EAAA,IAAMvN,IAAAA;MAAAA;AAInB,eAASqzC,GAAUC,IAAIzoB,IAAI0oB,IAAAA;AAGzB,eAFAA,KAAKA,MAAM,GAEA,MAAPD,MAAmB,MAAPzoB,MAAmB,MAAP0oB,KAAAA,KACdb,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAGY,IAAIzoB,IAAI0oB,IAAI,CAAA,IAAA;MAAA;AAMnE,eAASC,GAAUC,IAAIC,IAAIlJ,IAAImJ,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIjvC,IAAIkvC,IAAIC,IAAIC,IAAIC,IAAIC,IAAAA;AAC7E,YAAIvV,KAAK59B,KAAKoM;AAEd,YAAW,MAAPkmC,MAAmB,MAAPC,MAAmB,MAAPlJ,MAAmB,MAAPmJ,MAAmB,MAAPC,MAAmB,MAAPC,MAAmB,MAAPC,MAAmB,MAAPC,MAAmB,MAAPC,MAAmB,MAAPC,MAAmB,MAAPjvC,MAAmB,MAAPkvC;AAStI,iBANAnV,GAAG,EAAA,IAAMA,GAAG,EAAA,IAAM0U,KAAK1U,GAAG,EAAA,IAAMoV,IAChCpV,GAAG,EAAA,IAAMA,GAAG,EAAA,IAAM8U,KAAK9U,GAAG,EAAA,IAAMqV,IAChCrV,GAAG,EAAA,IAAMA,GAAG,EAAA,IAAM/5B,KAAK+5B,GAAG,EAAA,IAAMsV,IAChCtV,GAAG,EAAA,KAAOuV,IAEVnzC,KAAKozC,sBAAAA,OAAsB;AAI7B,YAAIC,KAAKzV,GAAG,CAAA,GACR0V,KAAK1V,GAAG,CAAA,GACRuL,KAAKvL,GAAG,CAAA,GACR2V,KAAK3V,GAAG,CAAA,GACR4V,KAAK5V,GAAG,CAAA,GACR6V,KAAK7V,GAAG,CAAA,GACR8V,KAAK9V,GAAG,CAAA,GACR+V,KAAK/V,GAAG,CAAA,GACRgW,KAAKhW,GAAG,CAAA,GACRiW,KAAKjW,GAAG,CAAA,GACRkW,KAAKlW,GAAG,EAAA,GACRmW,KAAKnW,GAAG,EAAA,GACRoW,KAAKpW,GAAG,EAAA,GACRqW,KAAKrW,GAAG,EAAA,GACRsW,KAAKtW,GAAG,EAAA,GACRiR,KAAKjR,GAAG,EAAA;AAwBZ,eAjBAA,GAAG,CAAA,IAAKyV,KAAKf,KAAKgB,KAAKb,KAAKtJ,KAAK0J,KAAKU,KAAKP,IAC3CpV,GAAG,CAAA,IAAKyV,KAAKd,KAAKe,KAAKZ,KAAKvJ,KAAK2J,KAAKS,KAAKN,IAC3CrV,GAAG,CAAA,IAAKyV,KAAKhK,KAAKiK,KAAKX,KAAKxJ,KAAKtlC,KAAK0vC,KAAKL,IAC3CtV,GAAG,CAAA,IAAKyV,KAAKb,KAAKc,KAAKV,KAAKzJ,KAAK4J,KAAKQ,KAAKJ,IAC3CvV,GAAG,CAAA,IAAK4V,KAAKlB,KAAKmB,KAAKhB,KAAKiB,KAAKb,KAAKc,KAAKX,IAC3CpV,GAAG,CAAA,IAAK4V,KAAKjB,KAAKkB,KAAKf,KAAKgB,KAAKZ,KAAKa,KAAKV,IAC3CrV,GAAG,CAAA,IAAK4V,KAAKnK,KAAKoK,KAAKd,KAAKe,KAAK7vC,KAAK8vC,KAAKT,IAC3CtV,GAAG,CAAA,IAAK4V,KAAKhB,KAAKiB,KAAKb,KAAKc,KAAKX,KAAKY,KAAKR,IAC3CvV,GAAG,CAAA,IAAKgW,KAAKtB,KAAKuB,KAAKpB,KAAKqB,KAAKjB,KAAKkB,KAAKf,IAC3CpV,GAAG,CAAA,IAAKgW,KAAKrB,KAAKsB,KAAKnB,KAAKoB,KAAKhB,KAAKiB,KAAKd,IAC3CrV,GAAG,EAAA,IAAMgW,KAAKvK,KAAKwK,KAAKlB,KAAKmB,KAAKjwC,KAAKkwC,KAAKb,IAC5CtV,GAAG,EAAA,IAAMgW,KAAKpB,KAAKqB,KAAKjB,KAAKkB,KAAKf,KAAKgB,KAAKZ,IAC5CvV,GAAG,EAAA,IAAMoW,KAAK1B,KAAK2B,KAAKxB,KAAKyB,KAAKrB,KAAKhE,KAAKmE,IAC5CpV,GAAG,EAAA,IAAMoW,KAAKzB,KAAK0B,KAAKvB,KAAKwB,KAAKpB,KAAKjE,KAAKoE,IAC5CrV,GAAG,EAAA,IAAMoW,KAAK3K,KAAK4K,KAAKtB,KAAKuB,KAAKrwC,KAAKgrC,KAAKqE,IAC5CtV,GAAG,EAAA,IAAMoW,KAAKxB,KAAKyB,KAAKrB,KAAKsB,KAAKnB,KAAKlE,KAAKsE,IAC5CnzC,KAAKozC,sBAAAA,OAAsB;MAAA;AAI7B,eAASe,KAAAA;AAMP,eALKn0C,KAAKozC,wBACRpzC,KAAKo0C,YAAAA,EAAgC,MAAlBp0C,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA8B,MAAlBpM,KAAKoM,MAAM,CAAA,KAA+B,MAAnBpM,KAAKoM,MAAM,EAAA,KAAgC,MAAnBpM,KAAKoM,MAAM,EAAA,KAAgC,MAAnBpM,KAAKoM,MAAM,EAAA,KAAgC,MAAnBpM,KAAKoM,MAAM,EAAA,KAAgC,MAAnBpM,KAAKoM,MAAM,EAAA,KAAgC,MAAnBpM,KAAKoM,MAAM,EAAA,IAC5XpM,KAAKozC,sBAAAA,OAAsB,KAGjBgB;MAAAA;AAGd,eAASC,GAAOC,IAAAA;AAGd,iBAFI30C,KAAI,GAEDA,KAAI,MAAI;AACb,cAAI20C,GAAKloC,MAAMzM,EAAAA,MAAOK,KAAKoM,MAAMzM,EAAAA;AAC/B,mBAAA;AAGFA,UAAAA,MAAK;QAAA;AAGP,eAAA;MAAA;AAGF,eAASotC,GAAMuH,IAAAA;AACb,YAAI30C;AAEJ,aAAKA,KAAI,GAAGA,KAAI,IAAIA,MAAK;AACvB20C,UAAAA,GAAKloC,MAAMzM,EAAAA,IAAKK,KAAKoM,MAAMzM,EAAAA;AAG7B,eAAO20C;MAAAA;AAGT,eAASC,GAAenoC,IAAAA;AACtB,YAAIzM;AAEJ,aAAKA,KAAI,GAAGA,KAAI,IAAIA,MAAK;AACvBK,eAAKoM,MAAMzM,EAAAA,IAAKyM,GAAMzM,EAAAA;MAAAA;AAI1B,eAAS60C,GAAazW,IAAGp7B,IAAG8xC,IAAAA;AAC1B,eAAO,EACL1W,GAAGA,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,GAC1EzJ,GAAGo7B,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,GAC1EqoC,GAAG1W,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,EAAA,IAAMpM,KAAKoM,MAAM,EAAA,EAAA;MAAA;AAQ/E,eAASsoC,GAAS3W,IAAGp7B,IAAG8xC,IAAAA;AACtB,eAAO1W,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA;MAAA;AAGhF,eAASuoC,GAAS5W,IAAGp7B,IAAG8xC,IAAAA;AACtB,eAAO1W,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA;MAAA;AAGhF,eAASwoC,GAAS7W,IAAGp7B,IAAG8xC,IAAAA;AACtB,eAAO1W,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,EAAA,IAAMpM,KAAKoM,MAAM,EAAA;MAAA;AAGjF,eAASyoC,KAAAA;AACP,YAAIC,KAAc90C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,CAAA,GACzE3H,KAAIzE,KAAKoM,MAAM,CAAA,IAAK0oC,IACpBt2C,KAAAA,CAAKwB,KAAKoM,MAAM,CAAA,IAAK0oC,IACrBn0C,KAAAA,CAAKX,KAAKoM,MAAM,CAAA,IAAK0oC,IACrBv2C,KAAIyB,KAAKoM,MAAM,CAAA,IAAK0oC,IACpB50C,MAAKF,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,IAAMpM,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,KAAO0oC,IACxEpyC,KAAAA,EAAM1C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,IAAMpM,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,KAAO0oC,IACzEC,KAAgB,IAAIjE;AAOxB,eANAiE,GAAc3oC,MAAM,CAAA,IAAK3H,IACzBswC,GAAc3oC,MAAM,CAAA,IAAK5N,IACzBu2C,GAAc3oC,MAAM,CAAA,IAAKzL,IACzBo0C,GAAc3oC,MAAM,CAAA,IAAK7N,IACzBw2C,GAAc3oC,MAAM,EAAA,IAAMlM,IAC1B60C,GAAc3oC,MAAM,EAAA,IAAM1J,IACnBqyC;MAAAA;AAGT,eAASC,GAAaxrB,IAAAA;AAEpB,eADoBxpB,KAAK60C,iBAAAA,EACJI,kBAAkBzrB,GAAG,CAAA,GAAIA,GAAG,CAAA,GAAIA,GAAG,CAAA,KAAM,CAAA;MAAA;AAGhE,eAAS0rB,GAAcC,IAAAA;AACrB,YAAIx1C,IACAkgB,KAAMs1B,GAAIr1C,QACVs1C,KAAS,CAAA;AAEb,aAAKz1C,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBy1C,UAAAA,GAAOz1C,EAAAA,IAAKq1C,GAAaG,GAAIx1C,EAAAA,CAAAA;AAG/B,eAAOy1C;MAAAA;AAGT,eAASC,GAAoBrU,IAAKC,IAAKC,IAAAA;AACrC,YAAIlf,KAAMF,iBAAiB,WAAW,CAAA;AAEtC,YAAI9hB,KAAKm0C,WAAAA;AACPnyB,UAAAA,GAAI,CAAA,IAAKgf,GAAI,CAAA,GACbhf,GAAI,CAAA,IAAKgf,GAAI,CAAA,GACbhf,GAAI,CAAA,IAAKif,GAAI,CAAA,GACbjf,GAAI,CAAA,IAAKif,GAAI,CAAA,GACbjf,GAAI,CAAA,IAAKkf,GAAI,CAAA,GACblf,GAAI,CAAA,IAAKkf,GAAI,CAAA;aACR;AACL,cAAI0N,KAAK5uC,KAAKoM,MAAM,CAAA,GAChByiC,KAAK7uC,KAAKoM,MAAM,CAAA,GAChBkpC,KAAKt1C,KAAKoM,MAAM,CAAA,GAChBmpC,KAAKv1C,KAAKoM,MAAM,CAAA,GAChBopC,KAAMx1C,KAAKoM,MAAM,EAAA,GACjBqpC,KAAMz1C,KAAKoM,MAAM,EAAA;AACrB4V,UAAAA,GAAI,CAAA,IAAKgf,GAAI,CAAA,IAAK4N,KAAK5N,GAAI,CAAA,IAAKsU,KAAKE,IACrCxzB,GAAI,CAAA,IAAKgf,GAAI,CAAA,IAAK6N,KAAK7N,GAAI,CAAA,IAAKuU,KAAKE,IACrCzzB,GAAI,CAAA,IAAKif,GAAI,CAAA,IAAK2N,KAAK3N,GAAI,CAAA,IAAKqU,KAAKE,IACrCxzB,GAAI,CAAA,IAAKif,GAAI,CAAA,IAAK4N,KAAK5N,GAAI,CAAA,IAAKsU,KAAKE,IACrCzzB,GAAI,CAAA,IAAKkf,GAAI,CAAA,IAAK0N,KAAK1N,GAAI,CAAA,IAAKoU,KAAKE,IACrCxzB,GAAI,CAAA,IAAKkf,GAAI,CAAA,IAAK2N,KAAK3N,GAAI,CAAA,IAAKqU,KAAKE;QAAAA;AAGvC,eAAOzzB;MAAAA;AAGT,eAASizB,GAAkBlX,IAAGp7B,IAAG8xC,IAAAA;AAS/B,eANIz0C,KAAKm0C,WAAAA,IACD,CAACpW,IAAGp7B,IAAG8xC,EAAAA,IAEP,CAAC1W,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,GAAK2xB,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,CAAA,IAAKpM,KAAKoM,MAAM,EAAA,GAAK2xB,KAAI/9B,KAAKoM,MAAM,CAAA,IAAKzJ,KAAI3C,KAAKoM,MAAM,CAAA,IAAKqoC,KAAIz0C,KAAKoM,MAAM,EAAA,IAAMpM,KAAKoM,MAAM,EAAA,CAAA;MAAA;AAM3O,eAASspC,GAAwB3X,IAAGp7B,IAAAA;AAClC,YAAI3C,KAAKm0C,WAAAA;AACP,iBAAOpW,KAAI,MAAMp7B;AAGnB,YAAIi7B,KAAK59B,KAAKoM;AACd,eAAO0E,KAAKsT,MAAyC,OAAlC2Z,KAAIH,GAAG,CAAA,IAAKj7B,KAAIi7B,GAAG,CAAA,IAAKA,GAAG,EAAA,EAAA,IAAc,MAAM,MAAM9sB,KAAKsT,MAAyC,OAAlC2Z,KAAIH,GAAG,CAAA,IAAKj7B,KAAIi7B,GAAG,CAAA,IAAKA,GAAG,EAAA,EAAA,IAAc;MAAA;AAG/H,eAAS+X,IAAAA;AAWP,iBALIh2C,KAAI,GACJyM,KAAQpM,KAAKoM,OACbwpC,KAAW,aAGRj2C,KAAI;AACTi2C,UAAAA,MAAYzE,GAHN,MAGW/kC,GAAMzM,EAAAA,CAAAA,IAHjB,KAINi2C,MAAkB,OAANj2C,KAAW,MAAM,KAC7BA,MAAK;AAGP,eAAOi2C;MAAAA;AAGT,eAASC,GAAoBjyB,IAAAA;AAG3B,eAAIA,KAAM,QAAYA,KAAM,KAAKA,KAAAA,SAAmBA,KAAM,IACjDutB,GAHD,MAGMvtB,EAAAA,IAHN,MAMDA;MAAAA;AAGT,eAASkyB,IAAAA;AAMP,YAAI1pC,KAAQpM,KAAKoM;AAcjB,eAAO,YAZEypC,GAAoBzpC,GAAM,CAAA,CAAA,IAYX,MAVfypC,GAAoBzpC,GAAM,CAAA,CAAA,IAUA,MAR1BypC,GAAoBzpC,GAAM,CAAA,CAAA,IAQW,MANrCypC,GAAoBzpC,GAAM,CAAA,CAAA,IAMsB,MAJhDypC,GAAoBzpC,GAAM,EAAA,CAAA,IAIiC,MAF3DypC,GAAoBzpC,GAAM,EAAA,CAAA,IAE4C;MAAA;AAGjF,aAAA,WAAA;AACEpM,aAAKsuC,QAAQA,IACbtuC,KAAKoxC,SAASA,IACdpxC,KAAKwxC,UAAUA,IACfxxC,KAAKyxC,UAAUA,IACfzxC,KAAK0xC,UAAUA,IACf1xC,KAAK6xC,OAAOA,IACZ7xC,KAAK8xC,eAAeA,IACpB9xC,KAAK2xC,QAAQA,IACb3xC,KAAK+xC,QAAQA,IACb/xC,KAAKiyC,eAAeA,IACpBjyC,KAAKkyC,YAAYA,IACjBlyC,KAAKqyC,YAAYA,IACjBryC,KAAKw0C,eAAeA,IACpBx0C,KAAK00C,WAAWA,IAChB10C,KAAK20C,WAAWA,IAChB30C,KAAK40C,WAAWA,IAChB50C,KAAKi1C,oBAAoBA,IACzBj1C,KAAKq1C,sBAAsBA,IAC3Br1C,KAAK01C,0BAA0BA,IAC/B11C,KAAK21C,QAAQA,GACb31C,KAAK81C,UAAUA,GACf91C,KAAK+sC,QAAQA,IACb/sC,KAAKu0C,iBAAiBA,IACtBv0C,KAAKq0C,SAASA,IACdr0C,KAAKk1C,gBAAgBA,IACrBl1C,KAAKg1C,eAAeA,IACpBh1C,KAAK60C,mBAAmBA,IACxB70C,KAAKuxC,KAAKvxC,KAAKqyC,WACfryC,KAAKm0C,aAAaA,IAClBn0C,KAAKo0C,YAAAA,MACLp0C,KAAKozC,sBAAAA,OACLpzC,KAAKoM,QAAQ0V,iBAAiB,WAAW,EAAA,GACzC9hB,KAAKsuC,MAAAA;MAAAA;IAAAA,EAxaI;AA4ab,aAASyH,UAAUzzB,IAAAA;AAAuV,aAA1OyzB,YAArD,cAAA,OAAX5yC,UAAoD,YAAA,OAApBA,OAAOC,WAAqC,SAAiBkf,IAAAA;AAAO,eAAA,OAAcA;MAAAA,IAA6B,SAAiBA,IAAAA;AAAO,eAAOA,MAAyB,cAAA,OAAXnf,UAAyBmf,GAAIjjB,gBAAgB8D,UAAUmf,OAAQnf,OAAOrE,YAAY,WAAA,OAAkBwjB;MAAAA,GAAiByzB,UAAUzzB,EAAAA;IAAAA;AAC3X,QAAI0zB,SAAS,CAAA,GACTha,aAAa,oBACblR,gBAAgB,uBAChByJ,WAAW;AAEf,aAAS0hB,YAAYC,IAAAA;AACnB52B,sBAAgB42B,EAAAA;IAAAA;AAGlB,aAASna,mBAAAA;AAAAA,eACHC,aACFnB,iBAAiBkB,iBAAiBjR,eAAekR,YAAYzH,QAAAA,IAE7DsG,iBAAiBkB,iBAAAA;IAAAA;AAIrB,aAASoa,qBAAqB/2B,IAAAA;AAC5B2H,yBAAmB3H,EAAAA;IAAAA;AAGrB,aAASg3B,UAAUC,IAAAA;AACjB9uB,kBAAY8uB,EAAAA;IAAAA;AAGd,aAASvoB,cAAcyH,IAAAA;AAKrB,aAAA,SAJIyG,eACFzG,GAAOzK,gBAAgB9gB,KAAKK,MAAMygB,aAAAA,IAG7B+P,iBAAiB/M,cAAcyH,EAAAA;IAAAA;AAGxC,aAAS+gB,WAAWr0C,IAAAA;AAClB,UAAqB,YAAA,OAAVA;AACT,gBAAQA,IAAAA;UACN,KAAK;AACHolB,oCAAwB,GAAA;AACxB;UAEF;UACA,KAAK;AACHA,oCAAwB,EAAA;AACxB;UAEF,KAAK;AACHA,oCAAwB,EAAA;QAAA;;AAAA,SAGlB6R,MAAMj3B,EAAAA,KAAUA,KAAQ,KAClColB,wBAAwBplB,EAAAA;AAGtBqlB,8BAAAA,KAA6B,KAC/BpD,YAAAA,KAAY,IAEZA,YAAAA,IAAY;IAAA;AAIhB,aAASqyB,YAAAA;AACP,aAA4B,eAAA,OAAdz3B;IAAAA;AAGhB,aAAS03B,cAAc1sC,IAAM2sC,IAAAA;AACd,wBAAT3sC,MACFmd,qBAAqBwvB,EAAAA;IAAAA;AAIzB,aAASC,WAAWjrC,IAAAA;AAClB,cAAQA,IAAAA;QACN,KAAK;AACH,iBAAOy5B;QAET,KAAK;AACH,iBAAOsI;QAET,KAAK;AACH,iBAAOsD;QAET;AACE,iBAAA;MAAA;IAAA;AAiCN,aAAS6F,aAAAA;AACqB,qBAAxB/tC,SAASskB,eACXgD,cAAc0mB,uBAAAA,GACd7a,iBAAAA;IAAAA;AAIJ,aAAS8a,iBAAiBC,IAAAA;AAGxB,eAFIC,KAAOC,YAAYzhC,MAAM,GAAA,GAEpB5V,KAAI,GAAGA,KAAIo3C,GAAKj3C,QAAQH,MAAK,GAAG;AACvC,YAAIs3C,KAAOF,GAAKp3C,EAAAA,EAAG4V,MAAM,GAAA;AAEzB,YAAI2hC,mBAAmBD,GAAK,CAAA,CAAA,KAAOH;AAEjC,iBAAOI,mBAAmBD,GAAK,CAAA,CAAA;MAAA;AAInC,aAAA;IAAA;AAhDFjB,WAAO70B,OAAO0Z,iBAAiB1Z,MAC/B60B,OAAOr1B,QAAQka,iBAAiBla,OAChCq1B,OAAO12B,kBAAkB22B,aACzBD,OAAOtd,cAAcmC,iBAAiBnC,aACtCsd,OAAOrc,WAAWkB,iBAAiBlB,UACnCqc,OAAOpc,eAAeiB,iBAAiBjB,cACvCoc,OAAOrd,OAAOkC,iBAAiBlC,MAC/Bqd,OAAOja,mBAAmBA,kBAC1Bia,OAAOza,oBAAoBV,iBAAiBU,mBAC5Cya,OAAOloB,gBAAgBA,eACvBkoB,OAAOG,uBAAuBA,sBAC9BH,OAAO7d,SAAS0C,iBAAiB1C,QAEjC6d,OAAOjd,cAAc8B,iBAAiB9B,aACtCid,OAAO/kB,UAAU4J,iBAAiB5J,SAClC+kB,OAAOM,aAAaA,YACpBN,OAAOO,YAAYA,WACnBP,OAAOQ,gBAAgBA,eACvBR,OAAOzZ,SAAS1B,iBAAiB0B,QACjCyZ,OAAOxZ,WAAW3B,iBAAiB2B,UACnCwZ,OAAOz0B,YAAYsZ,iBAAiBtZ,WACpCy0B,OAAOt0B,OAAOmZ,iBAAiBnZ,MAC/Bs0B,OAAOr0B,SAASkZ,iBAAiBlZ,QACjCq0B,OAAOvZ,0BAA0B5B,iBAAiB4B,yBAClDuZ,OAAOmB,eAAeh4B,cACtB62B,OAAOoB,cAAchB,WACrBJ,OAAOqB,eAAeX,YACtBV,OAAOsB,UAAU;AAwBjB,QAAIN,cAAc;AAElB,QAAIhb,YAAY;AACd,UAAIub,UAAU3uC,SAASwzB,qBAAqB,QAAA,GACxC5mB,QAAQ+hC,QAAQz3C,SAAS,GACzB03C,WAAWD,QAAQ/hC,KAAAA,KAAU,EAC/ByL,KAAK,GAAA;AAEP+1B,oBAAcQ,SAASv2B,MAAMu2B,SAASv2B,IAAI4b,QAAQ,cAAc,EAAA,IAAM,IAEtEtI,WAAWsiB,iBAAiB,UAAA;IAAA;AAG9B,QAAID,0BAA0B7mB,YAAY4mB,YAAY,GAAA;AAEtD,QAAA;AACgF,mBAAxBZ,UAAU0B,OAAAA,MAE9D5wC,OAAO6wC,YAAY1B;IAAAA,SAEdhpB,IAAAA;IAAAA;AAGT,QAAI2qB,iBAAiB,WAAA;AACnB,UAAItnB,KAAK,CAAA,GACLunB,KAAY,CAAA;AAchB,aAbAvnB,GAAGwnB,mBAGH,SAA0B1kB,IAAItU,IAAAA;AACvB+4B,QAAAA,GAAUzkB,EAAAA,MACbykB,GAAUzkB,EAAAA,IAAMtU;MAAAA,GAJpBwR,GAAGynB,cAQH,SAAqB3kB,IAAIqI,IAAM1lB,IAAAA;AAC7B,eAAA,IAAW8hC,GAAUzkB,EAAAA,EAAIqI,IAAM1lB,EAAAA;MAAAA,GAG1Bua;IAAAA,EAhBY;AAmBrB,aAAS0nB,gBAAAA;IAAAA;AAmDT,aAASC,eAAAA;IAAAA;AAgZT,aAASC,yBAAAA;IAAAA;AAjcTF,kBAAcj5C,UAAUo5C,yBAAyB,WAAA;IAAA,GAEjDH,cAAcj5C,UAAUq5C,qBAAqB,WAAA;IAAA,GAE7CJ,cAAcj5C,UAAUquC,WAAW,SAAUr3B,IAAAA;AAC3C,UAAA,CAAK9V,KAAK8rB,QAAQ;AAEhBhW,QAAAA,GAAKgyB,GAAGv1B,UAAUq4B,mBAAmB90B,GAAKgyB,EAAAA;AAC1C,YAAInF,KAAY,EACdqK,OAAOl3B,GAAKgyB,IACZhyB,MAAMA,IACNo4B,sBAAsBb,oBAAoBC,mBAAAA,EAAAA;AAE5CttC,aAAK8pB,OAAOtmB,KAAKm/B,EAAAA,GACjB3iC,KAAKm4C,mBAAmBxV,EAAAA,GAEpB3iC,KAAKurC,eACPz1B,GAAKsiC,cAAAA;MAAAA;IAAAA,GAKXL,cAAcj5C,UAAUg7B,OAAO,SAAU0B,IAAM1lB,IAAAA;AAC7C9V,WAAK8pB,SAAS,CAAA,GACd9pB,KAAKw7B,OAAOA,IACZx7B,KAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAKk4C,uBAAuB1c,IAAM1lB,EAAAA,GAClC9V,KAAKoqC,UAAUlrB,qBACflf,KAAK8rB,SAAAA,OACL9rB,KAAK4D,IAAAA,OAED5D,KAAKsrC,kBAAkBxrC,SACzBE,KAAK4D,IAAAA,OAEL5D,KAAK+qC,SAAAA,IAAS;IAAA,GAIlBgN,cAAcj5C,UAAUu5C,cAAc,WAAA;AAChCr4C,WAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,YAI1CpqC,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU,SACpCpqC,KAAKwrC,yBAAAA;IAAAA,GAGP/rB,gBAAgB,CAAC4rB,wBAAAA,GAA2B0M,aAAAA,GAI5Ct4B,gBAAgB,CAACs4B,aAAAA,GAAgBC,YAAAA,GAEjCA,aAAal5C,UAAUo5C,yBAAyB,SAAU1c,IAAM1lB,IAAAA;AAC9D9V,WAAKN,IAAIwlC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpW,GAAG,GAAG,MAAMM,IAAAA,GACxDA,KAAKE,IAAIglC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK5V,GAAG,GAAG,MAAMF,IAAAA,GACxDA,KAAK0D,IAAIwhC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpS,GAAG,GAAG,GAAG1D,IAAAA,GACrDA,KAAKs4C,SAAS,GACdt4C,KAAKu4C,SAAS,GACdv4C,KAAK+qC,WAAW/qC,KAAKq4C,aACrBr4C,KAAK2D,IAAImS,GAAKnS,GACd3D,KAAKurC,cAAAA,CAAAA,CAAgBvrC,KAAKN,EAAE2qC,gBAAgBvqC,UAAAA,CAAAA,CAAYE,KAAKE,EAAEmqC,gBAAgBvqC,UAAAA,CAAAA,CAAYE,KAAK0D,EAAE2mC,gBAAgBvqC;IAAAA,GAGpHk4C,aAAal5C,UAAUq5C,qBAAqB,SAAUxV,IAAAA;AACpDA,MAAAA,GAAU6V,YAAY,CAAA;IAAA,GAGxBR,aAAal5C,UAAU25C,sBAAsB,SAAU/4C,IAAGQ,IAAGw4C,IAAa1Y,IAAa2Y,IAAAA;AACrF,UAAI/jB,KAAW,CAAA;AAEX10B,MAAAA,MAAK,IACP00B,GAASpxB,KAAK,EACZ9D,GAAGA,IACHQ,GAAGA,GAAAA,CAAAA,IAEIR,MAAK,IACdk1B,GAASpxB,KAAK,EACZ9D,GAAGA,KAAI,GACPQ,GAAGA,KAAI,EAAA,CAAA,KAGT00B,GAASpxB,KAAK,EACZ9D,GAAGA,IACHQ,GAAG,EAAA,CAAA,GAEL00B,GAASpxB,KAAK,EACZ9D,GAAG,GACHQ,GAAGA,KAAI,EAAA,CAAA;AAIX,UACIP,IAEAi5C,IAHAC,KAAgB,CAAA,GAEhBh5B,KAAM+U,GAAS90B;AAGnB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAIzB,YAAIm5C,IACAC;AAAAA,SAJNH,KAAYhkB,GAASj1B,EAAAA,GAELO,IAAIy4C,KAAsB3Y,MAAe4Y,GAAUl5C,IAAIi5C,KAAsB3Y,KAAc0Y,OAKvGI,KADEF,GAAUl5C,IAAIi5C,MAAuB3Y,KAC9B,KAEC4Y,GAAUl5C,IAAIi5C,KAAsB3Y,MAAe0Y,IAI7DK,KADEH,GAAU14C,IAAIy4C,MAAuB3Y,KAAc0Y,KAC5C,KAECE,GAAU14C,IAAIy4C,KAAsB3Y,MAAe0Y,IAG/DG,GAAcr1C,KAAK,CAACs1C,IAAQC,EAAAA,CAAAA;MAAAA;AAQhC,aAJKF,GAAc/4C,UACjB+4C,GAAcr1C,KAAK,CAAC,GAAG,CAAA,CAAA,GAGlBq1C;IAAAA,GAGTb,aAAal5C,UAAUk6C,mBAAmB,SAAUR,IAAAA;AAClD,UAAI74C,IACAkgB,KAAM24B,GAAU14C;AAEpB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBwgC,2BAAmBL,QAAQ0Y,GAAU74C,EAAAA,CAAAA;AAIvC,aADA64C,GAAU14C,SAAS,GACZ04C;IAAAA,GAGTR,aAAal5C,UAAUm6C,gBAAgB,SAAU1O,IAAAA;AAC/C,UAAI7qC,IACAQ,IAwCAg5C,IACAv5C;AAvCJ,UAAIK,KAAKkqC,QAAQK,IAAe;AAC9B,YAAI7mC,KAAI1D,KAAK0D,EAAEL,IAAI,MAAM;AAsBzB,YApBIK,KAAI,MACNA,MAAK,KAILhE,KADEM,KAAKN,EAAE2D,IAAI,IACT,IAAIK,KACC1D,KAAKN,EAAE2D,IAAI,IAChB,IAAIK,KAEJ1D,KAAKN,EAAE2D,IAAIK,OAIfxD,KADEF,KAAKE,EAAEmD,IAAI,IACT,IAAIK,KACC1D,KAAKE,EAAEmD,IAAI,IAChB,IAAIK,KAEJ1D,KAAKE,EAAEmD,IAAIK,KAGN;AACT,cAAIy1C,KAAKz5C;AACTA,UAAAA,KAAIQ,IACJA,KAAIi5C;QAAAA;AAGNz5C,QAAAA,KAA4B,OAAxBoR,KAAKsT,MAAU,MAAJ1kB,EAAAA,GACfQ,KAA4B,OAAxB4Q,KAAKsT,MAAU,MAAJlkB,EAAAA,GACfF,KAAKs4C,SAAS54C,IACdM,KAAKu4C,SAASr4C;MAAAA;AAEdR,QAAAA,KAAIM,KAAKs4C,QACTp4C,KAAIF,KAAKu4C;AAKX,UACI7zC,IACAwkB,IACAsvB,IACA/sB,IACA2tB,IALAv5B,KAAM7f,KAAK8pB,OAAOhqB,QAMlB64C,KAAsB;AAE1B,UAAIz4C,OAAMR;AACR,aAAKC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAK8pB,OAAOnqB,EAAAA,EAAGuuC,qBAAqBd,cAAAA,GACpCptC,KAAK8pB,OAAOnqB,EAAAA,EAAGqtC,MAAM9C,OAAAA,MACrBlqC,KAAK8pB,OAAOnqB,EAAAA,EAAGqtC,MAAMiB,QAAQjuC,KAAK8pB,OAAOnqB,EAAAA,EAAGuuC,sBAExCluC,KAAKkqC,SACPlqC,KAAK8pB,OAAOnqB,EAAAA,EAAG64C,UAAU14C,SAAS;eAGrB,MAANI,MAAiB,MAANR,MAAiB,MAANQ,MAAiB,MAANR,IAAAA;AAAAA,YAyGnCM,KAAKkqC;AACd,eAAKvqC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGxBK,iBAAK8pB,OAAOnqB,EAAAA,EAAG64C,UAAU14C,SAAS,GAClCE,KAAK8pB,OAAOnqB,EAAAA,EAAGqtC,MAAM9C,OAAAA;MAAO,OA9GwB;AACtD,YACIvH,IACAuL,IAFAtZ,KAAW,CAAA;AAIf,aAAKj1B,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGxB,eAFAgjC,KAAY3iC,KAAK8pB,OAAOnqB,EAAAA,GAETqtC,MAAM9C,QAASlqC,KAAKkqC,QAASK,MAA4B,MAAXvqC,KAAK2D,GAE3D;AAKL,gBAHAulB,MADAgwB,KAAavW,GAAUqK,MAAMiB,OACXvO,SAClB0Z,KAAmB,GAAA,CAEdzW,GAAUqK,MAAM9C,QAAQvH,GAAU6V,UAAU14C;AAC/Cs5C,cAAAA,KAAmBzW,GAAUyW;iBACxB;AAGL,mBAFAZ,KAAYx4C,KAAKg5C,iBAAiBrW,GAAU6V,SAAAA,GAEvC9zC,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzB+mB,gBAAAA,KAAWwZ,IAAIvC,kBAAkBwW,GAAWpvB,OAAOplB,EAAAA,CAAAA,GACnD8zC,GAAUh1C,KAAKioB,EAAAA,GACf2tB,MAAoB3tB,GAAS2U;AAG/BuC,cAAAA,GAAUyW,mBAAmBA,IAC7BzW,GAAU6V,YAAYA;YAAAA;AAGxBG,YAAAA,MAAuBS,IACvBzW,GAAUqK,MAAM9C,OAAAA;UAAO;AAtBvBvH,YAAAA,GAAUqK,MAAMiB,QAAQtL,GAAUuL;AA0BtC,YAGImL,IAHAP,KAASp5C,IACTq5C,KAAS74C,IACT8/B,KAAc;AAGlB,aAAKrgC,KAAIkgB,KAAM,GAAGlgB,MAAK,GAAGA,MAAK;AAG7B,eAFAgjC,KAAY3iC,KAAK8pB,OAAOnqB,EAAAA,GAEVqtC,MAAM9C,MAAM;AAaxB,kBAZAgE,KAAuBvL,GAAUuL,sBACZd,cAAAA,GAEN,MAAXptC,KAAK2D,KAAWkc,KAAM,KACxBw5B,KAAQr5C,KAAKy4C,oBAAoB/4C,IAAGQ,IAAGyiC,GAAUyW,kBAAkBpZ,IAAa2Y,EAAAA,GAChF3Y,MAAe2C,GAAUyW,oBAEzBC,KAAQ,CAAC,CAACP,IAAQC,EAAAA,CAAAA,GAGpB7vB,KAAOmwB,GAAMv5C,QAER4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK,GAAG;AAC5Bo0C,cAAAA,KAASO,GAAM30C,EAAAA,EAAG,CAAA,GAClBq0C,KAASM,GAAM30C,EAAAA,EAAG,CAAA,GAClBkwB,GAAS90B,SAAS,GAEdi5C,MAAU,IACZnkB,GAASpxB,KAAK,EACZ9D,GAAGijC,GAAUyW,mBAAmBN,IAChC54C,GAAGyiC,GAAUyW,mBAAmBL,GAAAA,CAAAA,IAEzBD,MAAU,IACnBlkB,GAASpxB,KAAK,EACZ9D,GAAGijC,GAAUyW,oBAAoBN,KAAS,IAC1C54C,GAAGyiC,GAAUyW,oBAAoBL,KAAS,GAAA,CAAA,KAG5CnkB,GAASpxB,KAAK,EACZ9D,GAAGijC,GAAUyW,mBAAmBN,IAChC54C,GAAGyiC,GAAUyW,iBAAAA,CAAAA,GAEfxkB,GAASpxB,KAAK,EACZ9D,GAAG,GACHQ,GAAGyiC,GAAUyW,oBAAoBL,KAAS,GAAA,CAAA;AAI9C,kBAAIO,KAAgBt5C,KAAKu5C,UAAU5W,IAAW/N,GAAS,CAAA,CAAA;AAEvD,kBAAIA,GAAS,CAAA,EAAGl1B,MAAMk1B,GAAS,CAAA,EAAG10B,GAAG;AACnC,oBAAI00B,GAAS90B,SAAS;AAGpB,sBAF4B6iC,GAAUqK,MAAMiB,MAAMnkB,OAAO6Y,GAAUqK,MAAMiB,MAAMvO,UAAU,CAAA,EAE/D/+B,GAAG;AAC3B,wBAAI64C,KAAYF,GAAc/1C,IAAAA;AAC9BvD,yBAAKy5C,SAASH,IAAepL,EAAAA,GAC7BoL,KAAgBt5C,KAAKu5C,UAAU5W,IAAW/N,GAAS,CAAA,GAAI4kB,EAAAA;kBAAAA;AAEvDx5C,yBAAKy5C,SAASH,IAAepL,EAAAA,GAC7BoL,KAAgBt5C,KAAKu5C,UAAU5W,IAAW/N,GAAS,CAAA,CAAA;AAIvD50B,qBAAKy5C,SAASH,IAAepL,EAAAA;cAAAA;YAAAA;AAIjCvL,YAAAA,GAAUqK,MAAMiB,QAAQC;UAAAA;MAAAA;IAAAA,GAahC8J,aAAal5C,UAAU26C,WAAW,SAAUC,IAAUxL,IAAAA;AACpD,UAAIvuC,IACAkgB,KAAM65B,GAAS55C;AAEnB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBuuC,QAAAA,GAAqBf,SAASuM,GAAS/5C,EAAAA,CAAAA;IAAAA,GAI3Cq4C,aAAal5C,UAAU66C,aAAa,SAAU3Y,IAAKC,IAAKC,IAAKC,IAAK2L,IAAWd,IAAK4N,IAAAA;AAChF9M,MAAAA,GAAUf,QAAQ9K,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAI,KAAK+K,EAAAA,GACvCc,GAAUf,QAAQ7K,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAI,KAAK8K,KAAM,CAAA,GAEzC4N,MACF9M,GAAUf,QAAQ/K,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAI,KAAKgL,EAAAA,GAGzCc,GAAUf,QAAQ5K,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAI,KAAK6K,KAAM,CAAA;IAAA,GAG/CgM,aAAal5C,UAAU+6C,sBAAsB,SAAUlc,IAAQmP,IAAWd,IAAK4N,IAAAA;AAC7E9M,MAAAA,GAAUf,QAAQpO,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAI,KAAKqO,EAAAA,GAC7Cc,GAAUf,QAAQpO,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAI,KAAKqO,KAAM,CAAA,GAE/C4N,MACF9M,GAAUf,QAAQpO,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAI,KAAKqO,EAAAA,GAG/Cc,GAAUf,QAAQpO,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAI,KAAKqO,KAAM,CAAA;IAAA,GAGrDgM,aAAal5C,UAAUy6C,YAAY,SAAU5W,IAAWmX,IAAchN,IAAAA;AACpE,UAEIntC,IAEA+E,IACAwkB,IAEA6wB,IACAC,IACA9Z,IACA/I,IAEAkL,IAZAmW,KAAY7V,GAAU6V,WACtBU,KAAavW,GAAUqK,MAAMiB,MAAMnkB,QAEnCjK,KAAM8iB,GAAUqK,MAAMiB,MAAMvO,SAG5BM,KAAc,GAKdlW,KAAS,CAAA,GAET8vB,KAAAA;AAaJ,WAXK9M,MAKHkN,KAAelN,GAAUpN,SACzB2C,KAAUyK,GAAUpN,YALpBoN,KAAYD,UAAUhN,WAAAA,GACtBma,KAAe,GACf3X,KAAU,IAMZvY,GAAOtmB,KAAKspC,EAAAA,GAEPntC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAK3B,aAJAugC,KAAUsY,GAAU74C,EAAAA,EAAGugC,SACvB4M,GAAUnsC,IAAIu4C,GAAWv5C,EAAAA,EAAGgB,GAC5BuoB,KAAOgwB,GAAWv5C,EAAAA,EAAGgB,IAAIu/B,GAAQpgC,SAASogC,GAAQpgC,SAAS,GAEtD4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AAGzB,cAAIs7B,MAFJ+Z,KAAoB7Z,GAAQx7B,KAAI,CAAA,GAEIs7B,cAAc8Z,GAAap6C;AAC7DsgC,YAAAA,MAAe+Z,GAAkB/Z,aACjC8M,GAAUnsC,IAAAA;eAAI;AAAA,gBACLq/B,KAAc8Z,GAAa55C,GAAG;AACvC4sC,cAAAA,GAAUnsC,IAAAA;AACV;YAAA;AAEIm5C,YAAAA,GAAap6C,KAAKsgC,MAAe8Z,GAAa55C,KAAK8/B,KAAc+Z,GAAkB/Z,eACrFhgC,KAAK25C,WAAWT,GAAWv5C,EAAAA,EAAG0D,EAAEqB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAG+D,EAAEgB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAGA,EAAE+E,EAAAA,GAAIw0C,GAAWv5C,EAAAA,EAAG0D,EAAEqB,EAAAA,GAAIooC,IAAWkN,IAAcJ,EAAAA,GACjIA,KAAAA,UAEAziB,KAAU8N,IAAIjC,cAAckW,GAAWv5C,EAAAA,EAAG0D,EAAEqB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAG0D,EAAEqB,EAAAA,GAAIw0C,GAAWv5C,EAAAA,EAAG+D,EAAEgB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAGA,EAAE+E,EAAAA,IAAKo1C,GAAap6C,IAAIsgC,MAAe+Z,GAAkB/Z,cAAc8Z,GAAa55C,IAAI8/B,MAAe+Z,GAAkB/Z,aAAaE,GAAQx7B,KAAI,CAAA,CAAA,GAChQ1E,KAAK65C,oBAAoB1iB,IAAS2V,IAAWkN,IAAcJ,EAAAA,GAE3DA,KAAAA,OACA9M,GAAUnsC,IAAAA,QAGZq/B,MAAe+Z,GAAkB/Z,aACjCga,MAAgB;UAAA;AAIpB,YAAId,GAAWv5C,EAAAA,EAAGgB,KAAKu/B,GAAQpgC,QAAQ;AAGrC,cAFAi6C,KAAoB7Z,GAAQx7B,KAAI,CAAA,GAE5Bs7B,MAAe8Z,GAAa55C,GAAG;AACjC,gBAAI0hC,KAAgB1B,GAAQx7B,KAAI,CAAA,EAAGs7B;AAE/B8Z,YAAAA,GAAap6C,KAAKsgC,MAAe8Z,GAAa55C,KAAK8/B,KAAc4B,MACnE5hC,KAAK25C,WAAWT,GAAWv5C,EAAAA,EAAG0D,EAAEqB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAG+D,EAAEgB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAGA,EAAE,CAAA,GAAIu5C,GAAWv5C,EAAAA,EAAG0D,EAAE,CAAA,GAAIypC,IAAWkN,IAAcJ,EAAAA,GACjIA,KAAAA,UAEAziB,KAAU8N,IAAIjC,cAAckW,GAAWv5C,EAAAA,EAAG0D,EAAEqB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAG0D,EAAE,CAAA,GAAI61C,GAAWv5C,EAAAA,EAAG+D,EAAEgB,KAAI,CAAA,GAAIw0C,GAAWv5C,EAAAA,EAAGA,EAAE,CAAA,IAAKm6C,GAAap6C,IAAIsgC,MAAe4B,KAAgBkY,GAAa55C,IAAI8/B,MAAe4B,IAAe1B,GAAQx7B,KAAI,CAAA,CAAA,GAChO1E,KAAK65C,oBAAoB1iB,IAAS2V,IAAWkN,IAAcJ,EAAAA,GAE3DA,KAAAA,OACA9M,GAAUnsC,IAAAA;UAAI;AAGhBmsC,YAAAA,GAAUnsC,IAAAA;AAGZq/B,UAAAA,MAAe+Z,GAAkB/Z,aACjCga,MAAgB;QAAA;AAQlB,YALIlN,GAAUpN,YACZoN,GAAUf,QAAQe,GAAUzpC,EAAEg/B,EAAAA,EAAS,CAAA,GAAIyK,GAAUzpC,EAAEg/B,EAAAA,EAAS,CAAA,GAAI,KAAKA,EAAAA,GACzEyK,GAAUf,QAAQe,GAAUzpC,EAAEypC,GAAUpN,UAAU,CAAA,EAAG,CAAA,GAAIoN,GAAUzpC,EAAEypC,GAAUpN,UAAU,CAAA,EAAG,CAAA,GAAI,KAAKoN,GAAUpN,UAAU,CAAA,IAGvHM,KAAc8Z,GAAa55C;AAC7B;AAGEP,QAAAA,KAAIkgB,KAAM,MACZitB,KAAYD,UAAUhN,WAAAA,GACtB+Z,KAAAA,MACA9vB,GAAOtmB,KAAKspC,EAAAA,GACZkN,KAAe;MAAA;AAInB,aAAOlwB;IAAAA,GAKTrK,gBAAgB,CAACs4B,aAAAA,GAAgBE,sBAAAA,GAEjCA,uBAAuBn5C,UAAUo5C,yBAAyB,SAAU1c,IAAM1lB,IAAAA;AACxE9V,WAAK+qC,WAAW/qC,KAAKq4C,aACrBr4C,KAAKi6C,SAAS/U,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKrR,GAAG,GAAG,MAAMzE,IAAAA,GAC7DA,KAAKurC,cAAAA,CAAAA,CAAgBvrC,KAAKi6C,OAAO5P,gBAAgBvqC;IAAAA,GAGnDm4C,uBAAuBn5C,UAAUo7C,cAAc,SAAU9xB,IAAM6xB,IAAAA;AAC7D,UAAIzV,KAAUyV,KAAS,KACnBE,KAAc,CAAC,GAAG,CAAA,GAClBC,KAAahyB,GAAKsX,SAClB//B,KAAI;AAER,WAAKA,KAAI,GAAGA,KAAIy6C,IAAYz6C,MAAK;AAC/Bw6C,QAAAA,GAAY,CAAA,KAAM/xB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,GAC5Bw6C,GAAY,CAAA,KAAM/xB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA;AAG9Bw6C,MAAAA,GAAY,CAAA,KAAMC,IAClBD,GAAY,CAAA,KAAMC;AAClB,UAEIlO,IACAC,IACAC,IACAC,IACAC,IACAC,IAPA8N,KAAaxN,UAAUhN,WAAAA;AAS3B,WARAwa,GAAW15C,IAAIynB,GAAKznB,GAQfhB,KAAI,GAAGA,KAAIy6C,IAAYz6C,MAAK;AAC/BusC,QAAAA,KAAK9jB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,KAAMw6C,GAAY,CAAA,IAAK/xB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,KAAM6kC,IACtD2H,KAAK/jB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,KAAMw6C,GAAY,CAAA,IAAK/xB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,KAAM6kC,IACtD4H,KAAKhkB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,KAAMw6C,GAAY,CAAA,IAAK/xB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,KAAA,CAAO6kC,IACvD6H,KAAKjkB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,KAAMw6C,GAAY,CAAA,IAAK/xB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,KAAA,CAAO6kC,IACvD8H,KAAKlkB,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,KAAMw6C,GAAY,CAAA,IAAK/xB,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,KAAA,CAAO6kC,IACvD+H,KAAKnkB,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,KAAMw6C,GAAY,CAAA,IAAK/xB,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,KAAA,CAAO6kC,IACvD6V,GAAWpO,YAAYC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,IAAI5sC,EAAAA;AAGjD,aAAO06C;IAAAA,GAGTpC,uBAAuBn5C,UAAUm6C,gBAAgB,SAAU1O,IAAAA;AACzD,UAAI2O,IACAv5C,IAEA+E,IACAwkB,IAIEyZ,IACAuL,IAPFruB,KAAM7f,KAAK8pB,OAAOhqB,QAGlBm6C,KAASj6C,KAAKi6C,OAAO52C;AAEzB,UAAe,MAAX42C;AAIF,aAAKt6C,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAI3B,cAFAuuC,MADAvL,KAAY3iC,KAAK8pB,OAAOnqB,EAAAA,GACSuuC,sBAE1BvL,GAAUqK,MAAM9C,QAASlqC,KAAKkqC,QAASK;AAM5C,iBALA2D,GAAqBd,cAAAA,GACrBzK,GAAUqK,MAAM9C,OAAAA,MAChBgP,KAAavW,GAAUqK,MAAMiB,MAAMnkB,QACnCZ,KAAOyZ,GAAUqK,MAAMiB,MAAMvO,SAExBh7B,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBwpC,cAAAA,GAAqBf,SAASntC,KAAKk6C,YAAYhB,GAAWx0C,EAAAA,GAAIu1C,EAAAA,CAAAA;AAIlEtX,UAAAA,GAAUqK,MAAMiB,QAAQtL,GAAUuL;QAAAA;AAIjCluC,WAAKsrC,kBAAkBxrC,WAC1BE,KAAKkqC,OAAAA;IAAO;AAIhB,QAAIoQ,2BAA2B,WAAA;AAC7B,UAAIC,KAAgB,CAAC,GAAG,CAAA;AA+KxB,eAASC,GAAkBhf,IAAM1lB,IAAMvD,IAAAA;AAwBrC,YAvBAvS,KAAKw7B,OAAOA,IACZx7B,KAAKoqC,UAAAA,IACLpqC,KAAK0lC,WAAW,aAChB1lC,KAAK8V,OAAOA,IACZ9V,KAAKqD,IAAI,IAAIytC,UAEb9wC,KAAKy6C,MAAM,IAAI3J,UACf9wC,KAAK06C,yBAAyB,GAC9B16C,KAAKyrC,6BAA6Bl5B,MAAaipB,EAAAA,GAE3C1lB,GAAKjX,KAAKiX,GAAKjX,EAAEa,KACnBM,KAAK26C,KAAKzV,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKjX,EAAEk/B,GAAG,GAAG,GAAG/9B,IAAAA,GACxDA,KAAK46C,KAAK1V,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKjX,EAAE8D,GAAG,GAAG,GAAG3C,IAAAA,GAEpD8V,GAAKjX,EAAE41C,MACTz0C,KAAK66C,KAAK3V,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKjX,EAAE41C,GAAG,GAAG,GAAGz0C,IAAAA,MAG1DA,KAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKjX,KAAK,EAC/C+E,GAAG,CAAC,GAAG,GAAG,CAAA,EAAA,GACT,GAAG,GAAG5D,IAAAA,GAGP8V,GAAKglC,IAAI;AAKX,cAJA96C,KAAK86C,KAAK5V,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKglC,IAAI,GAAG/2B,WAAW/jB,IAAAA,GAC/DA,KAAK+6C,KAAK7V,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKilC,IAAI,GAAGh3B,WAAW/jB,IAAAA,GAC/DA,KAAKg7C,KAAK9V,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKklC,IAAI,GAAGj3B,WAAW/jB,IAAAA,GAE3D8V,GAAK05B,GAAG5rC,EAAE,CAAA,EAAGmjC,IAAI;AACnB,gBAAIpnC,IACAkgB,KAAM/J,GAAK05B,GAAG5rC,EAAE9D;AAEpB,iBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBmW,cAAAA,GAAK05B,GAAG5rC,EAAEjE,EAAAA,EAAGkF,KAAK,MAClBiR,GAAK05B,GAAG5rC,EAAEjE,EAAAA,EAAGonC,KAAK;UAAA;AAItB/mC,eAAKwvC,KAAKtK,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK05B,IAAI,GAAGzrB,WAAW/jB,IAAAA,GAE/DA,KAAKwvC,GAAG1H,KAAAA;QAAK;AAEb9nC,eAAKY,IAAIskC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKlV,KAAK,EAC/CgD,GAAG,EAAA,GACF,GAAGmgB,WAAW/jB,IAAAA;AAGf8V,QAAAA,GAAKwV,OACPtrB,KAAKsrB,KAAK4Z,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKwV,IAAI,GAAGvH,WAAW/jB,IAAAA,GAC/DA,KAAKurB,KAAK2Z,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKyV,IAAI,GAAGxH,WAAW/jB,IAAAA,IAGjEA,KAAKyE,IAAIygC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKrR,KAAK,EAC/Cb,GAAG,CAAC,GAAG,GAAG,CAAA,EAAA,GACT,GAAG,GAAG5D,IAAAA,GACTA,KAAKN,IAAIwlC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpW,KAAK,EAC/CkE,GAAG,CAAC,KAAK,KAAK,GAAA,EAAA,GACb,GAAG,MAAM5D,IAAAA,GAER8V,GAAKpS,IACP1D,KAAK0D,IAAIwhC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpS,GAAG,GAAG,MAAM83B,EAAAA,IAExDx7B,KAAK0D,IAAI,EACPwmC,MAAAA,OACA7mC,GAAG,EAAA,GAIPrD,KAAKi7C,WAAAA,MAEAj7C,KAAKsrC,kBAAkBxrC,UAC1BE,KAAK+qC,SAAAA,IAAS;MAAA;AAkBlB,aAdAyP,GAAkB17C,YAAY,EAC5Bo8C,eA1PF,SAAuBC,IAAAA;AACrB,YAAIjR,KAAOlqC,KAAKkqC;AAChBlqC,aAAKwrC,yBAAAA,GACLxrC,KAAKkqC,OAAOlqC,KAAKkqC,QAAQA,IAErBlqC,KAAKyE,KACP02C,GAAIjJ,UAAAA,CAAWlyC,KAAKyE,EAAEpB,EAAE,CAAA,GAAA,CAAKrD,KAAKyE,EAAEpB,EAAE,CAAA,GAAIrD,KAAKyE,EAAEpB,EAAE,CAAA,CAAA,GAGjDrD,KAAKN,KACPy7C,GAAIpJ,MAAM/xC,KAAKN,EAAE2D,EAAE,CAAA,GAAIrD,KAAKN,EAAE2D,EAAE,CAAA,GAAIrD,KAAKN,EAAE2D,EAAE,CAAA,CAAA,GAG3CrD,KAAKsrB,MACP6vB,GAAIrJ,aAAAA,CAAc9xC,KAAKsrB,GAAGjoB,GAAGrD,KAAKurB,GAAGloB,CAAAA,GAGnCrD,KAAKY,IACPu6C,GAAI/J,OAAAA,CAAQpxC,KAAKY,EAAEyC,CAAAA,IAEnB83C,GAAIzJ,QAAAA,CAAS1xC,KAAKg7C,GAAG33C,CAAAA,EAAGouC,QAAQzxC,KAAK+6C,GAAG13C,CAAAA,EAAGmuC,QAAQxxC,KAAK86C,GAAGz3C,CAAAA,EAAGquC,QAAAA,CAAS1xC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAIouC,QAAQzxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAImuC,QAAQxxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,GAG3HrD,KAAK8V,KAAKjX,EAAEa,IACVM,KAAK8V,KAAKjX,EAAE41C,IACd0G,GAAIjJ,UAAUlyC,KAAK26C,GAAGt3C,GAAGrD,KAAK46C,GAAGv3C,GAAAA,CAAIrD,KAAK66C,GAAGx3C,CAAAA,IAE7C83C,GAAIjJ,UAAUlyC,KAAK26C,GAAGt3C,GAAGrD,KAAK46C,GAAGv3C,GAAG,CAAA,IAGtC83C,GAAIjJ,UAAUlyC,KAAKnB,EAAEwE,EAAE,CAAA,GAAIrD,KAAKnB,EAAEwE,EAAE,CAAA,GAAA,CAAKrD,KAAKnB,EAAEwE,EAAE,CAAA,CAAA;MAAA,GA6NpD0nC,UAzNF,SAAqBqQ,IAAAA;AACnB,YAAIp7C,KAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,SAA1C;AAWA,cAPIpqC,KAAKi7C,aACPj7C,KAAKq7C,mBAAAA,GACLr7C,KAAKi7C,WAAAA,QAGPj7C,KAAKwrC,yBAAAA,GAEDxrC,KAAKkqC,QAAQkR,IAAa;AAC5B,gBAAIrnB;AAqBJ,gBApBA/zB,KAAKqD,EAAEkxC,eAAev0C,KAAKy6C,IAAIruC,KAAAA,GAE3BpM,KAAK06C,yBAAyB,KAChC16C,KAAKqD,EAAE6uC,UAAAA,CAAWlyC,KAAKyE,EAAEpB,EAAE,CAAA,GAAA,CAAKrD,KAAKyE,EAAEpB,EAAE,CAAA,GAAIrD,KAAKyE,EAAEpB,EAAE,CAAA,CAAA,GAGpDrD,KAAK06C,yBAAyB,KAChC16C,KAAKqD,EAAE0uC,MAAM/xC,KAAKN,EAAE2D,EAAE,CAAA,GAAIrD,KAAKN,EAAE2D,EAAE,CAAA,GAAIrD,KAAKN,EAAE2D,EAAE,CAAA,CAAA,GAG9CrD,KAAKsrB,MAAMtrB,KAAK06C,yBAAyB,KAC3C16C,KAAKqD,EAAEyuC,aAAAA,CAAc9xC,KAAKsrB,GAAGjoB,GAAGrD,KAAKurB,GAAGloB,CAAAA,GAGtCrD,KAAKY,KAAKZ,KAAK06C,yBAAyB,IAC1C16C,KAAKqD,EAAE+tC,OAAAA,CAAQpxC,KAAKY,EAAEyC,CAAAA,IAAAA,CACZrD,KAAKY,KAAKZ,KAAK06C,yBAAyB,KAClD16C,KAAKqD,EAAEquC,QAAAA,CAAS1xC,KAAKg7C,GAAG33C,CAAAA,EAAGouC,QAAQzxC,KAAK+6C,GAAG13C,CAAAA,EAAGmuC,QAAQxxC,KAAK86C,GAAGz3C,CAAAA,EAAGquC,QAAAA,CAAS1xC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAIouC,QAAQzxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAImuC,QAAQxxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,GAG9HrD,KAAKs7C,cAAc;AACrB,kBAAIzK,IACA0K;AAGJ,kBAFAxnB,KAAY/zB,KAAKw7B,KAAK5F,WAAW7B,WAE7B/zB,KAAKnB,KAAKmB,KAAKnB,EAAEonC,aAAajmC,KAAKnB,EAAE28C;AACnCx7C,qBAAKnB,EAAEgrC,SAASxC,YAAYrnC,KAAKnB,EAAE4mC,cAAczlC,KAAKnB,EAAEonC,UAAU,CAAA,EAAGxmC,KACvEoxC,KAAK7wC,KAAKnB,EAAE28C,gBAAgBx7C,KAAKnB,EAAEonC,UAAU,CAAA,EAAGxmC,IAAI,QAAQs0B,IAAW,CAAA,GACvEwnB,KAAKv7C,KAAKnB,EAAE28C,eAAex7C,KAAKnB,EAAEonC,UAAU,CAAA,EAAGxmC,IAAIs0B,IAAW,CAAA,KACrD/zB,KAAKnB,EAAEgrC,SAASxC,YAAYrnC,KAAKnB,EAAE4mC,cAAczlC,KAAKnB,EAAEonC,UAAUjmC,KAAKnB,EAAEonC,UAAUnmC,SAAS,CAAA,EAAGL,KACxGoxC,KAAK7wC,KAAKnB,EAAE28C,eAAex7C,KAAKnB,EAAEonC,UAAUjmC,KAAKnB,EAAEonC,UAAUnmC,SAAS,CAAA,EAAGL,IAAIs0B,IAAW,CAAA,GACxFwnB,KAAKv7C,KAAKnB,EAAE28C,gBAAgBx7C,KAAKnB,EAAEonC,UAAUjmC,KAAKnB,EAAEonC,UAAUnmC,SAAS,CAAA,EAAGL,IAAI,QAAQs0B,IAAW,CAAA,MAEjG8c,KAAK7wC,KAAKnB,EAAE8mC,IACZ4V,KAAKv7C,KAAKnB,EAAE28C,gBAAgBx7C,KAAKnB,EAAEgrC,SAASxC,YAAYrnC,KAAKnB,EAAE4mC,aAAa,QAAQ1R,IAAW/zB,KAAKnB,EAAE4mC,UAAAA;uBAE/FzlC,KAAK26C,MAAM36C,KAAK26C,GAAG1U,aAAajmC,KAAK46C,GAAG3U,aAAajmC,KAAK26C,GAAGa,kBAAkBx7C,KAAK46C,GAAGY,gBAAgB;AAChH3K,gBAAAA,KAAK,CAAA,GACL0K,KAAK,CAAA;AACL,oBAAIZ,KAAK36C,KAAK26C,IACVC,KAAK56C,KAAK46C;AAEVD,gBAAAA,GAAG9Q,SAASxC,YAAYsT,GAAGlV,cAAckV,GAAG1U,UAAU,CAAA,EAAGxmC,KAC3DoxC,GAAG,CAAA,IAAK8J,GAAGa,gBAAgBb,GAAG1U,UAAU,CAAA,EAAGxmC,IAAI,QAAQs0B,IAAW,CAAA,GAClE8c,GAAG,CAAA,IAAK+J,GAAGY,gBAAgBZ,GAAG3U,UAAU,CAAA,EAAGxmC,IAAI,QAAQs0B,IAAW,CAAA,GAClEwnB,GAAG,CAAA,IAAKZ,GAAGa,eAAeb,GAAG1U,UAAU,CAAA,EAAGxmC,IAAIs0B,IAAW,CAAA,GACzDwnB,GAAG,CAAA,IAAKX,GAAGY,eAAeZ,GAAG3U,UAAU,CAAA,EAAGxmC,IAAIs0B,IAAW,CAAA,KAChD4mB,GAAG9Q,SAASxC,YAAYsT,GAAGlV,cAAckV,GAAG1U,UAAU0U,GAAG1U,UAAUnmC,SAAS,CAAA,EAAGL,KACxFoxC,GAAG,CAAA,IAAK8J,GAAGa,eAAeb,GAAG1U,UAAU0U,GAAG1U,UAAUnmC,SAAS,CAAA,EAAGL,IAAIs0B,IAAW,CAAA,GAC/E8c,GAAG,CAAA,IAAK+J,GAAGY,eAAeZ,GAAG3U,UAAU2U,GAAG3U,UAAUnmC,SAAS,CAAA,EAAGL,IAAIs0B,IAAW,CAAA,GAC/EwnB,GAAG,CAAA,IAAKZ,GAAGa,gBAAgBb,GAAG1U,UAAU0U,GAAG1U,UAAUnmC,SAAS,CAAA,EAAGL,IAAI,QAAQs0B,IAAW,CAAA,GACxFwnB,GAAG,CAAA,IAAKX,GAAGY,gBAAgBZ,GAAG3U,UAAU2U,GAAG3U,UAAUnmC,SAAS,CAAA,EAAGL,IAAI,QAAQs0B,IAAW,CAAA,MAExF8c,KAAK,CAAC8J,GAAGhV,IAAIiV,GAAGjV,EAAAA,GAChB4V,GAAG,CAAA,IAAKZ,GAAGa,gBAAgBb,GAAG9Q,SAASxC,YAAYsT,GAAGlV,aAAa,QAAQ1R,IAAW4mB,GAAGlV,UAAAA,GACzF8V,GAAG,CAAA,IAAKX,GAAGY,gBAAgBZ,GAAG/Q,SAASxC,YAAYuT,GAAGnV,aAAa,QAAQ1R,IAAW6mB,GAAGnV,UAAAA;cAAAA;AAI3FoL,gBAAAA,KADA0K,KAAKhB;AAIPv6C,mBAAKqD,EAAE+tC,OAAAA,CAAQtgC,KAAKm4B,MAAM4H,GAAG,CAAA,IAAK0K,GAAG,CAAA,GAAI1K,GAAG,CAAA,IAAK0K,GAAG,CAAA,CAAA,CAAA;YAAA;AAGlDv7C,iBAAK8V,KAAKjX,KAAKmB,KAAK8V,KAAKjX,EAAEa,IACzBM,KAAK8V,KAAKjX,EAAE41C,IACdz0C,KAAKqD,EAAE6uC,UAAUlyC,KAAK26C,GAAGt3C,GAAGrD,KAAK46C,GAAGv3C,GAAAA,CAAIrD,KAAK66C,GAAGx3C,CAAAA,IAEhDrD,KAAKqD,EAAE6uC,UAAUlyC,KAAK26C,GAAGt3C,GAAGrD,KAAK46C,GAAGv3C,GAAG,CAAA,IAGzCrD,KAAKqD,EAAE6uC,UAAUlyC,KAAKnB,EAAEwE,EAAE,CAAA,GAAIrD,KAAKnB,EAAEwE,EAAE,CAAA,GAAA,CAAKrD,KAAKnB,EAAEwE,EAAE,CAAA,CAAA;UAAA;AAIzDrD,eAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU;QAAAA;MAAAA,GAgIpCiR,oBA7HF,WAAA;AACE,YAAA,CAAKr7C,KAAKyE,EAAEb,MACV5D,KAAKy6C,IAAIvI,UAAAA,CAAWlyC,KAAKyE,EAAEpB,EAAE,CAAA,GAAA,CAAKrD,KAAKyE,EAAEpB,EAAE,CAAA,GAAIrD,KAAKyE,EAAEpB,EAAE,CAAA,CAAA,GACxDrD,KAAK06C,yBAAyB,GAAA,CAK3B16C,KAAKN,EAAE2qC,gBAAgBvqC,SAA5B;AAOA,cANEE,KAAKy6C,IAAI1I,MAAM/xC,KAAKN,EAAE2D,EAAE,CAAA,GAAIrD,KAAKN,EAAE2D,EAAE,CAAA,GAAIrD,KAAKN,EAAE2D,EAAE,CAAA,CAAA,GAClDrD,KAAK06C,yBAAyB,GAK5B16C,KAAKsrB,IAAI;AACX,gBAAKtrB,KAAKsrB,GAAG+e,gBAAgBvqC,UAAWE,KAAKurB,GAAG8e,gBAAgBvqC;AAI9D;AAHAE,iBAAKy6C,IAAI3I,aAAAA,CAAc9xC,KAAKsrB,GAAGjoB,GAAGrD,KAAKurB,GAAGloB,CAAAA,GAC1CrD,KAAK06C,yBAAyB;UAAA;AAM9B16C,eAAKY,IACFZ,KAAKY,EAAEypC,gBAAgBvqC,WAC1BE,KAAKy6C,IAAIrJ,OAAAA,CAAQpxC,KAAKY,EAAEyC,CAAAA,GACxBrD,KAAK06C,yBAAyB,KAEtB16C,KAAKg7C,GAAG3Q,gBAAgBvqC,UAAWE,KAAK+6C,GAAG1Q,gBAAgBvqC,UAAWE,KAAK86C,GAAGzQ,gBAAgBvqC,UAAWE,KAAKwvC,GAAGnF,gBAAgBvqC,WAC3IE,KAAKy6C,IAAI/I,QAAAA,CAAS1xC,KAAKg7C,GAAG33C,CAAAA,EAAGouC,QAAQzxC,KAAK+6C,GAAG13C,CAAAA,EAAGmuC,QAAQxxC,KAAK86C,GAAGz3C,CAAAA,EAAGquC,QAAAA,CAAS1xC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAIouC,QAAQzxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAImuC,QAAQxxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,GAClIrD,KAAK06C,yBAAyB;QAAA;MAAA,GA+FhCe,YA3FF,WAAA;MAAA,EAAA,GA6FAh8B,gBAAgB,CAAC4rB,wBAAAA,GAA2BmP,EAAAA,GAC5CA,GAAkB17C,UAAU8rC,qBA1F5B,SAA4B5qB,IAAAA;AAC1BhgB,aAAK07C,oBAAoB17B,EAAAA,GAEzBhgB,KAAKw7B,KAAKoP,mBAAmB5qB,EAAAA,GAC7BhgB,KAAKi7C,WAAAA;MAAW,GAuFlBT,GAAkB17C,UAAU48C,sBAAsBrQ,yBAAyBvsC,UAAU8rC,oBAM9E,EACL+Q,sBALF,SAA8BngB,IAAM1lB,IAAMvD,IAAAA;AACxC,eAAA,IAAWioC,GAAkBhf,IAAM1lB,IAAMvD,EAAAA;MAAAA,EAAAA;IAAAA,EAvQd;AA+Q/B,aAASqpC,mBAAAA;IAAAA;AAkST,aAASC,uBAAAA;IAAAA;AA0HT,aAASC,WAAWr3C,IAAGjG,IAAAA;AACrB,aAAyB,MAAlBsS,KAAK6S,IAAIlf,KAAIjG,EAAAA,KAAesS,KAAKyS,IAAIzS,KAAK6S,IAAIlf,EAAAA,GAAIqM,KAAK6S,IAAInlB,EAAAA,CAAAA;IAAAA;AAGpE,aAASu9C,UAAUr5C,IAAAA;AACjB,aAAOoO,KAAK6S,IAAIjhB,EAAAA,KAAM;IAAA;AAGxB,aAASs5C,KAAKpN,IAAIC,IAAIoL,IAAAA;AACpB,aAAOrL,MAAM,IAAIqL,MAAUpL,KAAKoL;IAAAA;AAGlC,aAASgC,UAAUrN,IAAIC,IAAIoL,IAAAA;AACzB,aAAO,CAAC+B,KAAKpN,GAAG,CAAA,GAAIC,GAAG,CAAA,GAAIoL,EAAAA,GAAS+B,KAAKpN,GAAG,CAAA,GAAIC,GAAG,CAAA,GAAIoL,EAAAA,CAAAA;IAAAA;AAGzD,aAASiC,UAAUz3C,IAAGjG,IAAGmC,IAAAA;AAEvB,UAAU,MAAN8D;AAAS,eAAO,CAAA;AACpB,UAAI/E,KAAIlB,KAAIA,KAAI,IAAIiG,KAAI9D;AAExB,UAAIjB,KAAI;AAAG,eAAO,CAAA;AAClB,UAAIy8C,KAAAA,CAAc39C,MAAK,IAAIiG;AAE3B,UAAU,MAAN/E;AAAS,eAAO,CAACy8C,EAAAA;AACrB,UAAIC,KAAQtrC,KAAKmS,KAAKvjB,EAAAA,KAAM,IAAI+E;AAEhC,aAAO,CAAC03C,KAAaC,IAAOD,KAAaC,EAAAA;IAAAA;AAG3C,aAASC,uBAAuBzN,IAAIC,IAAIsE,IAAImJ,IAAAA;AAC1C,aAAO,CAAO,IAAIzN,KAATD,KAAc,IAAIuE,KAAKmJ,IAAI,IAAI1N,KAAK,IAAIC,KAAK,IAAIsE,IAAAA,KAASvE,KAAK,IAAIC,IAAID,EAAAA;IAAAA;AAGlF,aAAS2N,YAAY19C,IAAAA;AACnB,aAAA,IAAW29C,iBAAiB39C,IAAGA,IAAGA,IAAGA,IAAAA,KAAG;IAAA;AAG1C,aAAS29C,iBAAiB5N,IAAIC,IAAIsE,IAAImJ,IAAIG,IAAAA;AACpCA,MAAAA,MAAaC,WAAW9N,IAAIC,EAAAA,MAC9BA,KAAKoN,UAAUrN,IAAI0N,IAAI,IAAI,CAAA,IAGzBG,MAAaC,WAAWvJ,IAAImJ,EAAAA,MAC9BnJ,KAAK8I,UAAUrN,IAAI0N,IAAI,IAAI,CAAA;AAG7B,UAAIK,KAASN,uBAAuBzN,GAAG,CAAA,GAAIC,GAAG,CAAA,GAAIsE,GAAG,CAAA,GAAImJ,GAAG,CAAA,CAAA,GACxDM,KAASP,uBAAuBzN,GAAG,CAAA,GAAIC,GAAG,CAAA,GAAIsE,GAAG,CAAA,GAAImJ,GAAG,CAAA,CAAA;AAC5Dt8C,WAAKyE,IAAI,CAACk4C,GAAO,CAAA,GAAIC,GAAO,CAAA,CAAA,GAC5B58C,KAAKxB,IAAI,CAACm+C,GAAO,CAAA,GAAIC,GAAO,CAAA,CAAA,GAC5B58C,KAAKW,IAAI,CAACg8C,GAAO,CAAA,GAAIC,GAAO,CAAA,CAAA,GAC5B58C,KAAKzB,IAAI,CAACo+C,GAAO,CAAA,GAAIC,GAAO,CAAA,CAAA,GAC5B58C,KAAK29B,SAAS,CAACiR,IAAIC,IAAIsE,IAAImJ,EAAAA;IAAAA;AAmD7B,aAASO,QAAQ5X,IAAKhb,IAAAA;AACpB,UAAI1G,KAAM0hB,GAAItH,OAAO,CAAA,EAAG1T,EAAAA,GACpB5G,KAAM4hB,GAAItH,OAAOsH,GAAItH,OAAO79B,SAAS,CAAA,EAAGmqB,EAAAA;AAE5C,UAAI1G,KAAMF,IAAK;AACb,YAAInjB,KAAImjB;AACRA,QAAAA,KAAME,IACNA,KAAMrjB;MAAAA;AAMR,eAFIwC,KAAIw5C,UAAU,IAAIjX,GAAIxgC,EAAEwlB,EAAAA,GAAO,IAAIgb,GAAIzmC,EAAEyrB,EAAAA,GAAOgb,GAAItkC,EAAEspB,EAAAA,CAAAA,GAEjDtqB,KAAI,GAAGA,KAAI+C,GAAE5C,QAAQH,MAAK;AACjC,YAAI+C,GAAE/C,EAAAA,IAAK,KAAK+C,GAAE/C,EAAAA,IAAK,GAAG;AACxB,cAAIikB,KAAMqhB,GAAIzD,MAAM9+B,GAAE/C,EAAAA,CAAAA,EAAIsqB,EAAAA;AACtBrG,UAAAA,KAAML,KAAKA,KAAMK,KAAaA,KAAMP,OAAKA,KAAMO;QAAAA;AAIvD,aAAO,EACLL,KAAKA,IACLF,KAAKA,GAAAA;IAAAA;AAyBT,aAASy5B,cAAc7X,IAAK7B,IAAI2Z,IAAAA;AAC9B,UAAIC,KAAM/X,GAAIgY,YAAAA;AACd,aAAO,EACLC,IAAIF,GAAIE,IACRC,IAAIH,GAAIG,IACR1uB,OAAOuuB,GAAIvuB,OACXC,QAAQsuB,GAAItuB,QACZuW,KAAKA,IACLxlC,IAAI2jC,KAAK2Z,MAAM,GACf3Z,IAAIA,IACJ2Z,IAAIA,GAAAA;IAAAA;AAIR,aAASK,UAAUtnC,IAAAA;AACjB,UAAIP,KAAQO,GAAKmvB,IAAI1vB,MAAM,GAAA;AAC3B,aAAO,CAACunC,cAAcvnC,GAAM,CAAA,GAAIO,GAAKstB,IAAIttB,GAAKrW,CAAAA,GAAIq9C,cAAcvnC,GAAM,CAAA,GAAIO,GAAKrW,GAAGqW,GAAKinC,EAAAA,CAAAA;IAAAA;AAGzF,aAASM,aAAa/J,IAAIf,IAAAA;AACxB,aAAiC,IAA1BzhC,KAAK6S,IAAI2vB,GAAG4J,KAAK3K,GAAG2K,EAAAA,IAAU5J,GAAG7kB,QAAQ8jB,GAAG9jB,SAAmC,IAA1B3d,KAAK6S,IAAI2vB,GAAG6J,KAAK5K,GAAG4K,EAAAA,IAAU7J,GAAG5kB,SAAS6jB,GAAG7jB;IAAAA;AAG3G,aAAS4uB,eAAe/J,IAAIf,IAAI+K,IAAOC,IAAWC,IAAeC,IAAAA;AAC/D,UAAKL,aAAa9J,IAAIf,EAAAA;AAEtB,YAAI+K,MAASG,MAAgBnK,GAAG9kB,SAAS+uB,MAAajK,GAAG7kB,UAAU8uB,MAAahL,GAAG/jB,SAAS+uB,MAAahL,GAAG9jB,UAAU8uB;AACpHC,UAAAA,GAAcj6C,KAAK,CAAC+vC,GAAG9zC,GAAG+yC,GAAG/yC,CAAAA,CAAAA;aAD/B;AAKA,cAAIk+C,KAAMP,UAAU7J,EAAAA,GAChBqK,KAAMR,UAAU5K,EAAAA;AACpB8K,yBAAeK,GAAI,CAAA,GAAIC,GAAI,CAAA,GAAIL,KAAQ,GAAGC,IAAWC,IAAeC,EAAAA,GACpEJ,eAAeK,GAAI,CAAA,GAAIC,GAAI,CAAA,GAAIL,KAAQ,GAAGC,IAAWC,IAAeC,EAAAA,GACpEJ,eAAeK,GAAI,CAAA,GAAIC,GAAI,CAAA,GAAIL,KAAQ,GAAGC,IAAWC,IAAeC,EAAAA,GACpEJ,eAAeK,GAAI,CAAA,GAAIC,GAAI,CAAA,GAAIL,KAAQ,GAAGC,IAAWC,IAAeC,EAAAA;QAAAA;IAAAA;AAqBtE,aAASG,aAAap5C,IAAGjG,IAAAA;AACvB,aAAO,CAACiG,GAAE,CAAA,IAAKjG,GAAE,CAAA,IAAKiG,GAAE,CAAA,IAAKjG,GAAE,CAAA,GAAIiG,GAAE,CAAA,IAAKjG,GAAE,CAAA,IAAKiG,GAAE,CAAA,IAAKjG,GAAE,CAAA,GAAIiG,GAAE,CAAA,IAAKjG,GAAE,CAAA,IAAKiG,GAAE,CAAA,IAAKjG,GAAE,CAAA,CAAA;IAAA;AAGvF,aAASs/C,iBAAiBC,IAAQC,IAAMC,IAAQC,IAAAA;AAC9C,UAAIrN,KAAK,CAACkN,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAI,CAAA,GAC5BxC,KAAK,CAACyC,GAAK,CAAA,GAAIA,GAAK,CAAA,GAAI,CAAA,GACxBG,KAAK,CAACF,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAI,CAAA,GAC5BG,KAAK,CAACF,GAAK,CAAA,GAAIA,GAAK,CAAA,GAAI,CAAA,GACxBt9C,KAAIi9C,aAAaA,aAAahN,IAAI0K,EAAAA,GAAKsC,aAAaM,IAAIC,EAAAA,CAAAA;AAC5D,aAAIrC,UAAUn7C,GAAE,CAAA,CAAA,IAAA,OACT,CAACA,GAAE,CAAA,IAAKA,GAAE,CAAA,GAAIA,GAAE,CAAA,IAAKA,GAAE,CAAA,CAAA;IAAA;AAGhC,aAASy9C,YAAYx/C,IAAGixC,IAAOhwC,IAAAA;AAC7B,aAAO,CAACjB,GAAE,CAAA,IAAKiS,KAAKs4B,IAAI0G,EAAAA,IAAShwC,IAAQjB,GAAE,CAAA,IAAKiS,KAAKk4B,IAAI8G,EAAAA,IAAShwC,EAAAA;IAAAA;AAGpE,aAASw+C,cAAczP,IAAIsE,IAAAA;AACzB,aAAOriC,KAAKytC,MAAM1P,GAAG,CAAA,IAAKsE,GAAG,CAAA,GAAItE,GAAG,CAAA,IAAKsE,GAAG,CAAA,CAAA;IAAA;AAG9C,aAASuJ,WAAW7N,IAAIsE,IAAAA;AACtB,aAAO2I,WAAWjN,GAAG,CAAA,GAAIsE,GAAG,CAAA,CAAA,KAAO2I,WAAWjN,GAAG,CAAA,GAAIsE,GAAG,CAAA,CAAA;IAAA;AAG1D,aAASqL,iBAAAA;IAAAA;AAYT,aAASC,SAASC,IAAcld,IAAOsO,IAAOzqB,IAAWs5B,IAAWC,IAAcC,IAAAA;AAChF,UAAIC,KAAOhP,KAAQh/B,KAAKkT,KAAK,GACzB+6B,KAAOjP,KAAQh/B,KAAKkT,KAAK,GACzB22B,KAAKnZ,GAAM,CAAA,IAAK1wB,KAAKs4B,IAAI0G,EAAAA,IAASzqB,KAAYs5B,IAC9C/D,KAAKpZ,GAAM,CAAA,IAAK1wB,KAAKk4B,IAAI8G,EAAAA,IAASzqB,KAAYs5B;AAClDD,MAAAA,GAAazS,YAAY0O,IAAIC,IAAID,KAAK7pC,KAAKs4B,IAAI0V,EAAAA,IAAQF,IAAchE,KAAK9pC,KAAKk4B,IAAI8V,EAAAA,IAAQF,IAAcjE,KAAK7pC,KAAKs4B,IAAI2V,EAAAA,IAAQF,IAAajE,KAAK9pC,KAAKk4B,IAAI+V,EAAAA,IAAQF,IAAaH,GAAa5+C,OAAAA,CAAAA;IAAAA;AAG9L,aAASk/C,uBAAuBhe,IAAKC,IAAAA;AACnC,UAAIge,KAAS,CAAChe,GAAI,CAAA,IAAKD,GAAI,CAAA,GAAIC,GAAI,CAAA,IAAKD,GAAI,CAAA,CAAA,GACxCke,KAAiB,MAAA,CAAVpuC,KAAKkT;AAEhB,aADoB,CAAClT,KAAKs4B,IAAI8V,EAAAA,IAAOD,GAAO,CAAA,IAAKnuC,KAAKk4B,IAAIkW,EAAAA,IAAOD,GAAO,CAAA,GAAInuC,KAAKk4B,IAAIkW,EAAAA,IAAOD,GAAO,CAAA,IAAKnuC,KAAKs4B,IAAI8V,EAAAA,IAAOD,GAAO,CAAA,CAAA;IAAA;AAIjI,aAASE,mBAAmB/2B,IAAMg3B,IAAAA;AAChC,UAAIC,KAAoB,MAARD,KAAYh3B,GAAKtoB,OAAAA,IAAW,IAAIs/C,KAAM,GAClDE,MAAaF,KAAM,KAAKh3B,GAAKtoB,OAAAA,GAG7By/C,KAAUP,uBAFE52B,GAAK/kB,EAAEg8C,EAAAA,GACPj3B,GAAK/kB,EAAEi8C,EAAAA,CAAAA;AAEvB,aAAOxuC,KAAKm4B,MAAM,GAAG,CAAA,IAAKn4B,KAAKm4B,MAAMsW,GAAQ,CAAA,GAAIA,GAAQ,CAAA,CAAA;IAAA;AAG3D,aAASC,aAAad,IAAct2B,IAAMg3B,IAAKT,IAAWc,IAAWC,IAAWr6B,IAAAA;AAC9E,UAAIyqB,KAAQqP,mBAAmB/2B,IAAMg3B,EAAAA,GACjC5d,KAAQpZ,GAAK/kB,EAAE+7C,KAAMh3B,GAAKsX,OAAAA,GAC1BigB,KAAYv3B,GAAK/kB,EAAU,MAAR+7C,KAAYh3B,GAAKsX,UAAU,IAAI0f,KAAM,CAAA,GACxDQ,KAAYx3B,GAAK/kB,GAAG+7C,KAAM,KAAKh3B,GAAKsX,OAAAA,GACpCmgB,KAAyB,MAAdH,KAAkB5uC,KAAKmS,KAAKnS,KAAKiS,IAAIye,GAAM,CAAA,IAAKme,GAAU,CAAA,GAAI,CAAA,IAAK7uC,KAAKiS,IAAIye,GAAM,CAAA,IAAKme,GAAU,CAAA,GAAI,CAAA,CAAA,IAAM,GACtHG,KAAyB,MAAdJ,KAAkB5uC,KAAKmS,KAAKnS,KAAKiS,IAAIye,GAAM,CAAA,IAAKoe,GAAU,CAAA,GAAI,CAAA,IAAK9uC,KAAKiS,IAAIye,GAAM,CAAA,IAAKoe,GAAU,CAAA,GAAI,CAAA,CAAA,IAAM;AAC1HnB,eAASC,IAAct2B,GAAK/kB,EAAE+7C,KAAMh3B,GAAKsX,OAAAA,GAAUoQ,IAAOzqB,IAAWs5B,IAAWmB,MAA8B,KAAjBL,KAAY,KAASI,MAA8B,KAAjBJ,KAAY,KAASC,EAAAA;IAAAA;AAGtJ,aAASK,cAAcrB,IAAcvnB,IAASwnB,IAAWc,IAAWC,IAAWr6B,IAAAA;AAC7E,eAAS1lB,KAAI,GAAGA,KAAI8/C,IAAW9/C,MAAK,GAAG;AACrC,YAAIF,MAAKE,KAAI,MAAM8/C,KAAY,IAC3BO,KAAqB,MAAdN,KAAkB5uC,KAAKmS,KAAKnS,KAAKiS,IAAIoU,GAAQwG,OAAO,CAAA,EAAG,CAAA,IAAKxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAI,CAAA,IAAK7sB,KAAKiS,IAAIoU,GAAQwG,OAAO,CAAA,EAAG,CAAA,IAAKxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAI,CAAA,CAAA,IAAM,GAC1JmS,KAAQ3Y,GAAQ8oB,YAAYxgD,EAAAA;AAEhCg/C,iBAASC,IADGvnB,GAAQqK,MAAM/hC,EAAAA,GACIqwC,IAAOzqB,IAAWs5B,IAAWqB,MAA0B,KAAjBP,KAAY,KAASO,MAA0B,KAAjBP,KAAY,KAASC,EAAAA,GACvHr6B,KAAAA,CAAaA;MAAAA;AAGf,aAAOA;IAAAA;AAsET,aAAS66B,aAAarR,IAAIsE,IAAI8G,IAAAA;AAC5B,UAAInK,KAAQh/B,KAAKm4B,MAAMkK,GAAG,CAAA,IAAKtE,GAAG,CAAA,GAAIsE,GAAG,CAAA,IAAKtE,GAAG,CAAA,CAAA;AACjD,aAAO,CAACwP,YAAYxP,IAAIiB,IAAOmK,EAAAA,GAASoE,YAAYlL,IAAIrD,IAAOmK,EAAAA,CAAAA;IAAAA;AAGjE,aAASkG,cAAchpB,IAAS8iB,IAAAA;AAC9B,UAAIrL,IACAwR,IACAC,IACAC,IACAC,IACAjE,IACAp8C;AAEJ0uC,MAAAA,MADA1uC,KAAIggD,aAAa/oB,GAAQwG,OAAO,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,GAAIsc,EAAAA,GAChD,CAAA,GACPmG,KAAMlgD,GAAE,CAAA,GAERmgD,MADAngD,KAAIggD,aAAa/oB,GAAQwG,OAAO,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,GAAIsc,EAAAA,GAC/C,CAAA,GACRqG,KAAMpgD,GAAE,CAAA,GAERqgD,MADArgD,KAAIggD,aAAa/oB,GAAQwG,OAAO,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,GAAIsc,EAAAA,GAC/C,CAAA,GACRqC,KAAKp8C,GAAE,CAAA;AACP,UAAI2uC,KAAKiP,iBAAiBlP,IAAIwR,IAAKC,IAAKC,EAAAA;AAC7B,eAAPzR,OAAaA,KAAKuR;AACtB,UAAIjN,KAAK2K,iBAAiByC,IAAKjE,IAAI+D,IAAKC,EAAAA;AAExC,aADW,SAAPnN,OAAaA,KAAKoN,KAAAA,IACX/D,iBAAiB5N,IAAIC,IAAIsE,IAAImJ,EAAAA;IAAAA;AAG1C,aAASkE,UAAU9B,IAAc+B,IAAMC,IAAMC,IAAUC,IAAAA;AACrD,UAAIhS,KAAK6R,GAAK9iB,OAAO,CAAA,GACjBkR,KAAK6R,GAAK/iB,OAAO,CAAA;AAErB,UAAiB,MAAbgjB;AAAgB,eAAO/R;AAE3B,UAAI8N,WAAW9N,IAAIC,EAAAA;AAAK,eAAOD;AAE/B,UAAiB,MAAb+R,IAAgB;AAClB,YAAIE,KAAAA,CAAYJ,GAAKK,aAAa,CAAA,GAC9BC,KAAAA,CAAWL,GAAKI,aAAa,CAAA,IAAKhwC,KAAKkT,IACvCg9B,KAASlD,iBAAiBlP,IAAIyP,YAAYzP,IAAIiS,KAAW/vC,KAAKkT,KAAK,GAAG,GAAA,GAAM6qB,IAAIwP,YAAYxP,IAAIgS,KAAW/vC,KAAKkT,KAAK,GAAG,GAAA,CAAA,GACxHi9B,KAASD,KAAS1C,cAAc0C,IAAQpS,EAAAA,IAAM0P,cAAc1P,IAAIC,EAAAA,IAAM,GACtEqC,KAAMmN,YAAYzP,IAAIiS,IAAU,IAAII,KAASh9B,WAAAA;AAIjD,eAHAy6B,GAAa3S,QAAQmF,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAI,KAAKwN,GAAa5+C,OAAAA,IAAW,CAAA,GAClEoxC,KAAMmN,YAAYxP,IAAIkS,IAAS,IAAIE,KAASh9B,WAAAA,GAC5Cy6B,GAAazS,YAAY4C,GAAG,CAAA,GAAIA,GAAG,CAAA,GAAIA,GAAG,CAAA,GAAIA,GAAG,CAAA,GAAIqC,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIwN,GAAa5+C,OAAAA,CAAAA,GAC3E+uC;MAAAA;AAIT,UAEIqS,KAAepD,iBAFVpB,WAAW9N,IAAI6R,GAAK9iB,OAAO,CAAA,CAAA,IAAM8iB,GAAK9iB,OAAO,CAAA,IAAK8iB,GAAK9iB,OAAO,CAAA,GAE/BiR,IAAIC,IADnC6N,WAAW7N,IAAI6R,GAAK/iB,OAAO,CAAA,CAAA,IAAM+iB,GAAK/iB,OAAO,CAAA,IAAK+iB,GAAK/iB,OAAO,CAAA,CAAA;AAGvE,aAAIujB,MAAgB5C,cAAc4C,IAActS,EAAAA,IAAMgS,MACpDlC,GAAazS,YAAYiV,GAAa,CAAA,GAAIA,GAAa,CAAA,GAAIA,GAAa,CAAA,GAAIA,GAAa,CAAA,GAAIA,GAAa,CAAA,GAAIA,GAAa,CAAA,GAAIxC,GAAa5+C,OAAAA,CAAAA,GACrIohD,MAGFtS;IAAAA;AAGT,aAASuS,gBAAgB18C,IAAGjG,IAAAA;AAC1B,UAAI4iD,KAAY38C,GAAEg5C,cAAcj/C,EAAAA;AAEhC,aADI4iD,GAAUthD,UAAUg8C,WAAWsF,GAAU,CAAA,EAAG,CAAA,GAAI,CAAA,KAAIA,GAAU37C,MAAAA,GAC9D27C,GAAUthD,SAAeshD,GAAU,CAAA,IAAA;IAAA;AAIzC,aAASC,yBAAyB58C,IAAGjG,IAAAA;AACnC,UAAI8iD,KAAO78C,GAAEQ,MAAAA,GACTs8C,KAAO/iD,GAAEyG,MAAAA,GACTm8C,KAAYD,gBAAgB18C,GAAEA,GAAE3E,SAAS,CAAA,GAAItB,GAAE,CAAA,CAAA;AAOnD,aALI4iD,OACFE,GAAK78C,GAAE3E,SAAS,CAAA,IAAK2E,GAAEA,GAAE3E,SAAS,CAAA,EAAGyV,MAAM6rC,GAAU,CAAA,CAAA,EAAI,CAAA,GACzDG,GAAK,CAAA,IAAK/iD,GAAE,CAAA,EAAG+W,MAAM6rC,GAAU,CAAA,CAAA,EAAI,CAAA,IAGjC38C,GAAE3E,SAAS,KAAKtB,GAAEsB,SAAS,MAC7BshD,KAAYD,gBAAgB18C,GAAE,CAAA,GAAIjG,GAAEA,GAAEsB,SAAS,CAAA,CAAA,KAGtC,CAAC,CAAC2E,GAAE,CAAA,EAAG8Q,MAAM6rC,GAAU,CAAA,CAAA,EAAI,CAAA,CAAA,GAAK,CAAC5iD,GAAEA,GAAEsB,SAAS,CAAA,EAAGyV,MAAM6rC,GAAU,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,IAIzE,CAACE,IAAMC,EAAAA;IAAAA;AAGhB,aAASC,mBAAmB5sB,IAAAA;AAG1B,eAFI10B,IAEKP,KAAI,GAAGA,KAAIi1B,GAAS90B,QAAQH,MAAK;AACxCO,QAAAA,KAAImhD,yBAAyBzsB,GAASj1B,KAAI,CAAA,GAAIi1B,GAASj1B,EAAAA,CAAAA,GACvDi1B,GAASj1B,KAAI,CAAA,IAAKO,GAAE,CAAA,GACpB00B,GAASj1B,EAAAA,IAAKO,GAAE,CAAA;AASlB,aANI00B,GAAS90B,SAAS,MACpBI,KAAImhD,yBAAyBzsB,GAASA,GAAS90B,SAAS,CAAA,GAAI80B,GAAS,CAAA,CAAA,GACrEA,GAASA,GAAS90B,SAAS,CAAA,IAAKI,GAAE,CAAA,GAClC00B,GAAS,CAAA,IAAK10B,GAAE,CAAA,IAGX00B;IAAAA;AAGT,aAAS6sB,mBAAmBtqB,IAAS8iB,IAAAA;AAOnC,UACIz1B,IACAk9B,IACAnsC,IACAosC,IAJAC,KAAOzqB,GAAQ0qB,iBAAAA;AAMnB,UAAoB,MAAhBD,GAAK9hD;AACP,eAAO,CAACqgD,cAAchpB,IAAS8iB,EAAAA,CAAAA;AAGjC,UAAoB,MAAhB2H,GAAK9hD,UAAgBg8C,WAAW8F,GAAK,CAAA,GAAI,CAAA;AAI3C,eAFAp9B,MADAjP,KAAQ4hB,GAAQ5hB,MAAMqsC,GAAK,CAAA,CAAA,GACd,CAAA,GACbF,KAAQnsC,GAAM,CAAA,GACP,CAAC4qC,cAAc37B,IAAMy1B,EAAAA,GAASkG,cAAcuB,IAAOzH,EAAAA,CAAAA;AAI5Dz1B,MAAAA,MADAjP,KAAQ4hB,GAAQ5hB,MAAMqsC,GAAK,CAAA,CAAA,GACd,CAAA;AACb,UAAIniD,MAAKmiD,GAAK,CAAA,IAAKA,GAAK,CAAA,MAAO,IAAIA,GAAK,CAAA;AAIxC,aAFAD,MADApsC,KAAQA,GAAM,CAAA,EAAGA,MAAM9V,EAAAA,GACX,CAAA,GACZiiD,KAAQnsC,GAAM,CAAA,GACP,CAAC4qC,cAAc37B,IAAMy1B,EAAAA,GAASkG,cAAcwB,IAAK1H,EAAAA,GAASkG,cAAcuB,IAAOzH,EAAAA,CAAAA;IAAAA;AAGxF,aAAS6H,qBAAAA;IAAAA;AAwGT,aAASC,kBAAkBC,IAAAA;AAOzB,eANIz5C,KAASy5C,GAASC,SAASD,GAASC,OAAO1sC,MAAM,GAAA,IAAO,CAAA,GACxD2sC,KAAU,UACVD,KAAS,UACTpiC,KAAMtX,GAAOzI,QAGRH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAG5B,gBAFY4I,GAAO5I,EAAAA,EAAGsN,YAAAA,GAAAA;UAGpB,KAAK;AACHg1C,YAAAA,KAAS;AACT;UAEF,KAAK;AACHC,YAAAA,KAAU;AACV;UAEF,KAAK;AACHA,YAAAA,KAAU;AACV;UAEF,KAAK;AACHA,YAAAA,KAAU;AACV;UAEF,KAAK;UACL,KAAK;AACHA,YAAAA,KAAU;AACV;UAEF,KAAK;UACL,KAAK;AACHA,YAAAA,KAAU;QAAA;AAQhB,aAAO,EACLv5C,OAAOs5C,IACPE,QAAQH,GAASE,WAAWA,GAAAA;IAAAA;AAniChCziC,oBAAgB,CAACs4B,aAAAA,GAAgB6D,gBAAAA,GAEjCA,iBAAiB98C,UAAUo5C,yBAAyB,SAAU1c,IAAM1lB,IAAAA;AAClE9V,WAAK+qC,WAAW/qC,KAAKq4C,aACrBr4C,KAAKW,IAAIukC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKnV,GAAG,GAAG,MAAMX,IAAAA,GACxDA,KAAK0D,IAAIwhC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpS,GAAG,GAAG,MAAM1D,IAAAA,GACxDA,KAAKoiD,KAAK9H,yBAAyBqB,qBAAqBngB,IAAM1lB,GAAKssC,IAAIpiD,IAAAA,GACvEA,KAAKqiD,KAAKnd,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKssC,GAAGC,IAAI,GAAG,MAAMriD,IAAAA,GAC7DA,KAAKsiD,KAAKpd,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKssC,GAAGE,IAAI,GAAG,MAAMtiD,IAAAA,GAC7DA,KAAK8V,OAAOA,IAEP9V,KAAKsrC,kBAAkBxrC,UAC1BE,KAAK+qC,SAAAA,IAAS,GAGhB/qC,KAAKurC,cAAAA,CAAAA,CAAgBvrC,KAAKsrC,kBAAkBxrC,QAC5CE,KAAKuiD,UAAU,IAAIzR,UACnB9wC,KAAKwiD,UAAU,IAAI1R,UACnB9wC,KAAKyiD,UAAU,IAAI3R,UACnB9wC,KAAK0iD,UAAU,IAAI5R,UACnB9wC,KAAK2iD,SAAS,IAAI7R;IAAAA,GAGpB8K,iBAAiB98C,UAAU8jD,kBAAkB,SAAUL,IAASC,IAASC,IAASpQ,IAAWhR,IAAMwhB,IAAAA;AACjG,UAAIrgB,KAAMqgB,KAAAA,KAAW,GACjBC,KAASzQ,GAAU3yC,EAAE2D,EAAE,CAAA,KAAM,IAAIgvC,GAAU3yC,EAAE2D,EAAE,CAAA,MAAO,IAAIg+B,KAC1D0hB,KAAS1Q,GAAU3yC,EAAE2D,EAAE,CAAA,KAAM,IAAIgvC,GAAU3yC,EAAE2D,EAAE,CAAA,MAAO,IAAIg+B;AAC9DkhB,MAAAA,GAAQrQ,UAAUG,GAAUxzC,EAAEwE,EAAE,CAAA,IAAKm/B,KAAMnB,IAAMgR,GAAUxzC,EAAEwE,EAAE,CAAA,IAAKm/B,KAAMnB,IAAMgR,GAAUxzC,EAAEwE,EAAE,CAAA,CAAA,GAC9Fm/C,GAAQtQ,UAAAA,CAAWG,GAAU5tC,EAAEpB,EAAE,CAAA,GAAA,CAAKgvC,GAAU5tC,EAAEpB,EAAE,CAAA,GAAIgvC,GAAU5tC,EAAEpB,EAAE,CAAA,CAAA,GACtEm/C,GAAQpR,OAAAA,CAAQiB,GAAUzxC,EAAEyC,IAAIm/B,KAAMnB,EAAAA,GACtCmhB,GAAQtQ,UAAUG,GAAU5tC,EAAEpB,EAAE,CAAA,GAAIgvC,GAAU5tC,EAAEpB,EAAE,CAAA,GAAIgvC,GAAU5tC,EAAEpB,EAAE,CAAA,CAAA,GACpEo/C,GAAQvQ,UAAAA,CAAWG,GAAU5tC,EAAEpB,EAAE,CAAA,GAAA,CAAKgvC,GAAU5tC,EAAEpB,EAAE,CAAA,GAAIgvC,GAAU5tC,EAAEpB,EAAE,CAAA,CAAA,GACtEo/C,GAAQ1Q,MAAM8Q,KAAM,IAAIC,KAASA,IAAQD,KAAM,IAAIE,KAASA,EAAAA,GAC5DN,GAAQvQ,UAAUG,GAAU5tC,EAAEpB,EAAE,CAAA,GAAIgvC,GAAU5tC,EAAEpB,EAAE,CAAA,GAAIgvC,GAAU5tC,EAAEpB,EAAE,CAAA,CAAA;IAAA,GAGtEu4C,iBAAiB98C,UAAUg7B,OAAO,SAAU0B,IAAMxZ,IAAKgqB,IAAKgX,IAAAA;AAY1D,WAXAhjD,KAAKw7B,OAAOA,IACZx7B,KAAKgiB,MAAMA,IACXhiB,KAAKgsC,MAAMA,IACXhsC,KAAKgjD,YAAYA,IACjBhjD,KAAKijD,iBAAiB,GACtBjjD,KAAKkjD,YAAY,CAAA,GACjBljD,KAAKmjD,UAAU,CAAA,GACfnjD,KAAKoqC,UAAAA,IACLpqC,KAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAKk4C,uBAAuB1c,IAAMxZ,GAAIgqB,EAAAA,CAAAA,GAE/BA,KAAM;AACXA,QAAAA,MAAO,GAEPhsC,KAAKkjD,UAAUl2C,QAAQgV,GAAIgqB,EAAAA,CAAAA;AAGzBhsC,WAAKsrC,kBAAkBxrC,SACzBE,KAAK4D,IAAAA,OAEL5D,KAAK+qC,SAAAA,IAAS;IAAA,GAIlB6Q,iBAAiB98C,UAAUskD,gBAAgB,SAAU/mC,IAAAA;AACnD,UAAI1c,IACAkgB,KAAMxD,GAASvc;AAEnB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB0c,QAAAA,GAAS1c,EAAAA,EAAG0jD,aAAAA,OAEW,SAAnBhnC,GAAS1c,EAAAA,EAAG+pB,MACd1pB,KAAKojD,cAAc/mC,GAAS1c,EAAAA,EAAGyqB,EAAAA;IAAAA,GAKrCwxB,iBAAiB98C,UAAUwkD,gBAAgB,SAAUjnC,IAAAA;AACnD,UAAIknC,KAAcv5C,KAAKK,MAAML,KAAKC,UAAUoS,EAAAA,CAAAA;AAE5C,aADArc,KAAKojD,cAAcG,EAAAA,GACZA;IAAAA,GAGT3H,iBAAiB98C,UAAU0kD,oBAAoB,SAAUnnC,IAAUonC,IAAAA;AACjE,UAAI9jD,IACAkgB,KAAMxD,GAASvc;AAEnB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB0c,QAAAA,GAAS1c,EAAAA,EAAG+jD,UAAUD,IAEC,SAAnBpnC,GAAS1c,EAAAA,EAAG+pB,MACd1pB,KAAKwjD,kBAAkBnnC,GAAS1c,EAAAA,EAAGyqB,IAAIq5B,EAAAA;IAAAA,GAK7C7H,iBAAiB98C,UAAUm6C,gBAAgB,SAAU1O,IAAAA;AACnD,UAAIoZ,IACAC,IACAjkD,IACA6iC,IACAqhB,IACAC,KAAAA;AAEJ,UAAI9jD,KAAKkqC,QAAQK,IAAe;AAC9B,YAmEIkZ,IAnEAM,KAASjzC,KAAKkzC,KAAKhkD,KAAKW,EAAE0C,CAAAA;AAE9B,YAAIrD,KAAKmjD,QAAQrjD,SAASikD,IAAQ;AAChC,iBAAO/jD,KAAKmjD,QAAQrjD,SAASikD,MAAQ;AACnC,gBAAIE,KAAQ,EACV75B,IAAIpqB,KAAKsjD,cAActjD,KAAKkjD,SAAAA,GAC5Bx5B,IAAI,KAAA;AAENu6B,YAAAA,GAAM75B,GAAG5mB,KAAK,EACZiB,GAAG,EACDA,GAAG,GACHy/C,IAAI,GACJtgD,GAAG,CAAC,GAAG,CAAA,EAAA,GAETuvB,IAAI,aACJzvB,GAAG,EACDe,GAAG,GACHy/C,IAAI,GACJtgD,GAAG,IAAA,GAEL/E,GAAG,EACD4F,GAAG,GACHy/C,IAAI,GACJtgD,GAAG,CAAC,GAAG,CAAA,EAAA,GAEThD,GAAG,EACD6D,GAAG,GACHy/C,IAAI,GACJtgD,GAAG,CAAC,EACFlE,GAAG,GACHQ,GAAG,GACHT,GAAG,EAAA,GACF,EACDC,GAAG,GACHQ,GAAG,GACHT,GAAG,EAAA,CAAA,EAAA,GAGPC,GAAG,EACD+E,GAAG,GACHy/C,IAAI,GACJtgD,GAAG,CAAC,KAAK,GAAA,EAAA,GAEX2nB,IAAI,EACF9mB,GAAG,GACHy/C,IAAI,GACJtgD,GAAG,EAAA,GAEL0nB,IAAI,EACF7mB,GAAG,GACHy/C,IAAI,GACJtgD,GAAG,EAAA,GAEL8lB,IAAI,KAAA,CAAA,GAEN1pB,KAAKgiB,IAAInU,OAAO,GAAG,GAAGo2C,EAAAA,GAEtBjkD,KAAKmjD,QAAQt1C,OAAO,GAAG,GAAGo2C,EAAAA,GAE1BjkD,KAAKijD,kBAAkB;UAAA;AAGzBjjD,eAAKw7B,KAAK2oB,aAAAA,GACVL,KAAAA;QAAc;AAMhB,aAHAD,KAAO,GAGFlkD,KAAI,GAAGA,MAAKK,KAAKmjD,QAAQrjD,SAAS,GAAGH,MAAK,GAAG;AAKhD,cAJA8jD,KAAaI,KAAOE,IACpB/jD,KAAKmjD,QAAQxjD,EAAAA,EAAG+jD,UAAUD,IAC1BzjD,KAAKwjD,kBAAkBxjD,KAAKmjD,QAAQxjD,EAAAA,EAAGyqB,IAAIq5B,EAAAA,GAAAA,CAEtCA,IAAY;AACf,gBAAIW,KAAQpkD,KAAKgjD,UAAUrjD,EAAAA,EAAGyqB,IAC1Bi6B,KAAgBD,GAAMA,GAAMtkD,SAAS,CAAA;AAEJ,kBAAjCukD,GAAchS,UAAU/uC,GAAGD,KAC7BghD,GAAchS,UAAU/uC,GAAG4mC,OAAAA,MAC3Bma,GAAchS,UAAU/uC,GAAGD,IAAI,KAE/BghD,GAAchS,UAAU/uC,GAAG4mC,OAAAA;UAAO;AAItC2Z,UAAAA,MAAQ;QAAA;AAGV7jD,aAAKijD,iBAAiBc;AAEtB,YAAIv9B,KAASxmB,KAAK0D,EAAEL,GAChBihD,KAAe99B,KAAS,GACxB+9B,KAAc/9B,KAAS,IAAI1V,KAAKqS,MAAMqD,EAAAA,IAAU1V,KAAKkzC,KAAKx9B,EAAAA,GAC1Dg+B,KAASxkD,KAAKuiD,QAAQn2C,OACtBq4C,KAASzkD,KAAKwiD,QAAQp2C,OACtBs4C,KAAS1kD,KAAKyiD,QAAQr2C;AAC1BpM,aAAKuiD,QAAQjU,MAAAA,GACbtuC,KAAKwiD,QAAQlU,MAAAA,GACbtuC,KAAKyiD,QAAQnU,MAAAA,GACbtuC,KAAK0iD,QAAQpU,MAAAA,GACbtuC,KAAK2iD,OAAOrU,MAAAA;AACZ,YA2BI5pC,IACAwkB,IA5BAy7B,KAAY;AAEhB,YAAIn+B,KAAS,GAAG;AACd,iBAAOm+B,KAAYJ;AACjBvkD,iBAAK4iD,gBAAgB5iD,KAAKuiD,SAASviD,KAAKwiD,SAASxiD,KAAKyiD,SAASziD,KAAKoiD,IAAI,GAAA,KAAG,GAC3EuC,MAAa;AAGXL,UAAAA,OACFtkD,KAAK4iD,gBAAgB5iD,KAAKuiD,SAASviD,KAAKwiD,SAASxiD,KAAKyiD,SAASziD,KAAKoiD,IAAIkC,IAAAA,KAAc,GACtFK,MAAaL;QAAAA,WAEN99B,KAAS,GAAG;AACrB,iBAAOm+B,KAAYJ;AACjBvkD,iBAAK4iD,gBAAgB5iD,KAAKuiD,SAASviD,KAAKwiD,SAASxiD,KAAKyiD,SAASziD,KAAKoiD,IAAI,GAAA,IAAG,GAC3EuC,MAAa;AAGXL,UAAAA,OACFtkD,KAAK4iD,gBAAgB5iD,KAAKuiD,SAASviD,KAAKwiD,SAASxiD,KAAKyiD,SAASziD,KAAKoiD,IAAAA,CAAKkC,IAAAA,IAAc,GACvFK,MAAaL;QAAAA;AAUjB,aANA3kD,KAAoB,MAAhBK,KAAK8V,KAAKnS,IAAU,IAAI3D,KAAKijD,iBAAiB,GAClDzgB,KAAsB,MAAhBxiC,KAAK8V,KAAKnS,IAAU,IAAA,IAC1BkgD,KAAO7jD,KAAKijD,gBAILY,MAAM;AAQX,cALA36B,MADA06B,MADAD,KAAQ3jD,KAAKgjD,UAAUrjD,EAAAA,EAAGyqB,IACHu5B,GAAM7jD,SAAS,CAAA,EAAGuyC,UAAUuS,OAAOvhD,EAAE+I,OACtCtM,QACtB6jD,GAAMA,GAAM7jD,SAAS,CAAA,EAAGuyC,UAAUuS,OAAO1a,OAAAA,MACzCyZ,GAAMA,GAAM7jD,SAAS,CAAA,EAAGuyC,UAAU/uC,GAAG4mC,OAAAA,MACrCyZ,GAAMA,GAAM7jD,SAAS,CAAA,EAAGuyC,UAAU/uC,GAAGD,IAA4B,MAAxBrD,KAAKijD,iBAAuBjjD,KAAKqiD,GAAGh/C,IAAIrD,KAAKqiD,GAAGh/C,KAAKrD,KAAKsiD,GAAGj/C,IAAIrD,KAAKqiD,GAAGh/C,MAAM1D,MAAKK,KAAKijD,iBAAiB,KAEjI,MAAd0B,IAAiB;AASnB,kBARU,MAANhlD,MAAmB,MAAR6iC,MAAa7iC,OAAMK,KAAKijD,iBAAiB,KAAA,OAAKzgB,OAC3DxiC,KAAK4iD,gBAAgB5iD,KAAKuiD,SAASviD,KAAKwiD,SAASxiD,KAAKyiD,SAASziD,KAAKoiD,IAAI,GAAA,KAAG,GAG7EpiD,KAAK2iD,OAAOtQ,UAAUoS,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,CAAA,GACvMzkD,KAAK2iD,OAAOtQ,UAAUqS,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,CAAA,GACvM1kD,KAAK2iD,OAAOtQ,UAAUmS,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,CAAA,GAElM9/C,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBk/C,cAAAA,GAAel/C,EAAAA,IAAK1E,KAAK2iD,OAAOv2C,MAAM1H,EAAAA;AAGxC1E,iBAAK2iD,OAAOrU,MAAAA;UAAAA;AAIZ,iBAFAtuC,KAAK2iD,OAAOrU,MAAAA,GAEP5pC,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBk/C,cAAAA,GAAel/C,EAAAA,IAAK1E,KAAK2iD,OAAOv2C,MAAM1H,EAAAA;AAI1CigD,UAAAA,MAAa,GACbd,MAAQ,GACRlkD,MAAK6iC;QAAAA;MAAAA;AAOP,aAJAqhB,KAAO7jD,KAAKijD,gBACZtjD,KAAI,GACJ6iC,KAAM,GAECqhB;AAELD,UAAAA,MADAD,KAAQ3jD,KAAKgjD,UAAUrjD,EAAAA,EAAGyqB,IACHu5B,GAAM7jD,SAAS,CAAA,EAAGuyC,UAAUuS,OAAOvhD,EAAE+I,OAC5Du3C,GAAMA,GAAM7jD,SAAS,CAAA,EAAGuyC,UAAUuS,OAAO1a,OAAAA,OACzCyZ,GAAMA,GAAM7jD,SAAS,CAAA,EAAGuyC,UAAU/uC,GAAG4mC,OAAAA,OACrC2Z,MAAQ,GACRlkD,MAAK6iC;AAIT,aAAOshB;IAAAA,GAGTlI,iBAAiB98C,UAAUquC,WAAW,WAAA;IAAA,GAItC1tB,gBAAgB,CAACs4B,aAAAA,GAAgB8D,oBAAAA,GAEjCA,qBAAqB/8C,UAAUo5C,yBAAyB,SAAU1c,IAAM1lB,IAAAA;AACtE9V,WAAK+qC,WAAW/qC,KAAKq4C,aACrBr4C,KAAK6kD,KAAK3f,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKlV,GAAG,GAAG,MAAMZ,IAAAA,GACzDA,KAAKurC,cAAAA,CAAAA,CAAgBvrC,KAAK6kD,GAAGxa,gBAAgBvqC;IAAAA,GAG/C+7C,qBAAqB/8C,UAAUo7C,cAAc,SAAU9xB,IAAMhE,IAAAA;AAC3D,UAEIzkB,IAFA06C,KAAaxN,UAAUhN,WAAAA;AAC3Bwa,MAAAA,GAAW15C,IAAIynB,GAAKznB;AAEpB,UACImkD,IACAC,IACAC,IACAC,IACAC,IACAC,IAEAjZ,IACAC,IACAC,IACAC,IACAC,IACAC,IAbA1sB,KAAMuI,GAAKsX,SAOXlqB,KAAQ;AAQZ,WAAK7V,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBmlD,QAAAA,KAAW18B,GAAK/kB,EAAE1D,EAAAA,GAClBqlD,KAAW58B,GAAK1kB,EAAE/D,EAAAA,GAClBolD,KAAW38B,GAAKzoB,EAAEA,EAAAA,GAEdmlD,GAAS,CAAA,MAAOE,GAAS,CAAA,KAAMF,GAAS,CAAA,MAAOE,GAAS,CAAA,KAAMF,GAAS,CAAA,MAAOC,GAAS,CAAA,KAAMD,GAAS,CAAA,MAAOC,GAAS,CAAA,IAC7G,MAANplD,MAAWA,OAAMkgB,KAAM,KAAOuI,GAAKznB,KASpCskD,KADQ,MAANtlD,KACQyoB,GAAK/kB,EAAEwc,KAAM,CAAA,IAEbuI,GAAK/kB,EAAE1D,KAAI,CAAA,GAIvBwlD,MADAD,KAAWp0C,KAAKmS,KAAKnS,KAAKiS,IAAI+hC,GAAS,CAAA,IAAKG,GAAQ,CAAA,GAAI,CAAA,IAAKn0C,KAAKiS,IAAI+hC,GAAS,CAAA,IAAKG,GAAQ,CAAA,GAAI,CAAA,CAAA,KACxEn0C,KAAKyS,IAAI2hC,KAAW,GAAG9gC,EAAAA,IAAS8gC,KAAW,GAEnEhZ,KADAI,KAAKwY,GAAS,CAAA,KAAMG,GAAQ,CAAA,IAAKH,GAAS,CAAA,KAAMK,IAGhDhZ,KADAI,KAAKuY,GAAS,CAAA,KAAMA,GAAS,CAAA,IAAKG,GAAQ,CAAA,KAAME,IAEhD/Y,KAAKF,MAAMA,KAAK4Y,GAAS,CAAA,KAAM7gC,aAC/BooB,KAAKF,MAAMA,KAAK2Y,GAAS,CAAA,KAAM7gC,aAC/Bo2B,GAAWpO,YAAYC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,IAAI/2B,EAAAA,GAC/CA,MAAS,GAGPyvC,KADEtlD,OAAMkgB,KAAM,IACJuI,GAAK/kB,EAAE,CAAA,IAEP+kB,GAAK/kB,EAAE1D,KAAI,CAAA,GAIvBwlD,MADAD,KAAWp0C,KAAKmS,KAAKnS,KAAKiS,IAAI+hC,GAAS,CAAA,IAAKG,GAAQ,CAAA,GAAI,CAAA,IAAKn0C,KAAKiS,IAAI+hC,GAAS,CAAA,IAAKG,GAAQ,CAAA,GAAI,CAAA,CAAA,KACxEn0C,KAAKyS,IAAI2hC,KAAW,GAAG9gC,EAAAA,IAAS8gC,KAAW,GAEnEhZ,KADAE,KAAK0Y,GAAS,CAAA,KAAMG,GAAQ,CAAA,IAAKH,GAAS,CAAA,KAAMK,IAGhDhZ,KADAE,KAAKyY,GAAS,CAAA,KAAMG,GAAQ,CAAA,IAAKH,GAAS,CAAA,KAAMK,IAEhD7Y,KAAKJ,MAAMA,KAAK4Y,GAAS,CAAA,KAAM7gC,aAC/BsoB,KAAKJ,MAAMA,KAAK2Y,GAAS,CAAA,KAAM7gC,aAC/Bo2B,GAAWpO,YAAYC,IAAIC,IAAIC,IAAIC,IAAIC,IAAIC,IAAI/2B,EAAAA,GAC/CA,MAAS,MAvCT6kC,GAAWpO,YAAY6Y,GAAS,CAAA,GAAIA,GAAS,CAAA,GAAIE,GAAS,CAAA,GAAIA,GAAS,CAAA,GAAID,GAAS,CAAA,GAAIA,GAAS,CAAA,GAAIvvC,EAAAA,GAKrGA,MAAS,MAqCX6kC,GAAWpO,YAAY7jB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,GAAIyoB,GAAK/kB,EAAE1D,EAAAA,EAAG,CAAA,GAAIyoB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,GAAIyoB,GAAK1kB,EAAE/D,EAAAA,EAAG,CAAA,GAAIyoB,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,GAAIyoB,GAAKzoB,EAAEA,EAAAA,EAAG,CAAA,GAAI6V,EAAAA,GAC3GA,MAAS;AAIb,aAAO6kC;IAAAA,GAGTwB,qBAAqB/8C,UAAUm6C,gBAAgB,SAAU1O,IAAAA;AACvD,UAAI2O,IACAv5C,IAEA+E,IACAwkB,IAIEyZ,IACAuL,IAPFruB,KAAM7f,KAAK8pB,OAAOhqB,QAGlB+kD,KAAK7kD,KAAK6kD,GAAGxhD;AAEjB,UAAW,MAAPwhD;AAIF,aAAKllD,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAI3B,cAFAuuC,MADAvL,KAAY3iC,KAAK8pB,OAAOnqB,EAAAA,GACSuuC,sBAE1BvL,GAAUqK,MAAM9C,QAASlqC,KAAKkqC,QAASK;AAM5C,iBALA2D,GAAqBd,cAAAA,GACrBzK,GAAUqK,MAAM9C,OAAAA,MAChBgP,KAAavW,GAAUqK,MAAMiB,MAAMnkB,QACnCZ,KAAOyZ,GAAUqK,MAAMiB,MAAMvO,SAExBh7B,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBwpC,cAAAA,GAAqBf,SAASntC,KAAKk6C,YAAYhB,GAAWx0C,EAAAA,GAAImgD,EAAAA,CAAAA;AAIlEliB,UAAAA,GAAUqK,MAAMiB,QAAQtL,GAAUuL;QAAAA;AAIjCluC,WAAKsrC,kBAAkBxrC,WAC1BE,KAAKkqC,OAAAA;IAAO,GA4DhBsS,iBAAiB19C,UAAU0iC,QAAQ,SAAU/hC,IAAAA;AAC3C,aAAO,GAAGO,KAAKyE,EAAE,CAAA,IAAKhF,KAAIO,KAAKxB,EAAE,CAAA,KAAMiB,KAAIO,KAAKW,EAAE,CAAA,KAAMlB,KAAIO,KAAKzB,EAAE,CAAA,KAAMyB,KAAKyE,EAAE,CAAA,IAAKhF,KAAIO,KAAKxB,EAAE,CAAA,KAAMiB,KAAIO,KAAKW,EAAE,CAAA,KAAMlB,KAAIO,KAAKzB,EAAE,CAAA,CAAA;IAAA,GAGpIi+C,iBAAiB19C,UAAUsmD,aAAa,SAAU3lD,IAAAA;AAChD,aAAO,EAAE,IAAIA,KAAIO,KAAKyE,EAAE,CAAA,IAAK,IAAIzE,KAAKxB,EAAE,CAAA,KAAMiB,KAAIO,KAAKW,EAAE,CAAA,IAAK,IAAIlB,KAAIO,KAAKyE,EAAE,CAAA,IAAK,IAAIzE,KAAKxB,EAAE,CAAA,KAAMiB,KAAIO,KAAKW,EAAE,CAAA,CAAA;IAAA,GAGhH67C,iBAAiB19C,UAAUgiD,eAAe,SAAUrhD,IAAAA;AAClD,UAAIZ,KAAImB,KAAKolD,WAAW3lD,EAAAA;AACxB,aAAOqR,KAAKm4B,MAAMpqC,GAAE,CAAA,GAAIA,GAAE,CAAA,CAAA;IAAA,GAG5B29C,iBAAiB19C,UAAUmhD,cAAc,SAAUxgD,IAAAA;AACjD,UAAIZ,KAAImB,KAAKolD,WAAW3lD,EAAAA;AACxB,aAAOqR,KAAKm4B,MAAMpqC,GAAE,CAAA,GAAIA,GAAE,CAAA,CAAA;IAAA,GAG5B29C,iBAAiB19C,UAAU+iD,mBAAmB,WAAA;AAC5C,UAAIwD,KAAQrlD,KAAKyE,EAAE,CAAA,IAAKzE,KAAKxB,EAAE,CAAA,IAAKwB,KAAKyE,EAAE,CAAA,IAAKzE,KAAKxB,EAAE,CAAA;AACvD,UAAIu9C,UAAUsJ,EAAAA;AAAQ,eAAO,CAAA;AAC7B,UAAIC,KAAAA,QAAgBtlD,KAAKyE,EAAE,CAAA,IAAKzE,KAAKW,EAAE,CAAA,IAAKX,KAAKyE,EAAE,CAAA,IAAKzE,KAAKW,EAAE,CAAA,KAAM0kD,IACjEE,KAASD,KAAQA,KAAQ,IAAI,KAAKtlD,KAAKxB,EAAE,CAAA,IAAKwB,KAAKW,EAAE,CAAA,IAAKX,KAAKxB,EAAE,CAAA,IAAKwB,KAAKW,EAAE,CAAA,KAAM0kD;AACvF,UAAIE,KAAS;AAAG,eAAO,CAAA;AACvB,UAAIC,KAAO10C,KAAKmS,KAAKsiC,EAAAA;AAErB,aAAIxJ,UAAUyJ,EAAAA,IACRA,KAAO,KAAKA,KAAO,IAAU,CAACF,EAAAA,IAC3B,CAAA,IAGF,CAACA,KAAQE,IAAMF,KAAQE,EAAAA,EAAMtnC,OAAO,SAAUtd,IAAAA;AACnD,eAAOA,KAAI,KAAKA,KAAI;MAAA,CAAA;IAAA,GAIxB47C,iBAAiB19C,UAAUyW,QAAQ,SAAU9V,IAAAA;AAC3C,UAAIA,MAAK;AAAG,eAAO,CAAC88C,YAAYv8C,KAAK29B,OAAO,CAAA,CAAA,GAAK39B,IAAAA;AACjD,UAAIP,MAAK;AAAG,eAAO,CAACO,MAAMu8C,YAAYv8C,KAAK29B,OAAO39B,KAAK29B,OAAO79B,SAAS,CAAA,CAAA,CAAA;AACvE,UAAI2lD,KAAMxJ,UAAUj8C,KAAK29B,OAAO,CAAA,GAAI39B,KAAK29B,OAAO,CAAA,GAAIl+B,EAAAA,GAChDimD,KAAMzJ,UAAUj8C,KAAK29B,OAAO,CAAA,GAAI39B,KAAK29B,OAAO,CAAA,GAAIl+B,EAAAA,GAChD+1C,KAAMyG,UAAUj8C,KAAK29B,OAAO,CAAA,GAAI39B,KAAK29B,OAAO,CAAA,GAAIl+B,EAAAA,GAChDkmD,KAAM1J,UAAUwJ,IAAKC,IAAKjmD,EAAAA,GAC1BmmD,KAAM3J,UAAUyJ,IAAKlQ,IAAK/1C,EAAAA,GAC1B68C,KAAKL,UAAU0J,IAAKC,IAAKnmD,EAAAA;AAC7B,aAAO,CAAC,IAAI+8C,iBAAiBx8C,KAAK29B,OAAO,CAAA,GAAI8nB,IAAKE,IAAKrJ,IAAAA,IAAI,GAAO,IAAIE,iBAAiBF,IAAIsJ,IAAKpQ,IAAKx1C,KAAK29B,OAAO,CAAA,GAAA,IAAI,CAAA;IAAA,GA6BvH6e,iBAAiB19C,UAAU+mD,SAAS,WAAA;AAClC,aAAO,EACL9nB,GAAG8e,QAAQ78C,MAAM,CAAA,GACjB2C,GAAGk6C,QAAQ78C,MAAM,CAAA,EAAA;IAAA,GAIrBw8C,iBAAiB19C,UAAUm+C,cAAc,WAAA;AACvC,UAAI4I,KAAS7lD,KAAK6lD,OAAAA;AAClB,aAAO,EACLrhC,MAAMqhC,GAAO9nB,EAAExa,KACfm+B,OAAOmE,GAAO9nB,EAAE1a,KAChBkB,KAAKshC,GAAOljD,EAAE4gB,KACduiC,QAAQD,GAAOljD,EAAE0gB,KACjBoL,OAAOo3B,GAAO9nB,EAAE1a,MAAMwiC,GAAO9nB,EAAExa,KAC/BmL,QAAQm3B,GAAOljD,EAAE0gB,MAAMwiC,GAAOljD,EAAE4gB,KAChC25B,KAAK2I,GAAO9nB,EAAE1a,MAAMwiC,GAAO9nB,EAAExa,OAAO,GACpC45B,KAAK0I,GAAOljD,EAAE0gB,MAAMwiC,GAAOljD,EAAE4gB,OAAO,EAAA;IAAA,GA2CxCi5B,iBAAiB19C,UAAU2+C,gBAAgB,SAAUsI,IAAOvI,IAAWE,IAAAA;AAAAA,iBACjEF,OAAyBA,KAAY,IAAA,WACrCE,OAA4BA,KAAe;AAC/C,UAAID,KAAgB,CAAA;AAEpB,aADAH,eAAeR,cAAc98C,MAAM,GAAG,CAAA,GAAI88C,cAAciJ,IAAO,GAAG,CAAA,GAAI,GAAGvI,IAAWC,IAAeC,EAAAA,GAC5FD;IAAAA,GAGTjB,iBAAiB1C,eAAe,SAAUhN,IAAWt3B,IAAAA;AACnD,UAAI8pC,MAAa9pC,KAAQ,KAAKs3B,GAAUhtC,OAAAA;AACxC,aAAA,IAAW08C,iBAAiB1P,GAAUzpC,EAAEmS,EAAAA,GAAQs3B,GAAUppC,EAAE8R,EAAAA,GAAQs3B,GAAUntC,EAAE2/C,EAAAA,GAAYxS,GAAUzpC,EAAEi8C,EAAAA,GAAAA,IAAY;IAAA,GAGtH9C,iBAAiBwJ,uBAAuB,SAAUlZ,IAAWt3B,IAAAA;AAC3D,UAAI8pC,MAAa9pC,KAAQ,KAAKs3B,GAAUhtC,OAAAA;AACxC,aAAA,IAAW08C,iBAAiB1P,GAAUzpC,EAAEi8C,EAAAA,GAAYxS,GAAUntC,EAAE2/C,EAAAA,GAAYxS,GAAUppC,EAAE8R,EAAAA,GAAQs3B,GAAUzpC,EAAEmS,EAAAA,GAAAA,IAAQ;IAAA,GA+BtHiK,gBAAgB,CAACs4B,aAAAA,GAAgByG,cAAAA,GAEjCA,eAAe1/C,UAAUo5C,yBAAyB,SAAU1c,IAAM1lB,IAAAA;AAChE9V,WAAK+qC,WAAW/qC,KAAKq4C,aACrBr4C,KAAK2+C,YAAYzZ,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpW,GAAG,GAAG,MAAMM,IAAAA,GAChEA,KAAKy/C,YAAYva,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKlV,GAAG,GAAG,MAAMZ,IAAAA,GAChEA,KAAKimD,aAAa/gB,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK0T,IAAI,GAAG,MAAMxpB,IAAAA,GAClEA,KAAKurC,cAAwD,MAA1CvrC,KAAK2+C,UAAUtU,gBAAgBvqC,UAA0D,MAA1CE,KAAKy/C,UAAUpV,gBAAgBvqC,UAA2D,MAA3CE,KAAKimD,WAAW5b,gBAAgBvqC;IAAAA,GAkDnJ0+C,eAAe1/C,UAAUo7C,cAAc,SAAU9xB,IAAMu2B,IAAWc,IAAWC,IAAAA;AAC3E,UAAIwG,KAAQ99B,GAAKsX,SACb2a,KAAaxN,UAAUhN,WAAAA;AAO3B,UANAwa,GAAW15C,IAAIynB,GAAKznB,GAEfynB,GAAKznB,MACRulD,MAAS,IAGG,MAAVA;AAAa,eAAO7L;AACxB,UAAIh1B,KAAAA,IACA8R,KAAUqlB,iBAAiB1C,aAAa1xB,IAAM,CAAA;AAClDo3B,mBAAanF,IAAYjyB,IAAM,GAAGu2B,IAAWc,IAAWC,IAAWr6B,EAAAA;AAEnE,eAAS1lB,KAAI,GAAGA,KAAIumD,IAAOvmD,MAAK;AAC9B0lB,QAAAA,KAAY06B,cAAc1F,IAAYljB,IAASwnB,IAAWc,IAAWC,IAAAA,CAAYr6B,EAAAA,GAK/E8R,KAHEx3B,OAAMumD,KAAQ,KAAM99B,GAAKznB,IAGjB67C,iBAAiB1C,aAAa1xB,KAAOzoB,KAAI,KAAKumD,EAAAA,IAF9C,MAKZ1G,aAAanF,IAAYjyB,IAAMzoB,KAAI,GAAGg/C,IAAWc,IAAWC,IAAWr6B,EAAAA;AAGzE,aAAOg1B;IAAAA,GAGTmE,eAAe1/C,UAAUm6C,gBAAgB,SAAU1O,IAAAA;AACjD,UAAI2O,IACAv5C,IAEA+E,IACAwkB,IAMEyZ,IACAuL,IATFruB,KAAM7f,KAAK8pB,OAAOhqB,QAGlB6+C,KAAY3+C,KAAK2+C,UAAUt7C,GAC3Bo8C,KAAY3uC,KAAKuS,IAAI,GAAGvS,KAAKsT,MAAMpkB,KAAKy/C,UAAUp8C,CAAAA,CAAAA,GAClDq8C,KAAY1/C,KAAKimD,WAAW5iD;AAEhC,UAAkB,MAAds7C;AAIF,aAAKh/C,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAI3B,cAFAuuC,MADAvL,KAAY3iC,KAAK8pB,OAAOnqB,EAAAA,GACSuuC,sBAE1BvL,GAAUqK,MAAM9C,QAASlqC,KAAKkqC,QAASK;AAM5C,iBALA2D,GAAqBd,cAAAA,GACrBzK,GAAUqK,MAAM9C,OAAAA,MAChBgP,KAAavW,GAAUqK,MAAMiB,MAAMnkB,QACnCZ,KAAOyZ,GAAUqK,MAAMiB,MAAMvO,SAExBh7B,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBwpC,cAAAA,GAAqBf,SAASntC,KAAKk6C,YAAYhB,GAAWx0C,EAAAA,GAAIi6C,IAAWc,IAAWC,EAAAA,CAAAA;AAIxF/c,UAAAA,GAAUqK,MAAMiB,QAAQtL,GAAUuL;QAAAA;AAIjCluC,WAAKsrC,kBAAkBxrC,WAC1BE,KAAKkqC,OAAAA;IAAO,GAmJhBzqB,gBAAgB,CAACs4B,aAAAA,GAAgB+J,kBAAAA,GAEjCA,mBAAmBhjD,UAAUo5C,yBAAyB,SAAU1c,IAAM1lB,IAAAA;AACpE9V,WAAK+qC,WAAW/qC,KAAKq4C,aACrBr4C,KAAKi6C,SAAS/U,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKrR,GAAG,GAAG,MAAMzE,IAAAA,GAC7DA,KAAK4gD,aAAa1b,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKqwC,IAAI,GAAG,MAAMnmD,IAAAA,GAClEA,KAAK2gD,WAAW7qC,GAAKswC,IACrBpmD,KAAKurC,cAAqD,MAAvCvrC,KAAKi6C,OAAO5P,gBAAgBvqC;IAAAA,GAGjDgiD,mBAAmBhjD,UAAUo7C,cAAc,SAAUmM,IAAapM,IAAQ0G,IAAUC,IAAAA;AAClF,UAAIlC,KAAe7R,UAAUhN,WAAAA;AAC7B6e,MAAAA,GAAa/9C,IAAI0lD,GAAY1lD;AAC7B,UAMIhB,IACA+E,IACAyyB,IARA+uB,KAAQG,GAAYvmD,OAAAA;AAEnBumD,MAAAA,GAAY1lD,MACfulD,MAAS;AAMX,UAAII,KAAgB,CAAA;AAEpB,WAAK3mD,KAAI,GAAGA,KAAIumD,IAAOvmD,MAAK;AAC1Bw3B,QAAAA,KAAUqlB,iBAAiB1C,aAAauM,IAAa1mD,EAAAA,GACrD2mD,GAAc9iD,KAAKi+C,mBAAmBtqB,IAAS8iB,EAAAA,CAAAA;AAGjD,UAAA,CAAKoM,GAAY1lD;AACf,aAAKhB,KAAIumD,KAAQ,GAAGvmD,MAAK,GAAGA,MAAK;AAC/Bw3B,UAAAA,KAAUqlB,iBAAiBwJ,qBAAqBK,IAAa1mD,EAAAA,GAC7D2mD,GAAc9iD,KAAKi+C,mBAAmBtqB,IAAS8iB,EAAAA,CAAAA;AAInDqM,MAAAA,KAAgB9E,mBAAmB8E,EAAAA;AAEnC,UAAI7kB,KAAY,MACZ8kB,KAAU;AAEd,WAAK5mD,KAAI,GAAGA,KAAI2mD,GAAcxmD,QAAQH,MAAK,GAAG;AAC5C,YAAI6mD,KAAeF,GAAc3mD,EAAAA;AAIjC,aAHI4mD,OAAS9kB,KAAY+e,UAAU9B,IAAc6H,IAASC,GAAa,CAAA,GAAI7F,IAAUC,EAAAA,IACrF2F,KAAUC,GAAaA,GAAa1mD,SAAS,CAAA,GAExC4E,KAAI,GAAGA,KAAI8hD,GAAa1mD,QAAQ4E,MAAK;AACxCyyB,UAAAA,KAAUqvB,GAAa9hD,EAAAA,GAEnB+8B,MAAaib,WAAWvlB,GAAQwG,OAAO,CAAA,GAAI8D,EAAAA,IAC7Cid,GAAa3S,QAAQ5U,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAI,KAAK+gB,GAAa5+C,OAAAA,IAAW,CAAA,IAE9F4+C,GAAazS,YAAY9U,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAI+gB,GAAa5+C,OAAAA,CAAAA,GAG5K4+C,GAAazS,YAAY9U,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAIxG,GAAQwG,OAAO,CAAA,EAAG,CAAA,GAAI+gB,GAAa5+C,OAAAA,CAAAA,GAC1K2hC,KAAYtK,GAAQwG,OAAO,CAAA;MAAA;AAK/B,aADI2oB,GAAcxmD,UAAQ0gD,UAAU9B,IAAc6H,IAASD,GAAc,CAAA,EAAG,CAAA,GAAI3F,IAAUC,EAAAA,GACnFlC;IAAAA,GAGToD,mBAAmBhjD,UAAUm6C,gBAAgB,SAAU1O,IAAAA;AACrD,UAAI2O,IACAv5C,IAEA+E,IACAwkB,IAMEyZ,IACAuL,IATFruB,KAAM7f,KAAK8pB,OAAOhqB,QAGlBm6C,KAASj6C,KAAKi6C,OAAO52C,GACrBu9C,KAAa5gD,KAAK4gD,WAAWv9C,GAC7Bs9C,KAAW3gD,KAAK2gD;AAEpB,UAAe,MAAX1G;AAIF,aAAKt6C,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAI3B,cAFAuuC,MADAvL,KAAY3iC,KAAK8pB,OAAOnqB,EAAAA,GACSuuC,sBAE1BvL,GAAUqK,MAAM9C,QAASlqC,KAAKkqC,QAASK;AAM5C,iBALA2D,GAAqBd,cAAAA,GACrBzK,GAAUqK,MAAM9C,OAAAA,MAChBgP,KAAavW,GAAUqK,MAAMiB,MAAMnkB,QACnCZ,KAAOyZ,GAAUqK,MAAMiB,MAAMvO,SAExBh7B,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBwpC,cAAAA,GAAqBf,SAASntC,KAAKk6C,YAAYhB,GAAWx0C,EAAAA,GAAIu1C,IAAQ0G,IAAUC,EAAAA,CAAAA;AAIpFje,UAAAA,GAAUqK,MAAMiB,QAAQtL,GAAUuL;QAAAA;AAIjCluC,WAAKsrC,kBAAkBxrC,WAC1BE,KAAKkqC,OAAAA;IAAO;AAoDhB,QAAIuc,cAAc,WAAA;AAChB,UACIC,KAAY,EACdC,GAAG,GACHC,MAAM,GACN98B,QAAQ,CAAA,GACRhU,MAAM,EACJgU,QAAQ,CAAA,EAAA,EAAA,GAGR+8B,KAAqB,CAAA;AAEzBA,MAAAA,KAAqBA,GAAmBviD,OAAO,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAA,CAAA;AAChP,UAAIwiD,KAAqB,CAAC,YAAY,YAAY,YAAY,YAAY,UAAA,GACtEC,KAAkB,CAAC,OAAO,IAAA;AAiB9B,eAASC,GAAUC,IAAMC,IAAAA;AACvB,YAAIlwC,KAAawI,UAAU,MAAA;AAE3BxI,QAAAA,GAAWhO,aAAa,eAAA,IAAe,GACvCgO,GAAWrO,MAAMw+C,aAAaD;AAC9B,YAAIjzC,KAAOuL,UAAU,MAAA;AAErBvL,QAAAA,GAAKooB,YAAY,kBAEjBrlB,GAAWrO,MAAM2b,WAAW,YAC5BtN,GAAWrO,MAAM6b,OAAO,YACxBxN,GAAWrO,MAAM4b,MAAM,YAEvBvN,GAAWrO,MAAMy+C,WAAW,SAE5BpwC,GAAWrO,MAAM0+C,cAAc,UAC/BrwC,GAAWrO,MAAM2+C,YAAY,UAC7BtwC,GAAWrO,MAAM4+C,aAAa,UAC9BvwC,GAAWrO,MAAM6+C,gBAAgB,KACjCxwC,GAAW9N,YAAY+K,EAAAA,GACvBrL,SAASnG,KAAKyG,YAAY8N,EAAAA;AAE1B,YAAIyX,KAAQxa,GAAKwzC;AAEjB,eADAxzC,GAAKtL,MAAMw+C,aAtCb,SAAyBF,IAAAA;AACvB,cACItnD,IADA+nD,KAAcT,GAAK1xC,MAAM,GAAA,GAEzBsK,KAAM6nC,GAAY5nD,QAClB6nD,KAAkB,CAAA;AAEtB,eAAKhoD,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACD,6BAAnB+nD,GAAY/nD,EAAAA,KAA0C,gBAAnB+nD,GAAY/nD,EAAAA,KACjDgoD,GAAgBnkD,KAAKkkD,GAAY/nD,EAAAA,CAAAA;AAIrC,iBAAOgoD,GAAgBt6B,KAAK,GAAA;QAAA,EA0BY45B,EAAAA,IAAQ,OAAOC,IAChD,EACLjzC,MAAMA,IACN0yC,GAAGl4B,IACHtY,QAAQa,GAAAA;MAAAA;AA+CZ,eAAS4wC,GAAa5F,IAAU6F,IAAAA;AAC9B,YACIC,IADAC,KAASn/C,SAASnG,QAAQolD,KAAM,QAAQ,UAExCG,KAAYjG,kBAAkBC,EAAAA;AAElC,YAAe,UAAX+F,IAAkB;AACpB,cAAIE,KAAUxgC,SAAS,MAAA;AACvBwgC,UAAAA,GAAQt/C,MAAMy+C,WAAW,SAEzBa,GAAQj/C,aAAa,eAAeg5C,GAASkG,OAAAA,GAC7CD,GAAQj/C,aAAa,cAAcg/C,GAAUr/C,KAAAA,GAC7Cs/C,GAAQj/C,aAAa,eAAeg/C,GAAU7F,MAAAA,GAC9C8F,GAAQh/C,cAAc,KAElB+4C,GAASmG,UACXF,GAAQt/C,MAAMw+C,aAAa,WAC3Bc,GAAQj/C,aAAa,SAASg5C,GAASmG,MAAAA,KAEvCF,GAAQt/C,MAAMw+C,aAAanF,GAASkG,SAGtCL,GAAI3+C,YAAY++C,EAAAA,GAChBH,KAASG;QAAAA,OACJ;AACL,cAAIG,KAAgB,IAAIC,gBAAgB,KAAK,GAAA,EAAKz5B,WAAW,IAAA;AAC7Dw5B,UAAAA,GAAcnB,OAAOe,GAAUr/C,QAAQ,MAAMq/C,GAAU7F,SAAS,YAAYH,GAASkG,SACrFJ,KAASM;QAAAA;AAYX,eAAO,EACLE,aAVF,SAAiBC,IAAAA;AACf,iBAAe,UAAXR,MACFD,GAAO7+C,cAAcs/C,IACdT,GAAOU,sBAAAA,KAGTV,GAAOQ,YAAYC,EAAAA,EAAM95B;QAAAA,EAAAA;MAAAA;AAkOpC,UAAIg6B,KAAO,WAAA;AACTzoD,aAAK62B,QAAQ,CAAA,GACb72B,KAAKirB,QAAQ,MACbjrB,KAAK0oD,gBAAgB,GACrB1oD,KAAK6zB,WAAAA,OACL7zB,KAAK2oD,UAAAA,OACL3oD,KAAK+6B,WAAW6tB,KAAKC,IAAAA,GACrB7oD,KAAK8oD,oBAAoB9oD,KAAK+oD,YAAY54B,KAAKnwB,IAAAA,GAC/CA,KAAKgpD,yBAAyBhpD,KAAKipD,iBAAiB94B,KAAKnwB,IAAAA;MAAAA;AAG3DyoD,MAAAA,GAAKS,aAhCL,SAAoBC,IAAeC,IAAAA;AACjC,YAAIC,KAAMF,GAActhD,SAAS,EAAA,IAAMuhD,GAAevhD,SAAS,EAAA;AAC/D,eAAA,OAAOi/C,GAAmB3mD,QAAQkpD,EAAAA;MAAAA,GA+BpCZ,GAAKa,oBA5BL,SAA2BH,IAAeC,IAAAA;AACxC,eAAKA,KAIED,OAAkBpC,GAAgB,CAAA,KAAMqC,OAAmBrC,GAAgB,CAAA,IAHzEoC,OAAkBpC,GAAgB,CAAA;MAAA,GA2B7C0B,GAAKc,sBArBL,SAA6BC,IAAAA;AAC3B,eAAA,OAAO3C,GAAmB1mD,QAAQqpD,EAAAA;MAAAA;AAqBpC,UAAIC,KAAgB,EAClB1yB,UA9HF,SAAkB9L,IAAAA;AAChB,YAAKA,IAAL;AAQA,cAAItrB;AAJCK,eAAKirB,UACRjrB,KAAKirB,QAAQ,CAAA;AAIf,cACIvmB,IAEAglD,IAHA7pC,KAAMoL,GAAMnrB,QAEZopB,KAAOlpB,KAAKirB,MAAMnrB;AAGtB,eAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAI3B,iBAHA+E,KAAI,GACJglD,KAAAA,OAEOhlD,KAAIwkB;AACLlpB,mBAAKirB,MAAMvmB,EAAAA,EAAGiE,UAAUsiB,GAAMtrB,EAAAA,EAAGgJ,SAAS3I,KAAKirB,MAAMvmB,EAAAA,EAAGwjD,YAAYj9B,GAAMtrB,EAAAA,EAAGuoD,WAAWloD,KAAKirB,MAAMvmB,EAAAA,EAAGilD,OAAO1+B,GAAMtrB,EAAAA,EAAGgqD,OACxHD,KAAAA,OAGFhlD,MAAK;AAGFglD,YAAAA,OACH1pD,KAAKirB,MAAMznB,KAAKynB,GAAMtrB,EAAAA,CAAAA,GACtBupB,MAAQ;UAAA;QAAA;MAAA,GAkGZ8N,UA1OF,SAAkBgrB,IAAUnsB,IAAAA;AAC1B,YAAKmsB,IAAL;AAKA,cAAIhiD,KAAKirB;AAGP,mBAFAjrB,KAAK6zB,WAAAA,MAAW,MAChB7zB,KAAK62B,QAAQmrB,GAAS4H;AAIxB,cAAA,CAAKhhD,SAASnG;AAOZ,mBANAzC,KAAK6zB,WAAAA,MACLmuB,GAAS4H,KAAKlhD,QAAQ,SAAUoN,IAAAA;AAC9BA,cAAAA,GAAKgyC,SAASF,GAAa9xC,EAAAA,GAC3BA,GAAKwH,QAAQ,CAAA;YAAA,CAAA,GAAA,MAEftd,KAAK62B,QAAQmrB,GAAS4H;AAIxB,cACIjqD,IADAkqD,KAAU7H,GAAS4H,MAEnB/pC,KAAMgqC,GAAQ/pD,QACdgqD,KAAgBjqC;AAEpB,eAAKlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAC3B,gBACIoqD,IACArlD,IAFAslD,KAAAA;AAOJ,gBAJAH,GAAQlqD,EAAAA,EAAGsqD,SAAAA,OACXJ,GAAQlqD,EAAAA,EAAGuqD,WAAWlD,GAAU6C,GAAQlqD,EAAAA,EAAGuoD,SAAS,WAAA,GACpD2B,GAAQlqD,EAAAA,EAAGwqD,WAAWnD,GAAU6C,GAAQlqD,EAAAA,EAAGuoD,SAAS,YAAA,GAE/C2B,GAAQlqD,EAAAA,EAAGyqD,OAAAA;AAAAA,kBAGkB,QAAvBP,GAAQlqD,EAAAA,EAAG0qD,WAAyC,MAAtBR,GAAQlqD,EAAAA,EAAGsuB,QAAAA;AAOlD,qBANA87B,KAAiBnhD,SAAS8U,iBAAiB,oCAAoCmsC,GAAQlqD,EAAAA,EAAGuoD,UAAU,uCAAuC2B,GAAQlqD,EAAAA,EAAGuoD,UAAU,IAAA,GAE7IpoD,SAAS,MAC1BkqD,KAAAA,QAGEA,IAAgB;AAClB,sBAAItqD,KAAI8f,UAAU,OAAA;AAClB9f,kBAAAA,GAAEsJ,aAAa,aAAa6gD,GAAQlqD,EAAAA,EAAG0qD,OAAAA,GACvC3qD,GAAEsJ,aAAa,YAAY6gD,GAAQlqD,EAAAA,EAAGsuB,MAAAA,GACtCvuB,GAAEsJ,aAAa,YAAY6gD,GAAQlqD,EAAAA,EAAGuoD,OAAAA,GACtCxoD,GAAEoK,OAAO,YACTpK,GAAE28B,YAAY,8BAA8BwtB,GAAQlqD,EAAAA,EAAGuoD,UAAU,qCAAqC2B,GAAQlqD,EAAAA,EAAGyqD,QAAQ,QACzHv0B,GAAK3sB,YAAYxJ,EAAAA;gBAAAA;cAAAA,WAEa,QAAvBmqD,GAAQlqD,EAAAA,EAAG0qD,WAAyC,MAAtBR,GAAQlqD,EAAAA,EAAGsuB,QAAc;AAGhE,qBAFA87B,KAAiBnhD,SAAS8U,iBAAiB,yCAAA,GAEtChZ,KAAI,GAAGA,KAAIqlD,GAAejqD,QAAQ4E,MAAK;AAAA,yBACtCqlD,GAAerlD,EAAAA,EAAGwxC,KAAK/1C,QAAQ0pD,GAAQlqD,EAAAA,EAAGyqD,KAAAA,MAE5CJ,KAAAA;AAIJ,oBAAIA,IAAgB;AAClB,sBAAIhlD,KAAIwa,UAAU,MAAA;AAClBxa,kBAAAA,GAAEgE,aAAa,aAAa6gD,GAAQlqD,EAAAA,EAAG0qD,OAAAA,GACvCrlD,GAAEgE,aAAa,YAAY6gD,GAAQlqD,EAAAA,EAAGsuB,MAAAA,GACtCjpB,GAAE8E,OAAO,YACT9E,GAAEslD,MAAM,cACRtlD,GAAEkxC,OAAO2T,GAAQlqD,EAAAA,EAAGyqD,OACpBxhD,SAASnG,KAAKyG,YAAYlE,EAAAA;gBAAAA;cAAAA,WAEI,QAAvB6kD,GAAQlqD,EAAAA,EAAG0qD,WAAyC,MAAtBR,GAAQlqD,EAAAA,EAAGsuB,QAAc;AAGhE,qBAFA87B,KAAiBnhD,SAAS8U,iBAAiB,6CAAA,GAEtChZ,KAAI,GAAGA,KAAIqlD,GAAejqD,QAAQ4E,MAAK;AACtCmlD,kBAAAA,GAAQlqD,EAAAA,EAAGyqD,UAAUL,GAAerlD,EAAAA,EAAGuc,QAEzC+oC,KAAAA;AAIJ,oBAAIA,IAAgB;AAClB,sBAAIO,KAAK/qC,UAAU,MAAA;AACnB+qC,kBAAAA,GAAGvhD,aAAa,aAAa6gD,GAAQlqD,EAAAA,EAAG0qD,OAAAA,GACxCE,GAAGvhD,aAAa,YAAY6gD,GAAQlqD,EAAAA,EAAGsuB,MAAAA,GACvCs8B,GAAGvhD,aAAa,OAAO,YAAA,GACvBuhD,GAAGvhD,aAAa,QAAQ6gD,GAAQlqD,EAAAA,EAAGyqD,KAAAA,GACnCv0B,GAAK3sB,YAAYqhD,EAAAA;gBAAAA;cAAAA;YAAAA;AArDnBV,cAAAA,GAAQlqD,EAAAA,EAAGsqD,SAAAA,MACXH,MAAiB;AAwDnBD,YAAAA,GAAQlqD,EAAAA,EAAGmoD,SAASF,GAAaiC,GAAQlqD,EAAAA,GAAIk2B,EAAAA,GAC7Cg0B,GAAQlqD,EAAAA,EAAG2d,QAAQ,CAAA,GACnBtd,KAAK62B,MAAMrzB,KAAKqmD,GAAQlqD,EAAAA,CAAAA;UAAAA;AAGJ,gBAAlBmqD,KACF9pD,KAAK6zB,WAAAA,OAILkE,WAAW/3B,KAAKipD,iBAAiB94B,KAAKnwB,IAAAA,GAAO,GAAA;QAAA;AArG7CA,eAAK6zB,WAAAA;MAAW,GAyOlB22B,aA9FF,SAAqBC,IAAO9hD,IAAOs+C,IAAAA;AAIjC,iBAHItnD,KAAI,GACJkgB,KAAM7f,KAAKirB,MAAMnrB,QAEdH,KAAIkgB,MAAK;AACd,cAAI7f,KAAKirB,MAAMtrB,EAAAA,EAAGgqD,OAAOc,MAASzqD,KAAKirB,MAAMtrB,EAAAA,EAAGgJ,UAAUA,MAAS3I,KAAKirB,MAAMtrB,EAAAA,EAAGuoD,YAAYjB;AAC3F,mBAAA,KAAYh8B,MAAMtrB,EAAAA;AAGpBA,UAAAA,MAAK;QAAA;AASP,gBANsB,YAAA,OAAV8qD,MAA8C,OAAxBA,GAAMC,WAAW,CAAA,KAAA,CAAcD,OAAUE,WAAWA,QAAQC,QAAAA,CAC1F5qD,KAAK2oD,YACP3oD,KAAK2oD,UAAAA,MACLgC,QAAQC,KAAK,qDAAqDH,IAAO9hD,IAAOs+C,EAAAA,IAG3EP;MAAAA,GA6EPmE,eAtDF,SAAuBp/C,IAAAA;AAIrB,iBAHI9L,KAAI,GACJkgB,KAAM7f,KAAK62B,MAAM/2B,QAEdH,KAAIkgB,MAAK;AACd,cAAI7f,KAAK62B,MAAMl3B,EAAAA,EAAGmrD,UAAUr/C;AAC1B,mBAAA,KAAYorB,MAAMl3B,EAAAA;AAGpBA,UAAAA,MAAK;QAAA;AAGP,eAAA,KAAYk3B,MAAM,CAAA;MAAA,GA2ClByxB,aA3EF,SAAqByC,IAAQC,IAAUpE,IAAAA;AACrC,YAAI5E,KAAWhiD,KAAK6qD,cAAcG,EAAAA,GAE9Bx1C,KAAQu1C,GAAOL,WAAW,CAAA;AAE9B,YAAA,CAAK1I,GAAS1kC,MAAM9H,KAAQ,CAAA,GAAI;AAC9B,cAAIyyC,KAAUjG,GAAS8F;AAEvB,cAAe,QAAXiD,IAAgB;AAClB,gBAAIE,KAAahD,GAAQK,YAAY,MAAMyC,KAAS,GAAA,GAChDG,KAAajD,GAAQK,YAAY,IAAA;AACrCtG,YAAAA,GAAS1kC,MAAM9H,KAAQ,CAAA,KAAMy1C,KAAaC,MAAc;UAAA;AAExDlJ,YAAAA,GAAS1kC,MAAM9H,KAAQ,CAAA,IAAKyyC,GAAQK,YAAYyC,EAAAA,IAAU;QAAA;AAI9D,eAAO/I,GAAS1kC,MAAM9H,KAAQ,CAAA,IAAKoxC;MAAAA,GA2DnCqC,kBApUF,WAAA;AACE,YAAItpD,IAEAsU,IACA0yC,IAFA9mC,KAAM7f,KAAK62B,MAAM/2B,QAGjBqrD,KAActrC;AAElB,aAAKlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBK,eAAK62B,MAAMl3B,EAAAA,EAAGsqD,SAChBkB,MAAe,IACoB,QAA1BnrD,KAAK62B,MAAMl3B,EAAAA,EAAG0qD,WAA4C,MAAzBrqD,KAAK62B,MAAMl3B,EAAAA,EAAGsuB,SACxDjuB,KAAK62B,MAAMl3B,EAAAA,EAAGsqD,SAAAA,QAEdh2C,KAAOjU,KAAK62B,MAAMl3B,EAAAA,EAAGuqD,SAASj2C,MAC9B0yC,KAAI3mD,KAAK62B,MAAMl3B,EAAAA,EAAGuqD,SAASvD,GAEvB1yC,GAAKwzC,gBAAgBd,MACvBwE,MAAe,GACfnrD,KAAK62B,MAAMl3B,EAAAA,EAAGsqD,SAAAA,SAEdh2C,KAAOjU,KAAK62B,MAAMl3B,EAAAA,EAAGwqD,SAASl2C,MAC9B0yC,KAAI3mD,KAAK62B,MAAMl3B,EAAAA,EAAGwqD,SAASxD,GAEvB1yC,GAAKwzC,gBAAgBd,OACvBwE,MAAe,GACfnrD,KAAK62B,MAAMl3B,EAAAA,EAAGsqD,SAAAA,QAIdjqD,KAAK62B,MAAMl3B,EAAAA,EAAGsqD,WAChBjqD,KAAK62B,MAAMl3B,EAAAA,EAAGwqD,SAASh0C,OAAOa,WAAWo0C,YAAYprD,KAAK62B,MAAMl3B,EAAAA,EAAGwqD,SAASh0C,MAAAA,GAC5EnW,KAAK62B,MAAMl3B,EAAAA,EAAGuqD,SAAS/zC,OAAOa,WAAWo0C,YAAYprD,KAAK62B,MAAMl3B,EAAAA,EAAGuqD,SAAS/zC,MAAAA;AAK9D,cAAhBg1C,MAAqBvC,KAAKC,IAAAA,IAAQ7oD,KAAK+6B,WAjGxB,MAkGjBhD,WAAW/3B,KAAKgpD,wBAAwB,EAAA,IAExCjxB,WAAW/3B,KAAK8oD,mBAAmB,EAAA;MAAA,GA8RrCC,aAzBF,WAAA;AACE/oD,aAAK6zB,WAAAA;MAAW,EAAA;AA2BlB,aADA40B,GAAK3pD,YAAY2qD,IACVhB;IAAAA,EAtYS;AAyYlB,aAAS4C,oBAAAA;IAAAA;AAETA,sBAAkBvsD,YAAY,EAC5BwsD,gBAAgB,WAAA;AAEdtrD,WAAKurD,YAAAA,OAELvrD,KAAKwrD,SAAAA,OAELxrD,KAAKyrD,gBAAAA,OAELzrD,KAAK0rD,uBAAuB,CAAA;IAAA,GAE9BC,wBAAwB,SAAgCC,IAAAA;AAAAA,aAClD5rD,KAAK0rD,qBAAqBvrD,QAAQyrD,EAAAA,KACpC5rD,KAAK0rD,qBAAqBloD,KAAKooD,EAAAA;IAAAA,GAGnCC,2BAA2B,SAAmCD,IAAAA;AAAAA,aACxD5rD,KAAK0rD,qBAAqBvrD,QAAQyrD,EAAAA,KACpC5rD,KAAK0rD,qBAAqB79C,OAAO7N,KAAK0rD,qBAAqBvrD,QAAQyrD,EAAAA,GAAY,CAAA;IAAA,GAGnFE,wBAAwB,SAAgCC,IAAAA;AACtD/rD,WAAKgsD,iBAAiBD,EAAAA;IAAAA,GAExBE,mBAAmB,WAAA;AACbjsD,WAAKksD,eAAeC,MAAMzoD,EAAEL,KAAK,IAAA,CAC9BrD,KAAKyrD,iBAAiBzrD,KAAK41B,WAAWw2B,aAAaC,sBACtDrsD,KAAKyrD,gBAAAA,MACLzrD,KAAKw6B,KAAAA,KAEEx6B,KAAKyrD,kBACdzrD,KAAKyrD,gBAAAA,OACLzrD,KAAKy6B,KAAAA;IAAAA,GAYTuxB,kBAAkB,SAA0BD,IAAAA;AACtC/rD,WAAK8V,KAAKqV,KAAKnrB,KAAK8V,KAAKsV,MAAM2gC,MAAO/rD,KAAK8V,KAAKxS,KAAKtD,KAAK8V,KAAKsV,KAAK2gC,KAAAA,SAClE/rD,KAAKurD,cACPvrD,KAAK41B,WAAWsU,OAAAA,MAChBlqC,KAAKkqC,OAAAA,MACLlqC,KAAKurD,YAAAA,MACLvrD,KAAKy6B,KAAAA,KAAAA,UAEEz6B,KAAKurD,cACdvrD,KAAK41B,WAAWsU,OAAAA,MAChBlqC,KAAKurD,YAAAA,OACLvrD,KAAKw6B,KAAAA;IAAAA,GAGT8xB,kBAAkB,WAAA;AAChB,UAAI3sD,IACAkgB,KAAM7f,KAAK0rD,qBAAqB5rD;AAEpC,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAK0rD,qBAAqB/rD,EAAAA,EAAG64B,YAAYx4B,KAAKuqC,aAAAA;IAAAA,GAMlDgiB,kBAAkB,WAAA;AAChB,aAAO,EACLhoC,KAAK,GACLC,MAAM,GACNiK,OAAO,KACPC,QAAQ,IAAA;IAAA,GAGZ89B,cAAc,WAAA;AACZ,aAAqB,MAAjBxsD,KAAK8V,KAAK4T,KACL,EACLi9B,GAAG3mD,KAAK8V,KAAK22C,SAASh+B,OACtB/V,GAAG1Y,KAAK8V,KAAK22C,SAAS/9B,OAAAA,IAInB,EACLi4B,GAAG3mD,KAAK8V,KAAK2Y,OACb/V,GAAG1Y,KAAK8V,KAAK4Y,OAAAA;IAAAA,EAAAA;AAKnB,QAAIg+B,gBACEC,iBAAiB,EACnB,GAAG,eACH,GAAG,YACH,GAAG,UACH,GAAG,WACH,GAAG,UACH,GAAG,WACH,GAAG,eACH,GAAG,cACH,GAAG,cACH,GAAG,cACH,IAAI,cACJ,IAAI,aACJ,IAAI,OACJ,IAAI,cACJ,IAAI,SACJ,IAAI,aAAA,GAAA,SAEWp8C,IAAAA;AACf,aAAOo8C,eAAep8C,EAAAA,KAAS;IAAA,IAnB7Bo8C;AAuBN,aAASC,aAAa92C,IAAM0lB,IAAMjpB,IAAAA;AAChCvS,WAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKzS,GAAG,GAAG,GAAGkP,EAAAA;IAAAA;AAGvD,aAASs6C,YAAY/2C,IAAM0lB,IAAMjpB,IAAAA;AAC/BvS,WAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKzS,GAAG,GAAG,GAAGkP,EAAAA;IAAAA;AAGvD,aAASu6C,YAAYh3C,IAAM0lB,IAAMjpB,IAAAA;AAC/BvS,WAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKzS,GAAG,GAAG,GAAGkP,EAAAA;IAAAA;AAGvD,aAASw6C,YAAYj3C,IAAM0lB,IAAMjpB,IAAAA;AAC/BvS,WAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKzS,GAAG,GAAG,GAAGkP,EAAAA;IAAAA;AAGvD,aAASy6C,iBAAiBl3C,IAAM0lB,IAAMjpB,IAAAA;AACpCvS,WAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKzS,GAAG,GAAG,GAAGkP,EAAAA;IAAAA;AAGvD,aAAS06C,gBAAgBn3C,IAAM0lB,IAAMjpB,IAAAA;AACnCvS,WAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKzS,GAAG,GAAG,GAAGkP,EAAAA;IAAAA;AAGvD,aAAS26C,eAAep3C,IAAM0lB,IAAMjpB,IAAAA;AAClCvS,WAAKnB,IAAIqmC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKzS,GAAG,GAAG,GAAGkP,EAAAA;IAAAA;AAGvD,aAAS46C,gBAAAA;AACPntD,WAAKnB,IAAI,CAAA;IAAA;AAGX,aAASuuD,eAAet3C,IAAMoD,IAAAA;AAC5B,UAEIvZ,IAFA0tD,KAAUv3C,GAAKw3C,MAAM,CAAA;AACzBttD,WAAKutD,iBAAiB,CAAA;AAEtB,UACIC,IADA3tC,KAAMwtC,GAAQvtD;AAGlB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB6tD,QAAAA,KAAa,IAAIC,YAAYJ,GAAQ1tD,EAAAA,GAAIuZ,EAAAA,GACzClZ,KAAKutD,eAAe/pD,KAAKgqD,EAAAA;IAAAA;AAI7B,aAASC,YAAY33C,IAAMoD,IAAAA;AACzBlZ,WAAK85B,KAAKhkB,IAAMoD,EAAAA;IAAAA;AAgElB,aAASw0C,cAAAA;IAAAA;AAkFT,aAASC,eAAAA;IAAAA;AAiDT,aAASC,eAAe93C,IAAM8f,IAAY3L,IAAAA;AACxCjqB,WAAKmlC,UAAAA,GACLnlC,KAAKsrD,eAAAA,GACLtrD,KAAKuvB,YAAYqG,GAAW2E,aAAazkB,GAAK8T,KAAAA,GAC9C5pB,KAAKswB,cAAcsF,GAAWi4B,YAAY38B,SAASlxB,KAAKuvB,SAAAA,GACxDvvB,KAAK8tD,aAAah4C,IAAM8f,IAAY3L,EAAAA;IAAAA;AA8BtC,aAAS8jC,aAAaj4C,IAAM8f,IAAY3L,IAAAA;AACtCjqB,WAAKmlC,UAAAA,GACLnlC,KAAKsrD,eAAAA,GACLtrD,KAAKuvB,YAAYqG,GAAW2E,aAAazkB,GAAK8T,KAAAA,GAC9C5pB,KAAK8tD,aAAah4C,IAAM8f,IAAY3L,EAAAA,GACpCjqB,KAAKguD,aAAAA,OACLhuD,KAAKiuD,WAAAA;AACL,UAAIltC,KAAY/gB,KAAK41B,WAAWtG,cAActvB,KAAKuvB,SAAAA;AACnDvvB,WAAK0gB,QAAQ1gB,KAAK41B,WAAWX,gBAAgBnU,YAAYC,EAAAA,GACzD/gB,KAAKkuD,eAAe,GACpBluD,KAAK41B,WAAWX,gBAAgBxU,SAASzgB,IAAAA,GACzCA,KAAKmuD,oBAAoB,GACzBnuD,KAAKugB,UAAU,GACfvgB,KAAKouD,kBAAkB,MACvBpuD,KAAK2yB,KAAK7c,GAAK6c,KAAKuS,gBAAgBkG,QAAQprC,MAAM8V,GAAK6c,IAAI,GAAGiD,GAAW7B,WAAW/zB,IAAAA,IAAQ,EAC1FquD,cAAAA,KAAc,GAEhBruD,KAAKsuD,KAAKppB,gBAAgBkG,QAAQprC,MAAM8V,GAAKy4C,MAAMz4C,GAAKy4C,GAAGD,KAAKx4C,GAAKy4C,GAAGD,KAAK,EAC3E1qD,GAAG,CAAC,GAAA,EAAA,GACH,GAAG,MAAM5D,IAAAA;IAAAA;AA2Ed,aAASwuD,eAAAA;IAAAA;AAsMT,aAASC,mBAAAA;IAAAA;AAsFT,aAASC,YAAY54C,IAAMoD,IAAS0c,IAAAA;AAClC51B,WAAK8V,OAAOA,IACZ9V,KAAKkZ,UAAUA,IACflZ,KAAK41B,aAAaA,IAClB51B,KAAKgiC,aAAa,CAAA,GAClBhiC,KAAKupB,kBAAkBvpB,KAAK8V,KAAKyT,mBAAmB,CAAA,GACpDvpB,KAAK2uD,cAAc;AACnB,UACIhvD,IAIAyoB,IALAyN,KAAO71B,KAAK41B,WAAWC,MAEvBhW,KAAM7f,KAAKupB,kBAAkBvpB,KAAKupB,gBAAgBzpB,SAAS;AAC/DE,WAAK4uD,WAAWxsC,iBAAiBvC,EAAAA,GACjC7f,KAAK6uD,YAAY;AAEjB,UAGInqD,IACAwkB,IAEA4lC,IACAC,IACAC,IACAjxB,IATA1xB,KAAarM,KAAKupB,iBAClB28B,KAAQ,GACR+I,KAAe,CAAA,GAGfC,KAAUhpC,gBAAAA,GAKVipC,KAAW,YACXC,KAAU;AAEd,WAAKzvD,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAkBxB,aAjB2B,QAAvB0M,GAAW1M,EAAAA,EAAG4Q,QAAuC,QAAvBlE,GAAW1M,EAAAA,EAAG4Q,QAAgBlE,GAAW1M,EAAAA,EAAGkjD,OAA6B,QAAtBx2C,GAAW1M,EAAAA,EAAG+D,EAAEE,KAAayI,GAAW1M,EAAAA,EAAG+D,EAAEq6B,OAChIoxB,KAAW,QACXC,KAAU,SAGgB,QAAvB/iD,GAAW1M,EAAAA,EAAG4Q,QAAuC,QAAvBlE,GAAW1M,EAAAA,EAAG4Q,QAA2B,MAAV21C,KAOhE4I,KAAO,SANPA,KAAOrnC,SAAS,MAAA,GACXze,aAAa,QAAQ,SAAA,GAC1B8lD,GAAK9lD,aAAa,SAAShJ,KAAKkZ,QAAQ+Q,KAAKnU,KAAK6wC,KAAK,CAAA,GACvDmI,GAAK9lD,aAAa,UAAUhJ,KAAKkZ,QAAQ+Q,KAAKnU,KAAK4C,KAAK,CAAA,GACxDu2C,GAAazrD,KAAKsrD,EAAAA,IAKpB1mC,KAAOX,SAAS,MAAA,GAEW,QAAvBpb,GAAW1M,EAAAA,EAAG4Q;AAEhBvQ,eAAK4uD,SAASjvD,EAAAA,IAAK,EACjB2D,IAAI4hC,gBAAgBkG,QAAQprC,KAAKkZ,SAAS7M,GAAW1M,EAAAA,EAAG+D,GAAG,GAAG,MAAM1D,KAAKkZ,OAAAA,GACzE8G,MAAMwtB,qBAAqB6hB,aAAarvD,KAAKkZ,SAAS7M,GAAW1M,EAAAA,GAAI,CAAA,GACrE67B,MAAMpT,IACNknC,UAAU,GAAA,GAEZz5B,GAAK3sB,YAAYkf,EAAAA;aACZ;AAIL,cAAImnC;AAgCJ,cAnCArJ,MAAS,GACT99B,GAAKpf,aAAa,QAA+B,QAAvBqD,GAAW1M,EAAAA,EAAG4Q,OAAe,YAAY,SAAA,GACnE6X,GAAKpf,aAAa,aAAa,SAAA,GAGL,MAAtBqD,GAAW1M,EAAAA,EAAGo+B,EAAEn6B,KAClBurD,KAAW,QACXC,KAAU,QACVrxB,KAAImH,gBAAgBkG,QAAQprC,KAAKkZ,SAAS7M,GAAW1M,EAAAA,EAAGo+B,GAAG,GAAG,MAAM/9B,KAAKkZ,OAAAA,GACzEq2C,KAAWrpC,gBAAAA,IACX6oC,KAAWtnC,SAAS,QAAA,GACXze,aAAa,MAAMumD,EAAAA,IAC5BP,KAAUvnC,SAAS,cAAA,GACXze,aAAa,YAAY,OAAA,GACjCgmD,GAAQhmD,aAAa,MAAM,eAAA,GAC3BgmD,GAAQhmD,aAAa,UAAU,GAAA,GAC/B+lD,GAAS7lD,YAAY8lD,EAAAA,GACrBn5B,GAAK3sB,YAAY6lD,EAAAA,GACjB3mC,GAAKpf,aAAa,UAAiC,QAAvBqD,GAAW1M,EAAAA,EAAG4Q,OAAe,YAAY,SAAA,MAErEy+C,KAAU,MACVjxB,KAAI,OAIN/9B,KAAKgiC,WAAWriC,EAAAA,IAAK,EACnB67B,MAAMpT,IACN2V,GAAGA,IACHyxB,OAAOR,IACPM,UAAU,IACVG,cAAc,IACdC,UAAUH,IACVI,YAAY,EAAA,GAGa,QAAvBtjD,GAAW1M,EAAAA,EAAG4Q,MAAc;AAC9B2Y,YAAAA,KAAO+lC,GAAanvD;AACpB,gBAAI8C,KAAI6kB,SAAS,GAAA;AAEjB,iBAAK/iB,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzB9B,cAAAA,GAAEsG,YAAY+lD,GAAavqD,EAAAA,CAAAA;AAG7B,gBAAIkrD,KAAOnoC,SAAS,MAAA;AACpBmoC,YAAAA,GAAK5mD,aAAa,aAAa,OAAA,GAC/B4mD,GAAK5mD,aAAa,MAAMkmD,KAAU,MAAMhJ,EAAAA,GACxC0J,GAAK1mD,YAAYkf,EAAAA,GACjByN,GAAK3sB,YAAY0mD,EAAAA,GACjBhtD,GAAEoG,aAAa,QAAQ,SAASuW,gBAAAA,IAAoB,MAAM2vC,KAAU,MAAMhJ,KAAQ,GAAA,GAClF+I,GAAanvD,SAAS,GACtBmvD,GAAazrD,KAAKZ,EAAAA;UAAAA;AAElBqsD,YAAAA,GAAazrD,KAAK4kB,EAAAA;AAGhB/b,UAAAA,GAAW1M,EAAAA,EAAGkjD,OAAAA,CAAQ7iD,KAAK6uD,cAC7B7uD,KAAK6uD,YAAY7uD,KAAK6vD,qBAAAA,IAIxB7vD,KAAK4uD,SAASjvD,EAAAA,IAAK,EACjB67B,MAAMpT,IACNknC,UAAU,IACVhsD,IAAI4hC,gBAAgBkG,QAAQprC,KAAKkZ,SAAS7M,GAAW1M,EAAAA,EAAG+D,GAAG,GAAG,MAAM1D,KAAKkZ,OAAAA,GACzE8G,MAAMwtB,qBAAqB6hB,aAAarvD,KAAKkZ,SAAS7M,GAAW1M,EAAAA,GAAI,CAAA,GACrEmwD,SAAShB,GAAAA,GAGN9uD,KAAK4uD,SAASjvD,EAAAA,EAAGqgB,KAAKpc,KACzB5D,KAAK+vD,SAAS1jD,GAAW1M,EAAAA,GAAIK,KAAK4uD,SAASjvD,EAAAA,EAAGqgB,KAAK3c,GAAGrD,KAAK4uD,SAASjvD,EAAAA,CAAAA;QAAAA;AAQ1E,WAHAK,KAAK2uD,cAAclnC,SAAS0nC,EAAAA,GAC5BtvC,KAAMovC,GAAanvD,QAEdH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAK2uD,YAAYzlD,YAAY+lD,GAAatvD,EAAAA,CAAAA;AAGxCumD,MAAAA,KAAQ,MACVlmD,KAAK2uD,YAAY3lD,aAAa,MAAMkmD,EAAAA,GACpClvD,KAAKkZ,QAAQ82C,cAAchnD,aAAaomD,IAAS,SAAS7vC,gBAAAA,IAAoB,MAAM2vC,KAAU,GAAA,GAC9Fr5B,GAAK3sB,YAAYlJ,KAAK2uD,WAAAA,IAGpB3uD,KAAK4uD,SAAS9uD,UAChBE,KAAKkZ,QAAQyyC,uBAAuB3rD,IAAAA;IAAAA;AA3uBxCyf,oBAAgB,CAAC4rB,wBAAAA,GAA2BoiB,WAAAA,GAC5CA,YAAY3uD,UAAUisC,WAAW0iB,YAAY3uD,UAAU0sC,0BAEvDiiB,YAAY3uD,UAAUg7B,OAAO,SAAUhkB,IAAMoD,IAAAA;AAI3C,UAAIvZ;AAHJK,WAAK8V,OAAOA,IACZ9V,KAAKutD,iBAAiB,CAAA,GACtBvtD,KAAKyrC,6BAA6BvyB,EAAAA;AAElC,UACI+2C,IADApwC,KAAM7f,KAAK8V,KAAKw3C,GAAGxtD,QAEnButD,KAAUrtD,KAAK8V,KAAKw3C;AAExB,WAAK3tD,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAG3B,gBAFAswD,KAAM,MAEE5C,GAAQ1tD,EAAAA,EAAG+pB,IAAAA;UACjB,KAAA;AACEumC,YAAAA,KAAM,IAAIrD,aAAaS,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAC5C;UAEF,KAAA;AACEiwD,YAAAA,KAAM,IAAIpD,YAAYQ,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAC3C;UAEF,KAAA;AACEiwD,YAAAA,KAAM,IAAInD,YAAYO,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAC3C;UAEF,KAAA;AACEiwD,YAAAA,KAAM,IAAIlD,YAAYM,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAC3C;UAEF,KAAA;UACA,KAAA;AACEiwD,YAAAA,KAAM,IAAI/C,eAAeG,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAC9C;UAEF,KAAA;AACEiwD,YAAAA,KAAM,IAAIjD,iBAAiBK,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAChD;UAEF,KAAA;AACEiwD,YAAAA,KAAM,IAAIhD,gBAAgBI,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAC/C;UAEF,KAAA;AACEiwD,YAAAA,KAAM,IAAI7C,eAAeC,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;AAC9C;UAGF;AACEiwD,YAAAA,KAAM,IAAI9C,cAAcE,GAAQ1tD,EAAAA,GAAIuZ,IAASlZ,IAAAA;QAAAA;AAI7CiwD,QAAAA,MACFjwD,KAAKutD,eAAe/pD,KAAKysD,EAAAA;MAAAA;IAAAA,GAO/BvC,YAAY5uD,YAAY,EACtBoxD,YAAY,WAAA;AACV,UAAA,CAAKlwD,KAAK8V,KAAKuT;AACb,eAAA;AAMF,eAHI1pB,KAAI,GACJkgB,KAAM7f,KAAK8V,KAAKyT,gBAAgBzpB,QAE7BH,KAAIkgB,MAAK;AACd,YAA0C,QAAtC7f,KAAK8V,KAAKyT,gBAAgB5pB,EAAAA,EAAG4Q,QAAAA,UAAgBvQ,KAAK8V,KAAKyT,gBAAgB5pB,EAAAA,EAAGosB;AAC5E,iBAAA;AAGFpsB,QAAAA,MAAK;MAAA;AAGP,aAAA;IAAA,GAEFs3B,iBAAiB,WAAA;AACf,UAAIxU,KAAwB2E,wBAAAA;AAE5B,UAAK3E,IAAL;AAIA,YAAI0tC,KAA2B1tC,GAAsB,OAAA,GACjD2tC,KAA6B3tC,GAAsB,SAAA,GACnD4tC,KAA2B5tC,GAAsB,OAAA,GACjD6tC,KAA0B7tC,GAAsB,MAAA,GAChD8tC,KAA0B9tC,GAAsB,MAAA;AACpDziB,aAAKwwD,iBAAiBL,GAAyBnwD,IAAAA,GAE3CA,KAAK8V,KAAKuT,WAAWrpB,KAAKywD,eAC5BzwD,KAAKwwD,eAAeE,sBAAsB1wD,KAAKywD,WAAAA;AAGjD,YAAIE,KAAmBP,GAA2BQ,uBAAuB5wD,MAAMA,KAAKwwD,cAAAA;AACpFxwD,aAAKwwD,eAAeK,yBAAyBF,EAAAA,GAExB,MAAjB3wD,KAAK8V,KAAK4T,MAAY1pB,KAAK8V,KAAKud,KAClCrzB,KAAKuzB,gBAAgBg9B,GAAwBvwD,IAAAA,IACnB,MAAjBA,KAAK8V,KAAK4T,MACnB1pB,KAAKwwD,eAAeM,iBAAiBT,GAAyBrwD,KAAK+wD,YAAY/wD,KAAKgxD,WAAWhxD,KAAKwwD,cAAAA,GACpGxwD,KAAKwwD,eAAeh8C,UAAUxU,KAAKwwD,eAAeM,kBACxB,MAAjB9wD,KAAK8V,KAAK4T,OACnB1pB,KAAKwwD,eAAeS,gBAAgBX,GAAwBtwD,IAAAA,GAC5DA,KAAKwwD,eAAejI,OAAOvoD,KAAKwwD,eAAeS;MAAAA;IAAAA,GAGnDC,cAAc,WAAA;AACZ,UAAIC,KAAiBzE,aAAa1sD,KAAK8V,KAAKs7C,EAAAA;AAAAA,OACjCpxD,KAAKqxD,eAAerxD,KAAKsxD,cAC/B3oD,MAAM,gBAAA,IAAoBwoD;IAAAA,GAEjCrD,cAAc,SAAsBh4C,IAAM8f,IAAY3L,IAAAA;AACpDjqB,WAAK41B,aAAaA,IAClB51B,KAAKiqB,OAAOA,IACZjqB,KAAK8V,OAAOA,IACZ9V,KAAKkvD,UAAUhpC,gBAAAA,GAEVlmB,KAAK8V,KAAKuV,OACbrrB,KAAK8V,KAAKuV,KAAK,IAIjBrrB,KAAKuxD,iBAAiB,IAAInE,eAAeptD,KAAK8V,MAAM9V,MAAMA,KAAKsrC,iBAAAA;IAAAA,GAEjEkmB,SAAS,WAAA;AACP,aAAA,KAAY1nD;IAAAA,GAEdyiD,kBAAkB,WAAA;IAAA,EAAA,GAWpBoB,aAAa7uD,YAAY,EAMvBqmC,WAAW,WAAA;AAETnlC,WAAKuqC,gBAAAA,OAELvqC,KAAKsrC,oBAAoB,CAAA,GAEzBtrC,KAAKkqC,OAAAA;IAAO,GAadunB,mBAAmB,SAA2B1F,IAAK2F,IAAAA;AACjD,UAAI/xD,IACAkgB,KAAM7f,KAAKsrC,kBAAkBxrC;AAEjC,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,SACpB+xD,MAAa1xD,KAAK2xD,aAAoD,gBAAvC3xD,KAAKsrC,kBAAkB3rC,EAAAA,EAAG+lC,cAC3D1lC,KAAKsrC,kBAAkB3rC,EAAAA,EAAGorC,SAAAA,GAEtB/qC,KAAKsrC,kBAAkB3rC,EAAAA,EAAGuqC,SAC5BlqC,KAAK41B,WAAWsU,OAAAA,MAChBlqC,KAAKkqC,OAAAA;IAAO,GAKpBU,oBAAoB,SAA4B5qB,IAAAA;AAAAA,aAC1ChgB,KAAKsrC,kBAAkBnrC,QAAQ6f,EAAAA,KACjChgB,KAAKsrC,kBAAkB9nC,KAAKwc,EAAAA;IAAAA,EAAAA,GAalC4tC,eAAe9uD,UAAUs0B,eAAe,WAAA;IAAA,GAExC3T,gBAAgB,CAAC4rC,mBAAmBqC,aAAaC,YAAAA,GAAeC,cAAAA,GAEhEA,eAAe9uD,UAAU8yD,iBAAiB,WAAA;AACxC,aAAA;IAAA,GAGFhE,eAAe9uD,UAAU05B,cAAc,WAAA;IAAA,GAEvCo1B,eAAe9uD,UAAUmyB,UAAU,WAAA;IAAA,GAEnC28B,eAAe9uD,UAAUm4B,kBAAkB,WAAA;AACzC,UAAIxU,KAAwB2E,wBAAAA;AAE5B,UAAK3E,IAAL;AAIA,YAAIovC,KAAmBpvC,GAAsB,SAAA;AAC7CziB,aAAKwwD,iBAAiBqB,GAAiB7xD,IAAAA;MAAAA;IAAAA,GAGzC4tD,eAAe9uD,UAAUgzD,iBAAiB,WAAA;AACxC,aAAA,KAAYxhC;IAAAA,GAyBdy9B,aAAajvD,UAAUs0B,eAAe,SAAU24B,IAAAA;AAI9C,UAHA/rD,KAAK8rD,uBAAuBC,IAAAA,IAAK,GACjC/rD,KAAKyxD,kBAAkB1F,IAAAA,IAAK,GAEvB/rD,KAAK2yB,GAAG07B;AAIXruD,aAAKkuD,eAAenC,KAAM/rD,KAAK8V,KAAKuV;WAJX;AACzB,YAAI0mC,KAAe/xD,KAAK2yB,GAAGtvB;AAC3BrD,aAAKkuD,eAAe6D;MAAAA;AAKtB/xD,WAAKugB,UAAUvgB,KAAKsuD,GAAGjrD,EAAE,CAAA;AACzB,UAAI2uD,KAAchyD,KAAKugB,UAAUvgB,KAAKmuD;AAElCnuD,WAAKouD,oBAAoB4D,OAC3BhyD,KAAKouD,kBAAkB4D,IACvBhyD,KAAK0gB,MAAMmB,OAAOmwC,EAAAA;IAAAA,GAItBvyC,gBAAgB,CAAC4rC,mBAAmBqC,aAAaC,YAAAA,GAAeI,YAAAA,GAEhEA,aAAajvD,UAAU05B,cAAc,WAAA;AAC/Bx4B,WAAKurD,aAAavrD,KAAKiuD,aACpBjuD,KAAKguD,cAAAA,CAIEhuD,KAAK0gB,MAAMW,QAAAA,KAAavQ,KAAK6S,IAAI3jB,KAAKkuD,eAAeluD,KAAK41B,WAAW7B,YAAY/zB,KAAK0gB,MAAMU,KAAAA,CAAAA,IAAU,QAChHphB,KAAK0gB,MAAMU,KAAKphB,KAAKkuD,eAAeluD,KAAK41B,WAAW7B,SAAAA,KAJpD/zB,KAAK0gB,MAAMS,KAAAA,GACXnhB,KAAK0gB,MAAMU,KAAKphB,KAAKkuD,eAAeluD,KAAK41B,WAAW7B,SAAAA,GACpD/zB,KAAKguD,aAAAA;IAAa,GAOxBD,aAAajvD,UAAU27B,OAAO,WAAA;IAAA,GAG9BszB,aAAajvD,UAAU07B,OAAO,WAAA;AAC5Bx6B,WAAK0gB,MAAMC,MAAAA,GACX3gB,KAAKguD,aAAAA;IAAa,GAGpBD,aAAajvD,UAAU6hB,QAAQ,WAAA;AAC7B3gB,WAAK0gB,MAAMC,MAAAA,GACX3gB,KAAKguD,aAAAA,OACLhuD,KAAKiuD,WAAAA;IAAW,GAGlBF,aAAajvD,UAAUwG,SAAS,WAAA;AAC9BtF,WAAKiuD,WAAAA;IAAW,GAGlBF,aAAajvD,UAAU8hB,UAAU,SAAUC,IAAAA;AACzC7gB,WAAK0gB,MAAMY,KAAKT,EAAAA;IAAAA,GAGlBktC,aAAajvD,UAAU+iB,SAAS,SAAUowC,IAAAA;AACxCjyD,WAAKmuD,oBAAoB8D,IACzBjyD,KAAKouD,kBAAkB6D,KAAcjyD,KAAKugB,SAC1CvgB,KAAK0gB,MAAMmB,OAAO7hB,KAAKouD,eAAAA;IAAAA,GAGzBL,aAAajvD,UAAU8yD,iBAAiB,WAAA;AACtC,aAAA;IAAA,GAGF7D,aAAajvD,UAAUmyB,UAAU,WAAA;IAAA,GAEjC88B,aAAajvD,UAAUytD,mBAAmB,WAAA;IAAA,GAE1CwB,aAAajvD,UAAUm4B,kBAAkB,WAAA;IAAA,GAIzCu3B,aAAa1vD,UAAUozD,cAAc,SAAUnG,IAAAA;AAC7C,UAAIpsD,IAEAmW,IADA+J,KAAM7f,KAAK+oB,OAAOjpB;AAItB,WAFAE,KAAK8oB,iBAAAA,MAEAnpB,KAAIkgB,KAAM,GAAGlgB,MAAK,GAAGA,MAAK;AACxBK,aAAKqc,SAAS1c,EAAAA,MACjBmW,KAAO9V,KAAK+oB,OAAOppB,EAAAA,GAEVwrB,KAAKrV,GAAKsV,MAAM2gC,KAAM/rD,KAAK+oB,OAAOppB,EAAAA,EAAGyrB,MAAMtV,GAAKxS,KAAKwS,GAAKsV,KAAK2gC,KAAM/rD,KAAK+oB,OAAOppB,EAAAA,EAAGyrB,MAC3FprB,KAAKmyD,UAAUxyD,EAAAA,GAInBK,KAAK8oB,iBAAAA,CAAAA,CAAiB9oB,KAAKqc,SAAS1c,EAAAA,KAAKK,KAAK8oB;AAGhD9oB,WAAKoyD,qBAAAA;IAAAA,GAGP5D,aAAa1vD,UAAUuzD,aAAa,SAAUC,IAAAA;AAC5C,cAAQA,GAAM5oC,IAAAA;QACZ,KAAA;AACE,iBAAA,KAAY6oC,YAAYD,EAAAA;QAE1B,KAAA;AACE,iBAAA,KAAYE,WAAWF,EAAAA;QAEzB,KAAA;AACE,iBAAA,KAAYG,YAAYH,EAAAA;QAE1B,KAAA;QAkBA;AACE,iBAAA,KAAYI,WAAWJ,EAAAA;QAhBzB,KAAA;AACE,iBAAA,KAAYK,YAAYL,EAAAA;QAE1B,KAAA;AACE,iBAAA,KAAYM,WAAWN,EAAAA;QAEzB,KAAA;AACE,iBAAA,KAAYxxC,YAAYwxC,EAAAA;QAE1B,KAAA;AACE,iBAAA,KAAYO,aAAaP,EAAAA;QAE3B,KAAA;AACE,iBAAA,KAAYQ,cAAcR,EAAAA;MAAAA;IAAAA,GAOhC9D,aAAa1vD,UAAU+zD,eAAe,WAAA;AACpC,YAAA,IAAUnrD,MAAM,kDAAA;IAAA,GAGlB8mD,aAAa1vD,UAAUgiB,cAAc,SAAUhL,IAAAA;AAC7C,aAAA,IAAWi4C,aAAaj4C,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGjDwuD,aAAa1vD,UAAUg0D,gBAAgB,SAAUh9C,IAAAA;AAC/C,aAAA,IAAW83C,eAAe93C,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGnDwuD,aAAa1vD,UAAUi0D,gBAAgB,WAAA;AACrC,UAAIpzD,IACAkgB,KAAM7f,KAAK+oB,OAAOjpB;AAEtB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKmyD,UAAUxyD,EAAAA;AAGjBK,WAAKoyD,qBAAAA;IAAAA,GAGP5D,aAAa1vD,UAAU63B,gBAAgB,SAAUC,IAAAA;AAE/C,UAAIj3B;AADJK,WAAK8oB,iBAAAA;AAEL,UACIpkB,IADAmb,KAAM+W,GAAU92B,QAEhBopB,KAAOlpB,KAAK+oB,OAAOjpB;AAEvB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGxB,aAFA+E,KAAI,GAEGA,KAAIwkB,MAAM;AACf,cAAIlpB,KAAK+oB,OAAOrkB,EAAAA,EAAGslB,OAAO4M,GAAUj3B,EAAAA,EAAGqqB,IAAI;AACzChqB,iBAAK+oB,OAAOrkB,EAAAA,IAAKkyB,GAAUj3B,EAAAA;AAC3B;UAAA;AAGF+E,UAAAA,MAAK;QAAA;IAAA,GAKX8pD,aAAa1vD,UAAUg3B,sBAAsB,SAAUk9B,IAAAA;AACrDhzD,WAAK41B,WAAWb,mBAAmBi+B;IAAAA,GAGrCxE,aAAa1vD,UAAUm5B,YAAY,WAAA;AAC5Bj4B,WAAK41B,WAAWq9B,mBACnBjzD,KAAK+yD,cAAAA;IAAAA,GAITvE,aAAa1vD,UAAUo0D,wBAAwB,SAAUh6C,IAASi6C,IAAYC,IAAAA;AAM5E,eALI/2C,KAAWrc,KAAKqc,UAChB0M,KAAS/oB,KAAK+oB,QACdppB,KAAI,GACJkgB,KAAMkJ,GAAOjpB,QAEVH,KAAIkgB;AACLkJ,QAAAA,GAAOppB,EAAAA,EAAGqnC,OAAOmsB,OAEd92C,GAAS1c,EAAAA,KAAAA,SAAM0c,GAAS1c,EAAAA,KAI3ByzD,GAAU5vD,KAAK6Y,GAAS1c,EAAAA,CAAAA,GACxB0c,GAAS1c,EAAAA,EAAG0zD,YAAAA,GAAAA,WAERtqC,GAAOppB,EAAAA,EAAGwW,SACZnW,KAAKkzD,sBAAsBh6C,IAAS6P,GAAOppB,EAAAA,EAAGwW,QAAQi9C,EAAAA,IAEtDl6C,GAAQo6C,aAAaF,EAAAA,MATvBpzD,KAAKmyD,UAAUxyD,EAAAA,GACfK,KAAKuzD,kBAAkBr6C,EAAAA,KAa3BvZ,MAAK;IAAA,GAIT6uD,aAAa1vD,UAAUy0D,oBAAoB,SAAUr6C,IAAAA;AACnDlZ,WAAKwzD,gBAAgBhwD,KAAK0V,EAAAA;IAAAA,GAG5Bs1C,aAAa1vD,UAAU64B,0BAA0B,SAAU5M,IAAAA;AACzD,UAAIprB,IACAkgB,KAAMkL,GAAOjrB;AAEjB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,YAAIorB,GAAOprB,EAAAA,EAAG0zB,IAAI;AAChB,cAAIpJ,KAAOjqB,KAAKwyD,WAAWznC,GAAOprB,EAAAA,CAAAA;AAClCsqB,UAAAA,GAAKgN,gBAAAA,GACLj3B,KAAK41B,WAAWb,iBAAiB/B,oBAAoB/I,EAAAA;QAAAA;IAAAA,GAK3DukC,aAAa1vD,UAAU87B,mBAAmB,SAAUxS,IAAAA;AAClD,UACIlP,IADAu6C,KAAYrrC,GAAK3iB,MAAAA;AAGrB,UAAyB,YAAA,OAAdguD;AACTv6C,QAAAA,KAAUlZ,KAAKqc,SAASo3C,EAAAA;WACnB;AACL,YAAI9zD,IACAkgB,KAAM7f,KAAKqc,SAASvc;AAExB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,cAAIK,KAAKqc,SAAS1c,EAAAA,EAAGmW,KAAKqd,OAAOsgC,IAAW;AAC1Cv6C,YAAAA,KAAUlZ,KAAKqc,SAAS1c,EAAAA;AACxB;UAAA;MAAA;AAKN,aAAoB,MAAhByoB,GAAKtoB,SACAoZ,KAGFA,GAAQ0hB,iBAAiBxS,EAAAA;IAAAA,GAGlComC,aAAa1vD,UAAU40D,kBAAkB,SAAUj8B,IAAUk8B,IAAAA;AAC3D3zD,WAAK41B,WAAWkB,cAAc,IAAI2vB,eAClCzmD,KAAK41B,WAAWkB,YAAYC,SAASU,GAASxM,KAAAA,GAC9CjrB,KAAK41B,WAAWkB,YAAYE,SAASS,GAASZ,OAAO88B,EAAAA,GACrD3zD,KAAK41B,WAAW2E,eAAev6B,KAAK4zD,cAAcr5B,aAAapK,KAAKnwB,KAAK4zD,aAAAA,GACzE5zD,KAAK41B,WAAWtG,gBAAgBtvB,KAAK4zD,cAActkC,cAAca,KAAKnwB,KAAK4zD,aAAAA,GAC3E5zD,KAAK41B,WAAWi4B,cAAc7tD,KAAK4zD,cAAc5+B,gBACjDh1B,KAAK41B,WAAWX,kBAAkBj1B,KAAK4zD,cAAc3+B,iBACrDj1B,KAAK41B,WAAWwU,UAAU,GAC1BpqC,KAAK41B,WAAW7B,YAAY0D,GAASC,IACrC13B,KAAK41B,WAAWzC,KAAKsE,GAAStE,IAC9BnzB,KAAK41B,WAAWi+B,WAAW,EACzBlN,GAAGlvB,GAASkvB,GACZjuC,GAAG+e,GAAS/e,EAAAA;IAAAA,GAMhB+1C,iBAAiB3vD,YAAY,EAC3Bg1D,eAAe,WAAA;AACb9zD,WAAKksD,iBAAiB,EACpBC,OAAOnsD,KAAK8V,KAAKqU,KAAKmwB,yBAAyBqB,qBAAqB37C,MAAMA,KAAK8V,KAAKqU,IAAInqB,IAAAA,IAAQ,EAC9F0D,GAAG,EAAA,GAELqwD,SAAAA,OACAC,QAAAA,OACA7Y,KAAK,IAAIrK,SAAAA,GAGP9wC,KAAK8V,KAAKm+C,OACZj0D,KAAKksD,eAAeC,MAAM7Q,eAAAA,OAIxBt7C,KAAK8V,KAAK4T;IAAAA,GAGhBwqC,iBAAiB,WAAA;AAIf,UAHAl0D,KAAKksD,eAAe8H,SAASh0D,KAAKksD,eAAeC,MAAMzoD,EAAEwmC,QAAQlqC,KAAKuqC,eACtEvqC,KAAKksD,eAAe6H,UAAU/zD,KAAKksD,eAAeC,MAAMjiB,QAAQlqC,KAAKuqC,eAEjEvqC,KAAKozD,WAAW;AAClB,YAAIjY,IACAgZ,KAAWn0D,KAAKksD,eAAe/Q,KAC/Bx7C,KAAI,GACJkgB,KAAM7f,KAAKozD,UAAUtzD;AAEzB,YAAA,CAAKE,KAAKksD,eAAe6H;AACvB,iBAAOp0D,KAAIkgB,MAAK;AACd,gBAAI7f,KAAKozD,UAAUzzD,EAAAA,EAAGusD,eAAeC,MAAMjiB,MAAM;AAC/ClqC,mBAAKksD,eAAe6H,UAAAA;AACpB;YAAA;AAGFp0D,YAAAA,MAAK;UAAA;AAIT,YAAIK,KAAKksD,eAAe6H;AAItB,eAHA5Y,KAAMn7C,KAAKksD,eAAeC,MAAM9oD,EAAE+I,OAClC+nD,GAAS5f,eAAe4G,EAAAA,GAEnBx7C,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBw7C,YAAAA,KAAMn7C,KAAKozD,UAAUzzD,EAAAA,EAAGusD,eAAeC,MAAM9oD,EAAE+I,OAC/C+nD,GAAS9hB,UAAU8I,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,EAAA,GAAKA,GAAI,EAAA,GAAKA,GAAI,EAAA,GAAKA,GAAI,EAAA,GAAKA,GAAI,EAAA,GAAKA,GAAI,EAAA,CAAA;MAAA;IAAA,GAK5JiZ,eAAe,SAAuB5qC,IAAAA;AACpC,UAAI6qC,KAAa,CAAA;AACjBA,MAAAA,GAAW7wD,KAAKxD,KAAKksD,cAAAA;AAIrB,eAYIvsD,IAfAyf,KAAAA,MACA6K,KAAOjqB,KAAKiqB,MAET7K;AACD6K,QAAAA,GAAKiiC,kBACHjiC,GAAKnU,KAAKuT,WACZgrC,GAAWxmD,OAAO,GAAG,GAAGoc,GAAKiiC,cAAAA,GAG/BjiC,KAAOA,GAAKA,QAEZ7K,KAAAA;AAKJ,UACIk1C,IADAz0C,KAAMw0C,GAAWv0D;AAGrB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB20D,QAAAA,KAAQD,GAAW10D,EAAAA,EAAGw7C,IAAIlG,kBAAkB,GAAG,GAAG,CAAA,GAElDzrB,KAAK,CAACA,GAAG,CAAA,IAAK8qC,GAAM,CAAA,GAAI9qC,GAAG,CAAA,IAAK8qC,GAAM,CAAA,GAAI,CAAA;AAG5C,aAAO9qC;IAAAA,GAET+qC,SAAS,IAAIzjB,SAAAA,GAqJf4d,YAAY5vD,UAAU01D,kBAAkB,SAAUxoB,IAAAA;AAChD,aAAA,KAAY4iB,SAAS5iB,EAAAA,EAAKhsB;IAAAA,GAG5B0uC,YAAY5vD,UAAU05B,cAAc,SAAUi8B,IAAAA;AAC5C,UACI90D,IADAw0D,KAAWn0D,KAAKkZ,QAAQgzC,eAAe/Q,KAEvCt7B,KAAM7f,KAAKupB,gBAAgBzpB;AAE/B,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AASxB,aARIK,KAAK4uD,SAASjvD,EAAAA,EAAGqgB,KAAKkqB,QAAQuqB,OAChCz0D,KAAK+vD,SAAS/vD,KAAKupB,gBAAgB5pB,EAAAA,GAAIK,KAAK4uD,SAASjvD,EAAAA,EAAGqgB,KAAK3c,GAAGrD,KAAK4uD,SAASjvD,EAAAA,CAAAA,IAG5EK,KAAK4uD,SAASjvD,EAAAA,EAAG2D,GAAG4mC,QAAQuqB,OAC9Bz0D,KAAK4uD,SAASjvD,EAAAA,EAAG67B,KAAKxyB,aAAa,gBAAgBhJ,KAAK4uD,SAASjvD,EAAAA,EAAG2D,GAAGD,CAAAA,GAGpC,QAAjCrD,KAAKupB,gBAAgB5pB,EAAAA,EAAG4Q,SACtBvQ,KAAK4uD,SAASjvD,EAAAA,EAAGmwD,YAAY9vD,KAAKkZ,QAAQgzC,eAAeC,MAAMjiB,QAAQuqB,OACzEz0D,KAAK4uD,SAASjvD,EAAAA,EAAGmwD,QAAQ9mD,aAAa,aAAamrD,GAAStf,iBAAAA,EAAmBiB,QAAAA,CAAAA,GAG7E91C,KAAKgiC,WAAWriC,EAAAA,EAAGo+B,MAAM/9B,KAAKgiC,WAAWriC,EAAAA,EAAGo+B,EAAEmM,QAAQuqB,MAAe;AACvE,cAAIzF,KAAUhvD,KAAKgiC,WAAWriC,EAAAA,EAAG6vD;AAE7BxvD,eAAKgiC,WAAWriC,EAAAA,EAAGo+B,EAAE16B,IAAI,KACa,YAApCrD,KAAKgiC,WAAWriC,EAAAA,EAAG8vD,iBACrBzvD,KAAKgiC,WAAWriC,EAAAA,EAAG8vD,eAAe,SAClCzvD,KAAKgiC,WAAWriC,EAAAA,EAAG67B,KAAKxyB,aAAa,UAAU,SAASuW,gBAAAA,IAAoB,MAAMvf,KAAKgiC,WAAWriC,EAAAA,EAAG+vD,WAAW,GAAA,IAGlHV,GAAQhmD,aAAa,UAAA,CAAWhJ,KAAKgiC,WAAWriC,EAAAA,EAAGo+B,EAAE16B,CAAAA,MAEb,aAApCrD,KAAKgiC,WAAWriC,EAAAA,EAAG8vD,iBACrBzvD,KAAKgiC,WAAWriC,EAAAA,EAAG8vD,eAAe,UAClCzvD,KAAKgiC,WAAWriC,EAAAA,EAAG67B,KAAKxyB,aAAa,UAAU,IAAA,IAGjDhJ,KAAKgiC,WAAWriC,EAAAA,EAAG67B,KAAKxyB,aAAa,gBAAyC,IAAzBhJ,KAAKgiC,WAAWriC,EAAAA,EAAGo+B,EAAE16B,CAAAA;QAAAA;IAAAA,GAOpFqrD,YAAY5vD,UAAU41D,iBAAiB,WAAA;AACrC,aAAA,KAAY/F;IAAAA,GAGdD,YAAY5vD,UAAU+wD,uBAAuB,WAAA;AAC3C,UAAIznC,KAAO;AAKX,aAJAA,MAAQ,OAAOpoB,KAAK41B,WAAWi+B,SAASlN,GACxCv+B,MAAQ,OAAOpoB,KAAK41B,WAAWi+B,SAASn7C,GACxC0P,MAAQ,QAAQpoB,KAAK41B,WAAWi+B,SAASlN,GACzCv+B,MAAQ,QAAQpoB,KAAK41B,WAAWi+B,SAASn7C,IAAI;IAAA,GAI/Cg2C,YAAY5vD,UAAUixD,WAAW,SAAUtkC,IAAUkpC,IAAW/F,IAAAA;AAC9D,UACIjvD,IACAkgB,IAFA+0C,KAAa,OAAOD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,IAAK,MAAMsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA;AAKjE,WAFAwc,KAAM80C,GAAUj1B,SAEX//B,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAExBi1D,QAAAA,MAAc,OAAOD,GAAUjxD,EAAE/D,KAAI,CAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUjxD,EAAE/D,KAAI,CAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUh1D,EAAEA,EAAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUh1D,EAAEA,EAAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUtxD,EAAE1D,EAAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUtxD,EAAE1D,EAAAA,EAAG,CAAA;AAShL,UALIg1D,GAAUh0D,KAAKkf,KAAM,MACvB+0C,MAAc,OAAOD,GAAUjxD,EAAE/D,KAAI,CAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUjxD,EAAE/D,KAAI,CAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUh1D,EAAE,CAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUh1D,EAAE,CAAA,EAAG,CAAA,IAAK,MAAMg1D,GAAUtxD,EAAE,CAAA,EAAG,CAAA,IAAK,MAAMsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,IAI5KurD,GAASU,aAAasF,IAAY;AACpC,YAAIC,KAAiB;AAEjBjG,QAAAA,GAASpzB,SACPm5B,GAAUh0D,MACZk0D,KAAiBppC,GAASo3B,MAAM7iD,KAAK6uD,YAAY+F,KAAaA,KAGhEhG,GAASpzB,KAAKxyB,aAAa,KAAK6rD,EAAAA,IAGlCjG,GAASU,WAAWsF;MAAAA;IAAAA,GAIxBlG,YAAY5vD,UAAUmyB,UAAU,WAAA;AAC9BjxB,WAAKkZ,UAAU,MACflZ,KAAK41B,aAAa,MAClB51B,KAAK2uD,cAAc,MACnB3uD,KAAK8V,OAAO,MACZ9V,KAAKupB,kBAAkB;IAAA;AAGzB,QAAIurC,iBAAiB,WAAA;AACnB,UAAIzkC,KAAK,EACTA,cAGA,SAAsB0kC,IAAOC,IAAAA;AAC3B,YAAIC,KAAMxtC,SAAS,QAAA;AAWnB,eAVAwtC,GAAIjsD,aAAa,MAAM+rD,EAAAA,GAAAA,SAEnBC,OACFC,GAAIjsD,aAAa,eAAe,mBAAA,GAChCisD,GAAIjsD,aAAa,KAAK,IAAA,GACtBisD,GAAIjsD,aAAa,KAAK,IAAA,GACtBisD,GAAIjsD,aAAa,SAAS,MAAA,GAC1BisD,GAAIjsD,aAAa,UAAU,MAAA,IAGtBisD;MAAAA,GAdT5kC,8BAiBA,WAAA;AACE,YAAI6kC,KAAgBztC,SAAS,eAAA;AAI7B,eAHAytC,GAAclsD,aAAa,QAAQ,QAAA,GACnCksD,GAAclsD,aAAa,+BAA+B,MAAA,GAC1DksD,GAAclsD,aAAa,UAAU,4CAAA,GAC9BksD;MAAAA,EAAAA;AAGT,aAAO7kC;IAAAA,EA5BY,GA+BjB8kC,iBAAiB,WAAA;AACnB,UAAI9kC,KAAK,EACP8+B,UAAAA,KAAU;AAOZ,cAJI,WAAWx7C,KAAKmL,UAAU8D,SAAAA,KAAc,UAAUjP,KAAKmL,UAAU8D,SAAAA,KAAc,WAAWjP,KAAKmL,UAAU8D,SAAAA,KAAc,aAAajP,KAAKmL,UAAU8D,SAAAA,OACrJyN,GAAG8+B,WAAAA,QAGE9+B;IAAAA,EATY,GAYjB+kC,oBAAoB,CAAA,GACpBC,WAAW;AAEf,aAASC,WAAW95B,IAAAA;AAClB,UAAI77B,IAOA41D,IANAC,KAAS,iBACT31C,KAAM2b,GAAK1lB,KAAKw3C,KAAK9xB,GAAK1lB,KAAKw3C,GAAGxtD,SAAS,GAC3Ci1D,KAAQ7uC,gBAAAA,GACR+uC,KAAMH,eAAeW,aAAaV,IAAAA,IAAO,GACzC7O,KAAQ;AAIZ,WAHAlmD,KAAK01D,UAAU,CAAA,GAGV/1D,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAC3B41D,QAAAA,KAAgB;AAChB,YAAIzrD,KAAO0xB,GAAK1lB,KAAKw3C,GAAG3tD,EAAAA,EAAG+pB;AAEvB0rC,0BAAkBtrD,EAAAA,MAEpByrD,KAAgB,KAAII,GADPP,kBAAkBtrD,EAAAA,EAAM8rD,QACVX,IAAKz5B,GAAK+1B,eAAehE,eAAe5tD,EAAAA,GAAI67B,IAAM65B,WAAWnP,IAAOsP,EAAAA,GAC/FA,KAASH,WAAWnP,IAEhBkP,kBAAkBtrD,EAAAA,EAAM+rD,mBAC1B3P,MAAS,KAITqP,MACFv1D,KAAK01D,QAAQlyD,KAAK+xD,EAAAA;MAAAA;AAIlBrP,MAAAA,OACF1qB,GAAK5F,WAAWC,KAAK3sB,YAAY+rD,EAAAA,GACjCz5B,GAAK81B,aAAatoD,aAAa,UAAU,SAASuW,gBAAAA,IAAoB,MAAMw1C,KAAQ,GAAA,IAGlF/0D,KAAK01D,QAAQ51D,UACf07B,GAAKmwB,uBAAuB3rD,IAAAA;IAAAA;AAahC,aAAS81D,eAAe9rC,IAAI4rC,IAAQC,IAAAA;AAClCT,wBAAkBprC,EAAAA,IAAM,EACtB4rC,QAAQA,IACRC,gBAAgBA,GAAAA;IAAAA;AAIpB,aAASE,iBAAAA;IAAAA;AAuLT,aAASC,mBAAAA;IAAAA;AAgDT,aAASC,uBAAAA;IAAAA;AAmET,aAASC,cAAcpgD,IAAM8f,IAAY3L,IAAAA;AACvCjqB,WAAKuvB,YAAYqG,GAAW2E,aAAazkB,GAAK8T,KAAAA,GAC9C5pB,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA,GACnCjqB,KAAKo2D,aAAa,EAChB7xC,KAAK,GACLC,MAAM,GACNiK,OAAOzuB,KAAKuvB,UAAUo3B,GACtBj4B,QAAQ1uB,KAAKuvB,UAAU7W,EAAAA;IAAAA;AAoB3B,aAAS29C,iBAAiBn9C,IAASoL,IAAAA;AACjCtkB,WAAKw7B,OAAOtiB,IACZlZ,KAAKgsC,MAAM1nB;IAAAA;AAGb,aAASgyC,gBAAAA;IAAAA;AA1VThB,eAAWx2D,UAAU05B,cAAc,SAAU+R,IAAAA;AAC3C,UAAI5qC,IACAkgB,KAAM7f,KAAK01D,QAAQ51D;AAEvB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAK01D,QAAQ/1D,EAAAA,EAAG64B,YAAY+R,EAAAA;IAAAA,GAahCwrB,eAAej3D,YAAY,EACzBy3D,qBAAqB,WAAA;AACnBv2D,WAAKsxD,eAAe7pC,SAAS,GAAA;IAAA,GAE/B+uC,yBAAyB,WAAA;AACvBx2D,WAAKy2D,eAAehvC,SAAS,GAAA,GAC7BznB,KAAK02D,qBAAqB12D,KAAKsxD,cAC/BtxD,KAAKgwD,gBAAgBhwD,KAAKsxD,cAC1BtxD,KAAK22D,eAAAA;AACL,UAAIC,KAAqB;AAEzB,UAAI52D,KAAK8V,KAAK+gD,IAAI;AAChB72D,aAAK82D,aAAa,CAAA;AAClB,YAAIC,KAAgBtvC,SAAS,QAAA;AAC7BsvC,QAAAA,GAAc/tD,aAAa,MAAMhJ,KAAKkvD,OAAAA;AACtC,YAAI8H,KAAKvvC,SAAS,GAAA;AAClBuvC,QAAAA,GAAG9tD,YAAYlJ,KAAKsxD,YAAAA,GACpByF,GAAc7tD,YAAY8tD,EAAAA,GAC1BJ,KAAqBI,IACrBh3D,KAAK41B,WAAWC,KAAK3sB,YAAY6tD,EAAAA;MAAAA;AACxB/2D,aAAK8V,KAAKmhD,MACnBj3D,KAAKy2D,aAAavtD,YAAYlJ,KAAKsxD,YAAAA,GACnCsF,KAAqB52D,KAAKy2D,cAC1Bz2D,KAAKqxD,cAAcrxD,KAAKy2D,gBAExBz2D,KAAKqxD,cAAcrxD,KAAKsxD;AAY1B,UATItxD,KAAK8V,KAAKohD,MACZl3D,KAAKsxD,aAAatoD,aAAa,MAAMhJ,KAAK8V,KAAKohD,EAAAA,GAG7Cl3D,KAAK8V,KAAKiW,MACZ/rB,KAAKsxD,aAAatoD,aAAa,SAAShJ,KAAK8V,KAAKiW,EAAAA,GAI/B,MAAjB/rB,KAAK8V,KAAK4T,MAAAA,CAAa1pB,KAAK8V,KAAKqhD,IAAI;AACvC,YAAIC,KAAK3vC,SAAS,UAAA,GACd+B,KAAK/B,SAAS,MAAA;AAClB+B,QAAAA,GAAGxgB,aAAa,KAAK,WAAWhJ,KAAK8V,KAAK6wC,IAAI,SAAS3mD,KAAK8V,KAAK6wC,IAAI,MAAM3mD,KAAK8V,KAAK4C,IAAI,SAAS1Y,KAAK8V,KAAK4C,IAAI,GAAA;AAChH,YAAI2+C,KAASnxC,gBAAAA;AAKb,YAJAkxC,GAAGpuD,aAAa,MAAMquD,EAAAA,GACtBD,GAAGluD,YAAYsgB,EAAAA,GACfxpB,KAAK41B,WAAWC,KAAK3sB,YAAYkuD,EAAAA,GAE7Bp3D,KAAKkwD,WAAAA,GAAc;AACrB,cAAIoH,KAAU7vC,SAAS,GAAA;AACvB6vC,UAAAA,GAAQtuD,aAAa,aAAa,SAASuW,gBAAAA,IAAoB,MAAM83C,KAAS,GAAA,GAC9EC,GAAQpuD,YAAYlJ,KAAKsxD,YAAAA,GACzBtxD,KAAK02D,qBAAqBY,IAEtBV,KACFA,GAAmB1tD,YAAYlJ,KAAK02D,kBAAAA,IAEpC12D,KAAKqxD,cAAcrxD,KAAK02D;QAAAA;AAG1B12D,eAAKsxD,aAAatoD,aAAa,aAAa,SAASuW,gBAAAA,IAAoB,MAAM83C,KAAS,GAAA;MAAA;AAIvE,YAAjBr3D,KAAK8V,KAAKs7C,MACZpxD,KAAKkxD,aAAAA;IAAAA,GAGTqG,eAAe,WAAA;AACTv3D,WAAKksD,eAAe6H,WACtB/zD,KAAK02D,mBAAmB1tD,aAAa,aAAahJ,KAAKksD,eAAe/Q,IAAIrF,QAAAA,CAAAA,GAGxE91C,KAAKksD,eAAe8H,UACtBh0D,KAAK02D,mBAAmB1tD,aAAa,WAAWhJ,KAAKksD,eAAeC,MAAMzoD,EAAEL,CAAAA;IAAAA,GAGhFm0D,oBAAoB,WAAA;AAClBx3D,WAAKsxD,eAAe,MACpBtxD,KAAKy2D,eAAe,MACpBz2D,KAAKywD,YAAYx/B,QAAAA;IAAAA,GAEnB2gC,gBAAgB,WAAA;AACd,aAAI5xD,KAAK8V,KAAKqhD,KAAAA,OAAAA,KAIF9F;IAAAA,GAEdoG,4BAA4B,WAAA;AAC1Bz3D,WAAKywD,cAAc,IAAI/B,YAAY1uD,KAAK8V,MAAM9V,MAAMA,KAAK41B,UAAAA,GACzD51B,KAAK03D,2BAA2B,IAAIpC,WAAWt1D,IAAAA;IAAAA,GAEjD23D,UAAU,SAAkBC,IAAAA;AAC1B,UAAA,CAAK53D,KAAK82D,WAAWc,EAAAA,GAAY;AAC/B,YACI7C,IACAE,IACA4C,IACAb,IAJAhtC,KAAKhqB,KAAKkvD,UAAU,MAAM0I;AAM9B,YAAkB,MAAdA,MAAiC,MAAdA,IAAiB;AACtC,cAAIE,KAASrwC,SAAS,MAAA;AACtBqwC,UAAAA,GAAO9uD,aAAa,MAAMghB,EAAAA,GAC1B8tC,GAAO9uD,aAAa,aAA2B,MAAd4uD,KAAkB,cAAc,OAAA,IACjEC,KAAapwC,SAAS,KAAA,GACX6J,eAAe,gCAAgC,QAAQ,MAAMtxB,KAAKkvD,OAAAA,GAC7E4I,GAAO5uD,YAAY2uD,EAAAA,GACnB73D,KAAK41B,WAAWC,KAAK3sB,YAAY4uD,EAAAA,GAE5B3C,eAAehG,YAA0B,MAAdyI,OAC9BE,GAAO9uD,aAAa,aAAa,WAAA,GACjC+rD,KAAQ7uC,gBAAAA,GACR+uC,KAAMH,eAAeW,aAAaV,EAAAA,GAClC/0D,KAAK41B,WAAWC,KAAK3sB,YAAY+rD,EAAAA,GACjCA,GAAI/rD,YAAY4rD,eAAeiD,6BAAAA,CAAAA,IAC/Bf,KAAKvvC,SAAS,GAAA,GACXve,YAAY2uD,EAAAA,GACfC,GAAO5uD,YAAY8tD,EAAAA,GACnBA,GAAGhuD,aAAa,UAAU,SAASuW,gBAAAA,IAAoB,MAAMw1C,KAAQ,GAAA;QAAA,WAEhD,MAAd6C,IAAiB;AAC1B,cAAII,KAAYvwC,SAAS,MAAA;AACzBuwC,UAAAA,GAAUhvD,aAAa,MAAMghB,EAAAA,GAC7BguC,GAAUhvD,aAAa,aAAa,OAAA;AACpC,cAAIivD,KAAcxwC,SAAS,GAAA;AAC3BuwC,UAAAA,GAAU9uD,YAAY+uD,EAAAA,GACtBlD,KAAQ7uC,gBAAAA,GACR+uC,KAAMH,eAAeW,aAAaV,EAAAA;AAElC,cAAImD,KAAQzwC,SAAS,qBAAA;AACrBywC,UAAAA,GAAMlvD,aAAa,MAAM,eAAA,GACzBisD,GAAI/rD,YAAYgvD,EAAAA;AAChB,cAAIC,KAAS1wC,SAAS,SAAA;AACtB0wC,UAAAA,GAAOnvD,aAAa,QAAQ,OAAA,GAC5BmvD,GAAOnvD,aAAa,eAAe,SAAA,GACnCkvD,GAAMhvD,YAAYivD,EAAAA,GAElBn4D,KAAK41B,WAAWC,KAAK3sB,YAAY+rD,EAAAA;AACjC,cAAImD,KAAY3wC,SAAS,MAAA;AACzB2wC,UAAAA,GAAUpvD,aAAa,SAAShJ,KAAKiqB,KAAKnU,KAAK6wC,CAAAA,GAC/CyR,GAAUpvD,aAAa,UAAUhJ,KAAKiqB,KAAKnU,KAAK4C,CAAAA,GAChD0/C,GAAUpvD,aAAa,KAAK,GAAA,GAC5BovD,GAAUpvD,aAAa,KAAK,GAAA,GAC5BovD,GAAUpvD,aAAa,QAAQ,SAAA,GAC/BovD,GAAUpvD,aAAa,WAAW,GAAA,GAClCivD,GAAYjvD,aAAa,UAAU,SAASuW,gBAAAA,IAAoB,MAAMw1C,KAAQ,GAAA,GAC9EkD,GAAY/uD,YAAYkvD,EAAAA,IACxBP,KAAapwC,SAAS,KAAA,GACX6J,eAAe,gCAAgC,QAAQ,MAAMtxB,KAAKkvD,OAAAA,GAC7E+I,GAAY/uD,YAAY2uD,EAAAA,GAEnB1C,eAAehG,aAClB6I,GAAUhvD,aAAa,aAAa,WAAA,GACpCisD,GAAI/rD,YAAY4rD,eAAeiD,6BAAAA,CAAAA,GAC/Bf,KAAKvvC,SAAS,GAAA,GACdwwC,GAAY/uD,YAAYkvD,EAAAA,GACxBpB,GAAG9tD,YAAYlJ,KAAKsxD,YAAAA,GACpB2G,GAAY/uD,YAAY8tD,EAAAA,IAG1Bh3D,KAAK41B,WAAWC,KAAK3sB,YAAY8uD,EAAAA;QAAAA;AAGnCh4D,aAAK82D,WAAWc,EAAAA,IAAa5tC;MAAAA;AAG/B,aAAA,KAAY8sC,WAAWc,EAAAA;IAAAA,GAEzBS,UAAU,SAAkBruC,IAAAA;AACrBhqB,WAAKy2D,gBAIVz2D,KAAKy2D,aAAaztD,aAAa,QAAQ,SAASuW,gBAAAA,IAAoB,MAAMyK,KAAK,GAAA;IAAA,EAAA,GAWnFgsC,iBAAiBl3D,YAAY,EAM3Bw5D,eAAe,WAAA;AAEbt4D,WAAKozD,YAAY,CAAA,GAEjBpzD,KAAK2xD,YAAAA,OACL3xD,KAAKu4D,eAAAA;IAAAA,GAUPjF,cAAc,SAAsBF,IAAAA;AAClCpzD,WAAKozD,YAAYA;IAAAA,GAQnBC,aAAa,WAAA;AACXrzD,WAAK2xD,YAAAA;IAAY,GAQnB4G,gBAAgB,WAAA;AAAA,iBACVv4D,KAAK8V,KAAKK,UACZnW,KAAKiqB,KAAKipC,sBAAsBlzD,MAAMA,KAAK8V,KAAKK,QAAQ,CAAA,CAAA;IAAA,EAAA,GAqE5DsJ,gBAAgB,CAAC4rC,mBAAmBprC,oBA7DnB,EACfk2C,aAAa,SAAqBrgD,IAAM8f,IAAY3L,IAAAA;AAClDjqB,WAAKmlC,UAAAA,GACLnlC,KAAK8tD,aAAah4C,IAAM8f,IAAY3L,EAAAA,GACpCjqB,KAAK8zD,cAAch+C,IAAM8f,IAAY3L,EAAAA,GACrCjqB,KAAKs4D,cAAAA,GACLt4D,KAAKsrD,eAAAA,GACLtrD,KAAKu2D,oBAAAA,GACLv2D,KAAKw2D,wBAAAA,GACLx2D,KAAKy3D,2BAAAA,GACLz3D,KAAKw4D,cAAAA,GACLx4D,KAAKw6B,KAAAA;IAAAA,GAEPA,MAAM,WAAA;AAECx6B,WAAKwrD,UAAYxrD,KAAKurD,aAAAA,CAAavrD,KAAKyrD,mBAChCzrD,KAAKqxD,eAAerxD,KAAKsxD,cAC/B3oD,MAAM8b,UAAU,QACrBzkB,KAAKwrD,SAAAA;IAAS,GAGlB/wB,MAAM,WAAA;AAEAz6B,WAAKurD,aAAAA,CAAcvrD,KAAKyrD,kBACrBzrD,KAAK8V,KAAKqhD,QACFn3D,KAAKqxD,eAAerxD,KAAKsxD,cAC/B3oD,MAAM8b,UAAU,UAGvBzkB,KAAKwrD,SAAAA,OACLxrD,KAAKuqC,gBAAAA;IAAgB,GAGzB/R,aAAa,WAAA;AAGPx4B,WAAK8V,KAAKqhD,MAAMn3D,KAAKwrD,WAIzBxrD,KAAKk0D,gBAAAA,GACLl0D,KAAKssD,iBAAAA,GACLtsD,KAAKu3D,cAAAA,GACLv3D,KAAKy4D,mBAAAA,GAEDz4D,KAAKuqC,kBACPvqC,KAAKuqC,gBAAAA;IAAgB,GAGzBkuB,oBAAoB,WAAA;IAAA,GACpBrlC,cAAc,SAAsB24B,IAAAA;AAClC/rD,WAAKkqC,OAAAA,OACLlqC,KAAK8rD,uBAAuBC,EAAAA,GAC5B/rD,KAAKyxD,kBAAkB1F,IAAK/rD,KAAKurD,SAAAA,GACjCvrD,KAAKisD,kBAAAA;IAAAA,GAEPh7B,SAAS,WAAA;AACPjxB,WAAK04D,YAAY,MACjB14D,KAAKw3D,mBAAAA;IAAAA,EAAAA,CAAAA,CAAAA,GAG6DvB,oBAAAA,GAcxEx2C,gBAAgB,CAACiuC,aAAae,kBAAkBsH,gBAAgBC,kBAAkBrI,cAAcsI,oBAAAA,GAAuBC,aAAAA,GAEvHA,cAAcp3D,UAAU05D,gBAAgB,WAAA;AACtC,UAAIz3C,KAAY/gB,KAAK41B,WAAWtG,cAActvB,KAAKuvB,SAAAA;AACnDvvB,WAAK04D,YAAYjxC,SAAS,OAAA,GAC1BznB,KAAK04D,UAAU1vD,aAAa,SAAShJ,KAAKuvB,UAAUo3B,IAAI,IAAA,GACxD3mD,KAAK04D,UAAU1vD,aAAa,UAAUhJ,KAAKuvB,UAAU7W,IAAI,IAAA,GACzD1Y,KAAK04D,UAAU1vD,aAAa,uBAAuBhJ,KAAKuvB,UAAUopC,MAAM34D,KAAK41B,WAAWw2B,aAAawM,wBAAAA,GACrG54D,KAAK04D,UAAUpnC,eAAe,gCAAgC,QAAQvQ,EAAAA,GACtE/gB,KAAKsxD,aAAapoD,YAAYlJ,KAAK04D,SAAAA;IAAAA,GAGrCxC,cAAcp3D,UAAUytD,mBAAmB,WAAA;AACzC,aAAA,KAAY6J;IAAAA,GAUdE,cAAcx3D,YAAY,EACxB+5D,qBAAqB,SAA6B/iD,IAAAA;AAChD,UAAInW,IACAkgB,KAAM7f,KAAK84D,eAAeh5D;AAE9B,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAK84D,eAAen5D,EAAAA,EAAGwtC,SAASr3B,EAAAA;IAAAA,GAGpCijD,4BAA4B,SAAoCjjD,IAAAA;AAI9D,eAFI+J,KAAM7f,KAAK84D,eAAeh5D,QADtB,IAGG+f;AACT,YAAI7f,KAAK84D,eAJH,CAAA,EAIqBE,oBAAoBljD,EAAAA;AAC7C,iBAAA;AAIJ,aAAA;IAAA,GAEFmjD,iBAAiB,WAAA;AACf,UAAKj5D,KAAK84D,eAAeh5D,QAAzB;AAIA,YAAIH,IACAkgB,KAAM7f,KAAK8pB,OAAOhqB;AAEtB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAK8pB,OAAOnqB,EAAAA,EAAGmoC,GAAGwG,MAAAA;AAMpB,aAAK3uC,MAHLkgB,KAAM7f,KAAK84D,eAAeh5D,UAGX,GAAGH,MAAK,KAAA,CACAK,KAAK84D,eAAen5D,EAAAA,EAAGs5C,cAAcj5C,KAAKuqC,aAAAA,GADvC5qC,MAAK;AAAA;MAAA;IAAA,GASjCu5D,wBAAwB,SAAgC19B,IAAAA;AAKtD,eAJInf,KAAWrc,KAAKm5D,mBAChBx5D,KAAI,GACJkgB,KAAMxD,GAASvc,QAEZH,KAAIkgB,MAAK;AACd,YAAIxD,GAAS1c,EAAAA,EAAG67B,SAASA;AACvB,iBAAOnf,GAAS1c,EAAAA,EAAGqsC;AAGrBrsC,QAAAA,MAAK;MAAA;AAGP,aAAA;IAAA,GAEFy5D,qBAAqB,SAA6B59B,IAAMwQ,IAAAA;AAItD,eAHI3vB,KAAWrc,KAAKm5D,mBAChBx5D,KAAI0c,GAASvc,QAEVH;AAGL,YAAI0c,GAFJ1c,MAAK,CAAA,EAEW67B,SAASA;AAEvB,iBAAA,MADAnf,GAAS1c,EAAAA,EAAGqsC,MAAMA;AAKtB3vB,MAAAA,GAAS7Y,KAAK,IAAI6yD,iBAAiB76B,IAAMwQ,EAAAA,CAAAA;IAAAA,GAE3C5Y,cAAc,SAAsB24B,IAAAA;AAClC/rD,WAAK8rD,uBAAuBC,EAAAA,GAC5B/rD,KAAKyxD,kBAAkB1F,IAAK/rD,KAAKurD,SAAAA;IAAAA,EAAAA;AAIrC,QAAI8N,cAAc,EAChB,GAAG,QACH,GAAG,SACH,GAAG,SAAA,GAEDC,eAAe,EACjB,GAAG,SACH,GAAG,SACH,GAAG,QAAA;AAGL,aAASC,aAAaC,IAAcC,IAAOzsB,IAAAA;AACzChtC,WAAK05D,SAAS,CAAA,GACd15D,KAAKuI,SAAS,CAAA,GACdvI,KAAKw5D,eAAeA,IACpBx5D,KAAK25D,OAAO,IACZ35D,KAAK8nC,KAAKkF,IACVhtC,KAAK45D,MAAMH,IAIXz5D,KAAKurC,cAAAA,CAAAA,CAAgByB,GAAMppC;AAK3B,eAHIjE,KAAI,GACJkgB,KAAM25C,GAAa15D,QAEhBH,KAAIkgB,MAAK;AACd,YAAI25C,GAAa75D,EAAAA,EAAGilD,OAAOtZ,kBAAkBxrC,QAAQ;AACnDE,eAAKurC,cAAAA;AACL;QAAA;AAGF5rC,QAAAA,MAAK;MAAA;IAAA;AAQT,aAASk6D,aAAa/jD,IAAM2jD,IAAAA;AAC1Bz5D,WAAK8V,OAAOA,IACZ9V,KAAK8J,OAAOgM,GAAK4T,IACjB1pB,KAAKzB,IAAI,IACTyB,KAAK45D,MAAMH,IACXz5D,KAAKkqC,OAAAA,OACLlqC,KAAK8rB,SAAAA,SAAShW,GAAKqhD,IACnBn3D,KAAK85D,QAAQryC,SAAS,MAAA,GACtBznB,KAAK+5D,SAAS;IAAA;AAQhB,aAASC,aAAax+B,IAAM1lB,IAAMye,IAAUhiB,IAAAA;AAU1C,UAAI5S;AATJK,WAAKw7B,OAAOA,IACZx7B,KAAKoqC,UAAAA,IACLpqC,KAAKi6D,YAAY73C,iBAAiBtM,GAAKhW,MAAAA,GACvCE,KAAKu0B,WAAWA,IAChBv0B,KAAK4D,IAAAA,OACL5D,KAAKk6D,UAAU,IACfl6D,KAAKm6D,YAAYr4C,iBAAiB,WAAWhM,GAAKhW,SAASgW,GAAKhW,SAAS,IAAI,CAAA,GAC7EE,KAAKo6D,aAAat4C,iBAAiB,WAAW,CAAA,GAC9C9hB,KAAKyrC,6BAA6Bl5B,EAAAA;AAElC,UACIyN,IADAH,KAAM/J,GAAKhW,UAAU;AAGzB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqgB,QAAAA,KAAOklB,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKnW,EAAAA,EAAG0D,GAAG,GAAG,GAAGrD,IAAAA,GACtDA,KAAK4D,IAAIoc,GAAKpc,KAAK5D,KAAK4D,GACxB5D,KAAKi6D,UAAUt6D,EAAAA,IAAK,EAClBC,GAAGkW,GAAKnW,EAAAA,EAAGC,GACXf,GAAGmhB,GAAAA;AAIFhgB,WAAK4D,KACR5D,KAAK+qC,SAAAA,IAAS,GAGhB/qC,KAAKurC,cAAcvrC,KAAK4D;IAAAA;AAoC1B,aAASy2D,mBAAmB7+B,IAAM1lB,IAAMwkD,IAAAA;AACtCt6D,WAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAK+qC,WAAW/qC,KAAKwrC,0BACrBxrC,KAAK0D,IAAIwhC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpS,GAAG,GAAG,MAAM1D,IAAAA,GACxDA,KAAK2mD,IAAIzhB,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK6wC,GAAG,GAAG,MAAM3mD,IAAAA,GACxDA,KAAKzB,IAAI,IAAIy7D,aAAax+B,IAAM1lB,GAAKvX,KAAK,CAAA,GAAI,OAAOyB,IAAAA,GACrDA,KAAKW,IAAIukC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKnV,GAAG,GAAG,KAAKX,IAAAA,GACvDA,KAAK2I,QAAQ2xD,IACbt6D,KAAKurC,cAAAA,CAAAA,CAAgBvrC,KAAKurC;IAAAA;AAK5B,aAASgvB,iBAAiB/+B,IAAM1lB,IAAMwkD,IAAAA;AACpCt6D,WAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAK+qC,WAAW/qC,KAAKwrC,0BACrBxrC,KAAK0D,IAAIwhC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpS,GAAG,GAAG,MAAM1D,IAAAA,GACxDA,KAAKW,IAAIukC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKnV,GAAG,GAAG,KAAKX,IAAAA,GACvDA,KAAK2I,QAAQ2xD;IAAAA;AAKf,aAASE,eAAeh/B,IAAM1lB,IAAMwkD,IAAAA;AAClCt6D,WAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAK+qC,WAAW/qC,KAAKwrC,0BACrBxrC,KAAK2I,QAAQ2xD;IAAAA;AAKf,aAASG,iBAAiBj/B,IAAM1lB,IAAMvD,IAAAA;AACpCvS,WAAK8V,OAAOA,IACZ9V,KAAKW,IAAImhB,iBAAiB,UAAmB,IAAThM,GAAKjX,CAAAA;AACzC,UAAI67D,KAAU5kD,GAAKlS,EAAEA,EAAE,CAAA,EAAGlE,IAAIoW,GAAKlS,EAAEA,EAAE,CAAA,EAAGlE,EAAEI,SAAkB,IAATgW,GAAKjX,IAAQiX,GAAKlS,EAAEA,EAAE9D,SAAkB,IAATgW,GAAKjX;AACzFmB,WAAK0D,IAAIoe,iBAAiB,WAAW44C,EAAAA,GACrC16D,KAAK26D,QAAAA,OACL36D,KAAK46D,QAAAA,OACL56D,KAAK66D,eAAe76D,KAAK86D,iBAAAA,GACzB96D,KAAK+6D,cAAcL,IACnB16D,KAAKyrC,6BAA6Bl5B,EAAAA,GAClCvS,KAAKggB,OAAOklB,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKlS,GAAG,GAAG,MAAM5D,IAAAA,GAC3DA,KAAK4D,IAAI5D,KAAKggB,KAAKpc,GACnB5D,KAAK+qC,SAAAA,IAAS;IAAA;AAsFhB,aAASiwB,yBAAyBx/B,IAAM1lB,IAAMwkD,IAAAA;AAC5Ct6D,WAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAK+qC,WAAW/qC,KAAKwrC,0BACrBxrC,KAAKi7D,iBAAiBz/B,IAAM1lB,IAAMwkD,EAAAA;IAAAA;AA0FpC,aAASY,2BAA2B1/B,IAAM1lB,IAAMwkD,IAAAA;AAC9Ct6D,WAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAK+qC,WAAW/qC,KAAKwrC,0BACrBxrC,KAAK2mD,IAAIzhB,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK6wC,GAAG,GAAG,MAAM3mD,IAAAA,GACxDA,KAAKzB,IAAI,IAAIy7D,aAAax+B,IAAM1lB,GAAKvX,KAAK,CAAA,GAAI,OAAOyB,IAAAA,GACrDA,KAAKi7D,iBAAiBz/B,IAAM1lB,IAAMwkD,EAAAA,GAClCt6D,KAAKurC,cAAAA,CAAAA,CAAgBvrC,KAAKurC;IAAAA;AAK5B,aAAS4vB,iBAAAA;AACPn7D,WAAKoqB,KAAK,CAAA,GACVpqB,KAAKo7D,eAAe,CAAA,GACpBp7D,KAAKq7D,KAAK5zC,SAAS,GAAA;IAAA;AAGrB,aAAS6zC,iBAAiB1W,IAAQthD,IAAIiP,IAAAA;AACpCvS,WAAKqyC,YAAY,EACfuS,QAAQA,IACRthD,IAAIA,IACJiP,WAAWA,GAAAA,GAEbvS,KAAKqc,WAAW,CAAA,GAChBrc,KAAKurC,cAAcvrC,KAAKqyC,UAAUuS,OAAOtZ,kBAAkBxrC,UAAUE,KAAKqyC,UAAU/uC,GAAG+mC,gBAAgBvqC;IAAAA;AAzUzGy5D,iBAAaz6D,UAAUs5C,gBAAgB,WAAA;AACrCp4C,WAAKurC,cAAAA;IAAc,GAcrBsuB,aAAa/6D,UAAUwvC,QAAQ,WAAA;AAC7BtuC,WAAKzB,IAAI,IACTyB,KAAKkqC,OAAAA;IAAO,GAiCd8vB,aAAal7D,UAAUisC,WAAW,SAAUqQ,IAAAA;AAC1C,WAAIp7C,KAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,WAAYgR,QAItDp7C,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU,SACpCpqC,KAAKwrC,yBAAAA,GACLxrC,KAAKkqC,OAAOlqC,KAAKkqC,QAAQkR,IAErBp7C,KAAKkqC,OAAM;AACb,YAAIvqC,KAAI,GACJkgB,KAAM7f,KAAKi6D,UAAUn6D;AAMzB,aAJsB,UAAlBE,KAAKu0B,aACPv0B,KAAKk6D,UAAU,KAGZv6D,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACI,kBAAxBK,KAAKi6D,UAAUt6D,EAAAA,EAAGC,IACE,UAAlBI,KAAKu0B,WACPv0B,KAAKk6D,WAAW,MAAMl6D,KAAKi6D,UAAUt6D,EAAAA,EAAGd,EAAEwE,IAE1CrD,KAAKm6D,UAAUx6D,EAAAA,IAAKK,KAAKi6D,UAAUt6D,EAAAA,EAAGd,EAAEwE,IAG1CrD,KAAKo6D,WAAW,CAAA,IAAKp6D,KAAKi6D,UAAUt6D,EAAAA,EAAGd,EAAEwE;MAAAA;IAAAA,GAMjDoc,gBAAgB,CAAC4rB,wBAAAA,GAA2B2uB,YAAAA,GAa5Cv6C,gBAAgB,CAAC4rB,wBAAAA,GAA2BgvB,kBAAAA,GAU5C56C,gBAAgB,CAAC4rB,wBAAAA,GAA2BkvB,gBAAAA,GAQ5C96C,gBAAgB,CAAC4rB,wBAAAA,GAA2BmvB,cAAAA,GAiB5CC,iBAAiB37D,UAAUy8D,gBAAgB,SAAUtzD,IAAQ01B,IAAAA;AAK3D,eAJIh+B,KAAI,GACJkgB,KAAM7f,KAAK0D,EAAE5D,SAAS,GAGnBH,KAAIkgB,MAAK;AAGd,YAFO/O,KAAK6S,IAAI1b,GAAW,IAAJtI,EAAAA,IAASsI,GAAgB,IAAT01B,KAAiB,IAAJh+B,EAAAA,CAAAA,IAEzC;AACT,iBAAA;AAGFA,QAAAA,MAAK;MAAA;AAGP,aAAA;IAAA,GAGF86D,iBAAiB37D,UAAUg8D,mBAAmB,WAAA;AAC5C,UAAI96D,KAAK0D,EAAE5D,SAAS,KAAME,KAAKW,EAAEb,SAAS;AACxC,eAAA;AAGF,UAAIE,KAAK8V,KAAKlS,EAAEA,EAAE,CAAA,EAAGlE;AAInB,iBAHIC,KAAI,GACJkgB,KAAM7f,KAAK8V,KAAKlS,EAAEA,EAAE9D,QAEjBH,KAAIkgB,MAAK;AACd,cAAA,CAAK7f,KAAKu7D,cAAcv7D,KAAK8V,KAAKlS,EAAEA,EAAEjE,EAAAA,EAAGD,GAAGM,KAAK8V,KAAKjX,CAAAA;AACpD,mBAAA;AAGFc,UAAAA,MAAK;QAAA;eAAA,CAEGK,KAAKu7D,cAAcv7D,KAAK8V,KAAKlS,EAAEA,GAAG5D,KAAK8V,KAAKjX,CAAAA;AACtD,eAAA;AAGF,aAAA;IAAA,GAGF47D,iBAAiB37D,UAAUisC,WAAW,SAAUqQ,IAAAA;AAM9C,UALAp7C,KAAKggB,KAAK+qB,SAAAA,GACV/qC,KAAKkqC,OAAAA,OACLlqC,KAAK26D,QAAAA,OACL36D,KAAK46D,QAAAA,OAED56D,KAAKggB,KAAKkqB,QAAQkR,IAAa;AACjC,YAAIz7C,IAEAsqC,IACArmB,IAFA/D,KAAoB,IAAd7f,KAAK8V,KAAKjX;AAIpB,aAAKc,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBsqC,UAAAA,KAAOtqC,KAAI,KAAM,IAAI,MAAM,KAC3BikB,KAAM9S,KAAKsT,MAAMpkB,KAAKggB,KAAK3c,EAAE1D,EAAAA,IAAKsqC,EAAAA,GAE9BjqC,KAAKW,EAAEhB,EAAAA,MAAOikB,OAChB5jB,KAAKW,EAAEhB,EAAAA,IAAKikB,IACZ5jB,KAAK26D,QAAAA,CAASvf;AAIlB,YAAIp7C,KAAK0D,EAAE5D;AAGT,eAFA+f,KAAM7f,KAAKggB,KAAK3c,EAAEvD,QAEbH,KAAkB,IAAdK,KAAK8V,KAAKjX,GAAOc,KAAIkgB,IAAKlgB,MAAK;AACtCsqC,YAAAA,KAAOtqC,KAAI,KAAM,IAAI,MAAM,GAC3BikB,KAAMjkB,KAAI,KAAM,IAAImR,KAAKsT,MAAuB,MAAjBpkB,KAAKggB,KAAK3c,EAAE1D,EAAAA,CAAAA,IAAYK,KAAKggB,KAAK3c,EAAE1D,EAAAA,GAE/DK,KAAK0D,EAAE/D,KAAkB,IAAdK,KAAK8V,KAAKjX,CAAAA,MAAW+kB,OAClC5jB,KAAK0D,EAAE/D,KAAkB,IAAdK,KAAK8V,KAAKjX,CAAAA,IAAS+kB,IAC9B5jB,KAAK46D,QAAAA,CAASxf;AAKpBp7C,aAAKkqC,OAAAA,CAAQkR;MAAAA;IAAAA,GAIjB37B,gBAAgB,CAAC4rB,wBAAAA,GAA2BovB,gBAAAA,GAQ5CO,yBAAyBl8D,UAAUm8D,mBAAmB,SAAUz/B,IAAM1lB,IAAMwkD,IAAAA;AAC1Et6D,WAAK0D,IAAIwhC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpS,GAAG,GAAG,MAAM1D,IAAAA,GACxDA,KAAKN,IAAIwlC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpW,GAAG,GAAG,MAAMM,IAAAA,GACxDA,KAAKE,IAAIglC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK5V,GAAG,GAAG,MAAMF,IAAAA,GACxDA,KAAK0Y,IAAIwsB,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK4C,KAAK,EAC/C9U,GAAG,EAAA,GACF,GAAG,MAAM5D,IAAAA,GACZA,KAAKyE,IAAIygC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKrR,KAAK,EAC/Cb,GAAG,EAAA,GACF,GAAGmgB,WAAW/jB,IAAAA,GACjBA,KAAK4C,IAAI,IAAI63D,iBAAiBj/B,IAAM1lB,GAAKlT,GAAG5C,IAAAA,GAC5CA,KAAK2I,QAAQ2xD,IACbt6D,KAAKw7D,QAAQ,CAAA,GACbx7D,KAAKy7D,gBAAgBnB,GAAQR,OAAOhkD,EAAAA,GACpC9V,KAAK07D,mBAAmB5lD,IAAMwkD,EAAAA,GAC9Bt6D,KAAKurC,cAAAA,CAAAA,CAAgBvrC,KAAKurC;IAAAA,GAG5ByvB,yBAAyBl8D,UAAU28D,kBAAkB,SAAUE,IAAa7lD,IAAAA;AAC1E,UAAI8lD,KAAa11C,gBAAAA,GACb21C,KAAQp0C,SAAoB,MAAX3R,GAAKrW,IAAU,mBAAmB,gBAAA;AACvDo8D,MAAAA,GAAM7yD,aAAa,MAAM4yD,EAAAA,GACzBC,GAAM7yD,aAAa,gBAAgB,KAAA,GACnC6yD,GAAM7yD,aAAa,iBAAiB,gBAAA;AACpC,UACI2vB,IACAj0B,IACAwkB,IAHAsyC,KAAQ,CAAA;AAMZ,WAFAtyC,KAAkB,IAAXpT,GAAKlT,EAAE/D,GAET6F,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBi0B,QAAAA,KAAOlR,SAAS,MAAA,GAChBo0C,GAAM3yD,YAAYyvB,EAAAA,GAClB6iC,GAAMh4D,KAAKm1B,EAAAA;AAGbgjC,MAAAA,GAAY3yD,aAAyB,SAAZ8M,GAAK4T,KAAc,SAAS,UAAU,SAASnK,gBAAAA,IAAoB,MAAMq8C,KAAa,GAAA,GAC/G57D,KAAK87D,KAAKD,IACV77D,KAAK+7D,MAAMP;IAAAA,GAGbR,yBAAyBl8D,UAAU48D,qBAAqB,SAAU5lD,IAAMwkD,IAAAA;AACtE,UAAIt6D,KAAK4C,EAAEm4D,eAAAA,CAAgB/6D,KAAK4C,EAAEi4D,cAAc;AAC9C,YAAIliC,IACAj0B,IACAwkB,IACA0mC,KAAOnoC,SAAS,MAAA,GAChBknC,KAAclnC,SAAS,MAAA;AAC3BmoC,QAAAA,GAAK1mD,YAAYylD,EAAAA;AACjB,YAAIqN,KAAY91C,gBAAAA,GACZ+1C,KAAS/1C,gBAAAA;AACb0pC,QAAAA,GAAK5mD,aAAa,MAAMizD,EAAAA;AACxB,YAAIC,KAASz0C,SAAoB,MAAX3R,GAAKrW,IAAU,mBAAmB,gBAAA;AACxDy8D,QAAAA,GAAOlzD,aAAa,MAAMgzD,EAAAA,GAC1BE,GAAOlzD,aAAa,gBAAgB,KAAA,GACpCkzD,GAAOlzD,aAAa,iBAAiB,gBAAA,GACrCkgB,KAAOpT,GAAKlT,EAAEgB,EAAEA,EAAE,CAAA,EAAGlE,IAAIoW,GAAKlT,EAAEgB,EAAEA,EAAE,CAAA,EAAGlE,EAAEI,SAASgW,GAAKlT,EAAEgB,EAAEA,EAAE9D;AAC7D,YAAI07D,KAAQx7D,KAAKw7D;AAEjB,aAAK92D,KAAe,IAAXoR,GAAKlT,EAAE/D,GAAO6F,KAAIwkB,IAAMxkB,MAAK;AAAA,WACpCi0B,KAAOlR,SAAS,MAAA,GACXze,aAAa,cAAc,kBAAA,GAChCkzD,GAAOhzD,YAAYyvB,EAAAA,GACnB6iC,GAAMh4D,KAAKm1B,EAAAA;AAGbg2B,QAAAA,GAAY3lD,aAAyB,SAAZ8M,GAAK4T,KAAc,SAAS,UAAU,SAASnK,gBAAAA,IAAoB,MAAMy8C,KAAY,GAAA,GAE9F,SAAZlmD,GAAK4T,OACPilC,GAAY3lD,aAAa,kBAAkBqwD,YAAYvjD,GAAKqmD,MAAM,CAAA,CAAA,GAClExN,GAAY3lD,aAAa,mBAAmBswD,aAAaxjD,GAAKswC,MAAM,CAAA,CAAA,GAEpD,MAAZtwC,GAAKswC,MACPuI,GAAY3lD,aAAa,qBAAqB8M,GAAKqwC,EAAAA,IAIvDnmD,KAAKo8D,KAAKF,IACVl8D,KAAKq8D,KAAKzM,IACV5vD,KAAKs8D,MAAMd,IACXx7D,KAAKi8D,SAASA,IACd3B,GAAQP,SAASpL;MAAAA;IAAAA,GAIrBlvC,gBAAgB,CAAC4rB,wBAAAA,GAA2B2vB,wBAAAA,GAW5Cv7C,gBAAgB,CAACu7C,0BAA0B3vB,wBAAAA,GAA2B6vB,0BAAAA;AAkBtE,QAAIqB,mBAAmB,SAA0B5H,IAAW70D,IAAQgsB,IAAQqvB,IAAAA;AAC1E,UAAe,MAAXr7C;AACF,eAAO;AAGT,UAGIH,IAHA68D,KAAK7H,GAAUjxD,GACf+4D,KAAK9H,GAAUh1D,GACfmO,KAAK6mD,GAAUtxD,GAEfq5D,KAAc,OAAOvhB,GAAIzF,wBAAwB5nC,GAAG,CAAA,EAAG,CAAA,GAAIA,GAAG,CAAA,EAAG,CAAA,CAAA;AAErE,WAAKnO,KAAI,GAAGA,KAAIG,IAAQH,MAAK;AAC3B+8D,QAAAA,MAAe,OAAOvhB,GAAIzF,wBAAwB8mB,GAAG78D,KAAI,CAAA,EAAG,CAAA,GAAI68D,GAAG78D,KAAI,CAAA,EAAG,CAAA,CAAA,IAAM,MAAMw7C,GAAIzF,wBAAwB+mB,GAAG98D,EAAAA,EAAG,CAAA,GAAI88D,GAAG98D,EAAAA,EAAG,CAAA,CAAA,IAAM,MAAMw7C,GAAIzF,wBAAwB5nC,GAAGnO,EAAAA,EAAG,CAAA,GAAImO,GAAGnO,EAAAA,EAAG,CAAA,CAAA;AAQ5L,aALImsB,MAAUhsB,OACZ48D,MAAe,OAAOvhB,GAAIzF,wBAAwB8mB,GAAG78D,KAAI,CAAA,EAAG,CAAA,GAAI68D,GAAG78D,KAAI,CAAA,EAAG,CAAA,CAAA,IAAM,MAAMw7C,GAAIzF,wBAAwB+mB,GAAG,CAAA,EAAG,CAAA,GAAIA,GAAG,CAAA,EAAG,CAAA,CAAA,IAAM,MAAMthB,GAAIzF,wBAAwB5nC,GAAG,CAAA,EAAG,CAAA,GAAIA,GAAG,CAAA,EAAG,CAAA,CAAA,GAC1L4uD,MAAe,MAGVA;IAAAA,GAGLC,sBAAsB,WAAA;AACxB,UAAIC,KAAkB,IAAI9rB,UAEtB+rB,KAAgB,IAAI/rB;AAqCxB,eAASgsB,GAAuBC,IAAWC,IAAUvI,IAAAA;AAAAA,SAC/CA,MAAgBuI,GAAS3qB,UAAU/uC,GAAG4mC,SACxC8yB,GAAS3qB,UAAU9/B,UAAUvJ,aAAa,WAAWg0D,GAAS3qB,UAAU/uC,GAAGD,CAAAA,IAGzEoxD,MAAgBuI,GAAS3qB,UAAUuS,OAAO1a,SAC5C8yB,GAAS3qB,UAAU9/B,UAAUvJ,aAAa,aAAag0D,GAAS3qB,UAAUuS,OAAOvhD,EAAEyyC,QAAAA,CAAAA;MAAAA;AAIvF,eAASmnB,KAAAA;MAAAA;AAET,eAASC,GAAWH,IAAWC,IAAUvI,IAAAA;AACvC,YAAI/vD,IACAwkB,IACAi0C,IACAC,IACAzI,IACA3vD,IAGAipC,IACAkN,IACA/uC,IACAixD,IACAz5D,IANA05D,KAAON,GAASz0D,OAAOzI,QACvB85D,KAAMoD,GAASpD;AAOnB,aAAK50D,KAAI,GAAGA,KAAIs4D,IAAMt4D,MAAK,GAAG;AAG5B,cAFAo4D,KAASJ,GAASl1B,GAAGoC,QAAQuqB,IAEzBuI,GAASz0D,OAAOvD,EAAAA,EAAG40D,MAAMA,IAAK;AAKhC,iBAJAze,KAAM0hB,GAAcvuB,MAAAA,GACpB+uB,KAAazD,KAAMoD,GAASz0D,OAAOvD,EAAAA,EAAG40D,KACtCh2D,KAAIo5D,GAASxD,aAAa15D,SAAS,GAAA,CAE3Bs9D,MAAUC,KAAa;AAC7BD,cAAAA,KAASJ,GAASxD,aAAa51D,EAAAA,EAAGghD,OAAO1a,QAAQkzB,IACjDC,MAAc,GACdz5D,MAAK;AAGP,gBAAIw5D;AAIF,mBAHAC,KAAazD,KAAMoD,GAASz0D,OAAOvD,EAAAA,EAAG40D,KACtCh2D,KAAIo5D,GAASxD,aAAa15D,SAAS,GAE5Bu9D,KAAa;AAClBjxD,gBAAAA,KAAQ4wD,GAASxD,aAAa51D,EAAAA,EAAGghD,OAAOvhD,EAAE+I,OAC1C+uC,GAAI9I,UAAUjmC,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,CAAA,GAC/KixD,MAAc,GACdz5D,MAAK;UAAA;AAITu3C,YAAAA,KAAMyhB;AAMR,cAFA1zC,MADA+kB,KAAQ+uB,GAASl1B,GAAGmG,OACPvO,SAET09B,IAAQ;AAGV,iBAFAD,KAAwB,IAEnBz4D,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AAAA,eACzBiwD,KAAY1mB,GAAMnkB,OAAOplB,EAAAA,MAERiwD,GAAUj1B,YACzBy9B,MAAyBZ,iBAAiB5H,IAAWA,GAAUj1B,SAASi1B,GAAUh0D,GAAGw6C,EAAAA;AAIzF6hB,YAAAA,GAAStD,OAAO10D,EAAAA,IAAKm4D;UAAAA;AAErBA,YAAAA,KAAwBH,GAAStD,OAAO10D,EAAAA;AAG1Cg4D,UAAAA,GAASz0D,OAAOvD,EAAAA,EAAGzG,KAAAA,SAAKw+D,GAAU5F,KAAc,KAAKgG,IACrDH,GAASz0D,OAAOvD,EAAAA,EAAGklC,OAAOkzB,MAAUJ,GAASz0D,OAAOvD,EAAAA,EAAGklC;QAAAA;MAAAA;AAI3D,eAASqzB,GAAWR,IAAWC,IAAUvI,IAAAA;AACvC,YAAI+I,KAAYR,GAASr0D;AAAAA,SAErBq0D,GAASr8D,EAAEupC,QAAQuqB,OACrB+I,GAAU1D,MAAM9wD,aAAa,QAAQ,SAASka,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,GAAA,IAGzI25D,GAASt5D,EAAEwmC,QAAQuqB,OACrB+I,GAAU1D,MAAM9wD,aAAa,gBAAgBg0D,GAASt5D,EAAEL,CAAAA;MAAAA;AAI5D,eAASo6D,GAAqBV,IAAWC,IAAUvI,IAAAA;AACjDiJ,QAAAA,GAAeX,IAAWC,IAAUvI,EAAAA,GACpCkJ,GAAaZ,GAAWC,IAAUvI,EAAAA;MAAAA;AAGpC,eAASiJ,GAAeX,IAAWC,IAAUvI,IAAAA;AAC3C,YAsBI+G,IACA77D,IACAkgB,IACA8Y,IA+CE+W,IAxEFmsB,KAAQmB,GAASlB,IACjB8B,KAAaZ,GAASp6D,EAAEm4D,aACxB/5B,KAAMg8B,GAASt9D,EAAE2D,GACjB49B,KAAM+7B,GAAS98D,EAAEmD;AAErB,YAAI25D,GAASt5D,EAAEwmC,QAAQuqB,IAAc;AACnC,cAAInpD,KAAwB,SAAjByxD,GAAUrzC,KAAc,iBAAiB;AACpDszC,UAAAA,GAASr0D,MAAMmxD,MAAM9wD,aAAasC,IAAM0xD,GAASt5D,EAAEL,CAAAA;QAAAA;AAGrD,YAAI25D,GAASt9D,EAAEwqC,QAAQuqB,IAAc;AACnC,cAAIoJ,KAAwB,MAAhBd,GAAUt9D,IAAU,OAAO,MACnCq+D,KAAkB,SAAVD,KAAiB,OAAO;AACpChC,UAAAA,GAAM7yD,aAAa60D,IAAO78B,GAAI,CAAA,CAAA,GAC9B66B,GAAM7yD,aAAa80D,IAAO98B,GAAI,CAAA,CAAA,GAE1B48B,MAAAA,CAAeZ,GAASp6D,EAAEi4D,iBAC5BmC,GAASZ,GAAGpzD,aAAa60D,IAAO78B,GAAI,CAAA,CAAA,GACpCg8B,GAASZ,GAAGpzD,aAAa80D,IAAO98B,GAAI,CAAA,CAAA;QAAA;AASxC,YAAIg8B,GAASp6D,EAAE+3D,SAASlG,IAAc;AACpC+G,UAAAA,KAAQwB,GAASjB;AACjB,cAAIgC,KAAUf,GAASp6D,EAAEjC;AAGzB,eAFAkf,KAAM27C,GAAM17D,QAEPH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,aACxBg5B,KAAO6iC,GAAM77D,EAAAA,GACRqJ,aAAa,UAAU+0D,GAAY,IAAJp+D,EAAAA,IAAS,GAAA,GAC7Cg5B,GAAK3vB,aAAa,cAAc,SAAS+0D,GAAY,IAAJp+D,KAAQ,CAAA,IAAK,MAAMo+D,GAAY,IAAJp+D,KAAQ,CAAA,IAAK,MAAMo+D,GAAY,IAAJp+D,KAAQ,CAAA,IAAK,GAAA;QAAA;AAIxH,YAAIi+D,OAAeZ,GAASp6D,EAAEg4D,SAASnG,KAAe;AACpD,cAAIuJ,KAAUhB,GAASp6D,EAAEc;AAUzB,eAFAmc,MALE27C,KADEwB,GAASp6D,EAAEi4D,eACLmC,GAASjB,MAETiB,GAASV,KAGPx8D,QAEPH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBg5B,YAAAA,KAAO6iC,GAAM77D,EAAAA,GAERq9D,GAASp6D,EAAEi4D,gBACdliC,GAAK3vB,aAAa,UAAUg1D,GAAY,IAAJr+D,EAAAA,IAAS,GAAA,GAG/Cg5B,GAAK3vB,aAAa,gBAAgBg1D,GAAY,IAAJr+D,KAAQ,CAAA,CAAA;QAAA;AAItD,YAAoB,MAAhBo9D,GAAUt9D;AAAAA,WACRu9D,GAAS98D,EAAEgqC,QAAQuqB,QACrBoH,GAAM7yD,aAAa,MAAMi4B,GAAI,CAAA,CAAA,GAC7B46B,GAAM7yD,aAAa,MAAMi4B,GAAI,CAAA,CAAA,GAEzB28B,MAAAA,CAAeZ,GAASp6D,EAAEi4D,iBAC5BmC,GAASZ,GAAGpzD,aAAa,MAAMi4B,GAAI,CAAA,CAAA,GACnC+7B,GAASZ,GAAGpzD,aAAa,MAAMi4B,GAAI,CAAA,CAAA;kBAMnC+7B,GAASt9D,EAAEwqC,QAAQ8yB,GAAS98D,EAAEgqC,QAAQuqB,QACxC/kB,KAAM5+B,KAAKmS,KAAKnS,KAAKiS,IAAIie,GAAI,CAAA,IAAKC,GAAI,CAAA,GAAI,CAAA,IAAKnwB,KAAKiS,IAAIie,GAAI,CAAA,IAAKC,GAAI,CAAA,GAAI,CAAA,CAAA,GACzE46B,GAAM7yD,aAAa,KAAK0mC,EAAAA,GAEpBkuB,MAAAA,CAAeZ,GAASp6D,EAAEi4D,gBAC5BmC,GAASZ,GAAGpzD,aAAa,KAAK0mC,EAAAA,IAI9BstB,GAAS98D,EAAEgqC,QAAQ8yB,GAAStkD,EAAEwxB,QAAQ8yB,GAASv4D,EAAEylC,QAAQuqB,IAAc;AACpE/kB,UAAAA,OACHA,KAAM5+B,KAAKmS,KAAKnS,KAAKiS,IAAIie,GAAI,CAAA,IAAKC,GAAI,CAAA,GAAI,CAAA,IAAKnwB,KAAKiS,IAAIie,GAAI,CAAA,IAAKC,GAAI,CAAA,GAAI,CAAA,CAAA;AAG3E,cAAIg9B,KAAMntD,KAAKm4B,MAAMhI,GAAI,CAAA,IAAKD,GAAI,CAAA,GAAIC,GAAI,CAAA,IAAKD,GAAI,CAAA,CAAA,GAC/CwD,KAAUw4B,GAAStkD,EAAErV;AAErBmhC,UAAAA,MAAW,IACbA,KAAU,OACDA,MAAAA,OACTA,KAAAA;AAGF,cAAIwb,KAAOtQ,KAAMlL,IACbzG,KAAIjtB,KAAKs4B,IAAI60B,KAAMjB,GAASv4D,EAAEpB,CAAAA,IAAK28C,KAAOhf,GAAI,CAAA,GAC9Cr+B,KAAImO,KAAKk4B,IAAIi1B,KAAMjB,GAASv4D,EAAEpB,CAAAA,IAAK28C,KAAOhf,GAAI,CAAA;AAClD66B,UAAAA,GAAM7yD,aAAa,MAAM+0B,EAAAA,GACzB89B,GAAM7yD,aAAa,MAAMrG,EAAAA,GAErBi7D,MAAAA,CAAeZ,GAASp6D,EAAEi4D,iBAC5BmC,GAASZ,GAAGpzD,aAAa,MAAM+0B,EAAAA,GAC/Bi/B,GAASZ,GAAGpzD,aAAa,MAAMrG,EAAAA;QAAAA;MAAAA;AAOvC,eAASg7D,GAAaZ,IAAWC,IAAUvI,IAAAA;AACzC,YAAI+I,KAAYR,GAASr0D,OACrBpK,KAAIy+D,GAASz+D;AAEbA,QAAAA,OAAMA,GAAE2rC,QAAQuqB,OAAiBl2D,GAAE27D,YACrCsD,GAAU1D,MAAM9wD,aAAa,oBAAoBzK,GAAE27D,OAAAA,GACnDsD,GAAU1D,MAAM9wD,aAAa,qBAAqBzK,GAAE67D,WAAW,CAAA,CAAA,IAG7D4C,GAASr8D,MAAMq8D,GAASr8D,EAAEupC,QAAQuqB,OACpC+I,GAAU1D,MAAM9wD,aAAa,UAAU,SAASka,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,GAAA,IAG3I25D,GAASt5D,EAAEwmC,QAAQuqB,OACrB+I,GAAU1D,MAAM9wD,aAAa,kBAAkBg0D,GAASt5D,EAAEL,CAAAA,IAGxD25D,GAASrW,EAAEzc,QAAQuqB,QACrB+I,GAAU1D,MAAM9wD,aAAa,gBAAgBg0D,GAASrW,EAAEtjD,CAAAA,GAEpDm6D,GAAUzD,UACZyD,GAAUzD,OAAO/wD,aAAa,gBAAgBg0D,GAASrW,EAAEtjD,CAAAA;MAAAA;AAK/D,aA/QS,EACP66D,sBAGF,SAA8BpoD,IAAAA;AAC5B,gBAAQA,GAAK4T,IAAAA;UACX,KAAK;AACH,mBAAO6zC;UAET,KAAK;AACH,mBAAOG;UAET,KAAK;AACH,mBAAOD;UAET,KAAK;AACH,mBAAOE;UAET,KAAK;UACL,KAAK;UACL,KAAK;UACL,KAAK;AACH,mBAAOT;UAET,KAAK;AACH,mBAAOJ;UAET,KAAK;AACH,mBAAOG;UAET;AACE,mBAAA;QAAA;MAAA,EAAA;IAAA,EApCkB;AAuR1B,aAASkB,gBAAgBroD,IAAM8f,IAAY3L,IAAAA;AAEzCjqB,WAAK8pB,SAAS,CAAA,GAEd9pB,KAAK+wD,aAAaj7C,GAAKgU,QAEvB9pB,KAAKo+D,aAAa,CAAA,GAElBp+D,KAAK84D,iBAAiB,CAAA,GAEtB94D,KAAKgxD,YAAY,CAAA,GAEjBhxD,KAAKm5D,oBAAoB,CAAA,GAEzBn5D,KAAKq+D,mBAAmB,CAAA,GACxBr+D,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA,GAGnCjqB,KAAKo7D,eAAe,CAAA;IAAA;AA0WtB,aAASkD,YAAY56D,IAAG66D,IAAIhU,IAAIiU,IAAI76D,IAAG9E,IAAAA;AACrCmB,WAAK0D,IAAIA,IACT1D,KAAKu+D,KAAKA,IACVv+D,KAAKuqD,KAAKA,IACVvqD,KAAKw+D,KAAKA,IACVx+D,KAAK2D,IAAIA,IACT3D,KAAKnB,IAAIA,IACTmB,KAAKkqC,OAAO,EACVxmC,GAAAA,MACA66D,IAAAA,CAAAA,CAAMA,IACNhU,IAAAA,CAAAA,CAAMA,IACNiU,IAAAA,CAAAA,CAAMA,IACN76D,GAAAA,MACA9E,GAAAA,KAAG;IAAA;AAoDP,aAAS4/D,aAAajjC,IAAM1lB,IAAAA;AAC1B9V,WAAK0+D,WAAWx/C,qBAChBlf,KAAK2lC,KAAK,IACV3lC,KAAKqD,IAAI,IACTrD,KAAKyqC,KAAAA,OACLzqC,KAAKuqC,gBAAAA,MACLvqC,KAAKkqC,OAAAA,OACLlqC,KAAK8V,OAAOA,IACZ9V,KAAKw7B,OAAOA,IACZx7B,KAAKiqB,OAAOjqB,KAAKw7B,KAAKvR,MACtBjqB,KAAK2+D,YAAY,GACjB3+D,KAAK4+D,YAAAA,OACL5+D,KAAK6+D,kBAAkB,GACvB7+D,KAAKqqC,kBAAkB,CAAA,GACvBrqC,KAAK8+D,cAAc,EACjBC,QAAQ,GACRC,UAAUh/D,KAAKi/D,iBACfv8D,GAAG,IACHu/C,QAAQ,IACRC,SAAS,IACTsc,IAAI,IACJ95D,GAAG,IACHw6D,eAAe,IACfl6D,GAAG,CAAA,GACHm6D,IAAI,GACJC,YAAY,CAAA,GACZC,IAAI,IACJjD,IAAI,IACJ18D,GAAG,IACH6qD,IAAI,IACJgU,IAAI,GACJ9+D,GAAG,GACH2iD,IAAI,GACJpQ,IAAI,GACJstB,IAAI,MACJC,eAAAA,OACAC,iBAAAA,OACAC,iBAAAA,OACAC,SAAS,GACTC,WAAW,GACXC,WAAW,CAAA,GACXC,iBAAiB,GACjB5zC,YAAAA,MAAY,GAEdjsB,KAAK8/D,SAAS9/D,KAAK8+D,aAAa9+D,KAAK8V,KAAKvX,EAAEqF,EAAE,CAAA,EAAGlE,CAAAA,GAE5CM,KAAK+/D,eAAAA,KACR//D,KAAKggE,iBAAiBhgE,KAAK8+D,WAAAA;IAAAA;AAvd/Br/C,oBAAgB,CAACiuC,aAAae,kBAAkBsH,gBAAgBO,eAAeN,kBAAkBrI,cAAcsI,oBAAAA,GAAuBkI,eAAAA,GAEtIA,gBAAgBr/D,UAAUmhE,uBAAuB,WAAA;IAAA,GAEjD9B,gBAAgBr/D,UAAUohE,iBAAiB,IAAIpvB,UAE/CqtB,gBAAgBr/D,UAAUqhE,2BAA2B,WAAA;IAAA,GAErDhC,gBAAgBr/D,UAAU05D,gBAAgB,WAAA;AACxCx4D,WAAKogE,aAAapgE,KAAK+wD,YAAY/wD,KAAKgxD,WAAWhxD,KAAKo7D,cAAcp7D,KAAKsxD,cAAc,GAAG,CAAA,GAAA,IAAI,GAChGtxD,KAAKqgE,mBAAAA;IAAAA,GAOPlC,gBAAgBr/D,UAAUuhE,qBAAqB,WAAA;AAC7C,UAAI1gE,IAEAqtC,IACAtoC,IAEAiE,IAJAkX,KAAM7f,KAAK8pB,OAAOhqB,QAGlBopB,KAAOlpB,KAAKo+D,WAAWt+D,QAEvBwgE,KAAa,CAAA,GACbC,KAAAA;AAEJ,WAAK77D,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK,GAAG;AAK5B,aAJAiE,KAAQ3I,KAAKo+D,WAAW15D,EAAAA,GACxB67D,KAAAA,OACAD,GAAWxgE,SAAS,GAEfH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,kBACxBqtC,KAAQhtC,KAAK8pB,OAAOnqB,EAAAA,GAEV4I,OAAOpI,QAAQwI,EAAAA,MACvB23D,GAAW98D,KAAKwpC,EAAAA,GAChBuzB,KAAcvzB,GAAMzB,eAAeg1B;AAInCD,QAAAA,GAAWxgE,SAAS,KAAKygE,MAC3BvgE,KAAKwgE,oBAAoBF,EAAAA;MAAAA;IAAAA,GAK/BnC,gBAAgBr/D,UAAU0hE,sBAAsB,SAAU12C,IAAAA;AACxD,UAAInqB,IACAkgB,KAAMiK,GAAOhqB;AAEjB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBmqB,QAAAA,GAAOnqB,EAAAA,EAAGy4C,cAAAA;IAAAA,GAId+lB,gBAAgBr/D,UAAU2hE,qBAAqB,SAAU3qD,IAAM2jD,IAAAA;AAE7D,UAAIiH,IACApG,KAAU,IAAIT,aAAa/jD,IAAM2jD,EAAAA,GACjCkC,KAAcrB,GAAQR;AAgD1B,aA9CgB,SAAZhkD,GAAK4T,KACPg3C,KAAc,IAAIrG,mBAAmBr6D,MAAM8V,IAAMwkD,EAAAA,IAC5B,SAAZxkD,GAAK4T,KACdg3C,KAAc,IAAInG,iBAAiBv6D,MAAM8V,IAAMwkD,EAAAA,IAC1B,SAAZxkD,GAAK4T,MAA2B,SAAZ5T,GAAK4T,MAElCg3C,KAAc,KADwB,SAAZ5qD,GAAK4T,KAAcsxC,2BAA2BE,4BAClCl7D,MAAM8V,IAAMwkD,EAAAA,GAClDt6D,KAAK41B,WAAWC,KAAK3sB,YAAYw3D,GAAY5E,EAAAA,GAEzC4E,GAAYzE,WACdj8D,KAAK41B,WAAWC,KAAK3sB,YAAYw3D,GAAYrE,EAAAA,GAC7Cr8D,KAAK41B,WAAWC,KAAK3sB,YAAYw3D,GAAYtE,EAAAA,GAC7CT,GAAY3yD,aAAa,QAAQ,SAASuW,gBAAAA,IAAoB,MAAMmhD,GAAYzE,SAAS,GAAA,MAEtE,SAAZnmD,GAAK4T,OACdg3C,KAAc,IAAIlG,eAAex6D,MAAM8V,IAAMwkD,EAAAA,IAG/B,SAAZxkD,GAAK4T,MAA2B,SAAZ5T,GAAK4T,OAC3BiyC,GAAY3yD,aAAa,kBAAkBqwD,YAAYvjD,GAAKqmD,MAAM,CAAA,CAAA,GAClER,GAAY3yD,aAAa,mBAAmBswD,aAAaxjD,GAAKswC,MAAM,CAAA,CAAA,GACpEuV,GAAY3yD,aAAa,gBAAgB,GAAA,GAEzB,MAAZ8M,GAAKswC,MACPuV,GAAY3yD,aAAa,qBAAqB8M,GAAKqwC,EAAAA,IAIxC,MAAXrwC,GAAKlV,KACP+6D,GAAY3yD,aAAa,aAAa,SAAA,GAGpC8M,GAAKohD,MACPyE,GAAY3yD,aAAa,MAAM8M,GAAKohD,EAAAA,GAGlCphD,GAAKiW,MACP4vC,GAAY3yD,aAAa,SAAS8M,GAAKiW,EAAAA,GAGrCjW,GAAKs7C,OACPuK,GAAYhzD,MAAM,gBAAA,IAAoB+jD,aAAa52C,GAAKs7C,EAAAA,IAG1DpxD,KAAKo+D,WAAW56D,KAAK82D,EAAAA,GACrBt6D,KAAK2gE,sBAAsB7qD,IAAM4qD,EAAAA,GAC1BA;IAAAA,GAGTvC,gBAAgBr/D,UAAU8hE,qBAAqB,SAAU9qD,IAAAA;AACvD,UAAI4qD,KAAc,IAAIvF;AActB,aAZIrlD,GAAKohD,MACPwJ,GAAYrF,GAAGryD,aAAa,MAAM8M,GAAKohD,EAAAA,GAGrCphD,GAAKiW,MACP20C,GAAYrF,GAAGryD,aAAa,SAAS8M,GAAKiW,EAAAA,GAGxCjW,GAAKs7C,OACPsP,GAAYrF,GAAG1yD,MAAM,gBAAA,IAAoB+jD,aAAa52C,GAAKs7C,EAAAA,IAGtDsP;IAAAA,GAGTvC,gBAAgBr/D,UAAU+hE,yBAAyB,SAAU/qD,IAAMvD,IAAAA;AACjE,UAAIuuD,KAAoBxmB,yBAAyBqB,qBAAqB37C,MAAM8V,IAAM9V,IAAAA,GAC9E0gE,KAAc,IAAIpF,iBAAiBwF,IAAmBA,GAAkBp9D,GAAG6O,EAAAA;AAE/E,aADAvS,KAAK2gE,sBAAsB7qD,IAAM4qD,EAAAA,GAC1BA;IAAAA,GAGTvC,gBAAgBr/D,UAAUiiE,qBAAqB,SAAUjrD,IAAMkrD,IAAiBvH,IAAAA;AAC9E,UAAI/vC,KAAK;AAEO,eAAZ5T,GAAK4T,KACPA,KAAK,IACgB,SAAZ5T,GAAK4T,KACdA,KAAK,IACgB,SAAZ5T,GAAK4T,OACdA,KAAK;AAGP,UACIg3C,KAAc,IAAInH,aAAayH,IAAiBvH,IADhCjsB,qBAAqB6hB,aAAarvD,MAAM8V,IAAM4T,IAAI1pB,IAAAA,CAAAA;AAKtE,aAHAA,KAAK8pB,OAAOtmB,KAAKk9D,EAAAA,GACjB1gE,KAAK64D,oBAAoB6H,EAAAA,GACzB1gE,KAAK2gE,sBAAsB7qD,IAAM4qD,EAAAA,GAC1BA;IAAAA,GAGTvC,gBAAgBr/D,UAAU6hE,wBAAwB,SAAU7qD,IAAMoD,IAAAA;AAIhE,eAHIvZ,KAAI,GACJkgB,KAAM7f,KAAKq+D,iBAAiBv+D,QAEzBH,KAAIkgB,MAAK;AACd,YAAI7f,KAAKq+D,iBAAiB1+D,EAAAA,EAAGuZ,YAAYA;AACvC;AAGFvZ,QAAAA,MAAK;MAAA;AAGPK,WAAKq+D,iBAAiB76D,KAAK,EACzB+kB,IAAIo0C,oBAAoBuB,qBAAqBpoD,EAAAA,GAC7CoD,SAASA,IACTpD,MAAMA,GAAAA,CAAAA;IAAAA,GAIVqoD,gBAAgBr/D,UAAUmiE,mBAAmB,SAAUP,IAAAA;AACrD,UACIh8D,IADAsd,KAAM0+C,GAAYn4D,QAElB2gB,KAAOlpB,KAAKo+D,WAAWt+D;AAE3B,WAAK4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACpB1E,aAAKo+D,WAAW15D,EAAAA,EAAGonB,UACtB9J,GAAIxe,KAAKxD,KAAKo+D,WAAW15D,EAAAA,CAAAA;IAAAA,GAK/By5D,gBAAgBr/D,UAAUqlD,eAAe,WAAA;AAEvC,UAAIxkD;AADJK,WAAKuqC,gBAAAA;AAEL,UAAI1qB,KAAM7f,KAAKgxD,UAAUlxD;AAEzB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKo7D,aAAaz7D,EAAAA,IAAKK,KAAKgxD,UAAUrxD,EAAAA;AAOxC,WAJAK,KAAKogE,aAAapgE,KAAK+wD,YAAY/wD,KAAKgxD,WAAWhxD,KAAKo7D,cAAcp7D,KAAKsxD,cAAc,GAAG,CAAA,GAAA,IAAI,GAChGtxD,KAAKqgE,mBAAAA,GACLxgD,KAAM7f,KAAKsrC,kBAAkBxrC,QAExBH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKsrC,kBAAkB3rC,EAAAA,EAAGorC,SAAAA;AAG5B/qC,WAAKi5D,gBAAAA;IAAAA,GAGPkF,gBAAgBr/D,UAAUshE,eAAe,SAAUp+C,IAAKgvC,IAAWoK,IAAc7oD,IAAWknD,IAAOD,IAAclnD,IAAAA;AAC/G,UACI3S,IAEA+E,IACAwkB,IAGAg4C,IACAC,IACAC,IATAJ,KAAkB,CAAA,EAAG18D,OAAOk1D,EAAAA,GAE5B35C,KAAMmC,GAAIliB,SAAS,GAGnBuhE,KAAY,CAAA,GACZC,KAAe,CAAA;AAKnB,WAAK3hE,KAAIkgB,IAAKlgB,MAAK,GAAGA,MAAK,GAAG;AAS5B,aARAyhE,KAAephE,KAAKk5D,uBAAuBl3C,GAAIriB,EAAAA,CAAAA,KAK7CqxD,GAAUrxD,EAAAA,IAAKy7D,GAAagG,KAAe,CAAA,IAF3Cp/C,GAAIriB,EAAAA,EAAG+jD,UAAUpxC,IAKD,SAAd0P,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB;AAC5F03C,UAAAA,KAGHpQ,GAAUrxD,EAAAA,EAAGgJ,MAAMmjB,SAAAA,QAFnBklC,GAAUrxD,EAAAA,IAAKK,KAAKygE,mBAAmBz+C,GAAIriB,EAAAA,GAAI85D,EAAAA,GAK7Cz3C,GAAIriB,EAAAA,EAAG+jD,WACLsN,GAAUrxD,EAAAA,EAAGgJ,MAAMmxD,MAAM9iD,eAAezE,MAC1CA,GAAUrJ,YAAY8nD,GAAUrxD,EAAAA,EAAGgJ,MAAMmxD,KAAAA,GAI7CuH,GAAU79D,KAAKwtD,GAAUrxD,EAAAA,EAAGgJ,KAAAA;iBACL,SAAdqZ,GAAIriB,EAAAA,EAAG+pB,IAAa;AAC7B,cAAK03C;AAKH,iBAFAl4C,KAAO8nC,GAAUrxD,EAAAA,EAAGyqB,GAAGtqB,QAElB4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBssD,cAAAA,GAAUrxD,EAAAA,EAAGy7D,aAAa12D,EAAAA,IAAKssD,GAAUrxD,EAAAA,EAAGyqB,GAAG1lB,EAAAA;;AALjDssD,YAAAA,GAAUrxD,EAAAA,IAAKK,KAAK4gE,mBAAmB5+C,GAAIriB,EAAAA,CAAAA;AAS7CK,eAAKogE,aAAap+C,GAAIriB,EAAAA,EAAGyqB,IAAI4mC,GAAUrxD,EAAAA,EAAGyqB,IAAI4mC,GAAUrxD,EAAAA,EAAGy7D,cAAcpK,GAAUrxD,EAAAA,EAAG07D,IAAI5B,KAAQ,GAAGuH,IAAiB1uD,EAAAA,GAElH0P,GAAIriB,EAAAA,EAAG+jD,WACLsN,GAAUrxD,EAAAA,EAAG07D,GAAGrkD,eAAezE,MACjCA,GAAUrJ,YAAY8nD,GAAUrxD,EAAAA,EAAG07D,EAAAA;QAAAA;AAGhB,mBAAdr5C,GAAIriB,EAAAA,EAAG+pB,MACX03C,OACHpQ,GAAUrxD,EAAAA,IAAKK,KAAK6gE,uBAAuB7+C,GAAIriB,EAAAA,GAAI4S,EAAAA,IAGrD2uD,KAAmBlQ,GAAUrxD,EAAAA,EAAG0yC,WAChC2uB,GAAgBx9D,KAAK09D,EAAAA,KACE,SAAdl/C,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAC7E03C,OACHpQ,GAAUrxD,EAAAA,IAAKK,KAAK+gE,mBAAmB/+C,GAAIriB,EAAAA,GAAIqhE,IAAiBvH,EAAAA,IAGlEz5D,KAAKihE,iBAAiBjQ,GAAUrxD,EAAAA,CAAAA,KACT,SAAdqiB,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MACzH03C,MAMHD,KAAWnQ,GAAUrxD,EAAAA,GACZmsB,SAAAA,UANTq1C,KAAWxpB,eAAeG,YAAY91B,GAAIriB,EAAAA,EAAG+pB,EAAAA,GACpCoQ,KAAK95B,MAAMgiB,GAAIriB,EAAAA,CAAAA,GACxBqxD,GAAUrxD,EAAAA,IAAKwhE,IACfnhE,KAAK84D,eAAet1D,KAAK29D,EAAAA,IAM3BG,GAAa99D,KAAK29D,EAAAA,KACK,SAAdn/C,GAAIriB,EAAAA,EAAG+pB,OACX03C,MAOHD,KAAWnQ,GAAUrxD,EAAAA,GACZmsB,SAAAA,QAPTq1C,KAAWxpB,eAAeG,YAAY91B,GAAIriB,EAAAA,EAAG+pB,EAAAA,GAC7CsnC,GAAUrxD,EAAAA,IAAKwhE,IACfA,GAASrnC,KAAK95B,MAAMgiB,IAAKriB,IAAGqxD,EAAAA,GAC5BhxD,KAAK84D,eAAet1D,KAAK29D,EAAAA,GACzB7uD,KAAAA,QAMFgvD,GAAa99D,KAAK29D,EAAAA;AAGpBnhE,aAAKo5D,oBAAoBp3C,GAAIriB,EAAAA,GAAIA,KAAI,CAAA;MAAA;AAKvC,WAFAkgB,KAAMwhD,GAAUvhE,QAEXH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB0hE,QAAAA,GAAU1hE,EAAAA,EAAGmsB,SAAAA;AAKf,WAFAjM,KAAMyhD,GAAaxhE,QAEdH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB2hE,QAAAA,GAAa3hE,EAAAA,EAAGmsB,SAAAA;IAAS,GAI7BqyC,gBAAgBr/D,UAAU25D,qBAAqB,WAAA;AAE7C,UAAI94D;AADJK,WAAKi5D,gBAAAA;AAEL,UAAIp5C,KAAM7f,KAAKo+D,WAAWt+D;AAE1B,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKo+D,WAAWz+D,EAAAA,EAAG2uC,MAAAA;AAKrB,WAFAtuC,KAAKuhE,YAAAA,GAEA5hE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,SACpBK,KAAKo+D,WAAWz+D,EAAAA,EAAGuqC,QAAQlqC,KAAKuqC,mBAC9BvqC,KAAKo+D,WAAWz+D,EAAAA,EAAGo6D,WACrB/5D,KAAKo+D,WAAWz+D,EAAAA,EAAGo6D,OAAO/wD,aAAa,KAAKhJ,KAAKo+D,WAAWz+D,EAAAA,EAAGpB,CAAAA,GAE/DyB,KAAKo+D,WAAWz+D,EAAAA,EAAGpB,IAAI,SAASyB,KAAKo+D,WAAWz+D,EAAAA,EAAGpB,IAGrDyB,KAAKo+D,WAAWz+D,EAAAA,EAAGm6D,MAAM9wD,aAAa,KAAKhJ,KAAKo+D,WAAWz+D,EAAAA,EAAGpB,KAAK,MAAA;IAAA,GAKzE4/D,gBAAgBr/D,UAAUyiE,cAAc,WAAA;AACtC,UAAI5hE,IAEA6hE,IADA3hD,KAAM7f,KAAKq+D,iBAAiBv+D;AAGhC,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB6hE,QAAAA,KAAkBxhE,KAAKq+D,iBAAiB1+D,EAAAA,IAEnCK,KAAKuqC,iBAAiBi3B,GAAgBtoD,QAAQqyB,gBAAAA,SAAgBi2B,GAAgB1rD,QACjF0rD,GAAgBj5C,GAAGi5C,GAAgB1rD,MAAM0rD,GAAgBtoD,SAASlZ,KAAKuqC,aAAAA;IAAAA,GAK7E4zB,gBAAgBr/D,UAAUmyB,UAAU,WAAA;AAClCjxB,WAAKw3D,mBAAAA,GACLx3D,KAAK+wD,aAAa,MAClB/wD,KAAKgxD,YAAY;IAAA,GAoBnBsN,YAAYx/D,UAAUgR,SAAS,SAAUpM,IAAG66D,IAAIhU,IAAIiU,IAAI76D,IAAG9E,IAAAA;AACzDmB,WAAKkqC,KAAKxmC,IAAAA,OACV1D,KAAKkqC,KAAKq0B,KAAAA,OACVv+D,KAAKkqC,KAAKqgB,KAAAA,OACVvqD,KAAKkqC,KAAKs0B,KAAAA,OACVx+D,KAAKkqC,KAAKvmC,IAAAA,OACV3D,KAAKkqC,KAAKrrC,IAAAA;AACV,UAAIuR,KAAAA;AAsCJ,aApCIpQ,KAAK0D,MAAMA,OACb1D,KAAK0D,IAAIA,IACT1D,KAAKkqC,KAAKxmC,IAAAA,MACV0M,KAAAA,OAGEpQ,KAAKu+D,OAAOA,OACdv+D,KAAKu+D,KAAKA,IACVv+D,KAAKkqC,KAAKq0B,KAAAA,MACVnuD,KAAAA,OAGEpQ,KAAKuqD,OAAOA,OACdvqD,KAAKuqD,KAAKA,IACVvqD,KAAKkqC,KAAKqgB,KAAAA,MACVn6C,KAAAA,OAGEpQ,KAAKw+D,OAAOA,OACdx+D,KAAKw+D,KAAKA,IACVx+D,KAAKkqC,KAAKs0B,KAAAA,MACVpuD,KAAAA,OAGEpQ,KAAK2D,MAAMA,OACb3D,KAAK2D,IAAIA,IACT3D,KAAKkqC,KAAKvmC,IAAAA,MACVyM,KAAAA,OAAU,CAGRvR,GAAEiB,UAAWE,KAAKnB,EAAE,CAAA,MAAOA,GAAE,CAAA,KAAMmB,KAAKnB,EAAE,CAAA,MAAOA,GAAE,CAAA,KAAMmB,KAAKnB,EAAE,CAAA,MAAOA,GAAE,CAAA,KAAMmB,KAAKnB,EAAE,CAAA,MAAOA,GAAE,CAAA,KAAMmB,KAAKnB,EAAE,EAAA,MAAQA,GAAE,EAAA,KAAOmB,KAAKnB,EAAE,EAAA,MAAQA,GAAE,EAAA,MAChJmB,KAAKnB,IAAIA,IACTmB,KAAKkqC,KAAKrrC,IAAAA,MACVuR,KAAAA,OAGKA;IAAAA,GAsDTquD,aAAa3/D,UAAUmgE,kBAAkB,CAAC,GAAG,CAAA,GAE7CR,aAAa3/D,UAAUghE,WAAW,SAAUx9C,IAAKxM,IAAAA;AAC/C,eAASpW,MAAKoW;AACRrX,eAAOK,UAAUC,eAAeC,KAAK8W,IAAMpW,EAAAA,MAC7C4iB,GAAI5iB,EAAAA,IAAKoW,GAAKpW,EAAAA;AAIlB,aAAO4iB;IAAAA,GAGTm8C,aAAa3/D,UAAU2iE,iBAAiB,SAAU3rD,IAAAA;AAC3CA,MAAAA,GAAKmW,cACRjsB,KAAKggE,iBAAiBlqD,EAAAA,GAGxB9V,KAAK8+D,cAAchpD,IACnB9V,KAAK8+D,YAAYE,WAAWh/D,KAAK8+D,YAAYE,YAAYh/D,KAAKi/D,iBAC9Dj/D,KAAKkqC,OAAAA;IAAO,GAGdu0B,aAAa3/D,UAAUihE,iBAAiB,WAAA;AACtC,aAAA,KAAY2B,gBAAAA;IAAAA,GAGdjD,aAAa3/D,UAAU4iE,kBAAkB,WAAA;AAOvC,aANA1hE,KAAKyqC,KAAKzqC,KAAK8V,KAAKvX,EAAEqF,EAAE9D,SAAS,GAE7BE,KAAKyqC,MACPzqC,KAAK0qC,UAAU1qC,KAAK2hE,iBAAiBxxC,KAAKnwB,IAAAA,CAAAA,GAAAA,KAGhCyqC;IAAAA,GAGdg0B,aAAa3/D,UAAU4rC,YAAY,SAAUC,IAAAA;AAC3C3qC,WAAKqqC,gBAAgB7mC,KAAKmnC,EAAAA,GAC1B3qC,KAAKw7B,KAAKoP,mBAAmB5qC,IAAAA;IAAAA,GAG/By+D,aAAa3/D,UAAUisC,WAAW,SAAU62B,IAAAA;AAC1C,UAAK5hE,KAAKw7B,KAAK5F,WAAWwU,YAAYpqC,KAAKoqC,WAAYpqC,KAAKqqC,gBAAgBvqC,UAAY8hE,IAAxF;AAIA5hE,aAAK8+D,YAAYr/D,IAAIO,KAAK8V,KAAKvX,EAAEqF,EAAE5D,KAAK2+D,SAAAA,EAAWj/D,EAAED;AACrD,YAAIoiE,KAAe7hE,KAAK8+D,aACpBgD,KAAe9hE,KAAK2+D;AAExB,YAAI3+D,KAAKsqC;AACPtqC,eAAKyhE,eAAezhE,KAAK8+D,WAAAA;aAD3B;AAOA,cAAIn/D;AAFJK,eAAKsqC,OAAAA,MACLtqC,KAAKkqC,OAAAA;AAEL,cAAIrqB,KAAM7f,KAAKqqC,gBAAgBvqC,QAC3B0qC,KAAao3B,MAAe5hE,KAAK8V,KAAKvX,EAAEqF,EAAE5D,KAAK2+D,SAAAA,EAAWj/D;AAE9D,eAAKC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGtB6qC,YAAAA,KADEs3B,OAAiB9hE,KAAK2+D,YACX3+D,KAAKqqC,gBAAgB1qC,EAAAA,EAAG6qC,IAAYA,GAAW/qC,CAAAA,IAE/CO,KAAKqqC,gBAAgB1qC,EAAAA,EAAGK,KAAK8+D,aAAat0B,GAAW/qC,CAAAA;AAIlEoiE,UAAAA,OAAiBr3B,MACnBxqC,KAAKyhE,eAAej3B,EAAAA,GAGtBxqC,KAAKqD,IAAIrD,KAAK8+D,aACd9+D,KAAK2lC,KAAK3lC,KAAKqD,GACfrD,KAAKsqC,OAAAA,OACLtqC,KAAKoqC,UAAUpqC,KAAKw7B,KAAK5F,WAAWwU;QAAAA;MAAAA;IAAAA,GAGtCq0B,aAAa3/D,UAAU6iE,mBAAmB,WAAA;AAMxC,eALII,KAAW/hE,KAAK8V,KAAKvX,EAAEqF,GACvB0hC,KAAWtlC,KAAKw7B,KAAKvR,KAAK0f,eAC1BhqC,KAAI,GACJkgB,KAAMkiD,GAASjiE,QAEZH,MAAKkgB,KAAM,KAAA,EACZlgB,OAAMkgB,KAAM,KAAKkiD,GAASpiE,KAAI,CAAA,EAAGF,IAAI6lC;AAIzC3lC,QAAAA,MAAK;AAOP,aAJIK,KAAK2+D,cAAch/D,OACrBK,KAAK2+D,YAAYh/D,KAAAA,KAGPmW,KAAKvX,EAAEqF,EAAE5D,KAAK2+D,SAAAA,EAAWj/D;IAAAA,GAGvC++D,aAAa3/D,UAAUkjE,iBAAiB,SAAUzZ,IAAAA;AAQhD,eAJI0Z,IACA7Y,IAJA8Y,KAAkB,CAAA,GAClBviE,KAAI,GACJkgB,KAAM0oC,GAAKzoD,QAGXqiE,KAAAA,OAEGxiE,KAAIkgB;AACToiD,QAAAA,KAAW1Z,GAAKmC,WAAW/qD,EAAAA,GAEvB8mD,YAAY8C,oBAAoB0Y,EAAAA,IAClCC,GAAgBA,GAAgBpiE,SAAS,CAAA,KAAMyoD,GAAK6Z,OAAOziE,EAAAA,IAClDsiE,MAAY,SAAUA,MAAY,SAC3C7Y,KAAiBb,GAAKmC,WAAW/qD,KAAI,CAAA,MAEf,SAAUypD,MAAkB,SAC5C+Y,MAAiB1b,YAAYyC,WAAW+Y,IAAU7Y,EAAAA,KACpD8Y,GAAgBA,GAAgBpiE,SAAS,CAAA,KAAMyoD,GAAKnyB,OAAOz2B,IAAG,CAAA,GAC9DwiE,KAAAA,SAEAD,GAAgB1+D,KAAK+kD,GAAKnyB,OAAOz2B,IAAG,CAAA,CAAA,GAGtCA,MAAK,KAELuiE,GAAgB1+D,KAAK+kD,GAAK6Z,OAAOziE,EAAAA,CAAAA,IAE1BsiE,KAAW,SACpB7Y,KAAiBb,GAAKmC,WAAW/qD,KAAI,CAAA,GAEjC8mD,YAAY6C,kBAAkB2Y,IAAU7Y,EAAAA,KAC1C+Y,KAAAA,MACAD,GAAgBA,GAAgBpiE,SAAS,CAAA,KAAMyoD,GAAKnyB,OAAOz2B,IAAG,CAAA,GAC9DA,MAAK,KAELuiE,GAAgB1+D,KAAK+kD,GAAK6Z,OAAOziE,EAAAA,CAAAA,KAE1B8mD,YAAY6C,kBAAkB2Y,EAAAA,KACvCC,GAAgBA,GAAgBpiE,SAAS,CAAA,KAAMyoD,GAAK6Z,OAAOziE,EAAAA,GAC3DwiE,KAAAA,QAEAD,GAAgB1+D,KAAK+kD,GAAK6Z,OAAOziE,EAAAA,CAAAA,GAGnCA,MAAK;AAGP,aAAOuiE;IAAAA,GAGTzD,aAAa3/D,UAAUkhE,mBAAmB,SAAUn1C,IAAAA;AAClDA,MAAAA,GAAaoB,aAAAA;AACb,UAGItsB,IACAkgB,IACAwiD,IAEAz+C,IAQAlf,IACAwkB,IAEAgC,IAlBA4L,KAAc92B,KAAKw7B,KAAK5F,WAAWkB,aACnChhB,KAAO9V,KAAK8V,MACZwsD,KAAU,CAAA,GAIV9sD,KAAQ,GAER+sD,KAAiBzsD,GAAKnS,EAAEf,GACxB4/D,KAAc,GACdC,KAAa,GACbC,KAAc,GACdtD,KAAa,CAAA,GACbuD,KAAY,GACZC,KAAe,GAGf5gB,KAAWlrB,GAAY+zB,cAAchgC,GAAanoB,CAAAA,GAElDg4D,KAAU,GACV1S,KAAYjG,kBAAkBC,EAAAA;AAClCn3B,MAAAA,GAAaq3B,UAAU8F,GAAU7F,QACjCt3B,GAAao3B,SAAS+F,GAAUr/C,OAChCkiB,GAAa80C,YAAY90C,GAAanrB,GACtCmrB,GAAa+0C,YAAY5/D,KAAKgiE,eAAen3C,GAAaprB,CAAAA,GAC1DogB,KAAMgL,GAAa+0C,UAAU9/D,QAC7B+qB,GAAag1C,kBAAkBh1C,GAAas0C;AAC5C,UACI8C,IADAY,KAAiBh4C,GAAau3B,KAAK,MAAOv3B,GAAa80C;AAG3D,UAAI90C,GAAamnB;AAOf,iBAHI8wB,IACAlD,IAJAxgD,KAAAA,MACA4/C,KAAWn0C,GAAamnB,GAAG,CAAA,GAC3B+wB,KAAYl4C,GAAamnB,GAAG,CAAA,GAIzB5yB,MAAM;AAEX0jD,UAAAA,KAAgB,GAChBH,KAAY,GACZ9iD,MAHA+/C,KAAY5/D,KAAKgiE,eAAen3C,GAAaprB,CAAAA,GAG7BK,QAChB+iE,KAAiBh4C,GAAau3B,KAAK,MAAOv3B,GAAa80C;AACvD,cAAIqD,KAAAA;AAEJ,eAAKrjE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBsiE,YAAAA,KAAWrC,GAAUjgE,EAAAA,EAAG+qD,WAAW,CAAA,GACnC2X,KAAAA,OAEqB,QAAjBzC,GAAUjgE,EAAAA,IACZqjE,KAAiBrjE,KACK,OAAbsiE,MAAgC,MAAbA,OAC5BU,KAAY,GACZN,KAAAA,MACAS,MAAiBj4C,GAAag1C,mBAA4C,MAAzBh1C,GAAa80C,YAG5D7oC,GAAY7L,SACdC,KAAW4L,GAAY0zB,YAAYoV,GAAUjgE,EAAAA,GAAIqiD,GAASC,QAAQD,GAASkG,OAAAA,GAC3EwS,KAAU2H,KAAc,IAAIn3C,GAASy7B,IAAI97B,GAAa80C,YAAY,OAGlEjF,KAAU5jC,GAAYwxB,YAAYsX,GAAUjgE,EAAAA,GAAIkrB,GAAanoB,GAAGmoB,GAAa80C,SAAAA,GAG3EgD,KAAYjI,KAAUsE,MAA6B,QAAjBY,GAAUjgE,EAAAA,KAAAA,OAC1CqjE,KACFnjD,MAAO,IAEPlgB,KAAIqjE,IAGNF,MAAiBj4C,GAAag1C,mBAA4C,MAAzBh1C,GAAa80C,WAC9DC,GAAU/xD,OAAOlO,IAAGqjE,OAAmBrjE,KAAI,IAAI,GAAG,IAAA,GAElDqjE,KAAAA,IACAL,KAAY,MAEZA,MAAajI,IACbiI,MAAaE;AAIjBC,UAAAA,MAAiB9gB,GAAS+c,SAASl0C,GAAa80C,YAAY,KAExD3/D,KAAK4+D,aAAa/zC,GAAa80C,YAAY3/D,KAAK6+D,mBAAmBkE,KAAYD,MACjFj4C,GAAa80C,aAAa,GAC1B90C,GAAag1C,kBAAkBh1C,GAAa80C,YAAY90C,GAAas0C,KAAKt0C,GAAanrB,MAEvFmrB,GAAa+0C,YAAYA,IACzB//C,KAAMgL,GAAa+0C,UAAU9/D,QAC7Bsf,KAAAA;QAAO;AAKbujD,MAAAA,KAAAA,CAAaE,IACbnI,KAAU;AACV,UACIuI,GADAC,KAAoB;AAGxB,WAAKvjE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AA6CxB,YA5CA0iE,KAAAA,OAIiB,QAFjBJ,MADAgB,IAAcp4C,GAAa+0C,UAAUjgE,EAAAA,GACd+qD,WAAW,CAAA,MAEE,MAAbuX,MACrBiB,KAAoB,GACpB9D,GAAW57D,KAAKm/D,EAAAA,GAChBC,KAAeD,KAAYC,KAAeD,KAAYC,IACtDD,KAAAA,KAAiBE,IACjBj/C,KAAM,IACNy+C,KAAAA,MACAK,MAAe,KAEf9+C,KAAMq/C,GAGJnsC,GAAY7L,SACdC,KAAW4L,GAAY0zB,YAAYyY,GAAajhB,GAASC,QAAQnrB,GAAY+zB,cAAchgC,GAAanoB,CAAAA,EAAGwlD,OAAAA,GAC3GwS,KAAU2H,KAAc,IAAIn3C,GAASy7B,IAAI97B,GAAa80C,YAAY,OAIlEjF,KAAU5jC,GAAYwxB,YAAY1kC,IAAKiH,GAAanoB,GAAGmoB,GAAa80C,SAAAA,GAIlD,QAAhBsD,IACFC,MAAqBxI,KAAUmI,MAE/BF,MAAajI,KAAUmI,KAAiBK,IACxCA,KAAoB,IAGtBZ,GAAQ9+D,KAAK,EACXwB,GAAG01D,IACHyI,IAAIzI,IACJ0I,KAAKZ,IACL5iE,GAAGyiE,IACHgB,WAAW,CAAA,GACXz/C,KAAKA,IACLsO,MAAMwwC,IACNY,uBAAuB,EAAA,CAAA,GAGH,KAAlBf,IAAAA;AAIF,cAFAC,MAAe9H,IAEH,OAAR92C,MAAsB,QAARA,MAAejkB,OAAMkgB,KAAM,GAAG;AAK9C,iBAJY,OAAR+D,MAAsB,QAARA,OAChB4+C,MAAe9H,KAGV+H,MAAc9iE;AACnB2iE,cAAAA,GAAQG,EAAAA,EAAYU,KAAKX,IACzBF,GAAQG,EAAAA,EAAYz7B,MAAMxxB,IAC1B8sD,GAAQG,EAAAA,EAAYc,QAAQ7I,IAC5B+H,MAAc;AAGhBjtD,YAAAA,MAAS,GACTgtD,KAAc;UAAA;QAAA,WAEW,KAAlBD,IAAAA;AAIT,cAFAC,MAAe9H,IAEH,OAAR92C,MAAcjkB,OAAMkgB,KAAM,GAAG;AAK/B,iBAJY,OAAR+D,OACF4+C,MAAe9H,KAGV+H,MAAc9iE;AACnB2iE,cAAAA,GAAQG,EAAAA,EAAYU,KAAKX,IACzBF,GAAQG,EAAAA,EAAYz7B,MAAMxxB,IAC1B8sD,GAAQG,EAAAA,EAAYc,QAAQ7I,IAC5B+H,MAAc;AAGhBD,YAAAA,KAAc,GACdhtD,MAAS;UAAA;QAAA;AAGX8sD,UAAAA,GAAQ9sD,EAAAA,EAAOwxB,MAAMxxB,IACrB8sD,GAAQ9sD,EAAAA,EAAO+tD,QAAQ,GACvB/tD,MAAS;AAQb,UAJAqV,GAAa7lB,IAAIs9D,IACjBM,KAAeD,KAAYC,KAAeD,KAAYC,IACtDxD,GAAW57D,KAAKm/D,EAAAA,GAEZ93C,GAAamnB;AACfnnB,QAAAA,GAAam0C,WAAWn0C,GAAamnB,GAAG,CAAA,GACxCnnB,GAAaq0C,gBAAgB;;AAI7B,gBAFAr0C,GAAam0C,WAAW4D,IAEhB/3C,GAAanmB,GAAAA;UACnB,KAAA;AACEmmB,YAAAA,GAAaq0C,gBAAAA,CAAiBr0C,GAAam0C;AAC3C;UAEF,KAAA;AACEn0C,YAAAA,GAAaq0C,gBAAAA,CAAiBr0C,GAAam0C,WAAW;AACtD;UAEF;AACEn0C,YAAAA,GAAaq0C,gBAAgB;QAAA;AAInCr0C,MAAAA,GAAau0C,aAAaA;AAC1B,UACIoE,GACAC,IAEAC,IACA18B,GALA28B,KAAY7tD,GAAKrR;AAGrBykB,MAAAA,KAAOy6C,GAAU7jE;AAGjB,UAAI8jE,IAAU,CAAA;AAEd,WAAKl/D,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK,GAAG;AAkB5B,cAjBA8+D,IAAeG,GAAUj/D,EAAAA,GAERD,EAAE8lD,OACjB1/B,GAAa20C,kBAAAA,OAGXgE,EAAa/+D,EAAE85D,OACjB1zC,GAAa40C,kBAAAA,QAGX+D,EAAa/+D,EAAE+5D,MAAMgF,EAAa/+D,EAAEo/D,MAAML,EAAa/+D,EAAEq/D,MAAMN,EAAa/+D,EAAEs/D,QAChFl5C,GAAa00C,gBAAAA,OAGfv4B,IAAM,GACN08B,KAAQF,EAAa9jE,EAAElB,GAElBmB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,WACxB8jE,KAAanB,GAAQ3iE,EAAAA,GACV0jE,UAAU3+D,EAAAA,IAAKsiC,IAEb,KAAT08B,MAAiC,OAAnBD,GAAW7/C,OAAuB,KAAT8/C,MAAiC,OAAnBD,GAAW7/C,OAAiC,QAAnB6/C,GAAW7/C,OAAwB,KAAT8/C,OAAeD,GAAW7jE,KAAuB,OAAlB6jE,GAAW7/C,OAAcjkB,MAAKkgB,KAAM,MAAe,KAAT6jD,OAAeD,GAAW7jE,KAAKD,MAAKkgB,KAAM,QAEnM,MAAtB2jD,EAAa9jE,EAAEskE,MACjBJ,EAAQpgE,KAAKwjC,CAAAA,GAGfA,KAAO;AAIXlxB,QAAAA,GAAKrR,EAAEC,EAAAA,EAAGhF,EAAEukE,aAAaj9B;AACzB,YACIk9B,IADAC,KAAAA;AAGJ,YAA0B,MAAtBX,EAAa9jE,EAAEskE;AACjB,eAAKrkE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGpBwkE,YAAAA,OAFJV,KAAanB,GAAQ3iE,EAAAA,GAEQ0jE,UAAU3+D,EAAAA,MAErCy/D,KAAaV,GAAWJ,UAAU3+D,EAAAA,GAClCw/D,KAASN,EAAQ/1D,OAAOiD,KAAKqS,MAAMrS,KAAKC,OAAAA,IAAW6yD,EAAQ9jE,MAAAA,GAAS,CAAA,EAAG,CAAA,IAGzE2jE,GAAWJ,UAAU3+D,EAAAA,IAAKw/D;MAAAA;AAKhCr5C,MAAAA,GAAa60C,UAAU70C,GAAag1C,mBAA4C,MAAzBh1C,GAAa80C,WACpE90C,GAAaw0C,KAAKx0C,GAAaw0C,MAAM,GACrCx0C,GAAak0C,SAAS/c,GAAS+c,SAASl0C,GAAa80C,YAAY;IAAA,GAGnElB,aAAa3/D,UAAU67B,qBAAqB,SAAUypC,IAAS5uD,IAAAA;AAC7DA,MAAAA,KAAAA,WAAQA,KAAsBxV,KAAK2+D,YAAYnpD;AAC/C,UAAI6uD,KAAQrkE,KAAK8/D,SAAS,CAAA,GAAI9/D,KAAK8V,KAAKvX,EAAEqF,EAAE4R,EAAAA,EAAO9V,CAAAA;AACnD2kE,MAAAA,KAAQrkE,KAAK8/D,SAASuE,IAAOD,EAAAA,GAC7BpkE,KAAK8V,KAAKvX,EAAEqF,EAAE4R,EAAAA,EAAO9V,IAAI2kE,IACzBrkE,KAAKskE,YAAY9uD,EAAAA,GACjBxV,KAAKw7B,KAAKoP,mBAAmB5qC,IAAAA;IAAAA,GAG/By+D,aAAa3/D,UAAUwlE,cAAc,SAAU9uD,IAAAA;AAC7C,UAAI6uD,KAAQrkE,KAAK8V,KAAKvX,EAAEqF,EAAE4R,EAAAA,EAAO9V;AACjC2kE,MAAAA,GAAMp4C,aAAAA,OACNjsB,KAAK2+D,YAAY,GACjB3+D,KAAKuqC,gBAAAA,MACLvqC,KAAK+qC,SAASs5B,EAAAA;IAAAA,GAGhB5F,aAAa3/D,UAAUylE,gBAAgB,SAAUC,IAAAA;AAC/CxkE,WAAK4+D,YAAY4F,IACjBxkE,KAAKskE,YAAYtkE,KAAK2+D,SAAAA,GACtB3+D,KAAKw7B,KAAKoP,mBAAmB5qC,IAAAA;IAAAA,GAG/By+D,aAAa3/D,UAAU2lE,qBAAqB,SAAUC,IAAAA;AACpD1kE,WAAK6+D,kBAAkB/tD,KAAKqS,MAAMuhD,EAAAA,KAAe,GACjD1kE,KAAKskE,YAAYtkE,KAAK2+D,SAAAA,GACtB3+D,KAAKw7B,KAAKoP,mBAAmB5qC,IAAAA;IAAAA;AAG/B,QAAI2kE,mBAAmB,WAAA;AACrB,UAAIthD,KAAMvS,KAAKuS,KACXE,KAAMzS,KAAKyS,KACXJ,KAAQrS,KAAKqS;AAEjB,eAASyhD,GAAwBppC,IAAM1lB,IAAAA;AACrC9V,aAAK6kE,qBAAAA,IACL7kE,KAAK4D,IAAAA,OACL5D,KAAK8V,OAAOA,IACZ9V,KAAKw7B,OAAOA,IACZx7B,KAAKiqB,OAAOuR,GAAKvR,MACjBjqB,KAAK8kE,SAAS,GACd9kE,KAAK+kE,SAAS,GACd/kE,KAAKyrC,6BAA6BjQ,EAAAA,GAClCx7B,KAAKN,IAAIwlC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpW,KAAK,EAC/CkE,GAAG,EAAA,GACF,GAAG,GAAG5D,IAAAA,GAGPA,KAAKE,IADH,OAAO4V,KACAovB,gBAAgBkG,QAAQ5P,IAAM1lB,GAAK5V,GAAG,GAAG,GAAGF,IAAAA,IAE5C,EACPqD,GAAG,IAAA,GAIPrD,KAAK0D,IAAIwhC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKpS,KAAK,EAC/CE,GAAG,EAAA,GACF,GAAG,GAAG5D,IAAAA,GACTA,KAAKglE,KAAK9/B,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKkvD,MAAM,EACjDphE,GAAG,EAAA,GACF,GAAG,GAAG5D,IAAAA,GACTA,KAAKilE,KAAK//B,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKmvD,MAAM,EACjDrhE,GAAG,EAAA,GACF,GAAG,GAAG5D,IAAAA,GACTA,KAAKklE,KAAKhgC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKovD,MAAM,EACjDthE,GAAG,IAAA,GACF,GAAG,GAAG5D,IAAAA,GACTA,KAAKyE,IAAIygC,gBAAgBkG,QAAQ5P,IAAM1lB,GAAKrR,GAAG,GAAG,MAAMzE,IAAAA,GAEnDA,KAAKsrC,kBAAkBxrC,UAC1BE,KAAK+qC,SAAAA;MAAAA;AAiKT,aA7JA65B,GAAwB9lE,YAAY,EAClCqmE,SAAS,SAAiBn+B,IAAAA;AACpBhnC,aAAK6kE,uBAAuB7kE,KAAKw7B,KAAK4pC,aAAatG,YAAY95D,EAAElF,UACnEE,KAAK+qC,SAAAA;AAGP,YAAIvK,KAAK,GACLC,KAAK,GACLC,KAAK,GACLC,KAAK;AAEL3gC,aAAKilE,GAAG5hE,IAAI,IACdm9B,KAAKxgC,KAAKilE,GAAG5hE,IAAI,MAEjBo9B,KAAAA,CAAMzgC,KAAKilE,GAAG5hE,IAAI,KAGhBrD,KAAKglE,GAAG3hE,IAAI,IACdq9B,KAAK,IAAM1gC,KAAKglE,GAAG3hE,IAAI,MAEvBs9B,KAAK,IAAM3gC,KAAKglE,GAAG3hE,IAAI;AAGzB,YAAIgiE,KAAQ1oC,cAAcuK,gBAAgB1G,IAAIC,IAAIC,IAAIC,EAAAA,EAAI58B,KACtDkmC,KAAO,GACPvqC,KAAIM,KAAK8kE,QACT5kE,KAAIF,KAAK+kE,QACTj7D,KAAO9J,KAAK8V,KAAKgyB;AAErB,YAAa,MAATh+B;AAOFmgC,UAAAA,KAAOo7B,GALLp7B,KADE/pC,OAAMR,KACDsnC,MAAO9mC,KAAI,IAAI,IAEfmjB,GAAI,GAAGE,GAAI,OAAOrjB,KAAIR,OAAMsnC,KAAMtnC,OAAMQ,KAAIR,KAAI,CAAA,CAAA,CAAA;iBAIvC,MAAToK;AAOTmgC,UAAAA,KAAOo7B,GALLp7B,KADE/pC,OAAMR,KACDsnC,MAAO9mC,KAAI,IAAI,IAEf,IAAImjB,GAAI,GAAGE,GAAI,OAAOrjB,KAAIR,OAAMsnC,KAAMtnC,OAAMQ,KAAIR,KAAI,CAAA,CAAA,CAAA;iBAI3C,MAAToK;AACL5J,UAAAA,OAAMR,KACRuqC,KAAO,KAEPA,KAAO5mB,GAAI,GAAGE,GAAI,OAAOrjB,KAAIR,OAAMsnC,KAAMtnC,OAAMQ,KAAIR,KAAI,CAAA,CAAA,KAE5C,MACTuqC,MAAQ,IAERA,KAAO,IAAI,KAAKA,KAAO,MAI3BA,KAAOo7B,GAAMp7B,EAAAA;iBACK,MAATngC,IAAY;AACrB,cAAI5J,OAAMR;AACRuqC,YAAAA,KAAO;eACF;AACL,gBAAIq7B,KAAMplE,KAAIR,IAKVq+B,KAAAA,CAAKunC,KAAM,KADft+B,KAAMzjB,GAAIF,GAAI,GAAG2jB,KAAM,MAAMtnC,EAAAA,GAAIQ,KAAIR,EAAAA,IAEjC+E,KAAI6gE,KAAM;AACdr7B,YAAAA,KAAOn5B,KAAKmS,KAAK,IAAI8a,KAAIA,MAAKt5B,KAAIA,GAAAA;UAAAA;AAGpCwlC,UAAAA,KAAOo7B,GAAMp7B,EAAAA;QAAAA;AACK,gBAATngC,MACL5J,OAAMR,KACRuqC,KAAO,KAEPjD,KAAMzjB,GAAIF,GAAI,GAAG2jB,KAAM,MAAMtnC,EAAAA,GAAIQ,KAAIR,EAAAA,GACrCuqC,MAAQ,IAAIn5B,KAAKs4B,IAAIt4B,KAAKkT,KAAe,IAAVlT,KAAKkT,KAASgjB,MAAO9mC,KAAIR,GAAAA,KAAO,IAGjEuqC,KAAOo7B,GAAMp7B,EAAAA,MAETjD,MAAO7jB,GAAMzjB,EAAAA,MAEbuqC,KAAO5mB,GAAI,GAAGE,GADZyjB,KAAMtnC,KAAI,IACM6jB,GAAIrjB,IAAG,CAAA,KAAMR,KAAIsnC,MAEjB9mC,KAAI8mC,IAFmB,CAAA,CAAA,IAM7CiD,KAAOo7B,GAAMp7B,EAAAA;AAaf,YAAkB,QAAdjqC,KAAKklE,GAAG7hE,GAAW;AACrB,cAAIkiE,KAAyB,OAAZvlE,KAAKklE,GAAG7hE;AAEN,gBAAfkiE,OACFA,KAAa;AAGf,cAAIC,KAAY,MAAmB,MAAbD;AAElBt7B,UAAAA,KAAOu7B,KACTv7B,KAAO,KAEPA,MAAQA,KAAOu7B,MAAaD,MAEjB,MACTt7B,KAAO;QAAA;AAKb,eAAOA,KAAOjqC,KAAKyE,EAAEpB;MAAAA,GAEvB0nC,UAAU,SAAkB06B,IAAAA;AAC1BzlE,aAAKwrC,yBAAAA,GACLxrC,KAAKkqC,OAAOu7B,MAAgBzlE,KAAKkqC,MACjClqC,KAAK6kE,qBAAqB7kE,KAAKw7B,KAAK4pC,aAAatG,YAAY95D,EAAElF,UAAU,GAErE2lE,MAAgC,MAAhBzlE,KAAK8V,KAAKlV,MAC5BZ,KAAKE,EAAEmD,IAAIrD,KAAK6kE;AAGlB,YAAIa,KAA0B,MAAhB1lE,KAAK8V,KAAKlV,IAAU,IAAI,MAAMZ,KAAK8V,KAAKmuD,YAClDvgE,KAAI1D,KAAK0D,EAAEL,IAAIqiE,IACfhmE,KAAIM,KAAKN,EAAE2D,IAAIqiE,KAAUhiE,IACzBxD,KAAIF,KAAKE,EAAEmD,IAAIqiE,KAAUhiE;AAE7B,YAAIhE,KAAIQ,IAAG;AACT,cAAIi5C,KAAKz5C;AACTA,UAAAA,KAAIQ,IACJA,KAAIi5C;QAAAA;AAGNn5C,aAAK8kE,SAASplE,IACdM,KAAK+kE,SAAS7kE;MAAAA,EAAAA,GAGlBuf,gBAAgB,CAAC4rB,wBAAAA,GAA2Bu5B,EAAAA,GAMrC,EACLe,qBALF,SAA6BnqC,IAAM1lB,IAAMkM,IAAAA;AACvC,eAAA,IAAW4iD,GAAwBppC,IAAM1lB,IAAMkM,EAAAA;MAAAA,EAAAA;IAAAA,EAvM5B;AA+MvB,aAAS4jD,yBAAyBpqC,IAAMqqC,IAAetzD,IAAAA;AACrD,UAAIuzD,KAAc,EAChBpgC,UAAAA,MAAU,GAER0F,KAAUlG,gBAAgBkG,SAC1B26B,KAA0BF,GAAcphE;AAC5CzE,WAAKyE,IAAI,EACP7D,GAAGmlE,GAAwBnlE,IAAIwqC,GAAQ5P,IAAMuqC,GAAwBnlE,GAAG,GAAGmjB,WAAWxR,EAAAA,IAAauzD,IACnGhrB,IAAIirB,GAAwBjrB,KAAK1P,GAAQ5P,IAAMuqC,GAAwBjrB,IAAI,GAAG/2B,WAAWxR,EAAAA,IAAauzD,IACtG/qB,IAAIgrB,GAAwBhrB,KAAK3P,GAAQ5P,IAAMuqC,GAAwBhrB,IAAI,GAAGh3B,WAAWxR,EAAAA,IAAauzD,IACtGx6C,IAAIy6C,GAAwBz6C,KAAK8f,GAAQ5P,IAAMuqC,GAAwBz6C,IAAI,GAAGvH,WAAWxR,EAAAA,IAAauzD,IACtGv6C,IAAIw6C,GAAwBx6C,KAAK6f,GAAQ5P,IAAMuqC,GAAwBx6C,IAAI,GAAGxH,WAAWxR,EAAAA,IAAauzD,IACtGpmE,GAAGqmE,GAAwBrmE,IAAI0rC,GAAQ5P,IAAMuqC,GAAwBrmE,GAAG,GAAG,MAAM6S,EAAAA,IAAauzD,IAC9FrhE,GAAGshE,GAAwBthE,IAAI2mC,GAAQ5P,IAAMuqC,GAAwBthE,GAAG,GAAG,GAAG8N,EAAAA,IAAauzD,IAC3FpiE,GAAGqiE,GAAwBriE,IAAI0nC,GAAQ5P,IAAMuqC,GAAwBriE,GAAG,GAAG,MAAM6O,EAAAA,IAAauzD,IAC9FjnE,GAAGknE,GAAwBlnE,IAAIusC,GAAQ5P,IAAMuqC,GAAwBlnE,GAAG,GAAG,GAAG0T,EAAAA,IAAauzD,IAC3FvH,IAAIwH,GAAwBxH,KAAKnzB,GAAQ5P,IAAMuqC,GAAwBxH,IAAI,GAAG,GAAGhsD,EAAAA,IAAauzD,IAC9Fvb,IAAIwb,GAAwBxb,KAAKnf,GAAQ5P,IAAMuqC,GAAwBxb,IAAI,GAAG,GAAGh4C,EAAAA,IAAauzD,IAC9FtH,IAAIuH,GAAwBvH,KAAKpzB,GAAQ5P,IAAMuqC,GAAwBvH,IAAI,GAAG,GAAGjsD,EAAAA,IAAauzD,IAC9FjC,IAAIkC,GAAwBlC,KAAKz4B,GAAQ5P,IAAMuqC,GAAwBlC,IAAI,GAAG,GAAGtxD,EAAAA,IAAauzD,IAC9FhC,IAAIiC,GAAwBjC,KAAK14B,GAAQ5P,IAAMuqC,GAAwBjC,IAAI,GAAG,MAAMvxD,EAAAA,IAAauzD,IACjG/B,IAAIgC,GAAwBhC,KAAK34B,GAAQ5P,IAAMuqC,GAAwBhC,IAAI,GAAG,MAAMxxD,EAAAA,IAAauzD,IACjGrmE,GAAGsmE,GAAwBtmE,IAAI2rC,GAAQ5P,IAAMuqC,GAAwBtmE,GAAG,GAAG,GAAG8S,EAAAA,IAAauzD,GAAAA,GAE7F9lE,KAAKN,IAAIilE,iBAAiBgB,oBAAoBnqC,IAAMqqC,GAAcnmE,GAAG6S,EAAAA,GACrEvS,KAAKN,EAAED,IAAIomE,GAAcnmE,EAAED;IAAAA;AAG7B,aAASumE,qBAAqBvZ,IAAUwZ,IAAYzqC,IAAAA;AAClDx7B,WAAKuqC,gBAAAA,MACLvqC,KAAKkmE,iBAAAA,OACLlmE,KAAK0+D,WAAAA,IACL1+D,KAAKmmE,YAAY1Z,IACjBzsD,KAAKomE,cAAcH,IACnBjmE,KAAKqmE,QAAQ7qC,IACbx7B,KAAKsmE,iBAAiBlkD,iBAAiBpiB,KAAKmmE,UAAU1hE,EAAE3E,MAAAA,GACxDE,KAAKumE,YAAY,CAAA,GACjBvmE,KAAKwmE,eAAe,EAClBC,WAAW,CAAA,EAAA,GAEbzmE,KAAK0mE,kBAAkB,CAAA,GACvB1mE,KAAK2mE,qBAAAA,OACL3mE,KAAKyrC,6BAA6BjQ,EAAAA;IAAAA;AAyoBpC,aAASorC,eAAAA;IAAAA;AAtoBTZ,yBAAqBlnE,UAAU+nE,mBAAmB,WAAA;AAChD,UAAIlnE,IAEAkmE,IADAhmD,KAAM7f,KAAKmmE,UAAU1hE,EAAE3E,QAEvBsrC,KAAUlG,gBAAgBkG;AAE9B,WAAKzrC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBkmE,QAAAA,KAAgB7lE,KAAKmmE,UAAU1hE,EAAE9E,EAAAA,GACjCK,KAAKsmE,eAAe3mE,EAAAA,IAAK,IAAIimE,yBAAyB5lE,KAAKqmE,OAAOR,IAAe7lE,IAAAA;AAG/EA,WAAKmmE,UAAUtnE,KAAK,OAAA,KAAYsnE,UAAUtnE,KAC5CmB,KAAKumE,YAAY,EACf9hE,GAAG2mC,GAAQprC,KAAKqmE,OAAOrmE,KAAKmmE,UAAUtnE,EAAE4F,GAAG,GAAG,GAAGzE,IAAAA,GACjD0C,GAAG0oC,GAAQprC,KAAKqmE,OAAOrmE,KAAKmmE,UAAUtnE,EAAE6D,GAAG,GAAG,GAAG1C,IAAAA,GACjDgF,GAAGomC,GAAQprC,KAAKqmE,OAAOrmE,KAAKmmE,UAAUtnE,EAAEmG,GAAG,GAAG,GAAGhF,IAAAA,GACjDY,GAAGwqC,GAAQprC,KAAKqmE,OAAOrmE,KAAKmmE,UAAUtnE,EAAE+B,GAAG,GAAG,GAAGZ,IAAAA,GACjDnB,GAAGusC,GAAQprC,KAAKqmE,OAAOrmE,KAAKmmE,UAAUtnE,EAAEA,GAAG,GAAG,GAAGmB,IAAAA,GACjD2D,GAAG3D,KAAKqmE,MAAM5V,YAAY+D,gBAAgBx0D,KAAKmmE,UAAUtnE,EAAE8E,CAAAA,EAAAA,GAE7D3D,KAAKkmE,iBAAAA,QAELlmE,KAAKkmE,iBAAAA,OAGPlmE,KAAKwmE,aAAaC,YAAYr7B,GAAQprC,KAAKqmE,OAAOrmE,KAAKmmE,UAAUxiE,EAAEc,GAAG,GAAG,GAAGzE,IAAAA;IAAAA,GAG9EgmE,qBAAqBlnE,UAAUgoE,cAAc,SAAUj8C,IAAc87C,IAAAA;AAGnE,UAFA3mE,KAAK2mE,qBAAqBA,IAErB3mE,KAAKkqC,QAASlqC,KAAKuqC,iBAAkBo8B,MAAwB3mE,KAAKkmE,kBAAmBlmE,KAAKumE,UAAU5iE,EAAEumC,MAA3G;AAIAlqC,aAAKuqC,gBAAAA;AACL,YAMIw8B,IACAC,IACArnE,IACAkgB,IAEAonD,IACAC,IACAC,IACAvlC,IACAxiB,IACAgoD,IACAC,IACA1nB,IACAhiB,IACA/I,IACAmN,IACA3B,IACAiB,IACAimC,IACA1X,IAzBA6W,KAAYzmE,KAAKwmE,aAAaC,UAAUpjE,GACxCsgE,KAAY3jE,KAAKsmE,gBACjB7Z,KAAWzsD,KAAKmmE,WAChBoB,KAAevnE,KAAKu0D,SACpB0R,KAAajmE,KAAKomE,aAClBoB,KAAuBxnE,KAAK0mE,gBAAgB5mE,QAK5CwiE,KAAUz3C,GAAa7lB;AAiB3B,YAAIhF,KAAKkmE,gBAAgB;AAGvB,cAFAtW,KAAO5vD,KAAKumE,UAAU5iE,GAAAA,CAEjB3D,KAAKumE,UAAU3mE,KAAKI,KAAKumE,UAAUr8B,MAAM;AAC5C,gBAYI/H,IAZA8L,KAAQ2hB,GAAKvsD;AAejB,iBAbIrD,KAAKumE,UAAU3lE,EAAEyC,MACnB4qC,KAAQA,GAAMlhC,QAAAA,IAIhBk6D,KAAW,EACTQ,SAAS,GACT7yC,UAAU,CAAA,EAAA,GAEZ/U,KAAMouB,GAAMvO,UAAU,GAEtBU,KAAc,GAETzgC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBwiC,cAAAA,KAAa8C,IAAIhD,gBAAgBgM,GAAM5qC,EAAE1D,EAAAA,GAAIsuC,GAAM5qC,EAAE1D,KAAI,CAAA,GAAI,CAACsuC,GAAMvqC,EAAE/D,EAAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE1D,EAAAA,EAAG,CAAA,GAAIsuC,GAAMvqC,EAAE/D,EAAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE1D,EAAAA,EAAG,CAAA,CAAA,GAAK,CAACsuC,GAAMtuC,EAAEA,KAAI,CAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE1D,KAAI,CAAA,EAAG,CAAA,GAAIsuC,GAAMtuC,EAAEA,KAAI,CAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE1D,KAAI,CAAA,EAAG,CAAA,CAAA,CAAA,GACxMsnE,GAASQ,WAAWtlC,GAAWP,eAC/BqlC,GAASryC,SAASpxB,KAAK2+B,EAAAA,GACvB/B,MAAe+B,GAAWP;AAG5BjiC,YAAAA,KAAIkgB,IAEA+vC,GAAKvsD,EAAE1C,MACTwhC,KAAa8C,IAAIhD,gBAAgBgM,GAAM5qC,EAAE1D,EAAAA,GAAIsuC,GAAM5qC,EAAE,CAAA,GAAI,CAAC4qC,GAAMvqC,EAAE/D,EAAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE1D,EAAAA,EAAG,CAAA,GAAIsuC,GAAMvqC,EAAE/D,EAAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE1D,EAAAA,EAAG,CAAA,CAAA,GAAK,CAACsuC,GAAMtuC,EAAE,CAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE,CAAA,EAAG,CAAA,GAAI4qC,GAAMtuC,EAAE,CAAA,EAAG,CAAA,IAAKsuC,GAAM5qC,EAAE,CAAA,EAAG,CAAA,CAAA,CAAA,GACpL4jE,GAASQ,WAAWtlC,GAAWP,eAC/BqlC,GAASryC,SAASpxB,KAAK2+B,EAAAA,GACvB/B,MAAe+B,GAAWP,gBAG5B5hC,KAAKumE,UAAUmB,KAAKT;UAAAA;AAWtB,cARAA,KAAWjnE,KAAKumE,UAAUmB,IAC1BR,KAAgBlnE,KAAKumE,UAAU7jE,EAAEW,GACjCgkE,KAAa,GACbD,KAAW,GACXxlC,KAAgB,GAChBxiB,KAAAA,MACAwV,KAAWqyC,GAASryC,UAEhBsyC,KAAgB,KAAKtX,GAAKvsD,EAAE1C;AAS9B,iBARIsmE,GAASQ,UAAU32D,KAAK6S,IAAIujD,EAAAA,MAC9BA,KAAAA,CAAiBp2D,KAAK6S,IAAIujD,EAAAA,IAAiBD,GAASQ,UAKtDL,MADAzpC,KAAS/I,GADTyyC,KAAazyC,GAAS90B,SAAS,CAAA,EACD69B,QACZ79B,SAAS,GAEpBonE,KAAgB;AACrBA,cAAAA,MAAiBvpC,GAAOypC,EAAAA,EAAUrlC,gBAClCqlC,MAAY,KAEG,MAGbA,MADAzpC,KAAS/I,GADTyyC,MAAc,CAAA,EACgB1pC,QACZ79B,SAAS;AAMjC6/C,UAAAA,MADAhiB,KAAS/I,GAASyyC,EAAAA,EAAY1pC,QACXypC,KAAW,CAAA,GAE9BrlC,MADAolC,KAAexpC,GAAOypC,EAAAA,GACOrlC;QAAAA;AAG/BliB,QAAAA,KAAMyiD,GAAQxiE,QACdinE,KAAO,GACPC,KAAO;AACP,YAEInB,GAEAnhE,IACAwkB,GACAy+C,IAEA19B,IARA29B,IAAgC,MAAzB/8C,GAAa80C,YAAkB,OACtCkI,KAAAA;AAMJ3+C,YAAOy6C,GAAU7jE;AAEjB,YACIgoE,GACAC,IACAC,IAKAC,IACA1d,GACAgU,IACAC,GACA56D,IACAskE,GACAC,GACAC,GAGAC,GAlBArhC,IAAAA,IAIAshC,IAAcpB,IACdqB,IAAiBlB,IACjBmB,IAAepB,IACf1E,IAAAA,IASA+F,KAAU,IACVC,KAAU1oE,KAAK2oE;AAGnB,YAAuB,MAAnB99C,GAAanmB,KAA8B,MAAnBmmB,GAAanmB,GAAS;AAChD,cAAI4+D,KAAwB,GACxBsF,KAA0B,GAC1BC,KAAuC,MAAnBh+C,GAAanmB,IAAAA,OAAW,IAC5C+O,KAAY,GACZq1D,KAAAA;AAEJ,eAAKnpE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,gBAAI2iE,GAAQ3iE,EAAAA,EAAGC,GAAG;AAKhB,mBAJI0jE,OACFA,MAAyBsF,KAGpBn1D,KAAY9T;AACjB2iE,gBAAAA,GAAQ7uD,EAAAA,EAAW6vD,wBAAwBA,IAC3C7vD,MAAa;AAGf6vD,mBAAwB,GACxBwF,KAAAA;YAAY,OACP;AACL,mBAAKpkE,KAAI,GAAGA,KAAIwkB,GAAMxkB,MAAK;AAAA,iBACzBmhE,IAAgBlC,GAAUj/D,EAAAA,EAAGD,GAEXhF,EAAEimC,aACdojC,MAAgC,MAAnBj+C,GAAanmB,MAC5BkkE,MAA2B/C,EAAcpmE,EAAE4D,IAAIwlE,MAIjD5+B,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAEhEnkE,SACPwjE,MAAyBuC,EAAcpmE,EAAE4D,IAAI4mC,GAAK,CAAA,IAAK4+B,KAEvDvF,MAAyBuC,EAAcpmE,EAAE4D,IAAI4mC,KAAO4+B;AAK1DC,mBAAAA;YAAY;AAQhB,eAJIxF,OACFA,MAAyBsF,KAGpBn1D,KAAY9T;AACjB2iE,YAAAA,GAAQ7uD,EAAAA,EAAW6vD,wBAAwBA,IAC3C7vD,MAAa;QAAA;AAKjB,aAAK9T,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAI3B,cAHA4nE,GAAaj5B,MAAAA,GACb25B,KAAc,GAEV3F,GAAQ3iE,EAAAA,EAAGC;AACbmnE,YAAAA,KAAO,GACPC,MAAQn8C,GAAa60C,SACrBsH,MAAQa,KAAY,IAAI,GACxBX,KAAgBoB,GAChBT,KAAAA,OAEI7nE,KAAKkmE,mBAEPkB,KAAWoB,GAEX7oB,MADAhiB,KAAS/I,GAFTyyC,KAAakB,CAAAA,EAEiB5qC,QACXypC,KAAW,CAAA,GAE9BrlC,MADAolC,KAAexpC,GAAOypC,EAAAA,GACOrlC,eAC7BH,KAAgB,IAGlB6mC,KAAU,IACVL,IAAW,IACXF,IAAW,IACXG,IAAU,IACVK,KAAU1oE,KAAK2oE;eACV;AACL,gBAAI3oE,KAAKkmE,gBAAgB;AACvB,kBAAIxD,MAAgBJ,GAAQ3iE,EAAAA,EAAGuyB,MAAM;AACnC,wBAAQrH,GAAanmB,GAAAA;kBACnB,KAAA;AACEwiE,oBAAAA,MAAiB9mC,KAAcvV,GAAau0C,WAAWkD,GAAQ3iE,EAAAA,EAAGuyB,IAAAA;AAClE;kBAEF,KAAA;AACEg1C,oBAAAA,OAAkB9mC,KAAcvV,GAAau0C,WAAWkD,GAAQ3iE,EAAAA,EAAGuyB,IAAAA,KAAS;gBAAA;AAOhFwwC,oBAAcJ,GAAQ3iE,EAAAA,EAAGuyB;cAAAA;AAGvB8U,oBAAQs7B,GAAQ3iE,EAAAA,EAAGqnC,QACjBs7B,GAAQt7B,CAAAA,MACVkgC,MAAiB5E,GAAQt7B,CAAAA,EAAKu8B,QAGhC2D,MAAiB5E,GAAQ3iE,EAAAA,EAAGwjE,KAAK,GACjCn8B,IAAMs7B,GAAQ3iE,EAAAA,EAAGqnC,MAGnBkgC,MAAiBT,GAAU,CAAA,IAAKnE,GAAQ3iE,EAAAA,EAAGwjE,KAAK;AAChD,kBAAI4F,KAAiB;AAErB,mBAAKrkE,KAAI,GAAGA,KAAIwkB,GAAMxkB,MAAK;AAAA,iBACzBmhE,IAAgBlC,GAAUj/D,EAAAA,EAAGD,GAEX5F,EAAE6mC,cAElBuE,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAEhEnkE,SACPipE,MAAkBlD,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,GAAK,CAAA,IAE9C8+B,MAAkBlD,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,KAIzC47B,EAAcphE,EAAEihC,cAElBuE,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAEhEnkE,SACPipE,MAAkBlD,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC,GAAK,CAAA,IAE9C8+B,MAAkBlD,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC;AAY/C,mBAPA7qB,KAAAA,MAEIpf,KAAKumE,UAAU9hE,EAAEpB,MACnB6jE,KAAgC,MAAhB5E,GAAQ,CAAA,EAAGa,MAAY/iC,KAAcpgC,KAAKumE,UAAU7jE,EAAEW,IAAoB,MAAhBi/D,GAAQ,CAAA,EAAGa,KAA4C,MAAjCb,GAAQA,GAAQxiE,SAAS,CAAA,EAAGqjE,MAAYn8B,KAAOnnB,KAAM,IACrJqnD,MAAiBlnE,KAAKumE,UAAU7jE,EAAEW,IAG7B+b;AACDwiB,gBAAAA,KAAgBG,MAAiBmlC,KAAgB6B,MAAAA,CAAmBprC,MACtE0D,MAAQ6lC,KAAgB6B,KAAiBnnC,MAAiBulC,GAAaplC,eACvEgmC,KAAWpoB,GAAUne,MAAM,CAAA,KAAM2lC,GAAa3lC,MAAM,CAAA,IAAKme,GAAUne,MAAM,CAAA,KAAMH,IAC/E2mC,KAAWroB,GAAUne,MAAM,CAAA,KAAM2lC,GAAa3lC,MAAM,CAAA,IAAKme,GAAUne,MAAM,CAAA,KAAMH,IAC/EkmC,GAAar1B,UAAAA,CAAWu0B,GAAU,CAAA,IAAKnE,GAAQ3iE,EAAAA,EAAGwjE,KAAK,MAAA,CAASsD,GAAU,CAAA,IAAKmB,IAAQ,IAAA,GACvFxoD,KAAAA,SACSue,OACTiE,MAAiBulC,GAAaplC,gBAC9BqlC,MAAY,MAEIzpC,GAAO79B,WACrBsnE,KAAW,GAGNxyC,GAFLyyC,MAAc,CAAA,IAYZ1pC,KAAS/I,GAASyyC,EAAAA,EAAY1pC,SAT1BiyB,GAAKvsD,EAAE1C,KACTymE,KAAW,GAEXzpC,KAAS/I,GADTyyC,KAAa,CAAA,EACiB1pC,WAE9BiE,MAAiBulC,GAAaplC,eAC9BpE,KAAS,QAOXA,OACFgiB,KAAYwnB,IAEZplC,MADAolC,KAAexpC,GAAOypC,EAAAA,GACOrlC;AAKnC+lC,kBAAOxF,GAAQ3iE,EAAAA,EAAGwjE,KAAK,IAAIb,GAAQ3iE,EAAAA,EAAGyjE,KACtCmE,GAAar1B,UAAAA,CAAW41B,GAAM,GAAG,CAAA;YAAA;AAEjCA,kBAAOxF,GAAQ3iE,EAAAA,EAAGwjE,KAAK,IAAIb,GAAQ3iE,EAAAA,EAAGyjE,KACtCmE,GAAar1B,UAAAA,CAAW41B,GAAM,GAAG,CAAA,GAEjCP,GAAar1B,UAAAA,CAAWu0B,GAAU,CAAA,IAAKnE,GAAQ3iE,EAAAA,EAAGwjE,KAAK,MAAA,CAAQsD,GAAU,CAAA,IAAKmB,IAAO,MAAM,CAAA;AAG7F,iBAAKljE,KAAI,GAAGA,KAAIwkB,GAAMxkB,MAAK;AAAA,eACzBmhE,IAAgBlC,GAAUj/D,EAAAA,EAAGD,GAEXhF,EAAEimC,aAElBuE,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAE5D,MAAT8C,MAAiC,MAAnBl8C,GAAanmB,MACzB1E,KAAKkmE,iBACHj8B,GAAKnqC,SACPonE,MAAiBrB,EAAcpmE,EAAE4D,IAAI4mC,GAAK,CAAA,IAE1Ci9B,MAAiBrB,EAAcpmE,EAAE4D,IAAI4mC,KAE9BA,GAAKnqC,SACdinE,MAAQlB,EAAcpmE,EAAE4D,IAAI4mC,GAAK,CAAA,IAEjC88B,MAAQlB,EAAcpmE,EAAE4D,IAAI4mC;AAsBpC,iBAhBIpf,GAAa40C,oBACflB,KAAK1zC,GAAa0zC,MAAM,IAGtB1zC,GAAa20C,oBAEbjV,IADE1/B,GAAa0/B,KACV,CAAC1/B,GAAa0/B,GAAG,CAAA,GAAI1/B,GAAa0/B,GAAG,CAAA,GAAI1/B,GAAa0/B,GAAG,CAAA,CAAA,IAEzD,CAAC,GAAG,GAAG,CAAA,IAIZ1/B,GAAa00C,iBAAiB10C,GAAa2zC,OAC7CA,IAAK,CAAC3zC,GAAa2zC,GAAG,CAAA,GAAI3zC,GAAa2zC,GAAG,CAAA,GAAI3zC,GAAa2zC,GAAG,CAAA,CAAA,IAG3D95D,KAAI,GAAGA,KAAIwkB,GAAMxkB,MAAK;AAAA,eACzBmhE,IAAgBlC,GAAUj/D,EAAAA,EAAGD,GAEXA,EAAEihC,cAElBuE,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAEhEnkE,SACPynE,GAAar1B,UAAAA,CAAW2zB,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC,GAAK,CAAA,GAAA,CAAK47B,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC,GAAK,CAAA,GAAI47B,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC,GAAK,CAAA,CAAA,IAErHs9B,GAAar1B,UAAAA,CAAW2zB,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC,IAAAA,CAAO47B,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC,IAAM47B,EAAcphE,EAAEpB,EAAE,CAAA,IAAK4mC,EAAAA;AAKhH,iBAAKvlC,KAAI,GAAGA,KAAIwkB,GAAMxkB,MAAK;AAAA,eACzBmhE,IAAgBlC,GAAUj/D,EAAAA,EAAGD,GAEX/E,EAAEgmC,cAElBuE,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAEhEnkE,SACPynE,GAAax1B,MAAM,KAAK8zB,EAAcnmE,EAAE2D,EAAE,CAAA,IAAK,KAAK4mC,GAAK,CAAA,GAAI,KAAK47B,EAAcnmE,EAAE2D,EAAE,CAAA,IAAK,KAAK4mC,GAAK,CAAA,GAAI,CAAA,IAEvGs9B,GAAax1B,MAAM,KAAK8zB,EAAcnmE,EAAE2D,EAAE,CAAA,IAAK,KAAK4mC,IAAM,KAAK47B,EAAcnmE,EAAE2D,EAAE,CAAA,IAAK,KAAK4mC,IAAM,CAAA;AAKvG,iBAAKvlC,KAAI,GAAGA,KAAIwkB,GAAMxkB,MAAK,GAAG;AAqD5B,kBApDAmhE,IAAgBlC,GAAUj/D,EAAAA,EAAGD,GAE7BwlC,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAErE4B,EAAcv6C,GAAGoa,aACfuE,GAAKnqC,SACPynE,GAAaz1B,aAAAA,CAAc+zB,EAAcv6C,GAAGjoB,IAAI4mC,GAAK,CAAA,GAAI47B,EAAct6C,GAAGloB,IAAI4mC,GAAK,CAAA,CAAA,IAEnFs9B,GAAaz1B,aAAAA,CAAc+zB,EAAcv6C,GAAGjoB,IAAI4mC,IAAM47B,EAAct6C,GAAGloB,IAAI4mC,EAAAA,IAI3E47B,EAAcjlE,EAAE8kC,aACduE,GAAKnqC,SACPynE,GAAa71B,QAAAA,CAASm0B,EAAcjlE,EAAEyC,IAAI4mC,GAAK,CAAA,CAAA,IAE/Cs9B,GAAa71B,QAAAA,CAASm0B,EAAcjlE,EAAEyC,IAAI4mC,EAAAA,IAI1C47B,EAAc9qB,GAAGrV,aACfuE,GAAKnqC,SACPynE,GAAa91B,QAAQo0B,EAAc9qB,GAAG13C,IAAI4mC,GAAK,CAAA,CAAA,IAE/Cs9B,GAAa91B,QAAQo0B,EAAc9qB,GAAG13C,IAAI4mC,EAAAA,IAI1C47B,EAAc/qB,GAAGpV,aACfuE,GAAKnqC,SACPynE,GAAa/1B,QAAQq0B,EAAc/qB,GAAGz3C,IAAI4mC,GAAK,CAAA,CAAA,IAE/Cs9B,GAAa/1B,QAAQq0B,EAAc/qB,GAAGz3C,IAAI4mC,EAAAA,IAI1C47B,EAAcniE,EAAEgiC,aACduE,GAAKnqC,SACPmoE,OAAgBpC,EAAcniE,EAAEL,IAAI4mC,GAAK,CAAA,IAAKg+B,MAAeh+B,GAAK,CAAA,IAElEg+B,OAAgBpC,EAAcniE,EAAEL,IAAI4mC,KAAOg+B,MAAeh+B,KAI1Dpf,GAAa40C,mBAAmBoG,EAActH,GAAG74B,aAC/CuE,GAAKnqC,SACPy+D,MAAMsH,EAActH,GAAGl7D,IAAI4mC,GAAK,CAAA,IAEhCs0B,MAAMsH,EAActH,GAAGl7D,IAAI4mC,KAI3Bpf,GAAa20C,mBAAmBqG,EAActb,GAAG7kB;AACnD,qBAAK9hC,KAAI,GAAGA,KAAI,GAAGA,MAAK;AAClBqmC,kBAAAA,GAAKnqC,SACPyqD,EAAG3mD,EAAAA,MAAOiiE,EAActb,GAAGlnD,EAAEO,EAAAA,IAAK2mD,EAAG3mD,EAAAA,KAAMqmC,GAAK,CAAA,IAEhDsgB,EAAG3mD,EAAAA,MAAOiiE,EAActb,GAAGlnD,EAAEO,EAAAA,IAAK2mD,EAAG3mD,EAAAA,KAAMqmC;AAKjD,kBAAIpf,GAAa00C,iBAAiB10C,GAAa2zC,IAAI;AACjD,oBAAIqH,EAAcrH,GAAG94B;AACnB,uBAAK9hC,KAAI,GAAGA,KAAI,GAAGA,MAAK;AAClBqmC,oBAAAA,GAAKnqC,SACP0+D,EAAG56D,EAAAA,MAAOiiE,EAAcrH,GAAGn7D,EAAEO,EAAAA,IAAK46D,EAAG56D,EAAAA,KAAMqmC,GAAK,CAAA,IAEhDu0B,EAAG56D,EAAAA,MAAOiiE,EAAcrH,GAAGn7D,EAAEO,EAAAA,IAAK46D,EAAG56D,EAAAA,KAAMqmC;AAK7C47B,kBAAchC,GAAGn+B,aAEjB84B,IADEv0B,GAAKnqC,SACF6mB,YAAY63C,GAAIqH,EAAchC,GAAGxgE,IAAI4mC,GAAK,CAAA,CAAA,IAE1CtjB,YAAY63C,GAAIqH,EAAchC,GAAGxgE,IAAI4mC,EAAAA,IAI1C47B,EAAc/B,GAAGp+B,aAEjB84B,IADEv0B,GAAKnqC,SACFwmB,mBAAmBk4C,GAAIqH,EAAc/B,GAAGzgE,IAAI4mC,GAAK,CAAA,CAAA,IAEjD3jB,mBAAmBk4C,GAAIqH,EAAc/B,GAAGzgE,IAAI4mC,EAAAA,IAIjD47B,EAAc9B,GAAGr+B,aAEjB84B,IADEv0B,GAAKnqC,SACF4mB,mBAAmB83C,GAAIqH,EAAc9B,GAAG1gE,IAAI4mC,GAAK,CAAA,CAAA,IAEjDvjB,mBAAmB83C,GAAIqH,EAAc9B,GAAG1gE,IAAI4mC,EAAAA;cAAAA;YAAAA;AAMzD,iBAAKvlC,KAAI,GAAGA,KAAIwkB,GAAMxkB,MAAK;AAAA,eACzBmhE,IAAgBlC,GAAUj/D,EAAAA,EAAGD,GAEX5F,EAAE6mC,aAElBuE,KADmB05B,GAAUj/D,EAAAA,EAAGhF,EACRylE,QAAQ7C,GAAQ3iE,EAAAA,EAAG0jE,UAAU3+D,EAAAA,GAAI+nD,GAAShoD,EAAEC,EAAAA,EAAGhF,EAAEukE,UAAAA,GAErEjkE,KAAKkmE,iBACHj8B,GAAKnqC,SACPynE,GAAar1B,UAAU,GAAG2zB,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,GAAK,CAAA,GAAA,CAAK47B,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,GAAK,CAAA,CAAA,IAEvFs9B,GAAar1B,UAAU,GAAG2zB,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,IAAAA,CAAO47B,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,EAAAA,IAExEA,GAAKnqC,SACdynE,GAAar1B,UAAU2zB,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,GAAK,CAAA,GAAI47B,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,GAAK,CAAA,GAAA,CAAK47B,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,GAAK,CAAA,CAAA,IAEpHs9B,GAAar1B,UAAU2zB,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,IAAM47B,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,IAAAA,CAAO47B,EAAchnE,EAAEwE,EAAE,CAAA,IAAK4mC,EAAAA;AAiB/G,gBAZIpf,GAAa40C,oBACfyI,IAAW3J,KAAK,IAAI,IAAIA,KAGtB1zC,GAAa20C,oBACf2I,IAAW,SAASr3D,KAAKsT,MAAc,MAARmmC,EAAG,CAAA,CAAA,IAAY,MAAMz5C,KAAKsT,MAAc,MAARmmC,EAAG,CAAA,CAAA,IAAY,MAAMz5C,KAAKsT,MAAc,MAARmmC,EAAG,CAAA,CAAA,IAAY,MAG5G1/B,GAAa00C,iBAAiB10C,GAAa2zC,OAC7C4J,IAAW,SAASt3D,KAAKsT,MAAc,MAARo6C,EAAG,CAAA,CAAA,IAAY,MAAM1tD,KAAKsT,MAAc,MAARo6C,EAAG,CAAA,CAAA,IAAY,MAAM1tD,KAAKsT,MAAc,MAARo6C,EAAG,CAAA,CAAA,IAAY,MAG5Gx+D,KAAKkmE,gBAAgB;AAIvB,kBAHAqB,GAAar1B,UAAU,GAAA,CAAIrnB,GAAaw0C,EAAAA,GACxCkI,GAAar1B,UAAU,GAAGu0B,GAAU,CAAA,IAAKmB,IAAO,OAAOZ,IAAM,CAAA,GAEzDhnE,KAAKumE,UAAU1nE,EAAEwE,GAAG;AACtBikE,gBAAAA,MAAYH,GAAa3lC,MAAM,CAAA,IAAKme,GAAUne,MAAM,CAAA,MAAO2lC,GAAa3lC,MAAM,CAAA,IAAKme,GAAUne,MAAM,CAAA;AACnG,oBAAI0d,KAA4B,MAAtBpuC,KAAKk4D,KAAK1B,EAAAA,IAAkBx2D,KAAKkT;AAEvCmjD,gBAAAA,GAAa3lC,MAAM,CAAA,IAAKme,GAAUne,MAAM,CAAA,MAC1C0d,MAAO,MAGTqoB,GAAan2B,OAAAA,CAAQ8N,KAAMpuC,KAAKkT,KAAK,GAAA;cAAA;AAGvCujD,cAAAA,GAAar1B,UAAU61B,IAAUC,IAAU,CAAA,GAC3Cd,MAAiBT,GAAU,CAAA,IAAKnE,GAAQ3iE,EAAAA,EAAGwjE,KAAK,MAE5Cb,GAAQ3iE,KAAI,CAAA,KAAMqnC,MAAQs7B,GAAQ3iE,KAAI,CAAA,EAAGqnC,QAC3CkgC,MAAiB5E,GAAQ3iE,EAAAA,EAAGwjE,KAAK,GACjC+D,MAAmC,OAAlBr8C,GAAau3B,KAAav3B,GAAa80C;YAAAA,OAErD;AAQL,sBAPA4H,GAAar1B,UAAU60B,IAAMC,IAAM,CAAA,GAE/Bn8C,GAAay0C,MAEfiI,GAAar1B,UAAUrnB,GAAay0C,GAAG,CAAA,GAAIz0C,GAAay0C,GAAG,CAAA,IAAKz0C,GAAak0C,QAAQ,CAAA,GAG/El0C,GAAanmB,GAAAA;gBACnB,KAAA;AACE6iE,kBAAAA,GAAar1B,UAAUowB,GAAQ3iE,EAAAA,EAAG2jE,wBAAwBz4C,GAAaq0C,iBAAiBr0C,GAAam0C,WAAWn0C,GAAau0C,WAAWkD,GAAQ3iE,EAAAA,EAAGuyB,IAAAA,IAAQ,GAAG,CAAA;AAC9J;gBAEF,KAAA;AACEq1C,kBAAAA,GAAar1B,UAAUowB,GAAQ3iE,EAAAA,EAAG2jE,wBAAwBz4C,GAAaq0C,iBAAiBr0C,GAAam0C,WAAWn0C,GAAau0C,WAAWkD,GAAQ3iE,EAAAA,EAAGuyB,IAAAA,KAAS,GAAG,GAAG,CAAA;cAAA;AAOtKq1C,cAAAA,GAAar1B,UAAU,GAAA,CAAIrnB,GAAaw0C,EAAAA,GACxCkI,GAAar1B,UAAU41B,GAAM,GAAG,CAAA,GAChCP,GAAar1B,UAAUu0B,GAAU,CAAA,IAAKnE,GAAQ3iE,EAAAA,EAAGwjE,KAAK,MAAOsD,GAAU,CAAA,IAAKmB,IAAO,MAAM,CAAA,GACzFb,MAAQzE,GAAQ3iE,EAAAA,EAAGqF,IAAsB,OAAlB6lB,GAAau3B,KAAav3B,GAAa80C;YAAAA;AAG7C,uBAAfsG,KACFwC,KAAUlB,GAAa5xB,MAAAA,IACC,UAAfswB,KACTwC,KAAUlB,GAAazxB,QAAAA,IAEvB4yB,KAAU,CAACnB,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,CAAA,GAAIm7D,GAAan7D,MAAM,EAAA,GAAKm7D,GAAan7D,MAAM,EAAA,GAAKm7D,GAAan7D,MAAM,EAAA,GAAKm7D,GAAan7D,MAAM,EAAA,GAAKm7D,GAAan7D,MAAM,EAAA,GAAKm7D,GAAan7D,MAAM,EAAA,CAAA,GAG9Xi8D,IAAUJ;UAAAA;AAGRT,UAAAA,MAAwB7nE,MAC1BgoE,KAAc,IAAIrJ,YAAY+J,GAASH,GAAUC,GAAUC,GAAUK,IAASC,EAAAA,GAC9E1oE,KAAK0mE,gBAAgBljE,KAAKmkE,EAAAA,GAC1BH,MAAwB,GACxBxnE,KAAK2mE,qBAAAA,SAELgB,KAAc3nE,KAAK0mE,gBAAgB/mE,EAAAA,GACnCK,KAAK2mE,qBAAqBgB,GAAY73D,OAAOu4D,GAASH,GAAUC,GAAUC,GAAUK,IAASC,EAAAA,KAAY1oE,KAAK2mE;QAAAA;MAAAA;IAAAA,GAKpHX,qBAAqBlnE,UAAUisC,WAAW,WAAA;AACpC/qC,WAAKqmE,MAAMzwC,WAAWwU,YAAYpqC,KAAK0+D,aAI3C1+D,KAAK0+D,WAAW1+D,KAAKqmE,MAAMzwC,WAAWwU,SACtCpqC,KAAKwrC,yBAAAA;IAAAA,GAGPw6B,qBAAqBlnE,UAAUy1D,UAAU,IAAIzjB,UAC7Ck1B,qBAAqBlnE,UAAU6pE,oBAAoB,CAAA,GACnDlpD,gBAAgB,CAAC4rB,wBAAAA,GAA2B26B,oBAAAA,GAI5CY,aAAa9nE,UAAUq3D,cAAc,SAAUrgD,IAAM8f,IAAY3L,IAAAA;AAC/DjqB,WAAK2mE,qBAAAA,MACL3mE,KAAKmlC,UAAAA,GACLnlC,KAAK8tD,aAAah4C,IAAM8f,IAAY3L,EAAAA,GACpCjqB,KAAKolE,eAAe,IAAI3G,aAAaz+D,MAAM8V,GAAKrW,GAAGO,KAAKsrC,iBAAAA,GACxDtrC,KAAKipE,eAAe,IAAIjD,qBAAqBlwD,GAAKrW,GAAGO,KAAKimE,YAAYjmE,IAAAA,GACtEA,KAAK8zD,cAAch+C,IAAM8f,IAAY3L,EAAAA,GACrCjqB,KAAKs4D,cAAAA,GACLt4D,KAAKsrD,eAAAA,GACLtrD,KAAKu2D,oBAAAA,GACLv2D,KAAKw2D,wBAAAA,GACLx2D,KAAKy3D,2BAAAA,GACLz3D,KAAKw4D,cAAAA,GACLx4D,KAAKw6B,KAAAA,GACLx6B,KAAKipE,aAAapC,iBAAiB7mE,KAAKsrC,iBAAAA;IAAAA,GAG1Cs7B,aAAa9nE,UAAUs0B,eAAe,SAAU24B,IAAAA;AAC9C/rD,WAAKkqC,OAAAA,OACLlqC,KAAK8rD,uBAAuBC,EAAAA,GAC5B/rD,KAAKyxD,kBAAkB1F,IAAK/rD,KAAKurD,SAAAA,IAE7BvrD,KAAKolE,aAAal7B,QAAQlqC,KAAKolE,aAAa76B,mBAC9CvqC,KAAKkpE,aAAAA,GACLlpE,KAAKolE,aAAa76B,gBAAAA,OAClBvqC,KAAKolE,aAAal7B,OAAAA;IAAO,GAI7B08B,aAAa9nE,UAAUqqE,kBAAkB,SAAU5B,IAAcz9C,IAAAA;AAC/D,UAAIplB,IAEAiwD,IADAzrC,KAAOY,GAAOhqB,QAEdspE,KAAW;AAEf,WAAK1kE,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACJ,iBAAjBolB,GAAOplB,EAAAA,EAAGglB,OACZirC,KAAY7qC,GAAOplB,EAAAA,EAAGylB,GAAGvmB,GACzBwlE,MAAY7M,iBAAiB5H,IAAWA,GAAUh1D,EAAEG,QAAAA,MAAcynE,EAAAA;AAItE,aAAO6B;IAAAA,GAGTxC,aAAa9nE,UAAU67B,qBAAqB,SAAUypC,IAAS5uD,IAAAA;AAC7DxV,WAAKolE,aAAazqC,mBAAmBypC,IAAS5uD,EAAAA;IAAAA,GAGhDoxD,aAAa9nE,UAAUylE,gBAAgB,SAAUC,IAAAA;AAC/CxkE,WAAKolE,aAAab,cAAcC,EAAAA;IAAAA,GAGlCoC,aAAa9nE,UAAU2lE,qBAAqB,SAAU4E,IAAAA;AACpDrpE,WAAKolE,aAAaX,mBAAmB4E,EAAAA;IAAAA,GAGvCzC,aAAa9nE,UAAUwqE,8BAA8B,SAAUz+C,IAAc08C,IAAcgC,IAAYxC,IAAMC,IAAAA;AAO3G,cANIn8C,GAAay0C,MACfiI,GAAar1B,UAAUrnB,GAAay0C,GAAG,CAAA,GAAIz0C,GAAay0C,GAAG,CAAA,IAAKz0C,GAAak0C,QAAQ,CAAA,GAGvFwI,GAAar1B,UAAU,GAAA,CAAIrnB,GAAaw0C,IAAI,CAAA,GAEpCx0C,GAAanmB,GAAAA;QACnB,KAAA;AACE6iE,UAAAA,GAAar1B,UAAUrnB,GAAaq0C,iBAAiBr0C,GAAam0C,WAAWn0C,GAAau0C,WAAWmK,EAAAA,IAAc,GAAG,CAAA;AACtH;QAEF,KAAA;AACEhC,UAAAA,GAAar1B,UAAUrnB,GAAaq0C,iBAAiBr0C,GAAam0C,WAAWn0C,GAAau0C,WAAWmK,EAAAA,KAAe,GAAG,GAAG,CAAA;MAAA;AAO9HhC,MAAAA,GAAar1B,UAAU60B,IAAMC,IAAM,CAAA;IAAA,GAGrCJ,aAAa9nE,UAAU0qE,aAAa,SAAUC,IAAAA;AAC5C,aAAO,SAAS34D,KAAKsT,MAAqB,MAAfqlD,GAAU,CAAA,CAAA,IAAY,MAAM34D,KAAKsT,MAAqB,MAAfqlD,GAAU,CAAA,CAAA,IAAY,MAAM34D,KAAKsT,MAAqB,MAAfqlD,GAAU,CAAA,CAAA,IAAY;IAAA,GAGjI7C,aAAa9nE,UAAU4qE,YAAY,IAAIpL,eAEvCsI,aAAa9nE,UAAUmyB,UAAU,WAAA;IAAA;AAEjC,QAAI04C,iBAAiB,EACnB7/C,QAAQ,CAAA,EAAA;AAGV,aAAS8/C,qBAAqB9zD,IAAM8f,IAAY3L,IAAAA;AAC9CjqB,WAAK6pE,YAAY,CAAA,GACjB7pE,KAAKimE,aAAa,OAClBjmE,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AA+UrC,aAAS6/C,cAAch0D,IAAM8f,IAAY3L,IAAAA;AACvCjqB,WAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AAgBrC,aAAS8/C,YAAYj0D,IAAM8f,IAAY3L,IAAAA;AACrCjqB,WAAKmlC,UAAAA,GACLnlC,KAAK8tD,aAAah4C,IAAM8f,IAAY3L,EAAAA,GACpCjqB,KAAKmlC,UAAAA,GACLnlC,KAAK8zD,cAAch+C,IAAM8f,IAAY3L,EAAAA,GACrCjqB,KAAKs4D,cAAAA;IAAAA;AAqBP,aAAS0R,kBAAAA;IAAAA;AAkQT,aAASC,eAAAA;IAAAA;AA4GT,aAASC,eAAep0D,IAAM8f,IAAY3L,IAAAA;AACxCjqB,WAAK+oB,SAASjT,GAAKiT,QACnB/oB,KAAKmqE,aAAAA,MACLnqE,KAAK8oB,iBAAAA,OACL9oB,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKqc,WAAWrc,KAAK+oB,SAAS3G,iBAAiBpiB,KAAK+oB,OAAOjpB,MAAAA,IAAU,CAAA,GACrEE,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA,GACnCjqB,KAAK2yB,KAAK7c,GAAK6c,KAAKuS,gBAAgBkG,QAAQprC,MAAM8V,GAAK6c,IAAI,GAAGiD,GAAW7B,WAAW/zB,IAAAA,IAAQ,EAC1FquD,cAAAA,KAAc;IAAA;AAUlB,aAAS+b,YAAYxW,IAAeyW,IAAAA;AAClCrqE,WAAK4zD,gBAAgBA,IACrB5zD,KAAK+oB,SAAS,MACd/oB,KAAK2pC,gBAAAA,IACL3pC,KAAKyU,aAAagT,SAAS,KAAA;AAC3B,UAAI6iD,KAAY;AAEhB,UAAID,MAAUA,GAAOE,OAAO;AAC1B,YAAIC,KAAe/iD,SAAS,OAAA,GACxBgjD,KAAUvkD,gBAAAA;AACdskD,QAAAA,GAAaxhE,aAAa,MAAMyhE,EAAAA,GAChCD,GAAavhE,cAAcohE,GAAOE,OAClCvqE,KAAKyU,WAAWvL,YAAYshE,EAAAA,GAC5BF,MAAaG;MAAAA;AAGf,UAAIJ,MAAUA,GAAOK,aAAa;AAChC,YAAIC,KAAcljD,SAAS,MAAA,GACvBmjD,KAAS1kD,gBAAAA;AACbykD,QAAAA,GAAY3hE,aAAa,MAAM4hE,EAAAA,GAC/BD,GAAY1hE,cAAcohE,GAAOK,aACjC1qE,KAAKyU,WAAWvL,YAAYyhE,EAAAA,GAC5BL,MAAa,MAAMM;MAAAA;AAGjBN,MAAAA,MACFtqE,KAAKyU,WAAWzL,aAAa,mBAAmBshE,EAAAA;AAGlD,UAAIz0C,KAAOpO,SAAS,MAAA;AACpBznB,WAAKyU,WAAWvL,YAAY2sB,EAAAA;AAC5B,UAAI84B,KAAclnC,SAAS,GAAA;AAC3BznB,WAAKyU,WAAWvL,YAAYylD,EAAAA,GAC5B3uD,KAAKsxD,eAAe3C,IACpB3uD,KAAKosD,eAAe,EAClBye,qBAAqBR,MAAUA,GAAOQ,uBAAuB,iBAC7DjS,0BAA0ByR,MAAUA,GAAOzR,4BAA4B,kBACvEkS,mBAAmBT,MAAUA,GAAOS,qBAAqB,WACzD7X,iBAAiBoX,MAAUA,GAAOpX,mBAAAA,OAClC5G,mBAAAA,EAAqBge,MAAAA,UAAUA,GAAOhe,oBACtC0e,aAAaV,MAAUA,GAAOU,eAAAA,OAC9BC,aAAaX,MAAUA,GAAOW,eAAAA,OAC9BC,WAAWZ,MAAUA,GAAOY,aAAa,IACzCjhD,IAAIqgD,MAAUA,GAAOrgD,MAAM,IAC3BkhD,WAAWb,MAAUA,GAAOa,WAC5BC,YAAY,EACV18C,OAAO47C,MAAUA,GAAOc,cAAcd,GAAOc,WAAW18C,SAAS,QACjEC,QAAQ27C,MAAUA,GAAOc,cAAcd,GAAOc,WAAWz8C,UAAU,QACnEqP,GAAGssC,MAAUA,GAAOc,cAAcd,GAAOc,WAAWptC,KAAK,MACzDp7B,GAAG0nE,MAAUA,GAAOc,cAAcd,GAAOc,WAAWxoE,KAAK,KAAA,GAE3D8rB,OAAO47C,MAAUA,GAAO57C,OACxBC,QAAQ27C,MAAUA,GAAO37C,QACzB08C,gBAAAA,CAAiBf,MAAAA,WAAUA,GAAOe,kBAAgCf,GAAOe,eAAAA,GAE3EprE,KAAK41B,aAAa,EAChBsU,MAAAA,OACA5E,UAAAA,IACAzP,MAAMA,IACNu2B,cAAcpsD,KAAKosD,aAAAA,GAErBpsD,KAAKqc,WAAW,CAAA,GAChBrc,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKqrE,YAAAA,OACLrrE,KAAKg4B,eAAe;IAAA;AAStB,aAASszC,gBAAAA;AAKP,UAAI3rE;AAIJ,WARAK,KAAKurE,QAAQ,CAAA,GACbvrE,KAAKwrE,UAAU,GACfxrE,KAAKyrE,MAAM,IAAI36B,UACf9wC,KAAK0rE,KAAK,GAGV1rE,KAAK2rE,UAAU7pD,iBAAiB,WADtB,EAAA,GAGLniB,KAAI,GAAGA,KAHF,IAGWA,MAAK;AACxBK,aAAKurE,MAAM5rE,EAAAA,IAAKmiB,iBAAiB,WAAW,EAAA;AAG9C9hB,WAAK0/B,UAPK;IAAA;AA8BZ,aAASksC,wBAAAA;AACP5rE,WAAK6rE,YAAY,CAAA,GACjB7rE,KAAK8rE,eAAe,CAAA,GACpB9rE,KAAK+rE,sBAAsB;IAAA;AAmE7B,aAASC,YAAAA;IAAAA;AAIT,aAASC,cAAcn2D,IAAMoD,IAAAA;AAK3B,UAAIvZ;AAJJK,WAAK8V,OAAOA,IACZ9V,KAAKkZ,UAAUA,IACflZ,KAAKupB,kBAAkBvpB,KAAK8V,KAAKyT,mBAAmB,CAAA,GACpDvpB,KAAK4uD,WAAWxsC,iBAAiBpiB,KAAKupB,gBAAgBzpB,MAAAA;AAEtD,UAAI+f,KAAM7f,KAAKupB,gBAAgBzpB,QAC3BosE,KAAAA;AAEJ,WAAKvsE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACa,gBAAjCK,KAAKupB,gBAAgB5pB,EAAAA,EAAG4Q,SAC1B27D,KAAAA,OAGFlsE,KAAK4uD,SAASjvD,EAAAA,IAAK6tC,qBAAqB6hB,aAAarvD,KAAKkZ,SAASlZ,KAAKupB,gBAAgB5pB,EAAAA,GAAI,CAAA;AAG9FK,WAAKksE,WAAWA,IAEZA,MACFlsE,KAAKkZ,QAAQyyC,uBAAuB3rD,IAAAA;IAAAA;AAsDxC,aAASmsE,gBAAAA;IAAAA;AAoET,aAASC,YAAYlzD,IAASpD,IAAMvN,IAAQ8jE,IAAAA;AAC1CrsE,WAAKssE,eAAe,CAAA,GACpBtsE,KAAKoiD,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAA;AAC1B,UAWIziD,IAXA+pB,KAAK;AAEO,eAAZ5T,GAAK4T,KACPA,KAAK,IACgB,SAAZ5T,GAAK4T,KACdA,KAAK,IACgB,SAAZ5T,GAAK4T,OACdA,KAAK,IAGP1pB,KAAK8nC,KAAK0F,qBAAqB6hB,aAAan2C,IAASpD,IAAM4T,IAAIxQ,EAAAA;AAE/D,UACIqzD,IADA1sD,KAAMtX,GAAOzI;AAGjB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACnB4I,QAAAA,GAAO5I,EAAAA,EAAGmsB,WACbygD,KAAc,EACZlY,YAAYgY,GAAkBG,qBAAqBjkE,GAAO5I,EAAAA,EAAG00D,UAAAA,GAC7DoY,SAAS,CAAA,EAAA,GAEXzsE,KAAKssE,aAAa9oE,KAAK+oE,EAAAA,GACvBhkE,GAAO5I,EAAAA,EAAG0c,SAAS7Y,KAAK+oE,EAAAA;IAAAA;AAO9B,aAASG,eAAe52D,IAAM8f,IAAY3L,IAAAA;AACxCjqB,WAAK8pB,SAAS,CAAA,GACd9pB,KAAK+wD,aAAaj7C,GAAKgU,QACvB9pB,KAAKo+D,aAAa,CAAA,GAClBp+D,KAAKgxD,YAAY,CAAA,GACjBhxD,KAAKo7D,eAAe,CAAA,GACpBp7D,KAAK84D,iBAAiB,CAAA,GACtB94D,KAAKm5D,oBAAoB,CAAA,GACzBn5D,KAAKqsE,oBAAoB,IAAIT,yBAC7B5rE,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AAuhBrC,aAAS0iD,cAAc72D,IAAM8f,IAAY3L,IAAAA;AACvCjqB,WAAK6pE,YAAY,CAAA,GACjB7pE,KAAK0/D,UAAU,GACf1/D,KAAKu/D,gBAAAA,OACLv/D,KAAKw/D,kBAAAA,OACLx/D,KAAKy/D,kBAAAA,OACLz/D,KAAK4sE,SAAAA,OACL5sE,KAAKmZ,OAAAA,OACLnZ,KAAKk/D,gBAAgB,GACrBl/D,KAAK6sE,gBAAgB,MACrB7sE,KAAKimE,aAAa,UAClBjmE,KAAKiI,SAAS,EACZkR,MAAM,iBACNyzD,QAAQ,iBACRE,QAAQ,GACRC,QAAQ,GAAA,GAEV/sE,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AAiOrC,aAAS+iD,eAAel3D,IAAM8f,IAAY3L,IAAAA;AACxCjqB,WAAKuvB,YAAYqG,GAAW2E,aAAazkB,GAAK8T,KAAAA,GAC9C5pB,KAAK6vB,MAAM+F,GAAWi4B,YAAY38B,SAASlxB,KAAKuvB,SAAAA,GAChDvvB,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AA0CrC,aAASgjD,eAAen3D,IAAM8f,IAAY3L,IAAAA;AACxCjqB,WAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AAarC,aAASijD,mBAAmBtZ,IAAeyW,IAAAA;AACzCrqE,WAAK4zD,gBAAgBA,IACrB5zD,KAAKosD,eAAe,EAClB+gB,aAAAA,CAAa9C,MAAAA,WAAUA,GAAO8C,eAA4B9C,GAAO8C,aACjEC,SAAS/C,MAAUA,GAAO+C,WAAW,MACrCna,iBAAiBoX,MAAUA,GAAOpX,mBAAAA,OAClC4X,qBAAqBR,MAAUA,GAAOQ,uBAAuB,iBAC7DjS,0BAA0ByR,MAAUA,GAAOzR,4BAA4B,kBACvEkS,mBAAmBT,MAAUA,GAAOS,qBAAqB,WACzDG,WAAWZ,MAAUA,GAAOY,aAAa,IACzCjhD,IAAIqgD,MAAUA,GAAOrgD,MAAM,GAAA,GAE7BhqB,KAAKosD,aAAaihB,MAAMhD,MAAUA,GAAOgD,OAAO,GAE5CrtE,KAAK4zD,cAAcp+B,YACrBx1B,KAAKosD,aAAaihB,MAAMhD,MAAUA,GAAOgD,OAAOxmE,OAAOymE,oBAAoB,IAG7EttE,KAAK2pC,gBAAAA,IACL3pC,KAAK41B,aAAa,EAChB0P,UAAAA,IACA4E,MAAAA,OACAkiB,cAAcpsD,KAAKosD,cACnBmhB,oBAAAA,GAAqB,GAEvBvtE,KAAKwtE,cAAc,IAAIlC,iBACvBtrE,KAAKqc,WAAW,CAAA,GAChBrc,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKytE,eAAe,IAAI38B,UACxB9wC,KAAK8oB,iBAAAA,OACL9oB,KAAKg4B,eAAe;IAAA;AAgWtB,aAAS01C,cAAc53D,IAAM8f,IAAY3L,IAAAA;AACvCjqB,WAAK8oB,iBAAAA,OACL9oB,KAAK+oB,SAASjT,GAAKiT,QACnB/oB,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKqc,WAAW+F,iBAAiBpiB,KAAK+oB,OAAOjpB,MAAAA,GAC7CE,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA,GACnCjqB,KAAK2yB,KAAK7c,GAAK6c,KAAKuS,gBAAgBkG,QAAQprC,MAAM8V,GAAK6c,IAAI,GAAGiD,GAAW7B,WAAW/zB,IAAAA,IAAQ,EAC1FquD,cAAAA,KAAc;IAAA;AA2ClB,aAASsf,eAAe/Z,IAAeyW,IAAAA;AACrCrqE,WAAK4zD,gBAAgBA,IACrB5zD,KAAKosD,eAAe,EAClB+gB,aAAAA,CAAa9C,MAAAA,WAAUA,GAAO8C,eAA4B9C,GAAO8C,aACjEC,SAAS/C,MAAUA,GAAO+C,WAAW,MACrCna,iBAAiBoX,MAAUA,GAAOpX,mBAAAA,OAClC4X,qBAAqBR,MAAUA,GAAOQ,uBAAuB,iBAC7DjS,0BAA0ByR,MAAUA,GAAOzR,4BAA4B,kBACvEkS,mBAAmBT,MAAUA,GAAOS,qBAAqB,WACzDG,WAAWZ,MAAUA,GAAOY,aAAa,IACzCjhD,IAAIqgD,MAAUA,GAAOrgD,MAAM,IAC3BohD,gBAAAA,CAAiBf,MAAAA,WAAUA,GAAOe,kBAAgCf,GAAOe,eAAAA,GAE3EprE,KAAKosD,aAAaihB,MAAMhD,MAAUA,GAAOgD,OAAO,GAE5CrtE,KAAK4zD,cAAcp+B,YACrBx1B,KAAKosD,aAAaihB,MAAMhD,MAAUA,GAAOgD,OAAOxmE,OAAOymE,oBAAoB,IAG7EttE,KAAK2pC,gBAAAA,IACL3pC,KAAK41B,aAAa,EAChB0P,UAAAA,IACA4E,MAAAA,OACAkiB,cAAcpsD,KAAKosD,cACnBmhB,oBAAAA,GAAqB,GAEvBvtE,KAAKwtE,cAAc,IAAIlC,iBACvBtrE,KAAKqc,WAAW,CAAA,GAChBrc,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKytE,eAAe,IAAI38B,UACxB9wC,KAAK8oB,iBAAAA,OACL9oB,KAAKg4B,eAAe;IAAA;AAStB,aAAS41C,eAAAA;IAAAA;AAwFT,aAASC,cAAc/3D,IAAM8f,IAAY3L,IAAAA;AACvCjqB,WAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AAyBrC,aAAS6jD,cAAch4D,IAAM8f,IAAY3L,IAAAA;AAEvCjqB,WAAK8pB,SAAS,CAAA,GAEd9pB,KAAK+wD,aAAaj7C,GAAKgU,QAEvB9pB,KAAKo+D,aAAa,CAAA,GAElBp+D,KAAK84D,iBAAiB,CAAA,GAEtB94D,KAAKgxD,YAAY,CAAA,GAEjBhxD,KAAKm5D,oBAAoB,CAAA,GAEzBn5D,KAAKq+D,mBAAmB,CAAA,GACxBr+D,KAAK+tE,kBAAkBtmD,SAAS,GAAA,GAChCznB,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA,GAGnCjqB,KAAKo7D,eAAe,CAAA,GACpBp7D,KAAKguE,cAAc,EACjBjwC,GAAG,QACHp7B,GAAAA,SACA+V,GAAG,GACHiuC,GAAG,EAAA;IAAA;AAiOP,aAASsnB,aAAan4D,IAAM8f,IAAY3L,IAAAA;AACtCjqB,WAAK6pE,YAAY,CAAA,GACjB7pE,KAAKkuE,YAAY,CAAA,GACjBluE,KAAKguE,cAAc,EACjBjwC,GAAG,QACHp7B,GAAAA,SACA+V,GAAG,GACHiuC,GAAG,EAAA,GAEL3mD,KAAKimE,aAAa,OAClBjmE,KAAKmuE,WAAAA,OACLnuE,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AA0RrC,aAASmkD,eAAet4D,IAAM8f,IAAY3L,IAAAA;AACxCjqB,WAAKmlC,UAAAA,GACLnlC,KAAK8tD,aAAah4C,IAAM8f,IAAY3L,EAAAA,GACpCjqB,KAAKs4D,cAAAA;AACL,UAAIltB,KAAUlG,gBAAgBkG;AAe9B,UAdAprC,KAAKquE,KAAKjjC,GAAQprC,MAAM8V,GAAKu4D,IAAI,GAAG,GAAGruE,IAAAA,GAEnC8V,GAAKqU,GAAGtrB,EAAEa,KACZM,KAAK26C,KAAKvP,GAAQprC,MAAM8V,GAAKqU,GAAGtrB,EAAEk/B,GAAG,GAAG,GAAG/9B,IAAAA,GAC3CA,KAAK46C,KAAKxP,GAAQprC,MAAM8V,GAAKqU,GAAGtrB,EAAE8D,GAAG,GAAG,GAAG3C,IAAAA,GAC3CA,KAAK66C,KAAKzP,GAAQprC,MAAM8V,GAAKqU,GAAGtrB,EAAE41C,GAAG,GAAG,GAAGz0C,IAAAA,KAE3CA,KAAKnB,IAAIusC,GAAQprC,MAAM8V,GAAKqU,GAAGtrB,GAAG,GAAG,GAAGmB,IAAAA,GAGtC8V,GAAKqU,GAAG1lB,MACVzE,KAAKyE,IAAI2mC,GAAQprC,MAAM8V,GAAKqU,GAAG1lB,GAAG,GAAG,GAAGzE,IAAAA,IAGtC8V,GAAKqU,GAAGqlB,GAAG5rC,EAAE9D,UAAUgW,GAAKqU,GAAGqlB,GAAG5rC,EAAE,CAAA,EAAGiB,IAAI;AAC7C,YAAIlF,IACAkgB,KAAM/J,GAAKqU,GAAGqlB,GAAG5rC,EAAE9D;AAEvB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBmW,UAAAA,GAAKqU,GAAGqlB,GAAG5rC,EAAEjE,EAAAA,EAAGkF,KAAK,MACrBiR,GAAKqU,GAAGqlB,GAAG5rC,EAAEjE,EAAAA,EAAGonC,KAAK;MAAA;AAIzB/mC,WAAKwvC,KAAKpE,GAAQprC,MAAM8V,GAAKqU,GAAGqlB,IAAI,GAAGzrB,WAAW/jB,IAAAA,GAClDA,KAAKwvC,GAAG1H,KAAAA,MACR9nC,KAAK86C,KAAK1P,GAAQprC,MAAM8V,GAAKqU,GAAG2wB,IAAI,GAAG/2B,WAAW/jB,IAAAA,GAClDA,KAAK+6C,KAAK3P,GAAQprC,MAAM8V,GAAKqU,GAAG4wB,IAAI,GAAGh3B,WAAW/jB,IAAAA,GAClDA,KAAKg7C,KAAK5P,GAAQprC,MAAM8V,GAAKqU,GAAG6wB,IAAI,GAAGj3B,WAAW/jB,IAAAA,GAClDA,KAAKm7C,MAAM,IAAIrK,UACf9wC,KAAKsuE,WAAW,IAAIx9B,UACpB9wC,KAAKuqC,gBAAAA,MAELvqC,KAAKksD,iBAAiB,EACpBC,OAAOnsD,KAAAA;IAAAA;AA2IX,aAASuuE,cAAcz4D,IAAM8f,IAAY3L,IAAAA;AACvCjqB,WAAKuvB,YAAYqG,GAAW2E,aAAazkB,GAAK8T,KAAAA,GAC9C5pB,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA;IAAAA;AA6BrC,aAASukD,mBAAmB5a,IAAeyW,IAAAA;AACzCrqE,WAAK4zD,gBAAgBA,IACrB5zD,KAAK+oB,SAAS,MACd/oB,KAAK2pC,gBAAAA,IACL3pC,KAAKosD,eAAe,EAClB6e,WAAWZ,MAAUA,GAAOY,aAAa,IACzCrS,0BAA0ByR,MAAUA,GAAOzR,4BAA4B,kBACvEvM,mBAAAA,EAAqBge,MAAAA,UAAUA,GAAOhe,oBACtC8e,YAAY,EACV18C,OAAO47C,MAAUA,GAAOc,cAAcd,GAAOc,WAAW18C,SAAS,QACjEC,QAAQ27C,MAAUA,GAAOc,cAAcd,GAAOc,WAAWz8C,UAAU,QACnEqP,GAAGssC,MAAUA,GAAOc,cAAcd,GAAOc,WAAWptC,KAAK,SACzDp7B,GAAG0nE,MAAUA,GAAOc,cAAcd,GAAOc,WAAWxoE,KAAK,QAAA,EAAA,GAG7D3C,KAAK41B,aAAa,EAChBsU,MAAAA,OACA5E,UAAAA,IACA8mB,cAAcpsD,KAAKosD,aAAAA,GAErBpsD,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKqc,WAAW,CAAA,GAChBrc,KAAKyuE,iBAAiB,CAAA,GACtBzuE,KAAKqrE,YAAAA,OACLrrE,KAAK0uE,SAAS,MACd1uE,KAAKmqE,aAAAA,MACLnqE,KAAKg4B,eAAe;IAAA;AAwUtB,aAAS22C,aAAa74D,IAAM8f,IAAY3L,IAAAA;AACtCjqB,WAAK+oB,SAASjT,GAAKiT,QACnB/oB,KAAKmqE,aAAAA,CAAcr0D,GAAKuT,SACxBrpB,KAAK8oB,iBAAAA,OACL9oB,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKqc,WAAWrc,KAAK+oB,SAAS3G,iBAAiBpiB,KAAK+oB,OAAOjpB,MAAAA,IAAU,CAAA,GACrEE,KAAKm2D,YAAYrgD,IAAM8f,IAAY3L,EAAAA,GACnCjqB,KAAK2yB,KAAK7c,GAAK6c,KAAKuS,gBAAgBkG,QAAQprC,MAAM8V,GAAK6c,IAAI,GAAGiD,GAAW7B,WAAW/zB,IAAAA,IAAQ,EAC1FquD,cAAAA,KAAc;IAAA;AA+ClB,aAASugB,eAAehb,IAAeyW,IAAAA;AACrCrqE,WAAK4zD,gBAAgBA,IACrB5zD,KAAK+oB,SAAS,MACd/oB,KAAK2pC,gBAAAA,IACL3pC,KAAKosD,eAAe,EAClB6e,WAAWZ,MAAUA,GAAOY,aAAa,IACzCrS,0BAA0ByR,MAAUA,GAAOzR,4BAA4B,kBACvEvM,mBAAAA,EAAqBge,MAAAA,UAAUA,GAAOhe,oBACtC8e,YAAY,EACV18C,OAAO47C,MAAUA,GAAOc,cAAcd,GAAOc,WAAW18C,SAAS,QACjEC,QAAQ27C,MAAUA,GAAOc,cAAcd,GAAOc,WAAWz8C,UAAU,QACnEqP,GAAGssC,MAAUA,GAAOc,cAAcd,GAAOc,WAAWptC,KAAK,SACzDp7B,GAAG0nE,MAAUA,GAAOc,cAAcd,GAAOc,WAAWxoE,KAAK,QAAA,GAE3DyoE,gBAAAA,CAAiBf,MAAAA,WAAUA,GAAOe,kBAAgCf,GAAOe,eAAAA,GAE3EprE,KAAK41B,aAAa,EAChBsU,MAAAA,OACA5E,UAAAA,IACA8mB,cAAcpsD,KAAKosD,aAAAA,GAErBpsD,KAAKwzD,kBAAkB,CAAA,GACvBxzD,KAAKqc,WAAW,CAAA,GAChBrc,KAAKyuE,iBAAiB,CAAA,GACtBzuE,KAAKqrE,YAAAA,OACLrrE,KAAK0uE,SAAS,MACd1uE,KAAKmqE,aAAAA,MACLnqE,KAAKg4B,eAAe;IAAA;AAtpHtBvY,oBAAgB,CAACiuC,aAAae,kBAAkBsH,gBAAgBC,kBAAkBrI,cAAcsI,sBAAsB2Q,YAAAA,GAAegD,oBAAAA,GAErIA,qBAAqB9qE,UAAU05D,gBAAgB,WAAA;AACzCx4D,WAAK8V,KAAK+4D,eAAAA,CAAgB7uE,KAAK41B,WAAWkB,YAAY7L,UACxDjrB,KAAK8uE,gBAAgBrnD,SAAS,MAAA;IAAA,GAIlCmiD,qBAAqB9qE,UAAUiwE,oBAAoB,SAAUC,IAAAA;AAM3D,eALIrvE,KAAI,GACJkgB,KAAMmvD,GAAUlvE,QAChBmvE,KAAe,CAAA,GACfC,KAAqB,IAElBvvE,KAAIkgB;AACLmvD,QAAAA,GAAUrvE,EAAAA,MAAOR,OAAOgwE,aAAa,EAAA,KAAOH,GAAUrvE,EAAAA,MAAOR,OAAOgwE,aAAa,CAAA,KACnFF,GAAazrE,KAAK0rE,EAAAA,GAClBA,KAAqB,MAErBA,MAAsBF,GAAUrvE,EAAAA,GAGlCA,MAAK;AAIP,aADAsvE,GAAazrE,KAAK0rE,EAAAA,GACXD;IAAAA,GAGTrF,qBAAqB9qE,UAAUswE,iBAAiB,SAAUt5D,IAAMi8B,IAAAA;AAK9D,UAAIj8B,GAAKgU,UAAUhU,GAAKgU,OAAOhqB,QAAQ;AACrC,YAAIktC,KAAQl3B,GAAKgU,OAAO,CAAA;AAExB,YAAIkjB,GAAM5iB,IAAI;AACZ,cAAIilD,KAAYriC,GAAM5iB,GAAG4iB,GAAM5iB,GAAGtqB,SAAS,CAAA;AAEvCuvE,UAAAA,GAAU3vE,MACZ2vE,GAAU3vE,EAAEkE,EAAE,CAAA,IAAKmuC,IACnBs9B,GAAU3vE,EAAEkE,EAAE,CAAA,IAAKmuC;QAAAA;MAAAA;AAKzB,aAAOj8B;IAAAA,GAGT8zD,qBAAqB9qE,UAAUoqE,eAAe,WAAA;AAE5C,UAAIvpE,IACAkgB;AAFJ7f,WAAK4qC,mBAAmB5qC,IAAAA;AAGxB,UAAI6qB,KAAe7qB,KAAKolE,aAAatG;AACrC9+D,WAAK0mE,kBAAkBtkD,iBAAiByI,KAAeA,GAAa7lB,EAAElF,SAAS,CAAA,GAE3E+qB,GAAa2zC,KACfx+D,KAAKsxD,aAAatoD,aAAa,QAAQhJ,KAAKwpE,WAAW3+C,GAAa2zC,EAAAA,CAAAA,IAEpEx+D,KAAKsxD,aAAatoD,aAAa,QAAQ,eAAA,GAGrC6hB,GAAa0/B,OACfvqD,KAAKsxD,aAAatoD,aAAa,UAAUhJ,KAAKwpE,WAAW3+C,GAAa0/B,EAAAA,CAAAA,GACtEvqD,KAAKsxD,aAAatoD,aAAa,gBAAgB6hB,GAAa0zC,EAAAA,IAG9Dv+D,KAAKsxD,aAAatoD,aAAa,aAAa6hB,GAAa80C,SAAAA;AACzD,UAAI3d,KAAWhiD,KAAK41B,WAAWkB,YAAY+zB,cAAchgC,GAAanoB,CAAAA;AAEtE,UAAIs/C,GAASmG;AACXnoD,aAAKsxD,aAAatoD,aAAa,SAASg5C,GAASmG,MAAAA;WAC5C;AACLnoD,aAAKsxD,aAAatoD,aAAa,eAAeg5C,GAASkG,OAAAA;AACvD,YAAIhG,KAAUr3B,GAAaq3B,SACvBD,KAASp3B,GAAao3B;AAC1BjiD,aAAKsxD,aAAatoD,aAAa,cAAci5C,EAAAA,GAC7CjiD,KAAKsxD,aAAatoD,aAAa,eAAek5C,EAAAA;MAAAA;AAGhDliD,WAAKsxD,aAAatoD,aAAa,cAAc6hB,GAAaprB,CAAAA;AAC1D,UAGI6vE,IAHAhN,KAAUz3C,GAAa7lB,KAAK,CAAA,GAC5BuqE,KAAAA,CAAAA,CAAevvE,KAAK41B,WAAWkB,YAAY7L;AAC/CpL,MAAAA,KAAMyiD,GAAQxiE;AAEd,UAAIynE,KAAevnE,KAAKu0D,SAEpBsa,KAAc7uE,KAAK8V,KAAK+4D,aACxB9H,KAAO,GACPC,KAAO,GACPa,KAAAA,MACAhF,KAAmC,OAAlBh4C,GAAau3B,KAAav3B,GAAa80C;AAE5D,UAAA,CAAIkP,MAAgBU,MAAe1kD,GAAamnB,IA4CzC;AACL,YACI9mB,IADAskD,KAAoBxvE,KAAK6pE,UAAU/pE;AAGvC,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAS3B,cARKK,KAAK6pE,UAAUlqE,EAAAA,MAClBK,KAAK6pE,UAAUlqE,EAAAA,IAAK,EAClB8vE,MAAM,MACNC,WAAW,MACXC,OAAO,KAAA,IAAA,CAINJ,MAAAA,CAAeV,MAAqB,MAANlvE,IAAS;AAG1C,gBAFA2vE,KAAQE,KAAoB7vE,KAAIK,KAAK6pE,UAAUlqE,EAAAA,EAAG8vE,OAAOhoD,SAAS8nD,KAAa,MAAM,MAAA,GAEjFC,MAAqB7vE,IAAG;AAM1B,kBALA2vE,GAAMtmE,aAAa,kBAAkB,MAAA,GACrCsmE,GAAMtmE,aAAa,mBAAmB,OAAA,GACtCsmE,GAAMtmE,aAAa,qBAAqB,GAAA,GACxChJ,KAAK6pE,UAAUlqE,EAAAA,EAAG8vE,OAAOH,IAErBC,IAAY;AACd,oBAAIG,KAAYjoD,SAAS,GAAA;AACzB6nD,gBAAAA,GAAMpmE,YAAYwmE,EAAAA,GAClB1vE,KAAK6pE,UAAUlqE,EAAAA,EAAG+vE,YAAYA;cAAAA;AAGhC1vE,mBAAK6pE,UAAUlqE,EAAAA,EAAG8vE,OAAOH,IACzBtvE,KAAKsxD,aAAapoD,YAAYomE,EAAAA;YAAAA;AAGhCA,YAAAA,GAAM3mE,MAAM8b,UAAU;UAAA;AAmBxB,cAhBA8iD,GAAaj5B,MAAAA,GAETugC,OACEvM,GAAQ3iE,EAAAA,EAAGC,MACbmnE,KAAAA,CAAQlE,IACRmE,MAAQn8C,GAAa60C,SACrBsH,MAAQa,KAAY,IAAI,GACxBA,KAAAA,QAGF7nE,KAAKspE,4BAA4Bz+C,IAAc08C,IAAcjF,GAAQ3iE,EAAAA,EAAGuyB,MAAM60C,IAAMC,EAAAA,GACpFD,MAAQzE,GAAQ3iE,EAAAA,EAAGqF,KAAK,GAExB+hE,MAAQlE,KAGN0M,IAAY;AAEd,gBAAIK;AAEJ,gBAAmB,OAHnB1kD,KAAWlrB,KAAK41B,WAAWkB,YAAY0zB,YAAY3/B,GAAa+0C,UAAUjgE,EAAAA,GAAIqiD,GAASC,QAAQjiD,KAAK41B,WAAWkB,YAAY+zB,cAAchgC,GAAanoB,CAAAA,EAAGwlD,OAAAA,GAG5IzoD;AACXmwE,cAAAA,KAAe,IAAI1F,eAAeh/C,GAASpV,MAAM9V,KAAK41B,YAAY51B,IAAAA;iBAC7D;AACL,kBAAI8V,KAAO6zD;AAEPz+C,cAAAA,GAASpV,QAAQoV,GAASpV,KAAKgU,WACjChU,KAAO9V,KAAKovE,eAAelkD,GAASpV,MAAM+U,GAAa80C,SAAAA,IAGzDiQ,KAAe,IAAIzR,gBAAgBroD,IAAM9V,KAAK41B,YAAY51B,IAAAA;YAAAA;AAG5D,gBAAIA,KAAK6pE,UAAUlqE,EAAAA,EAAGgwE,OAAO;AAC3B,kBAAIA,KAAQ3vE,KAAK6pE,UAAUlqE,EAAAA,EAAGgwE;AAC9B3vE,mBAAK6pE,UAAUlqE,EAAAA,EAAG+vE,UAAUtkB,YAAYukB,GAAMre,YAAAA,GAC9Cqe,GAAM1+C,QAAAA;YAAAA;AAGRjxB,iBAAK6pE,UAAUlqE,EAAAA,EAAGgwE,QAAQC,IAC1BA,GAAaC,SAAAA,MACbD,GAAax8C,aAAa,CAAA,GAC1Bw8C,GAAap3C,YAAAA,GACbx4B,KAAK6pE,UAAUlqE,EAAAA,EAAG+vE,UAAUxmE,YAAY0mE,GAAate,YAAAA,GAGlC,MAAfpmC,GAASzrB,KACXO,KAAK6pE,UAAUlqE,EAAAA,EAAG+vE,UAAU1mE,aAAa,aAAa,WAAW6hB,GAAa80C,YAAY,MAAM,MAAM90C,GAAa80C,YAAY,MAAM,GAAA;UAAA;AAGnIkP,YAAAA,MACFS,GAAMtmE,aAAa,aAAa,eAAeu+D,GAAan7D,MAAM,EAAA,IAAM,MAAMm7D,GAAan7D,MAAM,EAAA,IAAM,GAAA,GAGzGkjE,GAAMrmE,cAAcq5D,GAAQ3iE,EAAAA,EAAGikB,KAC/B0rD,GAAMh+C,eAAe,wCAAwC,aAAa,UAAA;QAAA;AAK1Eu9C,QAAAA,MAAeS,MACjBA,GAAMtmE,aAAa,KAlJR,EAAA;MAAA,OAOqC;AAClD,YAAI8mE,KAAW9vE,KAAK8uE,eAChBiB,KAAU;AAEd,gBAAQllD,GAAanmB,GAAAA;UACnB,KAAA;AACEqrE,YAAAA,KAAU;AACV;UAEF,KAAA;AACEA,YAAAA,KAAU;AACV;UAEF;AACEA,YAAAA,KAAU;QAAA;AAIdD,QAAAA,GAAS9mE,aAAa,eAAe+mE,EAAAA,GACrCD,GAAS9mE,aAAa,kBAAkB65D,EAAAA;AACxC,YAAI55D,KAAcjJ,KAAK+uE,kBAAkBlkD,GAAa+0C,SAAAA;AAItD,aAHA//C,KAAM5W,GAAYnJ,QAClBknE,KAAOn8C,GAAay0C,KAAKz0C,GAAay0C,GAAG,CAAA,IAAKz0C,GAAak0C,SAAS,GAE/Dp/D,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,WACxB2vE,KAAQtvE,KAAK6pE,UAAUlqE,EAAAA,EAAG8vE,QAAQhoD,SAAS,OAAA,GACrCxe,cAAcA,GAAYtJ,EAAAA,GAChC2vE,GAAMtmE,aAAa,KAAK,CAAA,GACxBsmE,GAAMtmE,aAAa,KAAKg+D,EAAAA,GACxBsI,GAAM3mE,MAAM8b,UAAU,WACtBqrD,GAAS5mE,YAAYomE,EAAAA,GAEhBtvE,KAAK6pE,UAAUlqE,EAAAA,MAClBK,KAAK6pE,UAAUlqE,EAAAA,IAAK,EAClB8vE,MAAM,MACNE,OAAO,KAAA,IAIX3vE,KAAK6pE,UAAUlqE,EAAAA,EAAG8vE,OAAOH,IACzBtI,MAAQn8C,GAAag1C;AAGvB7/D,aAAKsxD,aAAapoD,YAAY4mE,EAAAA;MAAAA;AAoGhC,aAAOnwE,KAAIK,KAAK6pE,UAAU/pE;AACxBE,aAAK6pE,UAAUlqE,EAAAA,EAAG8vE,KAAK9mE,MAAM8b,UAAU,QACvC9kB,MAAK;AAGPK,WAAK22D,eAAAA;IAAe,GAGtBiT,qBAAqB9qE,UAAUytD,mBAAmB,WAAA;AAIhD,UAHAvsD,KAAKozB,aAAapzB,KAAKiqB,KAAK0f,gBAAgB3pC,KAAK8V,KAAKsV,EAAAA,GACtDprB,KAAKy4D,mBAAAA,GAEDz4D,KAAK22D,cAAc;AACrB32D,aAAK22D,eAAAA;AACL,YAAIqZ,KAAUhwE,KAAKsxD,aAAathC,QAAAA;AAChChwB,aAAKiwE,OAAO,EACV1rD,KAAKyrD,GAAQrtE,GACb6hB,MAAMwrD,GAAQjyC,GACdtP,OAAOuhD,GAAQvhD,OACfC,QAAQshD,GAAQthD,OAAAA;MAAAA;AAIpB,aAAA,KAAYuhD;IAAAA,GAGdrG,qBAAqB9qE,UAAUisC,WAAW,WAAA;AACxC,UAAIprC,IAEAiwE,IADA/vD,KAAM7f,KAAK6pE,UAAU/pE;AAIzB,WAFAE,KAAK2pC,gBAAgB3pC,KAAKiqB,KAAK0f,eAE1BhqC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,SACxBiwE,KAAe5vE,KAAK6pE,UAAUlqE,EAAAA,EAAGgwE,WAG/BC,GAAax8C,aAAapzB,KAAKiqB,KAAK0f,gBAAgB3pC,KAAK8V,KAAKsV,EAAAA,GAE1DwkD,GAAa1lC,SACflqC,KAAKkqC,OAAAA;IAAO,GAMpB0/B,qBAAqB9qE,UAAU25D,qBAAqB,WAAA;AAClD,WAAA,CAAKz4D,KAAK8V,KAAK+4D,eAAe7uE,KAAKkqC,UACjClqC,KAAKipE,aAAanC,YAAY9mE,KAAKolE,aAAatG,aAAa9+D,KAAK2mE,kBAAAA,GAE9D3mE,KAAK2mE,sBAAsB3mE,KAAKipE,aAAatC,qBAAoB;AAEnE,YAAIhnE,IACAkgB;AAFJ7f,aAAK22D,eAAAA;AAGL,YAGIuZ,IACAC,IACAP,IALAlJ,KAAkB1mE,KAAKipE,aAAavC,iBACpCpE,KAAUtiE,KAAKolE,aAAatG,YAAY95D;AAM5C,aALA6a,KAAMyiD,GAAQxiE,QAKTH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACnB2iE,UAAAA,GAAQ3iE,EAAAA,EAAGC,MACdswE,KAAiBxJ,GAAgB/mE,EAAAA,GACjCwwE,KAAWnwE,KAAK6pE,UAAUlqE,EAAAA,EAAG8vE,OAC7BG,KAAe5vE,KAAK6pE,UAAUlqE,EAAAA,EAAGgwE,UAG/BC,GAAap3C,YAAAA,GAGX03C,GAAehmC,KAAKvmC,KACtBwsE,GAASnnE,aAAa,aAAaknE,GAAevsE,CAAAA,GAGhDusE,GAAehmC,KAAKxmC,KACtBysE,GAASnnE,aAAa,WAAWknE,GAAexsE,CAAAA,GAG9CwsE,GAAehmC,KAAKq0B,MACtB4R,GAASnnE,aAAa,gBAAgBknE,GAAe3R,EAAAA,GAGnD2R,GAAehmC,KAAKqgB,MACtB4lB,GAASnnE,aAAa,UAAUknE,GAAe3lB,EAAAA,GAG7C2lB,GAAehmC,KAAKs0B,MACtB2R,GAASnnE,aAAa,QAAQknE,GAAe1R,EAAAA;MAAAA;IAAAA,GAYzD/+C,gBAAgB,CAACy2C,aAAAA,GAAgB4T,aAAAA,GAEjCA,cAAchrE,UAAU05D,gBAAgB,WAAA;AACtC,UAAI1J,KAAOrnC,SAAS,MAAA;AAIpBqnC,MAAAA,GAAK9lD,aAAa,SAAShJ,KAAK8V,KAAKyoD,EAAAA,GACrCzP,GAAK9lD,aAAa,UAAUhJ,KAAK8V,KAAKgyB,EAAAA,GACtCgnB,GAAK9lD,aAAa,QAAQhJ,KAAK8V,KAAKy0C,EAAAA,GACpCvqD,KAAKsxD,aAAapoD,YAAY4lD,EAAAA;IAAAA,GAWhCib,YAAYjrE,UAAUs0B,eAAe,SAAU24B,IAAAA;AAC7C/rD,WAAKyxD,kBAAkB1F,IAAAA,IAAK;IAAA,GAG9Bge,YAAYjrE,UAAU05B,cAAc,WAAA;IAAA,GAEpCuxC,YAAYjrE,UAAU8yD,iBAAiB,WAAA;AACrC,aAAA;IAAA,GAGFmY,YAAYjrE,UAAUmyB,UAAU,WAAA;IAAA,GAEhC84C,YAAYjrE,UAAUytD,mBAAmB,WAAA;IAAA,GAEzCwd,YAAYjrE,UAAU07B,OAAO,WAAA;IAAA,GAE7B/a,gBAAgB,CAACiuC,aAAae,kBAAkBuH,kBAAkBrI,YAAAA,GAAeoc,WAAAA,GAIjFtqD,gBAAgB,CAAC+uC,YAAAA,GAAewb,eAAAA,GAEhCA,gBAAgBlrE,UAAU4zD,aAAa,SAAU58C,IAAAA;AAC/C,aAAA,IAAWi0D,YAAYj0D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGhDgqE,gBAAgBlrE,UAAU6zD,cAAc,SAAU78C,IAAAA;AAChD,aAAA,IAAWqoD,gBAAgBroD,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGpDgqE,gBAAgBlrE,UAAU8zD,aAAa,SAAU98C,IAAAA;AAC/C,aAAA,IAAW8zD,qBAAqB9zD,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGzDgqE,gBAAgBlrE,UAAUyzD,cAAc,SAAUz8C,IAAAA;AAChD,aAAA,IAAWogD,cAAcpgD,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGlDgqE,gBAAgBlrE,UAAU2zD,cAAc,SAAU38C,IAAAA;AAChD,aAAA,IAAWg0D,cAAch0D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGlDgqE,gBAAgBlrE,UAAUo2B,kBAAkB,SAAUuC,IAAAA;AACpDz3B,WAAKyU,WAAWzL,aAAa,SAAS,4BAAA,GACtChJ,KAAKyU,WAAWzL,aAAa,eAAe,8BAAA,GAExChJ,KAAKosD,aAAa4e,cACpBhrE,KAAKyU,WAAWzL,aAAa,WAAWhJ,KAAKosD,aAAa4e,WAAAA,IAE1DhrE,KAAKyU,WAAWzL,aAAa,WAAW,SAASyuB,GAASkvB,IAAI,MAAMlvB,GAAS/e,CAAAA,GAG1E1Y,KAAKosD,aAAa2e,gBACrB/qE,KAAKyU,WAAWzL,aAAa,SAASyuB,GAASkvB,CAAAA,GAC/C3mD,KAAKyU,WAAWzL,aAAa,UAAUyuB,GAAS/e,CAAAA,GAChD1Y,KAAKyU,WAAW9L,MAAM8lB,QAAQ,QAC9BzuB,KAAKyU,WAAW9L,MAAM+lB,SAAS,QAC/B1uB,KAAKyU,WAAW9L,MAAM0pC,YAAY,sBAClCryC,KAAKyU,WAAW9L,MAAMmiE,oBAAoB9qE,KAAKosD,aAAa0e,oBAG1D9qE,KAAKosD,aAAa39B,SACpBzuB,KAAKyU,WAAWzL,aAAa,SAAShJ,KAAKosD,aAAa39B,KAAAA,GAGtDzuB,KAAKosD,aAAa19B,UACpB1uB,KAAKyU,WAAWzL,aAAa,UAAUhJ,KAAKosD,aAAa19B,MAAAA,GAGvD1uB,KAAKosD,aAAa6e,aACpBjrE,KAAKyU,WAAWzL,aAAa,SAAShJ,KAAKosD,aAAa6e,SAAAA,GAGtDjrE,KAAKosD,aAAapiC,MACpBhqB,KAAKyU,WAAWzL,aAAa,MAAMhJ,KAAKosD,aAAapiC,EAAAA,GAAAA,WAGnDhqB,KAAKosD,aAAa8e,aACpBlrE,KAAKyU,WAAWzL,aAAa,aAAahJ,KAAKosD,aAAa8e,SAAAA,GAG9DlrE,KAAKyU,WAAWzL,aAAa,uBAAuBhJ,KAAKosD,aAAaye,mBAAAA,GAGtE7qE,KAAK4zD,cAAcp+B,QAAQtsB,YAAYlJ,KAAKyU,UAAAA;AAE5C,UAAIohB,KAAO71B,KAAK41B,WAAWC;AAC3B71B,WAAK0zD,gBAAgBj8B,IAAU5B,EAAAA,GAC/B71B,KAAK41B,WAAWq9B,kBAAkBjzD,KAAKosD,aAAa6G,iBACpDjzD,KAAK8V,OAAO2hB;AACZ,UAAIk3B,KAAclnC,SAAS,UAAA,GACvBqnC,KAAOrnC,SAAS,MAAA;AACpBqnC,MAAAA,GAAK9lD,aAAa,SAASyuB,GAASkvB,CAAAA,GACpCmI,GAAK9lD,aAAa,UAAUyuB,GAAS/e,CAAAA,GACrCo2C,GAAK9lD,aAAa,KAAK,CAAA,GACvB8lD,GAAK9lD,aAAa,KAAK,CAAA;AACvB,UAAIizD,KAAS/1C,gBAAAA;AACbyoC,MAAAA,GAAY3lD,aAAa,MAAMizD,EAAAA,GAC/BtN,GAAYzlD,YAAY4lD,EAAAA,GACxB9uD,KAAKsxD,aAAatoD,aAAa,aAAa,SAASuW,gBAAAA,IAAoB,MAAM08C,KAAS,GAAA,GACxFpmC,GAAK3sB,YAAYylD,EAAAA,GACjB3uD,KAAK+oB,SAAS0O,GAAS1O,QACvB/oB,KAAKqc,WAAW+F,iBAAiBqV,GAAS1O,OAAOjpB,MAAAA;IAAAA,GAGnDkqE,gBAAgBlrE,UAAUmyB,UAAU,WAAA;AAOlC,UAAItxB;AANAK,WAAK4zD,cAAcp+B,YACrBx1B,KAAK4zD,cAAcp+B,QAAQ6G,YAAY,KAGzCr8B,KAAKsxD,eAAe,MACpBtxD,KAAK41B,WAAWC,OAAO;AAEvB,UAAIhW,KAAM7f,KAAK+oB,SAAS/oB,KAAK+oB,OAAOjpB,SAAS;AAE7C,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBK,aAAKqc,SAAS1c,EAAAA,KAChBK,KAAKqc,SAAS1c,EAAAA,EAAGsxB,QAAAA;AAIrBjxB,WAAKqc,SAASvc,SAAS,GACvBE,KAAKqrE,YAAAA,MACLrrE,KAAK4zD,gBAAgB;IAAA,GAGvBoW,gBAAgBlrE,UAAUw5B,sBAAsB,WAAA;IAAA,GAEhD0xC,gBAAgBlrE,UAAUsxE,iBAAiB,SAAUppC,IAAAA;AACnD,UAAIrnC,KAAI,GACJkgB,KAAM7f,KAAK+oB,OAAOjpB;AAEtB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,YAAIK,KAAK+oB,OAAOppB,EAAAA,EAAGqnC,QAAQA;AACzB,iBAAOrnC;AAIX,aAAA;IAAQ,GAGVqqE,gBAAgBlrE,UAAUqzD,YAAY,SAAUnmB,IAAAA;AAC9C,UAAI3vB,KAAWrc,KAAKqc;AAEpB,UAAA,CAAIA,GAAS2vB,EAAAA,KAAgC,OAAxBhsC,KAAK+oB,OAAOijB,EAAAA,EAAKtiB,IAAtC;AAIArN,QAAAA,GAAS2vB,EAAAA,IAAAA;AACT,YAAI9yB,KAAUlZ,KAAKqyD,WAAWryD,KAAK+oB,OAAOijB,EAAAA,CAAAA;AAa1C,YAZA3vB,GAAS2vB,EAAAA,IAAO9yB,IAEZgO,qBAAAA,MAC0B,MAAxBlnB,KAAK+oB,OAAOijB,EAAAA,EAAKtiB,MACnB1pB,KAAK41B,WAAWb,iBAAiB/B,oBAAoB9Z,EAAAA,GAGvDA,GAAQ+d,gBAAAA,IAGVj3B,KAAKqwE,mBAAmBn3D,IAAS8yB,EAAAA,GAE7BhsC,KAAK+oB,OAAOijB,EAAAA,EAAKirB,IAAI;AACvB,cAAIqZ,KAAe,QAAA,KAAavnD,OAAOijB,EAAAA,IAAOhsC,KAAKowE,eAAepwE,KAAK+oB,OAAOijB,EAAAA,EAAKukC,EAAAA,IAAMvkC,KAAM;AAE/F,cAAA,OAAIskC;AACF;AAGF,cAAKtwE,KAAKqc,SAASi0D,EAAAA,KAAAA,SAAiBtwE,KAAKqc,SAASi0D,EAAAA,GAG3C;AACL,gBACIE,KADen0D,GAASi0D,EAAAA,EACC3Y,SAAS33D,KAAK+oB,OAAOijB,EAAAA,EAAKirB,EAAAA;AACvD/9C,YAAAA,GAAQm/C,SAASmY,EAAAA;UAAAA;AALjBxwE,iBAAKmyD,UAAUme,EAAAA,GACftwE,KAAKuzD,kBAAkBr6C,EAAAA;QAAAA;MAAAA;IAAAA,GAS7B8wD,gBAAgBlrE,UAAUszD,uBAAuB,WAAA;AAC/C,aAAOpyD,KAAKwzD,gBAAgB1zD,UAAQ;AAClC,YAAIoZ,KAAUlZ,KAAKwzD,gBAAgBjwD,IAAAA;AAGnC,YAFA2V,GAAQq/C,eAAAA,GAEJr/C,GAAQpD,KAAKmhD;AAIf,mBAHIt3D,KAAI,GACJkgB,KAAM7f,KAAKqc,SAASvc,QAEjBH,KAAIkgB,MAAK;AACd,gBAAI7f,KAAKqc,SAAS1c,EAAAA,MAAOuZ,IAAS;AAChC,kBAAIo3D,KAAe,QAAQp3D,GAAQpD,OAAO9V,KAAKowE,eAAel3D,GAAQpD,KAAKy6D,EAAAA,IAAM5wE,KAAI,GAEjF6wE,KADexwE,KAAKqc,SAASi0D,EAAAA,EACJ3Y,SAAS33D,KAAK+oB,OAAOppB,EAAAA,EAAGs3D,EAAAA;AACrD/9C,cAAAA,GAAQm/C,SAASmY,EAAAA;AACjB;YAAA;AAGF7wE,YAAAA,MAAK;UAAA;MAAA;IAAA,GAMbqqE,gBAAgBlrE,UAAU05B,cAAc,SAAUuzB,IAAAA;AAChD,UAAI/rD,KAAK2pC,kBAAkBoiB,MAAAA,CAAO/rD,KAAKqrE,WAAvC;AAgBA,YAAI1rE;AAZQ,iBAARosD,KACFA,KAAM/rD,KAAK2pC,gBAEX3pC,KAAK2pC,gBAAgBoiB,IAKvB/rD,KAAK41B,WAAW0P,WAAWymB,IAC3B/rD,KAAK41B,WAAWwU,WAAW,GAC3BpqC,KAAK41B,WAAWb,iBAAiBzB,eAAey4B,IAChD/rD,KAAK41B,WAAWsU,OAAAA;AAEhB,YAAIrqB,KAAM7f,KAAK+oB,OAAOjpB;AAMtB,aAJKE,KAAK8oB,kBACR9oB,KAAKkyD,YAAYnG,EAAAA,GAGdpsD,KAAIkgB,KAAM,GAAGlgB,MAAK,GAAGA,MAAK;AAAA,WACzBK,KAAK8oB,kBAAkB9oB,KAAKqc,SAAS1c,EAAAA,MACvCK,KAAKqc,SAAS1c,EAAAA,EAAGyzB,aAAa24B,KAAM/rD,KAAK+oB,OAAOppB,EAAAA,EAAGyrB,EAAAA;AAIvD,YAAIprB,KAAK41B,WAAWsU;AAClB,eAAKvqC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,aACpBK,KAAK8oB,kBAAkB9oB,KAAKqc,SAAS1c,EAAAA,MACvCK,KAAKqc,SAAS1c,EAAAA,EAAG64B,YAAAA;MAAAA;IAAAA,GAMzBwxC,gBAAgBlrE,UAAUuxE,qBAAqB,SAAUn3D,IAAS8yB,IAAAA;AAChE,UAAInM,KAAa3mB,GAAQ04C,eAAAA;AAEzB,UAAK/xB,IAAL;AAOA,iBAFI4wC,IADA9wE,KAAI,GAGDA,KAAIqsC;AACLhsC,eAAKqc,SAAS1c,EAAAA,KAAAA,SAAMK,KAAKqc,SAAS1c,EAAAA,KAAeK,KAAKqc,SAAS1c,EAAAA,EAAGiyD,eAAAA,MACpE6e,KAAczwE,KAAKqc,SAAS1c,EAAAA,EAAGiyD,eAAAA,IAGjCjyD,MAAK;AAGH8wE,QAAAA,KACFzwE,KAAKsxD,aAAax+C,aAAa+sB,IAAY4wC,EAAAA,IAE3CzwE,KAAKsxD,aAAapoD,YAAY22B,EAAAA;MAAAA;IAAAA,GAIlCmqC,gBAAgBlrE,UAAU07B,OAAO,WAAA;AAC/Bx6B,WAAKsxD,aAAa3oD,MAAM8b,UAAU;IAAA,GAGpCulD,gBAAgBlrE,UAAU27B,OAAO,WAAA;AAC/Bz6B,WAAKsxD,aAAa3oD,MAAM8b,UAAU;IAAA,GAKpChF,gBAAgB,CAACiuC,aAAae,kBAAkBuH,kBAAkBrI,cAAcsI,oBAAAA,GAAuBgU,YAAAA,GAEvGA,aAAanrE,UAAUq3D,cAAc,SAAUrgD,IAAM8f,IAAY3L,IAAAA;AAC/DjqB,WAAKmlC,UAAAA,GACLnlC,KAAK8tD,aAAah4C,IAAM8f,IAAY3L,EAAAA,GACpCjqB,KAAK8zD,cAAch+C,IAAM8f,IAAY3L,EAAAA,GACrCjqB,KAAKsrD,eAAAA,GACLtrD,KAAKs4D,cAAAA,GACLt4D,KAAKu2D,oBAAAA,GACLv2D,KAAKw2D,wBAAAA,GACLx2D,KAAKy3D,2BAAAA,GAAAA,CAEDz3D,KAAK8V,KAAKud,MAAOuC,GAAWq9B,mBAC9BjzD,KAAK+yD,cAAAA,GAGP/yD,KAAKw6B,KAAAA;IAAAA,GAePyvC,aAAanrE,UAAUs0B,eAAe,SAAU24B,IAAAA;AAK9C,UAJA/rD,KAAKkqC,OAAAA,OACLlqC,KAAK8rD,uBAAuBC,EAAAA,GAC5B/rD,KAAKyxD,kBAAkB1F,IAAK/rD,KAAKurD,SAAAA,GAE5BvrD,KAAKurD,aAAcvrD,KAAK8V,KAAKud,IAAlC;AAIA,YAAKrzB,KAAK2yB,GAAG07B;AASXruD,eAAK2pC,gBAAgBoiB,KAAM/rD,KAAK8V,KAAKuV;aATZ;AACzB,cAAI0mC,KAAe/xD,KAAK2yB,GAAGtvB;AAEvB0uD,UAAAA,OAAiB/xD,KAAK8V,KAAKxS,OAC7ByuD,KAAe/xD,KAAK8V,KAAKxS,KAAK,IAGhCtD,KAAK2pC,gBAAgBooB;QAAAA;AAKvB,YAAIpyD,IACAkgB,KAAM7f,KAAKqc,SAASvc;AAOxB,aALKE,KAAK8oB,kBACR9oB,KAAKkyD,YAAYlyD,KAAK2pC,aAAAA,GAInBhqC,KAAIkgB,KAAM,GAAGlgB,MAAK,GAAGA,MAAK;AAAA,WACzBK,KAAK8oB,kBAAkB9oB,KAAKqc,SAAS1c,EAAAA,OACvCK,KAAKqc,SAAS1c,EAAAA,EAAGyzB,aAAapzB,KAAK2pC,gBAAgB3pC,KAAK+oB,OAAOppB,EAAAA,EAAGyrB,EAAAA,GAE9DprB,KAAKqc,SAAS1c,EAAAA,EAAGuqC,SACnBlqC,KAAKkqC,OAAAA;MAAO;IAAA,GAMpB+/B,aAAanrE,UAAU25D,qBAAqB,WAAA;AAC1C,UAAI94D,IACAkgB,KAAM7f,KAAK+oB,OAAOjpB;AAEtB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,SACpBK,KAAK8oB,kBAAkB9oB,KAAKqc,SAAS1c,EAAAA,MACvCK,KAAKqc,SAAS1c,EAAAA,EAAG64B,YAAAA;IAAAA,GAKvByxC,aAAanrE,UAAU4xE,cAAc,SAAUtsB,IAAAA;AAC7CpkD,WAAKqc,WAAW+nC;IAAAA,GAGlB6lB,aAAanrE,UAAU6xE,cAAc,WAAA;AACnC,aAAA,KAAYt0D;IAAAA,GAGd4tD,aAAanrE,UAAU8xE,kBAAkB,WAAA;AACvC,UAAIjxE,IACAkgB,KAAM7f,KAAK+oB,OAAOjpB;AAEtB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBK,aAAKqc,SAAS1c,EAAAA,KAChBK,KAAKqc,SAAS1c,EAAAA,EAAGsxB,QAAAA;IAAAA,GAKvBg5C,aAAanrE,UAAUmyB,UAAU,WAAA;AAC/BjxB,WAAK4wE,gBAAAA,GACL5wE,KAAKw3D,mBAAAA;IAAAA,GAeP/3C,gBAAgB,CAACuqD,iBAAiBC,cAAclU,cAAAA,GAAiBmU,cAAAA,GAEjEA,eAAeprE,UAAU0zD,aAAa,SAAU18C,IAAAA;AAC9C,aAAA,IAAWo0D,eAAep0D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAsEnDyf,gBAAgB,CAACuqD,eAAAA,GAAkBI,WAAAA,GAEnCA,YAAYtrE,UAAU0zD,aAAa,SAAU18C,IAAAA;AAC3C,aAAA,IAAWo0D,eAAep0D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAmBnDsrE,cAAcxsE,UAAU+xE,YAAY,WAAA;AAClC,UAAIC,KAA2B,IAAf9wE,KAAK0/B,SACjBqxC,KAAiB/wE,KAAK2rE;AAC1B3rE,WAAK2rE,UAAU7pD,iBAAiB,WAAWgvD,EAAAA,GAC3C9wE,KAAK2rE,QAAQhlE,IAAIoqE,EAAAA;AACjB,UAAIpxE,KAAI;AAER,WAAKA,KAAIK,KAAK0/B,SAAS//B,KAAImxE,IAAWnxE,MAAK;AACzCK,aAAKurE,MAAM5rE,EAAAA,IAAKmiB,iBAAiB,WAAW,EAAA;AAG9C9hB,WAAK0/B,UAAUoxC;IAAAA,GAGjBxF,cAAcxsE,UAAUwvC,QAAQ,WAAA;AAC9BtuC,WAAKwrE,UAAU,GACfxrE,KAAKyrE,IAAIn9B,MAAAA,GACTtuC,KAAK0rE,KAAK;IAAA,GASZE,sBAAsB9sE,YAAY,EAChC0tE,sBAAsB,SAA8BnY,IAAAA;AAClD,UAAI10D,IACAkgB,KAAMw0C,GAAWv0D,QACjBW,KAAM;AAEV,WAAKd,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBc,QAAAA,MAAO4zD,GAAW10D,EAAAA,EAAG0yC,UAAU5xC,MAAM;AAGvC,UAAIuwE,KAAWhxE,KAAK6rE,UAAUprE,EAAAA;AAY9B,aAVKuwE,OACHA,KAAW,EACT3c,YAAY,CAAA,EAAG/vD,OAAO+vD,EAAAA,GACtBnI,gBAAgB,IAAIpb,UACpB5G,MAAAA,MAAM,GAERlqC,KAAK6rE,UAAUprE,EAAAA,IAAOuwE,IACtBhxE,KAAK8rE,aAAatoE,KAAKwtE,EAAAA,IAGlBA;IAAAA,GAETC,iBAAiB,SAAyBD,IAAUvc,IAAAA;AAKlD,eAUMroD,IAdFzM,KAAI,GACJkgB,KAAMmxD,GAAS3c,WAAWv0D,QAC1BoqC,KAAOuqB,IAEJ90D,KAAIkgB,MAAAA,CAAQ40C,MAAc;AAC/B,YAAIuc,GAAS3c,WAAW10D,EAAAA,EAAG0yC,UAAUuS,OAAO1a,MAAM;AAChDA,UAAAA,KAAAA;AACA;QAAA;AAGFvqC,QAAAA,MAAK;MAAA;AAGP,UAAIuqC;AAIF,aAFA8mC,GAAS9kB,eAAe5d,MAAAA,GAEnB3uC,KAAIkgB,KAAM,GAAGlgB,MAAK,GAAGA,MAAK;AAC7ByM,UAAAA,KAAQ4kE,GAAS3c,WAAW10D,EAAAA,EAAG0yC,UAAUuS,OAAOvhD,EAAE+I,OAClD4kE,GAAS9kB,eAAe7Z,UAAUjmC,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,GAAKA,GAAM,EAAA,CAAA;AAIvM4kE,MAAAA,GAAS9mC,OAAOA;IAAAA,GAElBgnC,kBAAkB,SAA0Bzc,IAAAA;AAC1C,UAAI90D,IACAkgB,KAAM7f,KAAK8rE,aAAahsE;AAE5B,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKixE,gBAAgBjxE,KAAK8rE,aAAansE,EAAAA,GAAI80D,EAAAA;IAAAA,GAG/C0c,WAAW,WAAA;AAET,aADAnxE,KAAK+rE,uBAAuB,GACrB,MAAM/rE,KAAK+rE;IAAAA,EAAAA,GAMtBC,UAAUltE,UAAU05B,cAAc,WAAA;IAAA,GA0BlCyzC,cAAcntE,UAAU05B,cAAc,WAAA;AACpC,UAAKx4B,KAAKksE,UAAV;AAIA,YAEIvsE,IAEA6pB,IACA2rB,IACAr/B,IANAu8B,KAAYryC,KAAKkZ,QAAQgzC,eAAe/Q,KACxCxsB,KAAM3uB,KAAKkZ,QAAQk4D,eAEnBvxD,KAAM7f,KAAKupB,gBAAgBzpB;AAM/B,aAFA6uB,GAAI0iD,UAAAA,GAEC1xE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,cAAqC,QAAjCK,KAAKupB,gBAAgB5pB,EAAAA,EAAG4Q,MAAc;AAYxC,gBAAI7L;AAXA1E,iBAAKupB,gBAAgB5pB,EAAAA,EAAGkjD,QAC1Bl0B,GAAI2iD,OAAO,GAAG,CAAA,GACd3iD,GAAI4iD,OAAOvxE,KAAKkZ,QAAQ0c,WAAWi+B,SAASlN,GAAG,CAAA,GAC/Ch4B,GAAI4iD,OAAOvxE,KAAKkZ,QAAQ0c,WAAWi+B,SAASlN,GAAG3mD,KAAKkZ,QAAQ0c,WAAWi+B,SAASn7C,CAAAA,GAChFiW,GAAI4iD,OAAO,GAAGvxE,KAAKkZ,QAAQ0c,WAAWi+B,SAASn7C,CAAAA,GAC/CiW,GAAI4iD,OAAO,GAAG,CAAA,IAGhBz7D,KAAO9V,KAAK4uD,SAASjvD,EAAAA,EAAG0D,GACxBmmB,KAAK6oB,GAAU4C,kBAAkBn/B,GAAKzS,EAAE,CAAA,EAAG,CAAA,GAAIyS,GAAKzS,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,GAC7DsrB,GAAI2iD,OAAO9nD,GAAG,CAAA,GAAIA,GAAG,CAAA,CAAA;AAErB,gBAAIN,KAAOpT,GAAK4pB;AAEhB,iBAAKh7B,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBywC,cAAAA,KAAM9C,GAAUgD,oBAAoBv/B,GAAKpS,EAAEgB,KAAI,CAAA,GAAIoR,GAAKnW,EAAE+E,EAAAA,GAAIoR,GAAKzS,EAAEqB,EAAAA,CAAAA,GACrEiqB,GAAI6iD,cAAcr8B,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,CAAA;AAGhEA,YAAAA,KAAM9C,GAAUgD,oBAAoBv/B,GAAKpS,EAAEgB,KAAI,CAAA,GAAIoR,GAAKnW,EAAE,CAAA,GAAImW,GAAKzS,EAAE,CAAA,CAAA,GACrEsrB,GAAI6iD,cAAcr8B,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,CAAA;UAAA;AAIlEn1C,aAAKkZ,QAAQ0c,WAAWrB,SAASk9C,KAAAA,IAAK,GACtC9iD,GAAI+iD,KAAAA;MAAAA;IAAAA,GAGNzF,cAAcntE,UAAU01D,kBAAkB9F,YAAY5vD,UAAU01D,iBAEhEyX,cAAcntE,UAAUmyB,UAAU,WAAA;AAChCjxB,WAAKkZ,UAAU;IAAA,GAKjBizD,cAAcrtE,YAAY,EACxB6yE,gBAAgB,WAAA;IAAA,GAChBpb,qBAAqB,WAAA;IAAA,GACrBC,yBAAyB,WAAA;AACvBx2D,WAAKoxE,gBAAgBpxE,KAAK41B,WAAWw7C,eACrCpxE,KAAK03D,2BAA2B,IAAIsU,UAAUhsE,IAAAA;IAAAA,GAEhDw4D,eAAe,WAAA;IAAA,GACftH,cAAc,WAAA;AACZ,UAAIt7B,KAAa51B,KAAK41B;AAEtB,UAAIA,GAAWg8C,cAAc5xE,KAAK8V,KAAKs7C,IAAI;AACzCx7B,QAAAA,GAAWg8C,YAAY5xE,KAAK8V,KAAKs7C;AACjC,YAAID,KAAiBzE,aAAa1sD,KAAK8V,KAAKs7C,EAAAA;AAC5Cx7B,QAAAA,GAAWw7C,cAAcS,2BAA2B1gB;MAAAA;IAAAA,GAGxDsG,4BAA4B,WAAA;AAC1Bz3D,WAAKywD,cAAc,IAAIwb,cAAcjsE,KAAK8V,MAAM9V,IAAAA;IAAAA,GAElD8xE,aAAa,WAAA;AACN9xE,WAAKwrD,UAAYxrD,KAAKurD,aAAAA,CAAavrD,KAAKyrD,kBAC3CzrD,KAAKwrD,SAAAA;IAAS,GAGlBumB,aAAa,WAAA;AACP/xE,WAAKurD,aAAAA,CAAcvrD,KAAKyrD,kBAC1BzrD,KAAKwrD,SAAAA,OACLxrD,KAAKuqC,gBAAAA,MACLvqC,KAAKywD,YAAYlmB,gBAAAA;IAAgB,GAGrC/R,aAAa,WAAA;AACX,UAAA,CAAIx4B,KAAKwrD,UAAAA,CAAUxrD,KAAK8V,KAAKqhD,IAA7B;AAIAn3D,aAAKk0D,gBAAAA,GACLl0D,KAAKssD,iBAAAA,GACLtsD,KAAKkxD,aAAAA;AACL,YAAI8gB,KAAkC,MAAjBhyE,KAAK8V,KAAK4T;AAC/B1pB,aAAK41B,WAAWrB,SAASk9C,KAAKO,EAAAA,GAC9BhyE,KAAK41B,WAAWrB,SAAS09C,aAAajyE,KAAKksD,eAAe/Q,IAAI/uC,KAAAA,GAC9DpM,KAAK41B,WAAWrB,SAAS29C,WAAWlyE,KAAKksD,eAAeC,MAAMzoD,EAAEL,CAAAA,GAChErD,KAAKy4D,mBAAAA,GACLz4D,KAAK41B,WAAWrB,SAAS49C,QAAQH,EAAAA,GAE7BhyE,KAAKywD,YAAYyb,YACnBlsE,KAAK41B,WAAWrB,SAAS49C,QAAAA,IAAQ,GAG/BnyE,KAAKuqC,kBACPvqC,KAAKuqC,gBAAAA;MAAgB;IAAA,GAGzBtZ,SAAS,WAAA;AACPjxB,WAAKoxE,gBAAgB,MACrBpxE,KAAK8V,OAAO,MACZ9V,KAAK41B,aAAa,MAClB51B,KAAKywD,YAAYx/B,QAAAA;IAAAA,GAEnBsjC,SAAS,IAAIzjB,SAAAA,GAEfq7B,cAAcrtE,UAAU07B,OAAO2xC,cAAcrtE,UAAUgzE,aACvD3F,cAAcrtE,UAAU27B,OAAO0xC,cAAcrtE,UAAUizE,aAgCvD3F,YAAYttE,UAAUs5C,gBAAgBmhB,aAAaz6D,UAAUs5C,eAc7D34B,gBAAgB,CAACiuC,aAAae,kBAAkB0d,eAAe7V,eAAeN,kBAAkBrI,cAActC,iBAAAA,GAAoBqhB,cAAAA,GAClIA,eAAe5tE,UAAUq3D,cAAcF,qBAAqBn3D,UAAUq3D,aACtEuW,eAAe5tE,UAAUszE,kBAAkB,EACzCC,SAAS,GACTre,QAAAA,MAAQ,GAEV0Y,eAAe5tE,UAAUwzE,eAAe,CAAA,GAExC5F,eAAe5tE,UAAU05D,gBAAgB,WAAA;AACvCx4D,WAAKogE,aAAapgE,KAAK+wD,YAAY/wD,KAAKgxD,WAAWhxD,KAAKo7D,cAAAA,MAAoB,CAAA,CAAA;IAAA,GAG9EsR,eAAe5tE,UAAU2hE,qBAAqB,SAAU3qD,IAAMu+C,IAAAA;AAC5D,UAAImJ,KAAY,EACd1nD,MAAMA,IACNhM,MAAMgM,GAAK4T,IACX6oD,eAAevyE,KAAKqsE,kBAAkBG,qBAAqBnY,EAAAA,GAC3DA,YAAY,CAAA,GACZh4C,UAAU,CAAA,GACVyP,QAAAA,SAAQhW,GAAKqhD,GAAAA,GAEXuJ,KAAc,CAAA;AAsBlB,UApBgB,SAAZ5qD,GAAK4T,MAA2B,SAAZ5T,GAAK4T,MAC3Bg3C,GAAY//D,IAAIukC,gBAAgBkG,QAAQprC,MAAM8V,GAAKnV,GAAG,GAAG,KAAKX,IAAAA,GAEzD0gE,GAAY//D,EAAEiD,MACjB45D,GAAUgV,KAAK,SAAStvD,QAAQw9C,GAAY//D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQw9C,GAAY//D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQw9C,GAAY//D,EAAE0C,EAAE,CAAA,CAAA,IAAM,QAE3G,SAAZyS,GAAK4T,MAA2B,SAAZ5T,GAAK4T,OAClCg3C,GAAYhhE,IAAIwlC,gBAAgBkG,QAAQprC,MAAM8V,GAAKpW,GAAG,GAAG,MAAMM,IAAAA,GAC/D0gE,GAAYxgE,IAAIglC,gBAAgBkG,QAAQprC,MAAM8V,GAAK5V,GAAG,GAAG,MAAMF,IAAAA,GAC/D0gE,GAAYhoD,IAAIwsB,gBAAgBkG,QAAQprC,MAAM8V,GAAK4C,KAAK,EACtD9U,GAAG,EAAA,GACF,GAAG,MAAM5D,IAAAA,GACZ0gE,GAAYj8D,IAAIygC,gBAAgBkG,QAAQprC,MAAM8V,GAAKrR,KAAK,EACtDb,GAAG,EAAA,GACF,GAAGmgB,WAAW/jB,IAAAA,GACjB0gE,GAAY99D,IAAI,IAAI63D,iBAAiBz6D,MAAM8V,GAAKlT,GAAG5C,IAAAA,IAGrD0gE,GAAYh9D,IAAIwhC,gBAAgBkG,QAAQprC,MAAM8V,GAAKpS,GAAG,GAAG,MAAM1D,IAAAA,GAE/C,SAAZ8V,GAAK4T,MAA2B,SAAZ5T,GAAK4T,IAAAA;AAe3B,YAdA8zC,GAAUrB,KAAK9C,YAAYvjD,GAAKqmD,MAAM,CAAA,GACtCqB,GAAUpX,KAAKkT,aAAaxjD,GAAKswC,MAAM,CAAA,GAExB,KAAXtwC,GAAKswC,OAEPoX,GAAUrX,KAAKrwC,GAAKqwC,KAGtBua,GAAY/Z,IAAIzhB,gBAAgBkG,QAAQprC,MAAM8V,GAAK6wC,GAAG,GAAG,MAAM3mD,IAAAA,GAE1D0gE,GAAY/Z,EAAE/iD,MACjB45D,GAAUiV,KAAK/R,GAAY/Z,EAAEtjD,IAG3ByS,GAAKvX,GAAG;AACV,cAAIA,KAAI,IAAIy7D,aAAah6D,MAAM8V,GAAKvX,GAAG,UAAUyB,IAAAA;AACjD0gE,UAAAA,GAAYniE,IAAIA,IAEXmiE,GAAYniE,EAAEqF,MACjB45D,GAAUkV,KAAKhS,GAAYniE,EAAE47D,WAC7BqD,GAAS,KAASkD,GAAYniE,EAAE67D,WAAW,CAAA;QAAA;MAAA;AAI/CoD,QAAAA,GAAU58D,IAAe,MAAXkV,GAAKlV,IAAU,YAAY;AAK3C,aAFAZ,KAAKo+D,WAAW56D,KAAKg6D,EAAAA,GACrBkD,GAAY/3D,QAAQ60D,IACbkD;IAAAA,GAGTgM,eAAe5tE,UAAU8hE,qBAAqB,WAAA;AAK5C,aAJkB,EAChBx2C,IAAI,CAAA,GACJgxC,cAAc,CAAA,EAAA;IAAA,GAKlBsR,eAAe5tE,UAAU+hE,yBAAyB,SAAU/qD,IAAAA;AAU1D,aATkB,EAChBu8B,WAAW,EACTggC,SAAS,GACTre,QAAAA,OACAvzD,KAAKT,KAAKqsE,kBAAkB8E,UAAAA,GAC5B7tE,IAAI4hC,gBAAgBkG,QAAQprC,MAAM8V,GAAKpS,GAAG,GAAG,MAAM1D,IAAAA,GACnD4kD,QAAQtK,yBAAyBqB,qBAAqB37C,MAAM8V,IAAM9V,IAAAA,EAAAA,EAAAA;IAAAA,GAMxE0sE,eAAe5tE,UAAUiiE,qBAAqB,SAAUjrD,IAAAA;AACtD,UAAI4qD,KAAc,IAAI0L,YAAYpsE,MAAM8V,IAAM9V,KAAKo+D,YAAYp+D,KAAKqsE,iBAAAA;AAGpE,aAFArsE,KAAK8pB,OAAOtmB,KAAKk9D,EAAAA,GACjB1gE,KAAK64D,oBAAoB6H,EAAAA,GAClBA;IAAAA,GAGTgM,eAAe5tE,UAAUqlD,eAAe,WAAA;AAEtC,UAAIxkD;AADJK,WAAKuqC,gBAAAA;AAEL,UAAI1qB,KAAM7f,KAAKgxD,UAAUlxD;AAEzB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKo7D,aAAaz7D,EAAAA,IAAKK,KAAKgxD,UAAUrxD,EAAAA;AAMxC,WAHAK,KAAKogE,aAAapgE,KAAK+wD,YAAY/wD,KAAKgxD,WAAWhxD,KAAKo7D,cAAAA,MAAoB,CAAA,CAAA,GAC5Ev7C,KAAM7f,KAAKsrC,kBAAkBxrC,QAExBH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKsrC,kBAAkB3rC,EAAAA,EAAGorC,SAAAA;AAG5B/qC,WAAKi5D,gBAAAA,GACLj5D,KAAKqsE,kBAAkB6E,iBAAiBlxE,KAAKuqC,aAAAA;IAAAA,GAG/CmiC,eAAe5tE,UAAU6zE,0BAA0B,SAAUtgC,IAAAA;AAC3D,UAAI1yC,IACAkgB,KAAM7f,KAAKo+D,WAAWt+D;AAE1B,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACnBK,aAAKo+D,WAAWz+D,EAAAA,EAAGmsB,UACtB9rB,KAAKo+D,WAAWz+D,EAAAA,EAAG00D,WAAW7wD,KAAK6uC,EAAAA;IAAAA,GAKzCq6B,eAAe5tE,UAAU8zE,+BAA+B,WAAA;AACtD,UAAIjzE,IACAkgB,KAAM7f,KAAKo+D,WAAWt+D;AAE1B,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACnBK,aAAKo+D,WAAWz+D,EAAAA,EAAGmsB,UACtB9rB,KAAKo+D,WAAWz+D,EAAAA,EAAG00D,WAAW9wD,IAAAA;IAAAA,GAKpCmpE,eAAe5tE,UAAU+zE,cAAc,SAAUtqE,IAAAA;AAC/C,UAAI5I,IACAkgB,KAAMtX,GAAOzI;AAEjB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB4I,QAAAA,GAAO5I,EAAAA,EAAGmsB,SAAAA;IAAS,GAIvB4gD,eAAe5tE,UAAUshE,eAAe,SAAUp+C,IAAKgvC,IAAWoK,IAAc0X,IAAcze,IAAAA;AAC5F,UAAI10D,IAEA+E,IACAwkB,IAGAk4C,IACAD,IACAD,IAPArhD,KAAMmC,GAAIliB,SAAS,GAGnBuhE,KAAY,CAAA,GACZC,KAAe,CAAA,GAIfyR,KAAgB,CAAA,EAAGzuE,OAAO+vD,EAAAA;AAE9B,WAAK10D,KAAIkgB,IAAKlgB,MAAK,GAAGA,MAAK,GAAG;AAS5B,aARAyhE,KAAephE,KAAKk5D,uBAAuBl3C,GAAIriB,EAAAA,CAAAA,KAK7CqxD,GAAUrxD,EAAAA,IAAKy7D,GAAagG,KAAe,CAAA,IAF3Cp/C,GAAIriB,EAAAA,EAAGqzE,gBAAgBF,IAKP,SAAd9wD,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB;AACtE03C,UAAAA,KAGHpQ,GAAUrxD,EAAAA,EAAGgJ,MAAMmjB,SAAAA,QAFnBklC,GAAUrxD,EAAAA,IAAKK,KAAKygE,mBAAmBz+C,GAAIriB,EAAAA,GAAIozE,EAAAA,GAKjD1R,GAAU79D,KAAKwtD,GAAUrxD,EAAAA,EAAGgJ,KAAAA;iBACL,SAAdqZ,GAAIriB,EAAAA,EAAG+pB,IAAa;AAC7B,cAAK03C;AAKH,iBAFAl4C,KAAO8nC,GAAUrxD,EAAAA,EAAGyqB,GAAGtqB,QAElB4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzBssD,cAAAA,GAAUrxD,EAAAA,EAAGy7D,aAAa12D,EAAAA,IAAKssD,GAAUrxD,EAAAA,EAAGyqB,GAAG1lB,EAAAA;;AALjDssD,YAAAA,GAAUrxD,EAAAA,IAAKK,KAAK4gE,mBAAmB5+C,GAAIriB,EAAAA,CAAAA;AAS7CK,eAAKogE,aAAap+C,GAAIriB,EAAAA,EAAGyqB,IAAI4mC,GAAUrxD,EAAAA,EAAGyqB,IAAI4mC,GAAUrxD,EAAAA,EAAGy7D,cAAc0X,IAAcC,EAAAA;QAAAA;AAChE,mBAAd/wD,GAAIriB,EAAAA,EAAG+pB,MACX03C,OACHF,KAAmBlhE,KAAK6gE,uBAAuB7+C,GAAIriB,EAAAA,CAAAA,GACnDqxD,GAAUrxD,EAAAA,IAAKuhE,KAGjB6R,GAAcvvE,KAAKwtD,GAAUrxD,EAAAA,CAAAA,GAC7BK,KAAK2yE,wBAAwB3hB,GAAUrxD,EAAAA,CAAAA,KAChB,SAAdqiB,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,KAC7E03C,OACHpQ,GAAUrxD,EAAAA,IAAKK,KAAK+gE,mBAAmB/+C,GAAIriB,EAAAA,CAAAA,KAEtB,SAAdqiB,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MAA6B,SAAd1H,GAAIriB,EAAAA,EAAG+pB,MACnG03C,MAMHD,KAAWnQ,GAAUrxD,EAAAA,GACZmsB,SAAAA,UANTq1C,KAAWxpB,eAAeG,YAAY91B,GAAIriB,EAAAA,EAAG+pB,EAAAA,GACpCoQ,KAAK95B,MAAMgiB,GAAIriB,EAAAA,CAAAA,GACxBqxD,GAAUrxD,EAAAA,IAAKwhE,IACfnhE,KAAK84D,eAAet1D,KAAK29D,EAAAA,IAM3BG,GAAa99D,KAAK29D,EAAAA,KACK,SAAdn/C,GAAIriB,EAAAA,EAAG+pB,OACX03C,MAOHD,KAAWnQ,GAAUrxD,EAAAA,GACZmsB,SAAAA,QAPTq1C,KAAWxpB,eAAeG,YAAY91B,GAAIriB,EAAAA,EAAG+pB,EAAAA,GAC7CsnC,GAAUrxD,EAAAA,IAAKwhE,IACfA,GAASrnC,KAAK95B,MAAMgiB,IAAKriB,IAAGqxD,EAAAA,GAC5BhxD,KAAK84D,eAAet1D,KAAK29D,EAAAA,GACzB2R,KAAAA,QAMFxR,GAAa99D,KAAK29D,EAAAA;AAGpBnhE,aAAKo5D,oBAAoBp3C,GAAIriB,EAAAA,GAAIA,KAAI,CAAA;MAAA;AAOvC,WAJAK,KAAK4yE,6BAAAA,GACL5yE,KAAK6yE,YAAYxR,EAAAA,GACjBxhD,KAAMyhD,GAAaxhE,QAEdH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB2hE,QAAAA,GAAa3hE,EAAAA,EAAGmsB,SAAAA;IAAS,GAI7B4gD,eAAe5tE,UAAU25D,qBAAqB,WAAA;AAC5Cz4D,WAAKoyE,gBAAgBC,UAAU,GAC/BryE,KAAKoyE,gBAAgBpe,SAAAA,OACrBh0D,KAAKi5D,gBAAAA,GACLj5D,KAAKqsE,kBAAkB6E,iBAAiBlxE,KAAKuqC,aAAAA,GAC7CvqC,KAAKuhE,YAAYvhE,KAAKoyE,iBAAiBpyE,KAAK+wD,YAAY/wD,KAAKgxD,WAAAA,IAAW;IAAA,GAG1E0b,eAAe5tE,UAAUm0E,uBAAuB,SAAUC,IAAiBC,IAAAA;AAAAA,OACrED,GAAgBlf,UAAUmf,GAAe7vE,GAAG4mC,QAAQlqC,KAAKuqC,mBAC3D4oC,GAAed,UAAUa,GAAgBb,SACzCc,GAAed,WAAWc,GAAe7vE,GAAGD,GAC5C8vE,GAAenf,SAAAA;IAAS,GAI5B0Y,eAAe5tE,UAAUs0E,YAAY,WAAA;AACnC,UAAIzzE,IAEA+E,IACAwkB,IACAtlB,IACAulB,IACAi7B,IACAivB,IAGAvpE,IACAwpE,IAVAzzD,KAAM7f,KAAKo+D,WAAWt+D,QAOtBy0B,KAAWv0B,KAAK41B,WAAWrB,UAC3B5F,KAAM3uB,KAAK41B,WAAWw7C;AAI1B,WAAKzxE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAQxB,aAAgB,UANhBmK,MADAwpE,KAAetzE,KAAKo+D,WAAWz+D,EAAAA,GACXmK,SAMa,SAATA,MAAsC,MAApBwpE,GAAab,OAAaa,GAAax9D,KAAKk9D,iBAAuC,MAAtBM,GAAaC,QAAqD,MAAvCvzE,KAAK41B,WAAW23C,oBAA2B;AAuB3K,eAtBAh5C,GAASk9C,KAAAA,GACTrtB,KAAQkvB,GAAaj3D,UAER,SAATvS,MAA0B,SAATA,MACnB6kB,GAAI6kD,cAAuB,SAAT1pE,KAAgBwpE,GAAad,KAAKc,GAAaG,KACjE9kD,GAAIg0C,YAAY2Q,GAAab,IAC7B9jD,GAAI+kD,UAAUJ,GAAanX,IAC3BxtC,GAAIgyB,WAAW2yB,GAAaltB,IAC5Bz3B,GAAIiyB,aAAa0yB,GAAantB,MAAM,KAEpCx3B,GAAIE,YAAqB,SAAT/kB,KAAgBwpE,GAAad,KAAKc,GAAaG,KAGjEl/C,GAAS29C,WAAWoB,GAAaC,IAAAA,GAEpB,SAATzpE,MAA0B,SAATA,MACnB6kB,GAAI0iD,UAAAA,GAGN98C,GAAS09C,aAAaqB,GAAaf,cAAcrmB,eAAe9/C,KAAAA,GAChE8c,KAAOk7B,GAAMtkD,QAER4E,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK,GAAG;AAa5B,iBAZa,SAAToF,MAA0B,SAATA,OACnB6kB,GAAI0iD,UAAAA,GAEAiC,GAAaZ,OACf/jD,GAAIglD,YAAYL,GAAaZ,EAAAA,GAC7B/jD,GAAIilD,iBAAiBN,GAAY,MAKrCnqD,MADAkqD,KAAQjvB,GAAM1/C,EAAAA,EAAG+nE,SACJ3sE,QAER8D,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACN,sBAAfyvE,GAAMzvE,EAAAA,EAAGnE,IACXkvB,GAAI2iD,OAAO+B,GAAMzvE,EAAAA,EAAG/E,EAAE,CAAA,GAAIw0E,GAAMzvE,EAAAA,EAAG/E,EAAE,CAAA,CAAA,IACb,QAAfw0E,GAAMzvE,EAAAA,EAAGnE,IAClBkvB,GAAI6iD,cAAc6B,GAAMzvE,EAAAA,EAAGuxC,IAAI,CAAA,GAAIk+B,GAAMzvE,EAAAA,EAAGuxC,IAAI,CAAA,GAAIk+B,GAAMzvE,EAAAA,EAAGuxC,IAAI,CAAA,GAAIk+B,GAAMzvE,EAAAA,EAAGuxC,IAAI,CAAA,GAAIk+B,GAAMzvE,EAAAA,EAAGuxC,IAAI,CAAA,GAAIk+B,GAAMzvE,EAAAA,EAAGuxC,IAAI,CAAA,CAAA,IAEpHxmB,GAAIklD,UAAAA;AAIK,qBAAT/pE,MAA0B,SAATA,OACnB6kB,GAAIi+C,OAAAA,GAEA0G,GAAaZ,MACf/jD,GAAIglD,YAAY3zE,KAAKsyE,YAAAA;UAAAA;AAKd,mBAATxoE,MAA0B,SAATA,MACnB6kB,GAAIxV,KAAKm6D,GAAa1yE,CAAAA,GAGxB2zB,GAAS49C,QAAAA;QAAAA;IAAAA,GAKfzF,eAAe5tE,UAAUyiE,cAAc,SAAU2R,IAAiBvvB,IAAO7tC,IAAMg+D,IAAAA;AAC7E,UAAIn0E,IAEAwzE;AAGJ,WAFAA,KAAiBD,IAEZvzE,KAJKgkD,GAAM7jD,SAAS,GAIXH,MAAK,GAAGA,MAAK;AACL,iBAAhBgkD,GAAMhkD,EAAAA,EAAG+pB,MACXypD,KAAiBr9D,GAAKnW,EAAAA,EAAG0yC,WACzBryC,KAAKizE,qBAAqBC,IAAiBC,EAAAA,KAClB,SAAhBxvB,GAAMhkD,EAAAA,EAAG+pB,MAA+B,SAAhBi6B,GAAMhkD,EAAAA,EAAG+pB,MAA+B,SAAhBi6B,GAAMhkD,EAAAA,EAAG+pB,MAA+B,SAAhBi6B,GAAMhkD,EAAAA,EAAG+pB,KAC1F1pB,KAAKk9D,WAAWvZ,GAAMhkD,EAAAA,GAAImW,GAAKnW,EAAAA,CAAAA,IACN,SAAhBgkD,GAAMhkD,EAAAA,EAAG+pB,KAClB1pB,KAAKu9D,WAAW5Z,GAAMhkD,EAAAA,GAAImW,GAAKnW,EAAAA,GAAIwzE,EAAAA,IACV,SAAhBxvB,GAAMhkD,EAAAA,EAAG+pB,KAClB1pB,KAAK29D,aAAaha,GAAMhkD,EAAAA,GAAImW,GAAKnW,EAAAA,GAAIwzE,EAAAA,IACZ,SAAhBxvB,GAAMhkD,EAAAA,EAAG+pB,MAA+B,SAAhBi6B,GAAMhkD,EAAAA,EAAG+pB,KAC1C1pB,KAAK+zE,mBAAmBpwB,GAAMhkD,EAAAA,GAAImW,GAAKnW,EAAAA,GAAIwzE,EAAAA,IAClB,SAAhBxvB,GAAMhkD,EAAAA,EAAG+pB,KAClB1pB,KAAKuhE,YAAY4R,IAAgBxvB,GAAMhkD,EAAAA,EAAGyqB,IAAItU,GAAKnW,EAAAA,EAAGyqB,EAAAA,IAC7Cu5B,GAAMhkD,EAAAA,EAAG+pB;AAIlBoqD,MAAAA,MACF9zE,KAAKozE,UAAAA;IAAAA,GAIT1G,eAAe5tE,UAAUk1E,oBAAoB,SAAUzH,IAAav/B,IAAAA;AAClE,UAAIhtC,KAAKuqC,iBAAiByC,GAAM9C,QAAQqiC,GAAYlY,WAAWnqB,MAAM;AACnE,YAEIvqC,IACAkgB,IACAnb,IAJAuvE,KAAa1H,GAAYE,SACzBx+B,KAAQjB,GAAMiB,OAId/kB,KAAO+kB,GAAMvO;AACjBu0C,QAAAA,GAAWn0E,SAAS;AACpB,YAAIo0E,KAAoB3H,GAAYlY,WAAWnI;AAE/C,aAAKxnD,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK,GAAG;AAC5B,cAAIiwD,KAAY1mB,GAAMnkB,OAAOplB,EAAAA;AAE7B,cAAIiwD,MAAaA,GAAUtxD,GAAG;AAG5B,iBAFAwc,KAAM80C,GAAUj1B,SAEX//B,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACd,oBAANA,MACFs0E,GAAWzwE,KAAK,EACd/D,GAAG,KACHZ,GAAGq1E,GAAkBj/B,kBAAkB0f,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAIsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,EAAA,CAAA,GAIjF4wE,GAAWzwE,KAAK,EACd/D,GAAG,KACH01C,KAAK++B,GAAkB7+B,oBAAoBsf,GAAUjxD,EAAE/D,KAAI,CAAA,GAAIg1D,GAAUh1D,EAAEA,EAAAA,GAAIg1D,GAAUtxD,EAAE1D,EAAAA,CAAAA,EAAAA,CAAAA;AAInF,kBAARkgB,MACFo0D,GAAWzwE,KAAK,EACd/D,GAAG,KACHZ,GAAGq1E,GAAkBj/B,kBAAkB0f,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAIsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,EAAA,CAAA,GAI7EsxD,GAAUh0D,KAAKkf,OACjBo0D,GAAWzwE,KAAK,EACd/D,GAAG,KACH01C,KAAK++B,GAAkB7+B,oBAAoBsf,GAAUjxD,EAAE/D,KAAI,CAAA,GAAIg1D,GAAUh1D,EAAE,CAAA,GAAIg1D,GAAUtxD,EAAE,CAAA,CAAA,EAAA,CAAA,GAE7F4wE,GAAWzwE,KAAK,EACd/D,GAAG,IAAA,CAAA;UAAA;QAAA;AAMX8sE,QAAAA,GAAYE,UAAUwH;MAAAA;IAAAA,GAI1BvH,eAAe5tE,UAAUo+D,aAAa,SAAUzxC,IAAUuxC,IAAAA;AACxD,UAAA,SAAIvxC,GAAS0rC,MAAe1rC,GAASunD,eAAe;AAClD,YAAIrzE,IACAkgB,KAAMm9C,GAASsP,aAAaxsE;AAEhC,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,eAAKg0E,kBAAkBhX,GAASsP,aAAa3sE,EAAAA,GAAIq9D,GAASl1B,EAAAA;MAAAA;IAAAA,GAKhE4kC,eAAe5tE,UAAUy+D,aAAa,SAAUR,IAAWC,IAAUmW,IAAAA;AACnE,UAAI3V,KAAYR,GAASr0D;AAAAA,OAErBq0D,GAASr8D,EAAEupC,QAAQlqC,KAAKuqC,mBAC1BizB,GAAUgV,KAAK,SAAStvD,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,OAGnH25D,GAASt5D,EAAEwmC,QAAQipC,GAAenf,UAAUh0D,KAAKuqC,mBACnDizB,GAAU+V,OAAOvW,GAASt5D,EAAEL,IAAI8vE,GAAed;IAAAA,GAInD3F,eAAe5tE,UAAUi1E,qBAAqB,SAAUhX,IAAWC,IAAUmW,IAAAA;AAC3E,UACIM,IADAjW,KAAYR,GAASr0D;AAGzB,UAAA,CAAK60D,GAAUiW,OAAOzW,GAASp6D,EAAEsnC,QAAQ8yB,GAASt9D,EAAEwqC,QAAQ8yB,GAAS98D,EAAEgqC,QAAwB,MAAhB6yB,GAAUt9D,MAAYu9D,GAAStkD,EAAEwxB,QAAQ8yB,GAASv4D,EAAEylC,OAAO;AACxI,YAuBIvqC,IAvBAgvB,KAAM3uB,KAAK41B,WAAWw7C,eACtBpwC,KAAMg8B,GAASt9D,EAAE2D,GACjB49B,KAAM+7B,GAAS98D,EAAEmD;AAErB,YAAoB,MAAhB05D,GAAUt9D;AACZg0E,UAAAA,KAAM9kD,GAAIwlD,qBAAqBnzC,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIC,GAAI,CAAA,GAAIA,GAAI,CAAA,CAAA;aACtD;AACL,cAAIyO,KAAM5+B,KAAKmS,KAAKnS,KAAKiS,IAAIie,GAAI,CAAA,IAAKC,GAAI,CAAA,GAAI,CAAA,IAAKnwB,KAAKiS,IAAIie,GAAI,CAAA,IAAKC,GAAI,CAAA,GAAI,CAAA,CAAA,GACzEg9B,KAAMntD,KAAKm4B,MAAMhI,GAAI,CAAA,IAAKD,GAAI,CAAA,GAAIC,GAAI,CAAA,IAAKD,GAAI,CAAA,CAAA,GAC/CwD,KAAUw4B,GAAStkD,EAAErV;AAErBmhC,UAAAA,MAAW,IACbA,KAAU,OACDA,MAAAA,OACTA,KAAAA;AAGF,cAAIwb,KAAOtQ,KAAMlL,IACbzG,KAAIjtB,KAAKs4B,IAAI60B,KAAMjB,GAASv4D,EAAEpB,CAAAA,IAAK28C,KAAOhf,GAAI,CAAA,GAC9Cr+B,KAAImO,KAAKk4B,IAAIi1B,KAAMjB,GAASv4D,EAAEpB,CAAAA,IAAK28C,KAAOhf,GAAI,CAAA;AAClDyyC,UAAAA,KAAM9kD,GAAIylD,qBAAqBr2C,IAAGp7B,IAAG,GAAGq+B,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAI0O,EAAAA;QAAAA;AAI1D,YAAI7vB,KAAMk9C,GAAUn6D,EAAE/D,GAClBk/D,KAAUf,GAASp6D,EAAEjC,GACrB0xE,KAAU;AAEd,aAAK1yE,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBq9D,UAAAA,GAASp6D,EAAEm4D,eAAeiC,GAASp6D,EAAEi4D,iBACvCwX,KAAUrV,GAASp6D,EAAEc,EAAM,IAAJ/D,KAAQ,CAAA,IAGjC8zE,GAAIY,aAAatW,GAAY,IAAJp+D,EAAAA,IAAS,KAAK,UAAUo+D,GAAY,IAAJp+D,KAAQ,CAAA,IAAK,MAAMo+D,GAAY,IAAJp+D,KAAQ,CAAA,IAAK,MAAMo+D,GAAY,IAAJp+D,KAAQ,CAAA,IAAK,MAAM0yE,KAAU,GAAA;AAG9I7U,QAAAA,GAAUiW,MAAMA;MAAAA;AAGlBjW,MAAAA,GAAU+V,OAAOvW,GAASt5D,EAAEL,IAAI8vE,GAAed;IAAAA,GAGjD3F,eAAe5tE,UAAU6+D,eAAe,SAAUZ,IAAWC,IAAUmW,IAAAA;AACrE,UAAI3V,KAAYR,GAASr0D,OACrBpK,KAAIy+D,GAASz+D;AAEbA,MAAAA,OAAMA,GAAE2rC,QAAQlqC,KAAKuqC,mBACvBizB,GAAUkV,KAAKn0E,GAAE47D,WACjBqD,GAAS,KAASj/D,GAAE67D,WAAW,CAAA,KAG7B4C,GAASr8D,EAAEupC,QAAQlqC,KAAKuqC,mBAC1BizB,GAAUgV,KAAK,SAAStvD,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,MAAM6f,QAAQ85C,GAASr8D,EAAE0C,EAAE,CAAA,CAAA,IAAM,OAGnH25D,GAASt5D,EAAEwmC,QAAQipC,GAAenf,UAAUh0D,KAAKuqC,mBACnDizB,GAAU+V,OAAOvW,GAASt5D,EAAEL,IAAI8vE,GAAed,WAG7CrV,GAASrW,EAAEzc,QAAQlqC,KAAKuqC,mBAC1BizB,GAAUiV,KAAKzV,GAASrW,EAAEtjD;IAAAA,GAI9BqpE,eAAe5tE,UAAUmyB,UAAU,WAAA;AACjCjxB,WAAK+wD,aAAa,MAClB/wD,KAAK41B,aAAa,MAClB51B,KAAKoxE,gBAAgB,MACrBpxE,KAAKo+D,WAAWt+D,SAAS,GACzBE,KAAKgxD,UAAUlxD,SAAS;IAAA,GAuB1B2f,gBAAgB,CAACiuC,aAAae,kBAAkB0d,eAAenW,kBAAkBrI,cAActC,mBAAmBub,YAAAA,GAAe+F,aAAAA,GACjIA,cAAc7tE,UAAUmpD,UAAUzoC,UAAU,QAAA,EAAUoP,WAAW,IAAA,GAEjE+9C,cAAc7tE,UAAUoqE,eAAe,WAAA;AACrC,UAAIr+C,KAAe7qB,KAAKolE,aAAatG;AACrC9+D,WAAK0mE,kBAAkBtkD,iBAAiByI,GAAa7lB,IAAI6lB,GAAa7lB,EAAElF,SAAS,CAAA;AACjF,UAAIw0E,KAAAA;AAEAzpD,MAAAA,GAAa2zC,MACf8V,KAAAA,MACAt0E,KAAKiI,OAAOkR,OAAOnZ,KAAKwpE,WAAW3+C,GAAa2zC,EAAAA,KAEhDx+D,KAAKiI,OAAOkR,OAAO,iBAGrBnZ,KAAKmZ,OAAOm7D;AACZ,UAAIC,KAAAA;AAEA1pD,MAAAA,GAAa0/B,OACfgqB,KAAAA,MACAv0E,KAAKiI,OAAO2kE,SAAS5sE,KAAKwpE,WAAW3+C,GAAa0/B,EAAAA,GAClDvqD,KAAKiI,OAAO6kE,SAASjiD,GAAa0zC;AAGpC,UACI5+D,IACAkgB,IAOAqL,IACAyX,IACA/+B,IACAulB,IACAW,IACAplB,IACAwkB,IACAyrC,IACA6f,IACAC,IAlBAzyB,KAAWhiD,KAAK41B,WAAWkB,YAAY+zB,cAAchgC,GAAanoB,CAAAA,GAGlE4/D,KAAUz3C,GAAa7lB,GACvBuiE,KAAevnE,KAAKu0D;AACxBv0D,WAAK4sE,SAAS2H,IACdv0E,KAAKiI,OAAO8kE,SAASliD,GAAa80C,YAAY,QAAQ3/D,KAAK41B,WAAWkB,YAAY+zB,cAAchgC,GAAanoB,CAAAA,EAAGwlD,SAChHroC,KAAMgL,GAAa+0C,UAAU9/D;AAY7B,UAAI+uE,KAAc7uE,KAAK8V,KAAK+4D,aACxBhM,KAAmC,OAAlBh4C,GAAau3B,KAAav3B,GAAa80C,WACxDoH,KAAO,GACPC,KAAO,GACPa,KAAAA,MACAj7B,KAAM;AAEV,WAAKjtC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAE3BgjC,QAAAA,MADAzX,KAAWlrB,KAAK41B,WAAWkB,YAAY0zB,YAAY3/B,GAAa+0C,UAAUjgE,EAAAA,GAAIqiD,GAASC,QAAQjiD,KAAK41B,WAAWkB,YAAY+zB,cAAchgC,GAAanoB,CAAAA,EAAGwlD,OAAAA,MACjIh9B,GAASpV,QAAQ,CAAA,GACzCyxD,GAAaj5B,MAAAA,GAETugC,MAAevM,GAAQ3iE,EAAAA,EAAGC,MAC5BmnE,KAAAA,CAAQlE,IACRmE,MAAQn8C,GAAa60C,SACrBsH,MAAQa,KAAY,IAAI,GACxBA,KAAAA,QAIF3+C,MADAY,KAAS6Y,GAAU7Y,SAAS6Y,GAAU7Y,OAAO,CAAA,EAAGM,KAAK,CAAA,GACvCtqB,QACdynE,GAAax1B,MAAMlnB,GAAa80C,YAAY,KAAK90C,GAAa80C,YAAY,GAAA,GAEtEkP,MACF7uE,KAAKspE,4BAA4Bz+C,IAAc08C,IAAcjF,GAAQ3iE,EAAAA,EAAGuyB,MAAM60C,IAAMC,EAAAA,GAGtFwN,KAAWpyD,iBAAiB8G,KAAO,CAAA;AACnC,YAAIwrD,KAAkB;AAEtB,aAAKhwE,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AACzB,cAAqB,SAAjBolB,GAAOplB,EAAAA,EAAGglB,IAAa;AAKzB,iBAJAP,KAAOW,GAAOplB,EAAAA,EAAGylB,GAAGvmB,EAAEjE,EAAEG,QACxB60D,KAAY7qC,GAAOplB,EAAAA,EAAGylB,GAAGvmB,GACzB6wE,KAAU,CAAA,GAEL7wE,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACf,oBAANA,MACF6wE,GAAQjxE,KAAK+jE,GAAa7yB,SAASigB,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAIsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,GAAIkkE,GAAa5yB,SAASggB,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAIsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,CAAA,GAG3IoxE,GAAQjxE,KAAK+jE,GAAa7yB,SAASigB,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI+wD,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI,CAAA,GAAI2jE,GAAa5yB,SAASggB,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI+wD,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI,CAAA,GAAI2jE,GAAa7yB,SAASigB,GAAUh1D,EAAEiE,EAAAA,EAAG,CAAA,GAAI+wD,GAAUh1D,EAAEiE,EAAAA,EAAG,CAAA,GAAI,CAAA,GAAI2jE,GAAa5yB,SAASggB,GAAUh1D,EAAEiE,EAAAA,EAAG,CAAA,GAAI+wD,GAAUh1D,EAAEiE,EAAAA,EAAG,CAAA,GAAI,CAAA,GAAI2jE,GAAa7yB,SAASigB,GAAUtxD,EAAEO,EAAAA,EAAG,CAAA,GAAI+wD,GAAUtxD,EAAEO,EAAAA,EAAG,CAAA,GAAI,CAAA,GAAI2jE,GAAa5yB,SAASggB,GAAUtxD,EAAEO,EAAAA,EAAG,CAAA,GAAI+wD,GAAUtxD,EAAEO,EAAAA,EAAG,CAAA,GAAI,CAAA,CAAA;AAG3Z6wE,YAAAA,GAAQjxE,KAAK+jE,GAAa7yB,SAASigB,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI+wD,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI,CAAA,GAAI2jE,GAAa5yB,SAASggB,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI+wD,GAAUjxD,EAAEE,KAAI,CAAA,EAAG,CAAA,GAAI,CAAA,GAAI2jE,GAAa7yB,SAASigB,GAAUh1D,EAAE,CAAA,EAAG,CAAA,GAAIg1D,GAAUh1D,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,GAAI4nE,GAAa5yB,SAASggB,GAAUh1D,EAAE,CAAA,EAAG,CAAA,GAAIg1D,GAAUh1D,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,GAAI4nE,GAAa7yB,SAASigB,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAIsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,GAAIkkE,GAAa5yB,SAASggB,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAIsxD,GAAUtxD,EAAE,CAAA,EAAG,CAAA,GAAI,CAAA,CAAA,GACzZmxE,GAASE,EAAAA,IAAmBD,IAC5BC,MAAmB;UAAA;AAInB7F,QAAAA,OACF9H,MAAQzE,GAAQ3iE,EAAAA,EAAGqF,GACnB+hE,MAAQlE,KAGN7iE,KAAK6pE,UAAUj9B,EAAAA,IACjB5sC,KAAK6pE,UAAUj9B,EAAAA,EAAKpR,OAAOg5C,KAE3Bx0E,KAAK6pE,UAAUj9B,EAAAA,IAAO,EACpBpR,MAAMg5C,GAAAA,GAIV5nC,MAAO;MAAA;IAAA,GAIX+/B,cAAc7tE,UAAU25D,qBAAqB,WAAA;AAC3C,UAUI94D,IACAkgB,IACAnb,IACAwkB,IACAtlB,IACAulB,IAfAwF,KAAM3uB,KAAKoxE;AACfziD,MAAAA,GAAIs4B,OAAOjnD,KAAKiI,OAAO8kE,QACvBp+C,GAAI+kD,UAAU,QACd/kD,GAAIgyB,WAAW,SACfhyB,GAAIiyB,aAAa,GAEZ5gD,KAAK8V,KAAK+4D,eACb7uE,KAAKipE,aAAanC,YAAY9mE,KAAKolE,aAAatG,aAAa9+D,KAAK2mE,kBAAAA;AASpE,UAGIuJ,IAHAxJ,KAAkB1mE,KAAKipE,aAAavC,iBACpCpE,KAAUtiE,KAAKolE,aAAatG,YAAY95D;AAC5C6a,MAAAA,KAAMyiD,GAAQxiE;AAEd,UAGI00E,IACAC,IAJAE,KAAW,MACXC,KAAa,MACbC,KAAc;AAIlB,WAAKl1E,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,YAAA,CAAK2iE,GAAQ3iE,EAAAA,EAAGC,GAAG;AASjB,eARAswE,KAAiBxJ,GAAgB/mE,EAAAA,OAG/BK,KAAK41B,WAAWrB,SAASk9C,KAAAA,GACzBzxE,KAAK41B,WAAWrB,SAAS09C,aAAa/B,GAAerxE,CAAAA,GACrDmB,KAAK41B,WAAWrB,SAAS29C,WAAWhC,GAAexsE,CAAAA,IAGjD1D,KAAKmZ,MAAM;AAeb,iBAdI+2D,MAAkBA,GAAe1R,KAC/BmW,OAAazE,GAAe1R,OAC9BmW,KAAWzE,GAAe1R,IAC1B7vC,GAAIE,YAAYqhD,GAAe1R,MAExBmW,OAAa30E,KAAKiI,OAAOkR,SAClCw7D,KAAW30E,KAAKiI,OAAOkR,MACvBwV,GAAIE,YAAY7uB,KAAKiI,OAAOkR,OAI9B+P,MADAsrD,KAAWx0E,KAAK6pE,UAAUlqE,EAAAA,EAAG67B,MACb17B,QAChBE,KAAK41B,WAAWw7C,cAAcC,UAAAA,GAEzB3sE,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AAKzB,mBAHAykB,MADAsrD,KAAUD,GAAS9vE,EAAAA,GACJ5E,QACfE,KAAK41B,WAAWw7C,cAAcE,OAAOmD,GAAQ,CAAA,GAAIA,GAAQ,CAAA,CAAA,GAEpD7wE,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACzB5D,qBAAK41B,WAAWw7C,cAAcI,cAAciD,GAAQ7wE,EAAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,CAAA;AAIxI5D,iBAAK41B,WAAWw7C,cAAcyC,UAAAA,GAC9B7zE,KAAK41B,WAAWw7C,cAAcj4D,KAAAA;UAAAA;AAGhC,cAAInZ,KAAK4sE,QAAQ;AAyBf,iBAxBIsD,MAAkBA,GAAe3R,KAC/BsW,OAAgB3E,GAAe3R,OACjCsW,KAAc3E,GAAe3R,IAC7B5vC,GAAIg0C,YAAYuN,GAAe3R,MAExBsW,OAAgB70E,KAAKiI,OAAO6kE,WACrC+H,KAAc70E,KAAKiI,OAAO6kE,QAC1Bn+C,GAAIg0C,YAAY3iE,KAAKiI,OAAO6kE,SAG1BoD,MAAkBA,GAAe3lB,KAC/BqqB,OAAe1E,GAAe3lB,OAChCqqB,KAAa1E,GAAe3lB,IAC5B57B,GAAI6kD,cAActD,GAAe3lB,MAE1BqqB,OAAe50E,KAAKiI,OAAO2kE,WACpCgI,KAAa50E,KAAKiI,OAAO2kE,QACzBj+C,GAAI6kD,cAAcxzE,KAAKiI,OAAO2kE,SAIhC1jD,MADAsrD,KAAWx0E,KAAK6pE,UAAUlqE,EAAAA,EAAG67B,MACb17B,QAChBE,KAAK41B,WAAWw7C,cAAcC,UAAAA,GAEzB3sE,KAAI,GAAGA,KAAIwkB,IAAMxkB,MAAK;AAKzB,mBAHAykB,MADAsrD,KAAUD,GAAS9vE,EAAAA,GACJ5E,QACfE,KAAK41B,WAAWw7C,cAAcE,OAAOmD,GAAQ,CAAA,GAAIA,GAAQ,CAAA,CAAA,GAEpD7wE,KAAI,GAAGA,KAAIulB,IAAMvlB,MAAK;AACzB5D,qBAAK41B,WAAWw7C,cAAcI,cAAciD,GAAQ7wE,EAAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,GAAI6wE,GAAQ7wE,KAAI,CAAA,CAAA;AAIxI5D,iBAAK41B,WAAWw7C,cAAcyC,UAAAA,GAC9B7zE,KAAK41B,WAAWw7C,cAAcxE,OAAAA;UAAAA;AAG5BsD,UAAAA,MACFlwE,KAAK41B,WAAWrB,SAAS49C,QAAAA;QAAAA;IAAAA,GAYjC1yD,gBAAgB,CAACiuC,aAAae,kBAAkB0d,eAAenW,kBAAkBrI,cAActC,iBAAAA,GAAoB2hB,cAAAA,GACnHA,eAAeluE,UAAUq3D,cAAcgI,gBAAgBr/D,UAAUq3D,aACjE6W,eAAeluE,UAAUs0B,eAAe8iC,cAAcp3D,UAAUs0B,cAEhE45C,eAAeluE,UAAU05D,gBAAgB,WAAA;AACvC,UAAIx4D,KAAK6vB,IAAIpB,UAAUzuB,KAAKuvB,UAAUo3B,MAAM3mD,KAAK6vB,IAAIpB,SAASzuB,KAAKuvB,UAAU7W,MAAM1Y,KAAK6vB,IAAInB,SAAS;AACnG,YAAIF,KAAShP,UAAU,QAAA;AACvBgP,QAAAA,GAAOC,QAAQzuB,KAAKuvB,UAAUo3B,GAC9Bn4B,GAAOE,SAAS1uB,KAAKuvB,UAAU7W;AAC/B,YAKIo8D,IACAC,IANApmD,KAAMH,GAAOI,WAAW,IAAA,GACxBomD,KAAOh1E,KAAK6vB,IAAIpB,OAChBwmD,KAAOj1E,KAAK6vB,IAAInB,QAChBwmD,KAASF,KAAOC,IAChBE,KAAYn1E,KAAKuvB,UAAUo3B,IAAI3mD,KAAKuvB,UAAU7W,GAG9C08D,KAAMp1E,KAAKuvB,UAAUopC,MAAM34D,KAAK41B,WAAWw2B,aAAawM;AAExDsc,QAAAA,KAASC,MAAqB,qBAARC,MAA4BF,KAASC,MAAqB,qBAARC,KAE1EN,MADAC,KAAaE,MACYE,KAGzBJ,MADAD,KAAYE,MACaG,IAG3BxmD,GAAI0mD,UAAUr1E,KAAK6vB,MAAMmlD,KAAOF,MAAa,IAAIG,KAAOF,MAAc,GAAGD,IAAWC,IAAY,GAAG,GAAG/0E,KAAKuvB,UAAUo3B,GAAG3mD,KAAKuvB,UAAU7W,CAAAA,GACvI1Y,KAAK6vB,MAAMrB;MAAAA;IAAAA,GAIfw+C,eAAeluE,UAAU25D,qBAAqB,WAAA;AAC5Cz4D,WAAKoxE,cAAciE,UAAUr1E,KAAK6vB,KAAK,GAAG,CAAA;IAAA,GAG5Cm9C,eAAeluE,UAAUmyB,UAAU,WAAA;AACjCjxB,WAAK6vB,MAAM;IAAA,GAObpQ,gBAAgB,CAACiuC,aAAae,kBAAkB0d,eAAenW,kBAAkBrI,cAActC,iBAAAA,GAAoB4hB,cAAAA,GACnHA,eAAenuE,UAAUq3D,cAAcgI,gBAAgBr/D,UAAUq3D,aACjE8W,eAAenuE,UAAUs0B,eAAe8iC,cAAcp3D,UAAUs0B,cAEhE65C,eAAenuE,UAAU25D,qBAAqB,WAAA;AAC5C,UAAI9pC,KAAM3uB,KAAKoxE;AACfziD,MAAAA,GAAIE,YAAY7uB,KAAK8V,KAAKy0C,IAC1B57B,GAAIG,SAAS,GAAG,GAAG9uB,KAAK8V,KAAKyoD,IAAIv+D,KAAK8V,KAAKgyB,EAAAA;IAAAA,GAoC7CroB,gBAAgB,CAAC+uC,YAAAA,GAAe0e,kBAAAA,GAEhCA,mBAAmBpuE,UAAU6zD,cAAc,SAAU78C,IAAAA;AACnD,aAAA,IAAW42D,eAAe52D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGnDktE,mBAAmBpuE,UAAU8zD,aAAa,SAAU98C,IAAAA;AAClD,aAAA,IAAW62D,cAAc72D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGlDktE,mBAAmBpuE,UAAUyzD,cAAc,SAAUz8C,IAAAA;AACnD,aAAA,IAAWk3D,eAAel3D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGnDktE,mBAAmBpuE,UAAU2zD,cAAc,SAAU38C,IAAAA;AACnD,aAAA,IAAWm3D,eAAen3D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAGnDktE,mBAAmBpuE,UAAU4zD,aAAa0X,YAAYtrE,UAAU4zD,YAEhEwa,mBAAmBpuE,UAAUmzE,eAAe,SAAU7lE,IAAAA;AACpD,UAAiB,MAAbA,GAAM,CAAA,KAAyB,MAAbA,GAAM,CAAA,KAAyB,MAAbA,GAAM,CAAA,KAAyB,MAAbA,GAAM,CAAA,KAA0B,MAAdA,GAAM,EAAA,KAA2B,MAAdA,GAAM,EAAA;AAIrG,YAAKpM,KAAKosD,aAAa+gB,aAAvB;AAKAntE,eAAKytE,aAAal5B,eAAenoC,EAAAA;AACjC,cAAIkpE,KAASt1E,KAAKwtE,YAAY/B,IAAIr/D;AAClCpM,eAAKytE,aAAap7B,UAAUijC,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,GAAKA,GAAO,EAAA,CAAA,GAE7Mt1E,KAAKwtE,YAAY/B,IAAIl3B,eAAev0C,KAAKytE,aAAarhE,KAAAA;AACtD,cAAImpE,KAAUv1E,KAAKwtE,YAAY/B,IAAIr/D;AACnCpM,eAAKoxE,cAAcn/B,aAAasjC,GAAQ,CAAA,GAAIA,GAAQ,CAAA,GAAIA,GAAQ,CAAA,GAAIA,GAAQ,CAAA,GAAIA,GAAQ,EAAA,GAAKA,GAAQ,EAAA,CAAA;QAAA;AAVnGv1E,eAAKoxE,cAAc/+B,UAAUjmC,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAIA,GAAM,EAAA,GAAKA,GAAM,EAAA,CAAA;IAAA,GAa1F8gE,mBAAmBpuE,UAAUozE,aAAa,SAAU5uE,IAAAA;AAIlD,UAAA,CAAKtD,KAAKosD,aAAa+gB;AAGrB,eAFAntE,KAAKoxE,cAAcoE,eAAelyE,KAAK,IAAI,IAAIA,IAAAA,MAC/CtD,KAAK41B,WAAW23C,qBAAqBvtE,KAAKwtE,YAAY9B;AAIxD1rE,WAAKwtE,YAAY9B,MAAMpoE,KAAK,IAAI,IAAIA,IAEhCtD,KAAK41B,WAAW23C,uBAAuBvtE,KAAKwtE,YAAY9B,OAC1D1rE,KAAKoxE,cAAcoE,cAAcx1E,KAAKwtE,YAAY9B,IAClD1rE,KAAK41B,WAAW23C,qBAAqBvtE,KAAKwtE,YAAY9B;IAAAA,GAI1DwB,mBAAmBpuE,UAAUwvC,QAAQ,WAAA;AAC9BtuC,WAAKosD,aAAa+gB,cAKvBntE,KAAKwtE,YAAYl/B,MAAAA,IAJftuC,KAAKoxE,cAAce,QAAAA;IAAAA,GAOvBjF,mBAAmBpuE,UAAU2yE,OAAO,SAAUgE,IAAAA;AAC5C,UAAKz1E,KAAKosD,aAAa+gB,aAAvB;AAKIsI,QAAAA,MACFz1E,KAAKoxE,cAAcK,KAAAA;AAGrB,YAMI9xE,IANAyM,KAAQpM,KAAKwtE,YAAY/B,IAAIr/D;AAE7BpM,aAAKwtE,YAAY9tC,WAAW1/B,KAAKwtE,YAAYhC,WAC/CxrE,KAAKwtE,YAAYqD,UAAAA;AAInB,YAAI7uD,KAAMhiB,KAAKwtE,YAAYjC,MAAMvrE,KAAKwtE,YAAYhC,OAAAA;AAElD,aAAK7rE,KAAI,GAAGA,KAAI,IAAIA,MAAK;AACvBqiB,UAAAA,GAAIriB,EAAAA,IAAKyM,GAAMzM,EAAAA;AAGjBK,aAAKwtE,YAAY7B,QAAQ3rE,KAAKwtE,YAAYhC,OAAAA,IAAWxrE,KAAKwtE,YAAY9B,IACtE1rE,KAAKwtE,YAAYhC,WAAW;MAAA;AAtB1BxrE,aAAKoxE,cAAcK,KAAAA;IAAAA,GAyBvBvE,mBAAmBpuE,UAAUqzE,UAAU,SAAUsD,IAAAA;AAC/C,UAAKz1E,KAAKosD,aAAa+gB,aAAvB;AAKIsI,QAAAA,OACFz1E,KAAKoxE,cAAce,QAAAA,GACnBnyE,KAAK41B,WAAWg8C,YAAY,gBAG9B5xE,KAAKwtE,YAAYhC,WAAW;AAC5B,YACI7rE,IADA+1E,KAAS11E,KAAKwtE,YAAYjC,MAAMvrE,KAAKwtE,YAAYhC,OAAAA,GAEjDxpD,KAAMhiB,KAAKwtE,YAAY/B,IAAIr/D;AAE/B,aAAKzM,KAAI,GAAGA,KAAI,IAAIA,MAAK;AACvBqiB,UAAAA,GAAIriB,EAAAA,IAAK+1E,GAAO/1E,EAAAA;AAGlBK,aAAKoxE,cAAcn/B,aAAayjC,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,CAAA,GAAIA,GAAO,EAAA,GAAKA,GAAO,EAAA,CAAA,GAC/FA,KAAS11E,KAAKwtE,YAAY7B,QAAQ3rE,KAAKwtE,YAAYhC,OAAAA,GACnDxrE,KAAKwtE,YAAY9B,KAAKgK,IAElB11E,KAAK41B,WAAW23C,uBAAuBmI,OACzC11E,KAAKoxE,cAAcoE,cAAcE,IACjC11E,KAAK41B,WAAW23C,qBAAqBmI;MAAAA;AAxBrC11E,aAAKoxE,cAAce,QAAAA;IAAAA,GA4BvBjF,mBAAmBpuE,UAAUo2B,kBAAkB,SAAUuC,IAAAA;AACvD,UAAIz3B,KAAK4zD,cAAcp+B,SAAS;AAC9Bx1B,aAAK4zD,cAAcrhD,YAAYiN,UAAU,QAAA;AACzC,YAAIm2D,KAAiB31E,KAAK4zD,cAAcrhD,UAAU5J;AAClDgtE,QAAAA,GAAelnD,QAAQ,QACvBknD,GAAejnD,SAAS;AACxB,YAAIT,KAAS;AACb0nD,QAAAA,GAAejxD,kBAAkBuJ,IACjC0nD,GAAeC,qBAAqB3nD,IACpC0nD,GAAehxD,wBAAwBsJ,IACvC0nD,GAAe,mBAAA,IAAuB1nD,IACtC0nD,GAAe7K,oBAAoB9qE,KAAKosD,aAAa0e,mBACrD9qE,KAAK4zD,cAAcp+B,QAAQtsB,YAAYlJ,KAAK4zD,cAAcrhD,SAAAA,GAC1DvS,KAAKoxE,gBAAgBpxE,KAAK4zD,cAAcrhD,UAAUqc,WAAW,IAAA,GAEzD5uB,KAAKosD,aAAa6e,aACpBjrE,KAAK4zD,cAAcrhD,UAAUvJ,aAAa,SAAShJ,KAAKosD,aAAa6e,SAAAA,GAGnEjrE,KAAKosD,aAAapiC,MACpBhqB,KAAK4zD,cAAcrhD,UAAUvJ,aAAa,MAAMhJ,KAAKosD,aAAapiC,EAAAA;MAAAA;AAGpEhqB,aAAKoxE,gBAAgBpxE,KAAKosD,aAAaghB;AAGzCptE,WAAK8V,OAAO2hB,IACZz3B,KAAK+oB,SAAS0O,GAAS1O,QACvB/oB,KAAK61E,kBAAkB,EACrBlvB,GAAGlvB,GAASkvB,GACZjuC,GAAG+e,GAAS/e,GACZk5B,IAAI,GACJ1C,IAAI,GACJiD,IAAI,GACJzoB,IAAI,EAAA,GAEN1pB,KAAK0zD,gBAAgBj8B,IAAU7uB,SAASnG,IAAAA,GACxCzC,KAAK41B,WAAWw7C,gBAAgBpxE,KAAKoxE,eACrCpxE,KAAK41B,WAAWrB,WAAWv0B,MAC3BA,KAAK41B,WAAWkgD,WAAAA,OAChB91E,KAAK41B,WAAWq9B,kBAAkBjzD,KAAKosD,aAAa6G,iBACpDjzD,KAAK41B,WAAWigD,kBAAkB71E,KAAK61E,iBACvC71E,KAAKqc,WAAW+F,iBAAiBqV,GAAS1O,OAAOjpB,MAAAA,GACjDE,KAAKs4B,oBAAAA;IAAAA,GAGP40C,mBAAmBpuE,UAAUw5B,sBAAsB,SAAU7J,IAAOC,IAAAA;AAElE,UAAIqnD,IACAC,IAoBAC,IACAC;AAEJ,UAzBAl2E,KAAKsuC,MAAAA,GAID7f,MACFsnD,KAAetnD,IACfunD,KAAgBtnD,IAChB1uB,KAAKoxE,cAAc5iD,OAAOC,QAAQsnD,IAClC/1E,KAAKoxE,cAAc5iD,OAAOE,SAASsnD,OAE/Bh2E,KAAK4zD,cAAcp+B,WAAWx1B,KAAK4zD,cAAcrhD,aACnDwjE,KAAe/1E,KAAK4zD,cAAcp+B,QAAQiyB,aAC1CuuB,KAAgBh2E,KAAK4zD,cAAcp+B,QAAQ2gD,iBAE3CJ,KAAe/1E,KAAKoxE,cAAc5iD,OAAOC,OACzCunD,KAAgBh2E,KAAKoxE,cAAc5iD,OAAOE,SAG5C1uB,KAAKoxE,cAAc5iD,OAAOC,QAAQsnD,KAAe/1E,KAAKosD,aAAaihB,KACnErtE,KAAKoxE,cAAc5iD,OAAOE,SAASsnD,KAAgBh2E,KAAKosD,aAAaihB,MAAAA,OAMnErtE,KAAKosD,aAAaye,oBAAoB1qE,QAAQ,MAAA,KAAA,OAAkBH,KAAKosD,aAAaye,oBAAoB1qE,QAAQ,OAAA,GAAiB;AACjI,YAAIi1E,KAAMp1E,KAAKosD,aAAaye,oBAAoBt1D,MAAM,GAAA,GAClD6gE,KAAWhB,GAAI,CAAA,KAAM,QACrBppC,KAAMopC,GAAI,CAAA,KAAM,YAChBrO,KAAO/6B,GAAI5V,OAAO,GAAG,CAAA,GACrB4wC,KAAOh7B,GAAI5V,OAAO,CAAA;AACtB6/C,QAAAA,KAAaF,KAAeC,KAC5BE,KAAel2E,KAAK61E,gBAAgBlvB,IAAI3mD,KAAK61E,gBAAgBn9D,KAE1Cu9D,MAA2B,WAAbG,MAAuBF,KAAeD,MAA2B,YAAbG,MACnFp2E,KAAK61E,gBAAgBjkC,KAAKmkC,MAAgB/1E,KAAK61E,gBAAgBlvB,IAAI3mD,KAAKosD,aAAaihB,MACrFrtE,KAAK61E,gBAAgB3mC,KAAK6mC,MAAgB/1E,KAAK61E,gBAAgBlvB,IAAI3mD,KAAKosD,aAAaihB,SAErFrtE,KAAK61E,gBAAgBjkC,KAAKokC,MAAiBh2E,KAAK61E,gBAAgBn9D,IAAI1Y,KAAKosD,aAAaihB,MACtFrtE,KAAK61E,gBAAgB3mC,KAAK8mC,MAAiBh2E,KAAK61E,gBAAgBn9D,IAAI1Y,KAAKosD,aAAaihB,OAItFrtE,KAAK61E,gBAAgB1jC,KADV,WAAT40B,OAAoBmP,KAAeD,MAA2B,WAAbG,MAAuBF,KAAeD,MAA2B,YAAbG,OAC5EL,KAAe/1E,KAAK61E,gBAAgBlvB,KAAKqvB,KAAgBh2E,KAAK61E,gBAAgBn9D,MAAM,IAAI1Y,KAAKosD,aAAaihB,MACnH,WAATtG,OAAoBmP,KAAeD,MAA2B,WAAbG,MAAuBF,KAAeD,MAA2B,YAAbG,OACnFL,KAAe/1E,KAAK61E,gBAAgBlvB,KAAKqvB,KAAgBh2E,KAAK61E,gBAAgBn9D,MAAM1Y,KAAKosD,aAAaihB,MAEvG,GAI1BrtE,KAAK61E,gBAAgBnsD,KADV,WAATs9C,OAAoBkP,KAAeD,MAA2B,WAAbG,MAAuBF,KAAeD,MAA2B,YAAbG,OAC5EJ,KAAgBh2E,KAAK61E,gBAAgBn9D,KAAKq9D,KAAe/1E,KAAK61E,gBAAgBlvB,MAAM,IAAI3mD,KAAKosD,aAAaihB,MACnH,WAATrG,OAAoBkP,KAAeD,MAA2B,WAAbG,MAAuBF,KAAeD,MAA2B,YAAbG,OACnFJ,KAAgBh2E,KAAK61E,gBAAgBn9D,KAAKq9D,KAAe/1E,KAAK61E,gBAAgBlvB,MAAM3mD,KAAKosD,aAAaihB,MAEvG;MAAA;AAEuB,mBAA1CrtE,KAAKosD,aAAaye,uBAC3B7qE,KAAK61E,gBAAgBjkC,KAAKmkC,MAAgB/1E,KAAK61E,gBAAgBlvB,IAAI3mD,KAAKosD,aAAaihB,MACrFrtE,KAAK61E,gBAAgB3mC,KAAK8mC,MAAiBh2E,KAAK61E,gBAAgBn9D,IAAI1Y,KAAKosD,aAAaihB,MACtFrtE,KAAK61E,gBAAgB1jC,KAAK,GAC1BnyC,KAAK61E,gBAAgBnsD,KAAK,MAE1B1pB,KAAK61E,gBAAgBjkC,KAAK5xC,KAAKosD,aAAaihB,KAC5CrtE,KAAK61E,gBAAgB3mC,KAAKlvC,KAAKosD,aAAaihB,KAC5CrtE,KAAK61E,gBAAgB1jC,KAAK,GAC1BnyC,KAAK61E,gBAAgBnsD,KAAK;AAG5B1pB,WAAK61E,gBAAgBzpE,QAAQ,CAACpM,KAAK61E,gBAAgBjkC,IAAI,GAAG,GAAG,GAAG,GAAG5xC,KAAK61E,gBAAgB3mC,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAGlvC,KAAK61E,gBAAgB1jC,IAAInyC,KAAK61E,gBAAgBnsD,IAAI,GAAG,CAAA,GAQnK1pB,KAAKiyE,aAAajyE,KAAK61E,gBAAgBzpE,KAAAA,GACvCpM,KAAKoxE,cAAcC,UAAAA,GACnBrxE,KAAKoxE,cAActiB,KAAK,GAAG,GAAG9uD,KAAK61E,gBAAgBlvB,GAAG3mD,KAAK61E,gBAAgBn9D,CAAAA,GAC3E1Y,KAAKoxE,cAAcyC,UAAAA,GACnB7zE,KAAKoxE,cAAcM,KAAAA,GACnB1xE,KAAKw4B,YAAYx4B,KAAK2pC,eAAAA,IAAe;IAAA,GAGvCujC,mBAAmBpuE,UAAUmyB,UAAU,WAAA;AAKrC,UAAItxB;AAGJ,WAPIK,KAAKosD,aAAa+gB,eAAentE,KAAK4zD,cAAcp+B,YACtDx1B,KAAK4zD,cAAcp+B,QAAQ6G,YAAY,KAMpC18B,MAFKK,KAAK+oB,SAAS/oB,KAAK+oB,OAAOjpB,SAAS,KAE9B,GAAGH,MAAK,GAAGA,MAAK;AACzBK,aAAKqc,SAAS1c,EAAAA,KAChBK,KAAKqc,SAAS1c,EAAAA,EAAGsxB,QAAAA;AAIrBjxB,WAAKqc,SAASvc,SAAS,GACvBE,KAAK41B,WAAWw7C,gBAAgB,MAChCpxE,KAAK4zD,cAAcrhD,YAAY,MAC/BvS,KAAKqrE,YAAAA;IAAY,GAGnB6B,mBAAmBpuE,UAAU05B,cAAc,SAAUuzB,IAAK3Q,IAAAA;AACxD,WAAIp7C,KAAK2pC,kBAAkBoiB,MAAAA,SAAO/rD,KAAKosD,aAAa+gB,eAAyB/xB,OAAAA,CAAep7C,KAAKqrE,aAAAA,OAAatf,IAA9G;AAWA,YAAIpsD;AAPJK,aAAK2pC,gBAAgBoiB,IACrB/rD,KAAK41B,WAAW0P,WAAWymB,KAAM/rD,KAAK4zD,cAAcrpB,eACpDvqC,KAAK41B,WAAWwU,WAAW,GAC3BpqC,KAAK41B,WAAWsU,OAAAA,CAAQlqC,KAAKosD,aAAa+gB,eAAe/xB,IACzDp7C,KAAK41B,WAAWb,iBAAiBzB,eAAey4B;AAIhD,YAAIlsC,KAAM7f,KAAK+oB,OAAOjpB;AAMtB,aAJKE,KAAK8oB,kBACR9oB,KAAKkyD,YAAYnG,EAAAA,GAGdpsD,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAAA,WACpBK,KAAK8oB,kBAAkB9oB,KAAKqc,SAAS1c,EAAAA,MACvCK,KAAKqc,SAAS1c,EAAAA,EAAGyzB,aAAa24B,KAAM/rD,KAAK+oB,OAAOppB,EAAAA,EAAGyrB,EAAAA;AAIvD,YAAIprB,KAAK41B,WAAWsU,MAAM;AAOxB,eAAA,SANIlqC,KAAKosD,aAAa+gB,cACpBntE,KAAKoxE,cAAciF,UAAU,GAAG,GAAGr2E,KAAK61E,gBAAgBlvB,GAAG3mD,KAAK61E,gBAAgBn9D,CAAAA,IAEhF1Y,KAAKyxE,KAAAA,GAGF9xE,KAAIkgB,KAAM,GAAGlgB,MAAK,GAAGA,MAAK;AAAA,aACzBK,KAAK8oB,kBAAkB9oB,KAAKqc,SAAS1c,EAAAA,MACvCK,KAAKqc,SAAS1c,EAAAA,EAAG64B,YAAAA;AAAAA,mBAIjBx4B,KAAKosD,aAAa+gB,eACpBntE,KAAKmyE,QAAAA;QAAAA;MAAAA;IAAAA,GAKXjF,mBAAmBpuE,UAAUqzD,YAAY,SAAUnmB,IAAAA;AACjD,UAAI3vB,KAAWrc,KAAKqc;AAEpB,UAAA,CAAIA,GAAS2vB,EAAAA,KAAgC,OAAxBhsC,KAAK+oB,OAAOijB,EAAAA,EAAKtiB,IAAtC;AAIA,YAAIxQ,KAAUlZ,KAAKqyD,WAAWryD,KAAK+oB,OAAOijB,EAAAA,GAAMhsC,MAAMA,KAAK41B,UAAAA;AAC3DvZ,QAAAA,GAAS2vB,EAAAA,IAAO9yB,IAChBA,GAAQ+d,gBAAAA;MAAAA;IAAAA,GAMVi2C,mBAAmBpuE,UAAUszD,uBAAuB,WAAA;AAClD,aAAOpyD,KAAKwzD,gBAAgB1zD;AACZE,aAAKwzD,gBAAgBjwD,IAAAA,EAC3Bg1D,eAAAA;IAAAA,GAIZ2U,mBAAmBpuE,UAAU07B,OAAO,WAAA;AAClCx6B,WAAK4zD,cAAcrhD,UAAU5J,MAAM8b,UAAU;IAAA,GAG/CyoD,mBAAmBpuE,UAAU27B,OAAO,WAAA;AAClCz6B,WAAK4zD,cAAcrhD,UAAU5J,MAAM8b,UAAU;IAAA,GAc/ChF,gBAAgB,CAACytD,oBAAoBjD,cAAckC,aAAAA,GAAgBuB,aAAAA,GAEnEA,cAAc5uE,UAAU25D,qBAAqB,WAAA;AAC3C,UAQI94D,IARAgvB,KAAM3uB,KAAKoxE;AAWf,WAVAziD,GAAI0iD,UAAAA,GACJ1iD,GAAI2iD,OAAO,GAAG,CAAA,GACd3iD,GAAI4iD,OAAOvxE,KAAK8V,KAAK6wC,GAAG,CAAA,GACxBh4B,GAAI4iD,OAAOvxE,KAAK8V,KAAK6wC,GAAG3mD,KAAK8V,KAAK4C,CAAAA,GAClCiW,GAAI4iD,OAAO,GAAGvxE,KAAK8V,KAAK4C,CAAAA,GACxBiW,GAAI4iD,OAAO,GAAG,CAAA,GACd5iD,GAAI+iD,KAAAA,GAIC/xE,KAFKK,KAAK+oB,OAAOjpB,SAEP,GAAGH,MAAK,GAAGA,MAAK;AAAA,SACzBK,KAAK8oB,kBAAkB9oB,KAAKqc,SAAS1c,EAAAA,MACvCK,KAAKqc,SAAS1c,EAAAA,EAAG64B,YAAAA;IAAAA,GAKvBk1C,cAAc5uE,UAAUmyB,UAAU,WAAA;AAChC,UAAItxB;AAGJ,WAAKA,KAFKK,KAAK+oB,OAAOjpB,SAEP,GAAGH,MAAK,GAAGA,MAAK;AACzBK,aAAKqc,SAAS1c,EAAAA,KAChBK,KAAKqc,SAAS1c,EAAAA,EAAGsxB,QAAAA;AAIrBjxB,WAAK+oB,SAAS,MACd/oB,KAAKqc,WAAW;IAAA,GAGlBqxD,cAAc5uE,UAAU0zD,aAAa,SAAU18C,IAAAA;AAC7C,aAAA,IAAW43D,cAAc53D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAqClDyf,gBAAgB,CAACytD,kBAAAA,GAAqBS,cAAAA,GAEtCA,eAAe7uE,UAAU0zD,aAAa,SAAU18C,IAAAA;AAC9C,aAAA,IAAW43D,cAAc53D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAKlD4tE,aAAa9uE,YAAY,EACvBw3E,gBAAgB,WAAA;IAAA,GAChB/f,qBAAqB,WAAA;AACnBv2D,WAAKqxD,cAAc7xC,UAAUxf,KAAK8V,KAAKygE,MAAM,KAAA,GAEzCv2E,KAAK8V,KAAKuT,WACZrpB,KAAKyU,aAAagT,SAAS,KAAA,GAC3BznB,KAAKsxD,eAAe7pC,SAAS,GAAA,GAC7BznB,KAAKgwD,gBAAgBhwD,KAAKsxD,cAC1BtxD,KAAKyU,WAAWvL,YAAYlJ,KAAKsxD,YAAAA,GACjCtxD,KAAKqxD,YAAYnoD,YAAYlJ,KAAKyU,UAAAA,KAElCzU,KAAKsxD,eAAetxD,KAAKqxD,aAG3BhtC,SAASrkB,KAAKqxD,WAAAA;IAAAA,GAEhBmF,yBAAyB,WAAA;AACvBx2D,WAAK03D,2BAA2B,IAAIsU,UAAUhsE,IAAAA,GAC9CA,KAAK02D,qBAAqB12D,KAAKqxD,aAC/BrxD,KAAKgwD,gBAAgBhwD,KAAKsxD,cAEtBtxD,KAAK8V,KAAKohD,MACZl3D,KAAKsxD,aAAatoD,aAAa,MAAMhJ,KAAK8V,KAAKohD,EAAAA,GAG7Cl3D,KAAK8V,KAAKiW,MACZ/rB,KAAKsxD,aAAatoD,aAAa,SAAShJ,KAAK8V,KAAKiW,EAAAA,GAG/B,MAAjB/rB,KAAK8V,KAAKs7C,MACZpxD,KAAKkxD,aAAAA;IAAAA,GAGTqG,eAAe,WAAA;AACb,UAAIif,KAA0Bx2E,KAAK02D,qBAAqB12D,KAAK02D,mBAAmB/tD,QAAQ,CAAA;AAExF,UAAI3I,KAAKksD,eAAe6H,SAAS;AAC/B,YAAI0iB,KAAcz2E,KAAKksD,eAAe/Q,IAAIxF,MAAAA;AAC1C6gC,QAAAA,GAAwBnkC,YAAYokC,IACpCD,GAAwBE,kBAAkBD;MAAAA;AAGxCz2E,WAAKksD,eAAe8H,WACtBwiB,GAAwBnE,UAAUryE,KAAKksD,eAAeC,MAAMzoD,EAAEL;IAAAA,GAGlEm1B,aAAa,WAAA;AAGPx4B,WAAK8V,KAAKqhD,MAAMn3D,KAAKwrD,WAIzBxrD,KAAKk0D,gBAAAA,GACLl0D,KAAKssD,iBAAAA,GACLtsD,KAAKu3D,cAAAA,GACLv3D,KAAKy4D,mBAAAA,GAEDz4D,KAAKuqC,kBACPvqC,KAAKuqC,gBAAAA;IAAgB,GAGzBtZ,SAAS,WAAA;AACPjxB,WAAKsxD,eAAe,MACpBtxD,KAAK02D,qBAAqB,MAEtB12D,KAAKy2D,iBACPz2D,KAAKy2D,eAAe,OAGlBz2D,KAAKywD,gBACPzwD,KAAKywD,YAAYx/B,QAAAA,GACjBjxB,KAAKywD,cAAc;IAAA,GAGvBgH,4BAA4B,WAAA;AAC1Bz3D,WAAKywD,cAAc,IAAI/B,YAAY1uD,KAAK8V,MAAM9V,MAAMA,KAAK41B,UAAAA;IAAAA,GAE3D+gD,YAAY,WAAA;IAAA,GACZte,UAAU,WAAA;IAAA,EAAA,GAEZuV,aAAa9uE,UAAU8yD,iBAAiBmE,eAAej3D,UAAU8yD,gBACjEgc,aAAa9uE,UAAU04D,qBAAqBoW,aAAa9uE,UAAUmyB,SACnE28C,aAAa9uE,UAAUo0D,wBAAwB1E,aAAa1vD,UAAUo0D,uBAMtEzzC,gBAAgB,CAACiuC,aAAae,kBAAkBmf,cAAc5X,kBAAkBrI,cAAcsI,oBAAAA,GAAuB4X,aAAAA,GAErHA,cAAc/uE,UAAU05D,gBAAgB,WAAA;AACtC,UAAI1J;AAEA9uD,WAAK8V,KAAKuT,YACZylC,KAAOrnC,SAAS,MAAA,GACXze,aAAa,SAAShJ,KAAK8V,KAAKyoD,EAAAA,GACrCzP,GAAK9lD,aAAa,UAAUhJ,KAAK8V,KAAKgyB,EAAAA,GACtCgnB,GAAK9lD,aAAa,QAAQhJ,KAAK8V,KAAKy0C,EAAAA,GACpCvqD,KAAKyU,WAAWzL,aAAa,SAAShJ,KAAK8V,KAAKyoD,EAAAA,GAChDv+D,KAAKyU,WAAWzL,aAAa,UAAUhJ,KAAK8V,KAAKgyB,EAAAA,OAEjDgnB,KAAOtvC,UAAU,KAAA,GACZ7W,MAAM8lB,QAAQzuB,KAAK8V,KAAKyoD,KAAK,MAClCzP,GAAKnmD,MAAM+lB,SAAS1uB,KAAK8V,KAAKgyB,KAAK,MACnCgnB,GAAKnmD,MAAMiuE,kBAAkB52E,KAAK8V,KAAKy0C,KAGzCvqD,KAAKsxD,aAAapoD,YAAY4lD,EAAAA;IAAAA,GA+BhCrvC,gBAAgB,CAACiuC,aAAae,kBAAkBof,eAAe1P,iBAAiByP,cAAc5X,kBAAkBrI,cAActC,iBAAAA,GAAoByiB,aAAAA,GAClJA,cAAchvE,UAAU+3E,oBAAoB/I,cAAchvE,UAAU25D,oBAEpEqV,cAAchvE,UAAU05D,gBAAgB,WAAA;AACtC,UAAI3U;AAGJ,UAFA7jD,KAAKqxD,YAAY1oD,MAAMy+C,WAAW,GAE9BpnD,KAAK8V,KAAKuT;AACZrpB,aAAKsxD,aAAapoD,YAAYlJ,KAAK+tE,eAAAA,GACnClqB,KAAO7jD,KAAKyU;WACP;AACLovC,QAAAA,KAAOp8B,SAAS,KAAA;AAChB,YAAIm/B,KAAO5mD,KAAKiqB,KAAKnU,OAAO9V,KAAKiqB,KAAKnU,OAAO9V,KAAK41B,WAAWi+B;AAC7DhQ,QAAAA,GAAK76C,aAAa,SAAS49C,GAAKD,CAAAA,GAChC9C,GAAK76C,aAAa,UAAU49C,GAAKluC,CAAAA,GACjCmrC,GAAK36C,YAAYlJ,KAAK+tE,eAAAA,GACtB/tE,KAAKsxD,aAAapoD,YAAY26C,EAAAA;MAAAA;AAGhC7jD,WAAKogE,aAAapgE,KAAK+wD,YAAY/wD,KAAKgxD,WAAWhxD,KAAKo7D,cAAcp7D,KAAK+tE,iBAAiB,GAAG,CAAA,GAAA,IAAI,GACnG/tE,KAAKqgE,mBAAAA,GACLrgE,KAAK82E,YAAYjzB;IAAAA,GAGnBiqB,cAAchvE,UAAUi4E,sBAAsB,SAAUvd,IAAch4B,IAAAA;AACpE,UAAI7hC,IACAkgB,KAAM25C,GAAa15D;AAEvB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB6hC,QAAAA,KAAQg4B,GAAa75D,EAAAA,EAAGilD,OAAOvhD,EAAE4xC,kBAAkBzT,GAAM,CAAA,GAAIA,GAAM,CAAA,GAAI,CAAA;AAGzE,aAAOA;IAAAA,GAGTssC,cAAchvE,UAAUk4E,4BAA4B,SAAUl+D,IAAMmkC,IAAAA;AAClE,UAEIt9C,IAEAs3E,IACAC,IACAC,IACAC,IAPApqC,KAAQl0B,GAAKgvB,GAAGzkC,GAChBm2D,KAAe1gD,GAAK0gD,cAEpB35C,KAAMmtB,GAAMtN;AAMhB,UAAA,EAAI7f,MAAO,IAAX;AAIA,aAAKlgB,KAAI,GAAGA,KAAIkgB,KAAM,GAAGlgB,MAAK;AAC5Bs3E,UAAAA,KAASj3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAM3pC,EAAE1D,EAAAA,CAAAA,GACxDu3E,KAASl3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAMtpC,EAAE/D,EAAAA,CAAAA,GACxDw3E,KAAan3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAMrtC,EAAEA,KAAI,CAAA,CAAA,GAChEy3E,KAAap3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAM3pC,EAAE1D,KAAI,CAAA,CAAA,GAChEK,KAAKq3E,YAAYJ,IAAQC,IAAQC,IAAYC,IAAYn6B,EAAAA;AAGvDjQ,QAAAA,GAAMrsC,MACRs2E,KAASj3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAM3pC,EAAE1D,EAAAA,CAAAA,GACxDu3E,KAASl3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAMtpC,EAAE/D,EAAAA,CAAAA,GACxDw3E,KAAan3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAMrtC,EAAE,CAAA,CAAA,GAC5Dy3E,KAAap3E,KAAK+2E,oBAAoBvd,IAAcxsB,GAAM3pC,EAAE,CAAA,CAAA,GAC5DrD,KAAKq3E,YAAYJ,IAAQC,IAAQC,IAAYC,IAAYn6B,EAAAA;MAAAA;IAAAA,GAI7D6wB,cAAchvE,UAAUu4E,cAAc,SAAUJ,IAAQC,IAAQC,IAAYC,IAAYn6B,IAAAA;AACtFj9C,WAAKs3E,iBAAiBL,IAAQC,IAAQC,IAAYC,EAAAA;AAClD,UAAIvxB,KAAS7lD,KAAKu3E;AAClBt6B,MAAAA,GAAYlf,IAAIza,MAAMuiC,GAAOrhC,MAAMy4B,GAAYlf,CAAAA,GAC/Ckf,GAAYu6B,OAAOp0D,MAAMyiC,GAAOnE,OAAOzE,GAAYu6B,IAAAA,GACnDv6B,GAAYt6C,IAAI2gB,MAAMuiC,GAAOthC,KAAK04B,GAAYt6C,CAAAA,GAC9Cs6C,GAAYw6B,OAAOr0D,MAAMyiC,GAAOC,QAAQ7I,GAAYw6B,IAAAA;IAAAA,GAGtD3J,cAAchvE,UAAUy4E,mBAAmB,EACzC/yD,MAAM,GACNk9B,OAAO,GACPn9B,KAAK,GACLuhC,QAAQ,EAAA,GAEVgoB,cAAchvE,UAAU44E,kBAAkB,EACxC35C,GAAG,GACHy5C,MAAM,GACN70E,GAAG,GACH80E,MAAM,GACNhpD,OAAO,GACPC,QAAQ,EAAA,GAGVo/C,cAAchvE,UAAUw4E,mBAAmB,SAAU1oC,IAAIC,IAAIsE,IAAImJ,IAAAA;AAG/D,eAAS73C,IAAGjG,IAAGmC,IAAGlB,IAAGk4E,IAAMv0C,IAAI2Z,IAF3B8I,KAAS,CAAC,CAACjX,GAAG,CAAA,GAAI0N,GAAG,CAAA,CAAA,GAAK,CAAC1N,GAAG,CAAA,GAAI0N,GAAG,CAAA,CAAA,CAAA,GAEN38C,KAAI,GAAGA,KAAI,GAAA,EAAKA;AAEjDnB,QAAAA,KAAI,IAAIowC,GAAGjvC,EAAAA,IAAK,KAAKkvC,GAAGlvC,EAAAA,IAAK,IAAIwzC,GAAGxzC,EAAAA,GACpC8E,KAAAA,KAASmqC,GAAGjvC,EAAAA,IAAK,IAAIkvC,GAAGlvC,EAAAA,IAAK,IAAIwzC,GAAGxzC,EAAAA,IAAK,IAAI28C,GAAG38C,EAAAA,GAChDgB,KAAI,IAAIkuC,GAAGlvC,EAAAA,IAAK,IAAIivC,GAAGjvC,EAAAA,GACvBnB,MAAK,GAILmC,MAAK,GAEK,MAJV8D,MAAK,MAIgB,MAANjG,OACE,MAANiG,MACThF,KAAAA,CAAKkB,KAAInC,MAED,KAAKiB,KAAI,KACfomD,GAAOlmD,EAAAA,EAAG6D,KAAKxD,KAAK43E,WAAWn4E,IAAGmvC,IAAIC,IAAIsE,IAAImJ,IAAI38C,EAAAA,CAAAA,KAGpDg4E,KAAOn5E,KAAIA,KAAI,IAAImC,KAAI8D,OAEX,OACV2+B,MAAAA,CAAO5kC,KAAIwkB,OAAO20D,EAAAA,MAAU,IAAIlzE,OACvB,KAAK2+B,KAAK,KAAGyiB,GAAOlmD,EAAAA,EAAG6D,KAAKxD,KAAK43E,WAAWx0C,IAAIwL,IAAIC,IAAIsE,IAAImJ,IAAI38C,EAAAA,CAAAA,IACzEo9C,MAAAA,CAAOv+C,KAAIwkB,OAAO20D,EAAAA,MAAU,IAAIlzE,OACvB,KAAKs4C,KAAK,KAAG8I,GAAOlmD,EAAAA,EAAG6D,KAAKxD,KAAK43E,WAAW76B,IAAInO,IAAIC,IAAIsE,IAAImJ,IAAI38C,EAAAA,CAAAA;AAK/EK,WAAKu3E,iBAAiB/yD,OAAOlB,MAAMvjB,MAAM,MAAM8lD,GAAO,CAAA,CAAA,GACtD7lD,KAAKu3E,iBAAiBhzD,MAAMjB,MAAMvjB,MAAM,MAAM8lD,GAAO,CAAA,CAAA,GACrD7lD,KAAKu3E,iBAAiB71B,QAAQt+B,MAAMrjB,MAAM,MAAM8lD,GAAO,CAAA,CAAA,GACvD7lD,KAAKu3E,iBAAiBzxB,SAAS1iC,MAAMrjB,MAAM,MAAM8lD,GAAO,CAAA,CAAA;IAAA,GAG1DioB,cAAchvE,UAAU84E,aAAa,SAAUn4E,IAAGmvC,IAAIC,IAAIsE,IAAImJ,IAAI38C,IAAAA;AAChE,aAAOmjB,MAAM,IAAIrjB,IAAG,CAAA,IAAKmvC,GAAGjvC,EAAAA,IAAK,IAAImjB,MAAM,IAAIrjB,IAAG,CAAA,IAAKA,KAAIovC,GAAGlvC,EAAAA,IAAK,KAAK,IAAIF,MAAKqjB,MAAMrjB,IAAG,CAAA,IAAK0zC,GAAGxzC,EAAAA,IAAKmjB,MAAMrjB,IAAG,CAAA,IAAK68C,GAAG38C,EAAAA;IAAAA,GAG1HmuE,cAAchvE,UAAU+4E,uBAAuB,SAAU7mB,IAAW/T,IAAAA;AAClE,UAAIt9C,IACAkgB,KAAMmxC,GAAUlxD;AAEpB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBqxD,QAAAA,GAAUrxD,EAAAA,KAAMqxD,GAAUrxD,EAAAA,EAAGmoC,KAC/B9nC,KAAKg3E,0BAA0BhmB,GAAUrxD,EAAAA,GAAIs9C,EAAAA,IACpC+T,GAAUrxD,EAAAA,KAAMqxD,GAAUrxD,EAAAA,EAAGyqB,KACtCpqB,KAAK63E,qBAAqB7mB,GAAUrxD,EAAAA,EAAGyqB,IAAI6yB,EAAAA,IAClC+T,GAAUrxD,EAAAA,KAAMqxD,GAAUrxD,EAAAA,EAAGgJ,SAASqoD,GAAUrxD,EAAAA,EAAGgnD,KAC5D3mD,KAAK83E,wBAAwB9mB,GAAUrxD,EAAAA,EAAGgnD,GAAG1J,EAAAA;IAAAA,GAKnD6wB,cAAchvE,UAAUg5E,0BAA0B,SAAUC,IAAe96B,IAAAA;AACzE,UAAIxuB,KAAQ;AAEZ,UAAIspD,GAAc9xC,WAAW;AAC3B,iBAAStmC,KAAI,GAAGA,KAAIo4E,GAAc9xC,UAAUnmC,QAAQH,MAAK,GAAG;AAC1D,cAAIq4E,KAAMD,GAAc9xC,UAAUtmC,EAAAA,EAAGD;AAEjCs4E,UAAAA,KAAMvpD,OACRA,KAAQupD;QAAAA;AAIZvpD,QAAAA,MAASspD,GAAc9tC;MAAAA;AAEvBxb,QAAAA,KAAQspD,GAAc10E,IAAI00E,GAAc9tC;AAG1CgT,MAAAA,GAAYlf,KAAKtP,IACjBwuB,GAAYu6B,QAAQ/oD,IACpBwuB,GAAYt6C,KAAK8rB,IACjBwuB,GAAYw6B,QAAQhpD;IAAAA,GAGtBq/C,cAAchvE,UAAUm5E,qBAAqB,SAAUj7B,IAAAA;AACrD,aAAA,KAAYgxB,YAAYjwC,KAAKif,GAAIjf,KAAK/9B,KAAKguE,YAAYrrE,KAAKq6C,GAAIr6C,KAAK3C,KAAKguE,YAAYv/C,QAAQzuB,KAAKguE,YAAYjwC,KAAKif,GAAIjf,IAAIif,GAAIvuB,SAASzuB,KAAKguE,YAAYt/C,SAAS1uB,KAAKguE,YAAYrrE,KAAKq6C,GAAIr6C,IAAIq6C,GAAItuB;IAAAA,GAGvMo/C,cAAchvE,UAAU25D,qBAAqB,WAAA;AAG3C,UAFAz4D,KAAK62E,kBAAAA,GAAAA,CAEA72E,KAAKwrD,WAAWxrD,KAAKuqC,iBAAiBvqC,KAAKkqC,OAAO;AACrD,YAAIwtC,KAAkB13E,KAAK03E,iBACvBr0D,KAAM;AASV,YARAq0D,GAAgB35C,IAAI1a,IACpBq0D,GAAgBF,OAAAA,CAAQn0D,IACxBq0D,GAAgB/0E,IAAI0gB,IACpBq0D,GAAgBD,OAAAA,CAAQp0D,IACxBrjB,KAAK63E,qBAAqB73E,KAAKgxD,WAAW0mB,EAAAA,GAC1CA,GAAgBjpD,QAAQipD,GAAgBF,OAAOE,GAAgB35C,IAAI,IAAI25C,GAAgBF,OAAOE,GAAgB35C,GAC9G25C,GAAgBhpD,SAASgpD,GAAgBD,OAAOC,GAAgB/0E,IAAI,IAAI+0E,GAAgBD,OAAOC,GAAgB/0E,GAE3G3C,KAAKi4E,mBAAmBP,EAAAA;AAC1B;AAGF,YAAIQ,KAAAA;AAcJ,YAZIl4E,KAAKguE,YAAYrnB,MAAM+wB,GAAgBjpD,UACzCzuB,KAAKguE,YAAYrnB,IAAI+wB,GAAgBjpD,OACrCzuB,KAAK82E,UAAU9tE,aAAa,SAAS0uE,GAAgBjpD,KAAAA,GACrDypD,KAAAA,OAGEl4E,KAAKguE,YAAYt1D,MAAMg/D,GAAgBhpD,WACzC1uB,KAAKguE,YAAYt1D,IAAIg/D,GAAgBhpD,QACrC1uB,KAAK82E,UAAU9tE,aAAa,UAAU0uE,GAAgBhpD,MAAAA,GACtDwpD,KAAAA,OAGEA,MAAWl4E,KAAKguE,YAAYjwC,MAAM25C,GAAgB35C,KAAK/9B,KAAKguE,YAAYrrE,MAAM+0E,GAAgB/0E,GAAG;AACnG3C,eAAKguE,YAAYrnB,IAAI+wB,GAAgBjpD,OACrCzuB,KAAKguE,YAAYt1D,IAAIg/D,GAAgBhpD,QACrC1uB,KAAKguE,YAAYjwC,IAAI25C,GAAgB35C,GACrC/9B,KAAKguE,YAAYrrE,IAAI+0E,GAAgB/0E,GACrC3C,KAAK82E,UAAU9tE,aAAa,WAAWhJ,KAAKguE,YAAYjwC,IAAI,MAAM/9B,KAAKguE,YAAYrrE,IAAI,MAAM3C,KAAKguE,YAAYrnB,IAAI,MAAM3mD,KAAKguE,YAAYt1D,CAAAA;AACzI,cAAIy/D,KAAan4E,KAAK82E,UAAUnuE,OAC5ByvE,KAAiB,eAAep4E,KAAKguE,YAAYjwC,IAAI,QAAQ/9B,KAAKguE,YAAYrrE,IAAI;AACtFw1E,UAAAA,GAAW9lC,YAAY+lC,IACvBD,GAAWzB,kBAAkB0B;QAAAA;MAAAA;IAAAA,GAmBnC34D,gBAAgB,CAACiuC,aAAae,kBAAkBmf,cAAc5X,kBAAkBrI,cAAcsI,sBAAsB2Q,YAAAA,GAAeqH,YAAAA,GAEnIA,aAAanvE,UAAU05D,gBAAgB,WAAA;AAGrC,UAFAx4D,KAAKmuE,WAAWnuE,KAAKkwD,WAAAA,GAEjBlwD,KAAKmuE,UAAU;AACjBnuE,aAAKimE,aAAa,OAClBjmE,KAAKq4E,QAAQr4E,KAAKiqB,KAAKnU,KAAK6wC,GAC5B3mD,KAAKs4E,QAAQt4E,KAAKiqB,KAAKnU,KAAK4C,GAC5B1Y,KAAKyU,WAAWzL,aAAa,SAAShJ,KAAKq4E,KAAAA,GAC3Cr4E,KAAKyU,WAAWzL,aAAa,UAAUhJ,KAAKs4E,KAAAA;AAC5C,YAAI11E,KAAI6kB,SAAS,GAAA;AACjBznB,aAAKgwD,cAAc9mD,YAAYtG,EAAAA,GAC/B5C,KAAK04D,YAAY91D;MAAAA;AAEjB5C,aAAKimE,aAAa,QAClBjmE,KAAK04D,YAAY14D,KAAKsxD;AAGxBtxD,WAAKu4D,eAAAA;IAAAA,GAGP0V,aAAanvE,UAAUoqE,eAAe,WAAA;AACpC,UAAIr+C,KAAe7qB,KAAKolE,aAAatG;AACrC9+D,WAAK0mE,kBAAkBtkD,iBAAiByI,GAAa7lB,IAAI6lB,GAAa7lB,EAAElF,SAAS,CAAA;AACjF,UAAIy4E,KAAiBv4E,KAAK04D,UAAU/vD,OAChC6vE,KAAY3tD,GAAa2zC,KAAKx+D,KAAKwpE,WAAW3+C,GAAa2zC,EAAAA,IAAM;AACrE+Z,MAAAA,GAAep/D,OAAOq/D,IACtBD,GAAehyD,QAAQiyD,IAEnB3tD,GAAa0/B,OACfguB,GAAe3L,SAAS5sE,KAAKwpE,WAAW3+C,GAAa0/B,EAAAA,GACrDguB,GAAeE,cAAc5tD,GAAa0zC,KAAK;AAGjD,UAiBI5+D,IACAkgB,IAlBAmiC,KAAWhiD,KAAK41B,WAAWkB,YAAY+zB,cAAchgC,GAAanoB,CAAAA;AAEtE,UAAA,CAAK1C,KAAK41B,WAAWkB,YAAY7L;AAI/B,YAHAstD,GAAenxB,WAAWv8B,GAAa80C,YAAY,MACnD4Y,GAAeG,aAAa7tD,GAAa80C,YAAY,MAEjD3d,GAASmG;AACXnoD,eAAK04D,UAAUuS,YAAYjpB,GAASmG;aAC/B;AACLowB,UAAAA,GAAepxB,aAAanF,GAASkG;AACrC,cAAIhG,KAAUr3B,GAAaq3B,SACvBD,KAASp3B,GAAao3B;AAC1Bs2B,UAAAA,GAAejxB,YAAYrF,IAC3Bs2B,GAAehxB,aAAarF;QAAAA;AAMhC,UAEIotB,IACAqJ,IACAC,IAJAtW,KAAUz3C,GAAa7lB;AAC3B6a,MAAAA,KAAMyiD,GAAQxiE;AAId,UACIgqB,IADAy9C,KAAevnE,KAAKu0D,SAEpB6U,KAAW,IACXx8B,KAAM;AAEV,WAAKjtC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAuC3B,YAtCIK,KAAK41B,WAAWkB,YAAY7L,SACzBjrB,KAAKkuE,UAAUthC,EAAAA,IAMlB0iC,KAAQtvE,KAAKkuE,UAAUthC,EAAAA,MALvB0iC,KAAQ7nD,SAAS,MAAA,GACXze,aAAa,kBAAkBqwD,YAAY,CAAA,CAAA,GACjDiW,GAAMtmE,aAAa,mBAAmBswD,aAAa,CAAA,CAAA,GACnDgW,GAAMtmE,aAAa,qBAAqB,GAAA,IAKrChJ,KAAKmuE,aACJnuE,KAAK6pE,UAAUj9B,EAAAA,IAEjBgsC,MADAD,KAAU34E,KAAK6pE,UAAUj9B,EAAAA,GACTisC,SAAS,CAAA,MAEzBF,KAAUn5D,UAAU,KAAA,GACZ7W,MAAM+vE,aAAa,IAC3BE,KAAQnxD,SAAS,KAAA,GACXve,YAAYomE,EAAAA,GAClBjrD,SAASs0D,EAAAA,OAGH34E,KAAKmuE,WAYfmB,KAAQtvE,KAAKkuE,UAAUthC,EAAAA,IAAO5sC,KAAKkuE,UAAUthC,EAAAA,IAAOnlB,SAAS,MAAA,IAXzDznB,KAAK6pE,UAAUj9B,EAAAA,KACjB+rC,KAAU34E,KAAK6pE,UAAUj9B,EAAAA,GACzB0iC,KAAQtvE,KAAKkuE,UAAUthC,EAAAA,MAGvBvoB,SADAs0D,KAAUn5D,UAAU,MAAA,CAAA,GAGpB6E,SADAirD,KAAQ9vD,UAAU,MAAA,CAAA,GAElBm5D,GAAQzvE,YAAYomE,EAAAA,IAOpBtvE,KAAK41B,WAAWkB,YAAY7L,OAAO;AACrC,cACI0X,IADAzX,KAAWlrB,KAAK41B,WAAWkB,YAAY0zB,YAAY3/B,GAAa+0C,UAAUjgE,EAAAA,GAAIqiD,GAASC,QAAQjiD,KAAK41B,WAAWkB,YAAY+zB,cAAchgC,GAAanoB,CAAAA,EAAGwlD,OAAAA;AAkB7J,cAdEvlB,KADEzX,KACUA,GAASpV,OAET,MAGdyxD,GAAaj5B,MAAAA,GAET3L,MAAaA,GAAU7Y,UAAU6Y,GAAU7Y,OAAOhqB,WACpDgqB,KAAS6Y,GAAU7Y,OAAO,CAAA,EAAGM,IAC7Bm9C,GAAax1B,MAAMlnB,GAAa80C,YAAY,KAAK90C,GAAa80C,YAAY,GAAA,GAC1EyJ,KAAWppE,KAAKmpE,gBAAgB5B,IAAcz9C,EAAAA,GAC9CwlD,GAAMtmE,aAAa,KAAKogE,EAAAA,IAGrBppE,KAAKmuE;AAsBRnuE,iBAAK04D,UAAUxvD,YAAYomE,EAAAA;eAtBT;AAGlB,gBAFAtvE,KAAK04D,UAAUxvD,YAAYyvE,EAAAA,GAEvBh2C,MAAaA,GAAU7Y,QAAQ;AAEjClhB,uBAASnG,KAAKyG,YAAY0vE,EAAAA;AAC1B,kBAAI37B,KAAc27B,GAAM5oD,QAAAA;AACxB4oD,cAAAA,GAAM5vE,aAAa,SAASi0C,GAAYxuB,QAAQ,CAAA,GAChDmqD,GAAM5vE,aAAa,UAAUi0C,GAAYvuB,SAAS,CAAA,GAClDkqD,GAAM5vE,aAAa,WAAWi0C,GAAYlf,IAAI,IAAI,OAAOkf,GAAYt6C,IAAI,KAAK,OAAOs6C,GAAYxuB,QAAQ,KAAK,OAAOwuB,GAAYvuB,SAAS,EAAA;AAC1I,kBAAIoqD,KAAaF,GAAMjwE,OACnBowE,KAAmB,gBAAgB97B,GAAYlf,IAAI,KAAK,SAASkf,GAAYt6C,IAAI,KAAK;AAC1Fm2E,cAAAA,GAAWzmC,YAAY0mC,IACvBD,GAAWpC,kBAAkBqC,IAC7BzW,GAAQ3iE,EAAAA,EAAG+/D,UAAUziB,GAAYt6C,IAAI;YAAA;AAErCi2E,cAAAA,GAAM5vE,aAAa,SAAS,CAAA,GAC5B4vE,GAAM5vE,aAAa,UAAU,CAAA;AAG/B2vE,YAAAA,GAAQzvE,YAAY0vE,EAAAA;UAAAA;QAAAA,WAKtBtJ,GAAMrmE,cAAcq5D,GAAQ3iE,EAAAA,EAAGikB,KAC/B0rD,GAAMh+C,eAAe,wCAAwC,aAAa,UAAA,GAErEtxB,KAAKmuE;AAQRnuE,eAAK04D,UAAUxvD,YAAYomE,EAAAA;aART;AAClBtvE,eAAK04D,UAAUxvD,YAAYyvE,EAAAA;AAE3B,cAAIK,KAAS1J,GAAM3mE,OACfswE,KAAmB,mBAAA,CAAoBpuD,GAAa80C,YAAY,MAAM;AAC1EqZ,UAAAA,GAAO3mC,YAAY4mC,IACnBD,GAAOtC,kBAAkBuC;QAAAA;AAOxBj5E,aAAKmuE,WAGRnuE,KAAK6pE,UAAUj9B,EAAAA,IAAO0iC,KAFtBtvE,KAAK6pE,UAAUj9B,EAAAA,IAAO+rC,IAKxB34E,KAAK6pE,UAAUj9B,EAAAA,EAAKjkC,MAAM8b,UAAU,SACpCzkB,KAAKkuE,UAAUthC,EAAAA,IAAO0iC,IACtB1iC,MAAO;MAAA;AAGT,aAAOA,KAAM5sC,KAAK6pE,UAAU/pE;AAC1BE,aAAK6pE,UAAUj9B,EAAAA,EAAKjkC,MAAM8b,UAAU,QACpCmoB,MAAO;IAAA,GAIXqhC,aAAanvE,UAAU25D,qBAAqB,WAAA;AAC1C,UAAIygB;AAEJ,UAAIl5E,KAAK8V,KAAK+4D,aAAa;AACzB,YAAA,CAAK7uE,KAAKuqC,iBAAAA,CAAkBvqC,KAAK2mE;AAC/B;AAGF,YAAI3mE,KAAKmuE,YAAYnuE,KAAKksD,eAAe6H,SAAS;AAEhD/zD,eAAKyU,WAAWzL,aAAa,WAAA,CAAYhJ,KAAKksD,eAAeC,MAAMttD,EAAEwE,EAAE,CAAA,IAAK,MAAA,CAAOrD,KAAKksD,eAAeC,MAAMttD,EAAEwE,EAAE,CAAA,IAAK,MAAMrD,KAAKq4E,QAAQ,MAAMr4E,KAAKs4E,KAAAA,GACpJY,KAAWl5E,KAAKyU,WAAW9L;AAC3B,cAAIwwE,KAAc,eAAA,CAAgBn5E,KAAKksD,eAAeC,MAAMttD,EAAEwE,EAAE,CAAA,IAAK,QAAA,CAASrD,KAAKksD,eAAeC,MAAMttD,EAAEwE,EAAE,CAAA,IAAK;AACjH61E,UAAAA,GAAS7mC,YAAY8mC,IACrBD,GAASxC,kBAAkByC;QAAAA;MAAAA;AAM/B,UAFAn5E,KAAKipE,aAAanC,YAAY9mE,KAAKolE,aAAatG,aAAa9+D,KAAK2mE,kBAAAA,GAE7D3mE,KAAK2mE,sBAAuB3mE,KAAKipE,aAAatC,oBAAnD;AAIA,YAAIhnE,IACAkgB,IAKAqwD,IACAC,IACAiJ,IANAlzB,KAAQ,GACRwgB,KAAkB1mE,KAAKipE,aAAavC,iBACpCpE,KAAUtiE,KAAKolE,aAAatG,YAAY95D;AAM5C,aALA6a,KAAMyiD,GAAQxiE,QAKTH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpB2iE,UAAAA,GAAQ3iE,EAAAA,EAAGC,IACbsmD,MAAS,KAETiqB,KAAWnwE,KAAK6pE,UAAUlqE,EAAAA,GAC1By5E,KAAWp5E,KAAKkuE,UAAUvuE,EAAAA,GAC1BuwE,KAAiBxJ,GAAgBxgB,EAAAA,GACjCA,MAAS,GAELgqB,GAAehmC,KAAKvmC,MACjB3D,KAAKmuE,WAIRgC,GAASnnE,aAAa,aAAaknE,GAAevsE,CAAAA,KAHlDwsE,GAASxnE,MAAM+tE,kBAAkBxG,GAAevsE,GAChDwsE,GAASxnE,MAAM0pC,YAAY69B,GAAevsE,KAO9CwsE,GAASxnE,MAAM0pE,UAAUnC,GAAexsE,GAEpCwsE,GAAe3R,MAAM2R,GAAehmC,KAAKq0B,MAC3C6a,GAASpwE,aAAa,gBAAgBknE,GAAe3R,EAAAA,GAGnD2R,GAAe3lB,MAAM2lB,GAAehmC,KAAKqgB,MAC3C6uB,GAASpwE,aAAa,UAAUknE,GAAe3lB,EAAAA,GAG7C2lB,GAAe1R,MAAM0R,GAAehmC,KAAKs0B,OAC3C4a,GAASpwE,aAAa,QAAQknE,GAAe1R,EAAAA,GAC7C4a,GAASzwE,MAAM4d,QAAQ2pD,GAAe1R;AAK5C,YAAIx+D,KAAK04D,UAAU1oC,WAAAA,CAAYhwB,KAAKwrD,WAAWxrD,KAAKuqC,iBAAiBvqC,KAAKkqC,OAAO;AAC/E,cAAI+S,KAAcj9C,KAAK04D,UAAU1oC,QAAAA;AAcjC,cAZIhwB,KAAKguE,YAAYrnB,MAAM1J,GAAYxuB,UACrCzuB,KAAKguE,YAAYrnB,IAAI1J,GAAYxuB,OACjCzuB,KAAKyU,WAAWzL,aAAa,SAASi0C,GAAYxuB,KAAAA,IAGhDzuB,KAAKguE,YAAYt1D,MAAMukC,GAAYvuB,WACrC1uB,KAAKguE,YAAYt1D,IAAIukC,GAAYvuB,QACjC1uB,KAAKyU,WAAWzL,aAAa,UAAUi0C,GAAYvuB,MAAAA,IAKjD1uB,KAAKguE,YAAYrnB,MAAM1J,GAAYxuB,QAAQ4qD,KAAcr5E,KAAKguE,YAAYt1D,MAAMukC,GAAYvuB,SAAS2qD,KAAcr5E,KAAKguE,YAAYjwC,MAAMkf,GAAYlf,IAF7I,KAE2J/9B,KAAKguE,YAAYrrE,MAAMs6C,GAAYt6C,IAF9L,GAE0M;AACrN3C,iBAAKguE,YAAYrnB,IAAI1J,GAAYxuB,QAAQ4qD,GACzCr5E,KAAKguE,YAAYt1D,IAAIukC,GAAYvuB,SAAS2qD,GAC1Cr5E,KAAKguE,YAAYjwC,IAAIkf,GAAYlf,IALtB,GAMX/9B,KAAKguE,YAAYrrE,IAAIs6C,GAAYt6C,IANtB,GAOX3C,KAAKyU,WAAWzL,aAAa,WAAWhJ,KAAKguE,YAAYjwC,IAAI,MAAM/9B,KAAKguE,YAAYrrE,IAAI,MAAM3C,KAAKguE,YAAYrnB,IAAI,MAAM3mD,KAAKguE,YAAYt1D,CAAAA,GAC1IwgE,KAAWl5E,KAAKyU,WAAW9L;AAC3B,gBAAI2wE,KAAe,eAAet5E,KAAKguE,YAAYjwC,IAAI,QAAQ/9B,KAAKguE,YAAYrrE,IAAI;AACpFu2E,YAAAA,GAAS7mC,YAAYinC,IACrBJ,GAASxC,kBAAkB4C;UAAAA;QAAAA;MAAAA;IAAAA,GAgDjC75D,gBAAgB,CAACiuC,aAAaC,cAAcqI,gBAAAA,GAAmBoY,cAAAA,GAE/DA,eAAetvE,UAAUy6E,QAAQ,WAAA;AAC/B,UAAI55E,IAEAsqB,IACAuvD,IACA7D,IAHA91D,KAAM7f,KAAKiqB,KAAKwkD,eAAe3uE;AAKnC,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAIxB,YAAkB,UAFlBsqB,KAAOjqB,KAAKiqB,KAAKwkD,eAAe9uE,EAAAA,GAEvBmK,MAAe;AACtB0vE,UAAAA,KAAmBvvD,GAAKwvD,gBAAgB9wE,OACxCgtE,KAAiB1rD,GAAK1X,UAAU5J;AAChC,cAAI+wE,KAAc15E,KAAKquE,GAAGhrE,IAAI,MAC1B4qB,KAAS,eACT00B,KAAS;AACb62B,UAAAA,GAAiBE,cAAcA,IAC/BF,GAAiBG,oBAAoBD,IACrC/D,GAAejxD,kBAAkBuJ,IACjC0nD,GAAeC,qBAAqB3nD,IACpC0nD,GAAehxD,wBAAwBsJ,IACvCurD,GAAiBnnC,YAAYsQ,IAC7B62B,GAAiB9C,kBAAkB/zB;QAAAA;IAAAA,GAKzCyrB,eAAetvE,UAAU6yE,iBAAiB,WAAA;IAAA,GAE1CvD,eAAetvE,UAAU07B,OAAO,WAAA;IAAA,GAEhC4zC,eAAetvE,UAAU05B,cAAc,WAAA;AACrC,UACI74B,IACAkgB,IAFAqqB,KAAOlqC,KAAKuqC;AAIhB,UAAIvqC,KAAKozD;AAGP,aAFAvzC,KAAM7f,KAAKozD,UAAUtzD,QAEhBH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBuqC,UAAAA,KAAOlqC,KAAKozD,UAAUzzD,EAAAA,EAAGusD,eAAeC,MAAMjiB,QAAQA;AAI1D,UAAIA,MAAQlqC,KAAKquE,GAAGnkC,QAAQlqC,KAAKnB,KAAKmB,KAAKnB,EAAEqrC,QAAQlqC,KAAK26C,OAAO36C,KAAK26C,GAAGzQ,QAAQlqC,KAAK46C,GAAG1Q,QAAQlqC,KAAK66C,GAAG3Q,SAASlqC,KAAK86C,GAAG5Q,QAAQlqC,KAAK+6C,GAAG7Q,QAAQlqC,KAAKg7C,GAAG9Q,QAAQlqC,KAAKwvC,GAAGtF,QAAQlqC,KAAKyE,KAAKzE,KAAKyE,EAAEylC,MAAM;AAGvM,YAFAlqC,KAAKm7C,IAAI7M,MAAAA,GAELtuC,KAAKozD;AAGP,eAAKzzD,KAFLkgB,KAAM7f,KAAKozD,UAAUtzD,SAAS,GAEhBH,MAAK,GAAGA,MAAK,GAAG;AAC5B,gBAAIi6E,KAAU55E,KAAKozD,UAAUzzD,EAAAA,EAAGusD,eAAeC;AAC/CnsD,iBAAKm7C,IAAIjJ,UAAAA,CAAW0nC,GAAQ/6E,EAAEwE,EAAE,CAAA,GAAA,CAAKu2E,GAAQ/6E,EAAEwE,EAAE,CAAA,GAAIu2E,GAAQ/6E,EAAEwE,EAAE,CAAA,CAAA,GACjErD,KAAKm7C,IAAI3J,QAAAA,CAASooC,GAAQpqC,GAAGnsC,EAAE,CAAA,CAAA,EAAIouC,QAAAA,CAASmoC,GAAQpqC,GAAGnsC,EAAE,CAAA,CAAA,EAAIquC,QAAQkoC,GAAQpqC,GAAGnsC,EAAE,CAAA,CAAA,GAClFrD,KAAKm7C,IAAI3J,QAAAA,CAASooC,GAAQ9+B,GAAGz3C,CAAAA,EAAGouC,QAAAA,CAASmoC,GAAQ7+B,GAAG13C,CAAAA,EAAGquC,QAAQkoC,GAAQ5+B,GAAG33C,CAAAA,GAC1ErD,KAAKm7C,IAAIpJ,MAAM,IAAI6nC,GAAQl6E,EAAE2D,EAAE,CAAA,GAAI,IAAIu2E,GAAQl6E,EAAE2D,EAAE,CAAA,GAAI,IAAIu2E,GAAQl6E,EAAE2D,EAAE,CAAA,CAAA,GACvErD,KAAKm7C,IAAIjJ,UAAU0nC,GAAQn1E,EAAEpB,EAAE,CAAA,GAAIu2E,GAAQn1E,EAAEpB,EAAE,CAAA,GAAIu2E,GAAQn1E,EAAEpB,EAAE,CAAA,CAAA;UAAA;AAUnE,YANIrD,KAAKnB,IACPmB,KAAKm7C,IAAIjJ,UAAAA,CAAWlyC,KAAKnB,EAAEwE,EAAE,CAAA,GAAA,CAAKrD,KAAKnB,EAAEwE,EAAE,CAAA,GAAIrD,KAAKnB,EAAEwE,EAAE,CAAA,CAAA,IAExDrD,KAAKm7C,IAAIjJ,UAAAA,CAAWlyC,KAAK26C,GAAGt3C,GAAAA,CAAIrD,KAAK46C,GAAGv3C,GAAGrD,KAAK66C,GAAGx3C,CAAAA,GAGjDrD,KAAKyE,GAAG;AACV,cAAIo1E;AAGFA,UAAAA,KADE75E,KAAKnB,IACM,CAACmB,KAAKnB,EAAEwE,EAAE,CAAA,IAAKrD,KAAKyE,EAAEpB,EAAE,CAAA,GAAIrD,KAAKnB,EAAEwE,EAAE,CAAA,IAAKrD,KAAKyE,EAAEpB,EAAE,CAAA,GAAIrD,KAAKnB,EAAEwE,EAAE,CAAA,IAAKrD,KAAKyE,EAAEpB,EAAE,CAAA,CAAA,IAE9E,CAACrD,KAAK26C,GAAGt3C,IAAIrD,KAAKyE,EAAEpB,EAAE,CAAA,GAAIrD,KAAK46C,GAAGv3C,IAAIrD,KAAKyE,EAAEpB,EAAE,CAAA,GAAIrD,KAAK66C,GAAGx3C,IAAIrD,KAAKyE,EAAEpB,EAAE,CAAA,CAAA;AAGvF,cAAIy2E,KAAMhpE,KAAKmS,KAAKnS,KAAKiS,IAAI82D,GAAW,CAAA,GAAI,CAAA,IAAK/oE,KAAKiS,IAAI82D,GAAW,CAAA,GAAI,CAAA,IAAK/oE,KAAKiS,IAAI82D,GAAW,CAAA,GAAI,CAAA,CAAA,GAElGE,KAAU,CAACF,GAAW,CAAA,IAAKC,IAAKD,GAAW,CAAA,IAAKC,IAAKD,GAAW,CAAA,IAAKC,EAAAA,GACrEE,KAAiBlpE,KAAKmS,KAAK82D,GAAQ,CAAA,IAAKA,GAAQ,CAAA,IAAKA,GAAQ,CAAA,IAAKA,GAAQ,CAAA,CAAA,GAC1EE,KAAanpE,KAAKm4B,MAAM8wC,GAAQ,CAAA,GAAIC,EAAAA,GACpCE,KAAappE,KAAKm4B,MAAM8wC,GAAQ,CAAA,GAAA,CAAKA,GAAQ,CAAA,CAAA;AACjD/5E,eAAKm7C,IAAI1J,QAAQyoC,EAAAA,EAAY1oC,QAAAA,CAASyoC,EAAAA;QAAAA;AAGxCj6E,aAAKm7C,IAAI3J,QAAAA,CAASxxC,KAAK86C,GAAGz3C,CAAAA,EAAGouC,QAAAA,CAASzxC,KAAK+6C,GAAG13C,CAAAA,EAAGquC,QAAQ1xC,KAAKg7C,GAAG33C,CAAAA,GACjErD,KAAKm7C,IAAI3J,QAAAA,CAASxxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAIouC,QAAAA,CAASzxC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,EAAIquC,QAAQ1xC,KAAKwvC,GAAGnsC,EAAE,CAAA,CAAA,GACzErD,KAAKm7C,IAAIjJ,UAAUlyC,KAAK41B,WAAWi+B,SAASlN,IAAI,GAAG3mD,KAAK41B,WAAWi+B,SAASn7C,IAAI,GAAG,CAAA,GACnF1Y,KAAKm7C,IAAIjJ,UAAU,GAAG,GAAGlyC,KAAKquE,GAAGhrE,CAAAA;AACjC,YAAI82E,KAAAA,CAAoBn6E,KAAKsuE,SAASj6B,OAAOr0C,KAAKm7C,GAAAA;AAElD,aAAKg/B,MAAoBn6E,KAAKquE,GAAGnkC,SAASlqC,KAAKiqB,KAAKwkD,gBAAgB;AAElE,cAAIxkD,IACAuvD,IACA7D;AAEJ,eALA91D,KAAM7f,KAAKiqB,KAAKwkD,eAAe3uE,QAK1BH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAGxB,gBAAkB,UAFlBsqB,KAAOjqB,KAAKiqB,KAAKwkD,eAAe9uE,EAAAA,GAEvBmK,MAAe;AACtB,kBAAIqwE,IAAkB;AACpB,oBAAIC,KAAWp6E,KAAKm7C,IAAIxF,MAAAA;AAAAA,iBACxBggC,KAAiB1rD,GAAK1X,UAAU5J,OACjB0pC,YAAY+nC,IAC3BzE,GAAee,kBAAkB0D;cAAAA;AAG/Bp6E,mBAAKquE,GAAGnkC,UACVsvC,KAAmBvvD,GAAKwvD,gBAAgB9wE,OACvB+wE,cAAc15E,KAAKquE,GAAGhrE,IAAI,MAC3Cm2E,GAAiBG,oBAAoB35E,KAAKquE,GAAGhrE,IAAI;YAAA;AAKvDrD,eAAKm7C,IAAIpO,MAAM/sC,KAAKsuE,QAAAA;QAAAA;MAAAA;AAIxBtuE,WAAKuqC,gBAAAA;IAAgB,GAGvB6jC,eAAetvE,UAAUs0B,eAAe,SAAU24B,IAAAA;AAChD/rD,WAAKyxD,kBAAkB1F,IAAAA,IAAK;IAAA,GAG9BqiB,eAAetvE,UAAUmyB,UAAU,WAAA;IAAA,GAEnCm9C,eAAetvE,UAAU8yD,iBAAiB,WAAA;AACxC,aAAA;IAAA,GAQFnyC,gBAAgB,CAACiuC,aAAae,kBAAkBmf,cAAcC,eAAe7X,kBAAkBrI,cAActC,iBAAAA,GAAoBkjB,aAAAA,GAEjIA,cAAczvE,UAAU05D,gBAAgB,WAAA;AACtC,UAAIz3C,KAAY/gB,KAAK41B,WAAWtG,cAActvB,KAAKuvB,SAAAA,GAC/CM,KAAM,IAAIwqD;AAEVr6E,WAAK8V,KAAKuT,WACZrpB,KAAKs6E,YAAY7yD,SAAS,OAAA,GAC1BznB,KAAKs6E,UAAUtxE,aAAa,SAAShJ,KAAKuvB,UAAUo3B,IAAI,IAAA,GACxD3mD,KAAKs6E,UAAUtxE,aAAa,UAAUhJ,KAAKuvB,UAAU7W,IAAI,IAAA,GACzD1Y,KAAKs6E,UAAUhpD,eAAe,gCAAgC,QAAQvQ,EAAAA,GACtE/gB,KAAKsxD,aAAapoD,YAAYlJ,KAAKs6E,SAAAA,GACnCt6E,KAAKqxD,YAAYroD,aAAa,SAAShJ,KAAKuvB,UAAUo3B,CAAAA,GACtD3mD,KAAKqxD,YAAYroD,aAAa,UAAUhJ,KAAKuvB,UAAU7W,CAAAA,KAEvD1Y,KAAKsxD,aAAapoD,YAAY2mB,EAAAA,GAGhCA,GAAIuB,cAAc,aAClBvB,GAAI5O,MAAMF,IAEN/gB,KAAK8V,KAAKohD,MACZl3D,KAAKqxD,YAAYroD,aAAa,MAAMhJ,KAAK8V,KAAKohD,EAAAA;IAAAA,GAiClDz3C,gBAAgB,CAAC+uC,YAAAA,GAAeggB,kBAAAA,GAChCA,mBAAmB1vE,UAAUqzD,YAAYiY,YAAYtrE,UAAUqzD,WAE/Dqc,mBAAmB1vE,UAAUszD,uBAAuB,WAAA;AAClD,aAAOpyD,KAAKwzD,gBAAgB1zD;AACZE,aAAKwzD,gBAAgBjwD,IAAAA,EAC3Bg1D,eAAAA;IAAAA,GAIZiW,mBAAmB1vE,UAAUuxE,qBAAqB,SAAUn3D,IAAS8yB,IAAAA;AACnE,UAAIuuC,KAAgBrhE,GAAQ04C,eAAAA;AAE5B,UAAK2oB,IAAL;AAIA,YAAIjoB,KAAQtyD,KAAK+oB,OAAOijB,EAAAA;AAExB,YAAKsmB,GAAMkoB,OAAQx6E,KAAKmqE;AA4BtBnqE,eAAKy6E,iBAAiBF,IAAevuC,EAAAA;iBA3BjChsC,KAAKyuE;AACPzuE,eAAKy6E,iBAAiBF,IAAevuC,EAAAA;aAChC;AAML,mBAJI0uC,IACAC,IAFAh7E,KAAI,GAKDA,KAAIqsC;AACLhsC,iBAAKqc,SAAS1c,EAAAA,KAAAA,SAAMK,KAAKqc,SAAS1c,EAAAA,KAAeK,KAAKqc,SAAS1c,EAAAA,EAAGiyD,mBACpE+oB,KAAY36E,KAAKqc,SAAS1c,EAAAA,GAE1B+6E,MADgB16E,KAAK+oB,OAAOppB,EAAAA,EAAG66E,MAAMx6E,KAAK46E,wBAAwBj7E,EAAAA,IAAKg7E,GAAU/oB,eAAAA,MAC/C8oB,KAGpC/6E,MAAK;AAGH+6E,UAAAA,KACGpoB,GAAMkoB,OAAQx6E,KAAKmqE,cACtBnqE,KAAKsxD,aAAax+C,aAAaynE,IAAeG,EAAAA,IAEtCpoB,GAAMkoB,OAAQx6E,KAAKmqE,cAC7BnqE,KAAKsxD,aAAapoD,YAAYqxE,EAAAA;QAAAA;MAAAA;IAAAA,GAQtC/L,mBAAmB1vE,UAAU6zD,cAAc,SAAU78C,IAAAA;AACnD,aAAK9V,KAAKmqE,aAAAA,IAIC2D,cAAch4D,IAAM9V,KAAK41B,YAAY51B,IAAAA,IAAAA,IAHnCm+D,gBAAgBroD,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAMtDwuE,mBAAmB1vE,UAAU8zD,aAAa,SAAU98C,IAAAA;AAClD,aAAK9V,KAAKmqE,aAAAA,IAIC8D,aAAan4D,IAAM9V,KAAK41B,YAAY51B,IAAAA,IAAAA,IAHlC4pE,qBAAqB9zD,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAM3DwuE,mBAAmB1vE,UAAU+zD,eAAe,SAAU/8C,IAAAA;AAEpD,aADA9V,KAAK0uE,SAAS,IAAIN,eAAet4D,IAAM9V,KAAK41B,YAAY51B,IAAAA,GAAAA,KAC5C0uE;IAAAA,GAGdF,mBAAmB1vE,UAAUyzD,cAAc,SAAUz8C,IAAAA;AACnD,aAAK9V,KAAKmqE,aAAAA,IAICoE,cAAcz4D,IAAM9V,KAAK41B,YAAY51B,IAAAA,IAAAA,IAHnCk2D,cAAcpgD,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAMpDwuE,mBAAmB1vE,UAAU2zD,cAAc,SAAU38C,IAAAA;AACnD,aAAK9V,KAAKmqE,aAAAA,IAIC0D,cAAc/3D,IAAM9V,KAAK41B,YAAY51B,IAAAA,IAAAA,IAHnC8pE,cAAch0D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAMpDwuE,mBAAmB1vE,UAAU4zD,aAAa0X,YAAYtrE,UAAU4zD,YAEhE8b,mBAAmB1vE,UAAU87E,0BAA0B,SAAU5uC,IAAAA;AAI/D,eAHIrsC,KAAI,GACJkgB,KAAM7f,KAAKyuE,eAAe3uE,QAEvBH,KAAIkgB,MAAK;AACd,YAAI7f,KAAKyuE,eAAe9uE,EAAAA,EAAGk7E,YAAY7uC,MAAOhsC,KAAKyuE,eAAe9uE,EAAAA,EAAGm7E,UAAU9uC;AAC7E,iBAAA,KAAYyiC,eAAe9uE,EAAAA,EAAG85E;AAGhC95E,QAAAA,MAAK;MAAA;AAGP,aAAA;IAAA,GAGF6uE,mBAAmB1vE,UAAUi8E,wBAAwB,SAAU/uC,IAAKliC,IAAAA;AAClE,UACInB,IACAgtE,IAFA8D,KAAkBj6D,UAAU,KAAA;AAGhC6E,eAASo1D,EAAAA;AACT,UAAIlnE,KAAYiN,UAAU,KAAA;AAG1B,UAFA6E,SAAS9R,EAAAA,GAEI,SAATzI,IAAe;AAAA,SACjBnB,KAAQ8wE,GAAgB9wE,OAClB8lB,QAAQzuB,KAAK41B,WAAWi+B,SAASlN,IAAI,MAC3Ch+C,GAAM+lB,SAAS1uB,KAAK41B,WAAWi+B,SAASn7C,IAAI;AAC5C,YAAIsoC,KAAS;AACbr4C,QAAAA,GAAMgc,wBAAwBq8B,IAC9Br4C,GAAMitE,qBAAqB50B,IAC3Br4C,GAAM+b,kBAAkBs8B;AAExB,YAAI2B,KAAS;AAAA,SADbgzB,KAAiBpjE,GAAU5J,OAEZ0pC,YAAYsQ,IAC3BgzB,GAAee,kBAAkB/zB;MAAAA;AAGnC82B,MAAAA,GAAgBvwE,YAAYqJ,EAAAA;AAE5B,UAAIyoE,KAAsB,EACxBzoE,WAAWA,IACXknE,iBAAiBA,IACjBoB,UAAU7uC,IACV8uC,QAAQ9uC,IACRliC,MAAMA,GAAAA;AAGR,aADA9J,KAAKyuE,eAAejrE,KAAKw3E,EAAAA,GAClBA;IAAAA,GAGTxM,mBAAmB1vE,UAAUm8E,oBAAoB,WAAA;AAC/C,UAAIt7E,IAEAu7E,IADAr7D,KAAM7f,KAAK+oB,OAAOjpB,QAElBq7E,KAAmB;AAEvB,WAAKx7E,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACpBK,aAAK+oB,OAAOppB,EAAAA,EAAG66E,OAA6B,MAAtBx6E,KAAK+oB,OAAOppB,EAAAA,EAAG+pB,MACd,SAArByxD,OACFA,KAAmB,MACnBD,KAA0Bl7E,KAAK+6E,sBAAsBp7E,IAAG,IAAA,IAG1Du7E,GAAwBJ,SAAShqE,KAAKuS,IAAI63D,GAAwBJ,QAAQn7E,EAAAA,MAEjD,SAArBw7E,OACFA,KAAmB,MACnBD,KAA0Bl7E,KAAK+6E,sBAAsBp7E,IAAG,IAAA,IAG1Du7E,GAAwBJ,SAAShqE,KAAKuS,IAAI63D,GAAwBJ,QAAQn7E,EAAAA;AAM9E,WAAKA,MAFLkgB,KAAM7f,KAAKyuE,eAAe3uE,UAEX,GAAGH,MAAK,GAAGA,MAAK;AAC7BK,aAAKo7E,YAAYlyE,YAAYlJ,KAAKyuE,eAAe9uE,EAAAA,EAAG85E,eAAAA;IAAAA,GAIxDjL,mBAAmB1vE,UAAU27E,mBAAmB,SAAUj/C,IAAMwQ,IAAAA;AAI9D,eAHIrsC,KAAI,GACJkgB,KAAM7f,KAAKyuE,eAAe3uE,QAEvBH,KAAIkgB,MAAK;AACd,YAAImsB,MAAOhsC,KAAKyuE,eAAe9uE,EAAAA,EAAGm7E,QAAQ;AAIxC,mBAFIrK,IADA/rE,KAAI1E,KAAKyuE,eAAe9uE,EAAAA,EAAGk7E,UAGxBn2E,KAAIsnC;AACLhsC,iBAAKqc,SAAS3X,EAAAA,KAAM1E,KAAKqc,SAAS3X,EAAAA,EAAGktD,mBACvC6e,KAAczwE,KAAKqc,SAAS3X,EAAAA,EAAGktD,eAAAA,IAGjCltD,MAAK;AAGH+rE,UAAAA,KACFzwE,KAAKyuE,eAAe9uE,EAAAA,EAAG4S,UAAUO,aAAa0oB,IAAMi1C,EAAAA,IAEpDzwE,KAAKyuE,eAAe9uE,EAAAA,EAAG4S,UAAUrJ,YAAYsyB,EAAAA;AAG/C;QAAA;AAGF77B,QAAAA,MAAK;MAAA;IAAA,GAIT6uE,mBAAmB1vE,UAAUo2B,kBAAkB,SAAUuC,IAAAA;AACvD,UAAI2jD,KAAc57D,UAAU,KAAA,GACxBgW,KAAUx1B,KAAK4zD,cAAcp+B,SAC7B7sB,KAAQyyE,GAAYzyE;AACxBA,MAAAA,GAAM8lB,QAAQgJ,GAASkvB,IAAI,MAC3Bh+C,GAAM+lB,SAAS+I,GAAS/e,IAAI,MAC5B1Y,KAAKo7E,cAAcA,IACnB/2D,SAAS+2D,EAAAA,GACTzyE,GAAMmc,iBAAiB,QACvBnc,GAAMqc,oBAAoB,QAC1Brc,GAAMoc,uBAAuB,QAEzB/kB,KAAKosD,aAAa6e,aACpBmQ,GAAYpyE,aAAa,SAAShJ,KAAKosD,aAAa6e,SAAAA,GAGtDz1C,GAAQtsB,YAAYkyE,EAAAA,GACpBzyE,GAAM0yE,WAAW;AACjB,UAAIrpE,KAAMyV,SAAS,KAAA;AACnBzV,MAAAA,GAAIhJ,aAAa,SAAS,GAAA,GAC1BgJ,GAAIhJ,aAAa,UAAU,GAAA,GAC3Bqb,SAASrS,EAAAA,GACThS,KAAKo7E,YAAYlyE,YAAY8I,EAAAA;AAC7B,UAAI6jB,KAAOpO,SAAS,MAAA;AACpBzV,MAAAA,GAAI9I,YAAY2sB,EAAAA,GAChB71B,KAAK8V,OAAO2hB,IAEZz3B,KAAK0zD,gBAAgBj8B,IAAUzlB,EAAAA,GAC/BhS,KAAK41B,WAAWC,OAAOA,IACvB71B,KAAK+oB,SAAS0O,GAAS1O,QACvB/oB,KAAKsxD,eAAetxD,KAAKo7E,aACzBp7E,KAAKi7E,kBAAAA,GACLj7E,KAAKs4B,oBAAAA;IAAAA,GAGPk2C,mBAAmB1vE,UAAUmyB,UAAU,WAAA;AAOrC,UAAItxB;AANAK,WAAK4zD,cAAcp+B,YACrBx1B,KAAK4zD,cAAcp+B,QAAQ6G,YAAY,KAGzCr8B,KAAK4zD,cAAcrhD,YAAY,MAC/BvS,KAAK41B,WAAWC,OAAO;AAEvB,UAAIhW,KAAM7f,KAAK+oB,SAAS/oB,KAAK+oB,OAAOjpB,SAAS;AAE7C,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,aAAKqc,SAAS1c,EAAAA,EAAGsxB,QAAAA;AAGnBjxB,WAAKqc,SAASvc,SAAS,GACvBE,KAAKqrE,YAAAA,MACLrrE,KAAK4zD,gBAAgB;IAAA,GAGvB4a,mBAAmB1vE,UAAUw5B,sBAAsB,WAAA;AACjD,UAIIsZ,IACA1C,IACAiD,IACAzoB,IAPAqsD,KAAe/1E,KAAK4zD,cAAcp+B,QAAQiyB,aAC1CuuB,KAAgBh2E,KAAK4zD,cAAcp+B,QAAQ2gD,cAC3CF,KAAaF,KAAeC;AACbh2E,WAAK41B,WAAWi+B,SAASlN,IAAI3mD,KAAK41B,WAAWi+B,SAASn7C,IAMtDu9D,MACjBrkC,KAAKmkC,KAAe/1E,KAAK41B,WAAWi+B,SAASlN,GAC7CzX,KAAK6mC,KAAe/1E,KAAK41B,WAAWi+B,SAASlN,GAC7CxU,KAAK,GACLzoB,MAAMssD,KAAgBh2E,KAAK41B,WAAWi+B,SAASn7C,KAAKq9D,KAAe/1E,KAAK41B,WAAWi+B,SAASlN,MAAM,MAElG/U,KAAKokC,KAAgBh2E,KAAK41B,WAAWi+B,SAASn7C,GAC9Cw2B,KAAK8mC,KAAgBh2E,KAAK41B,WAAWi+B,SAASn7C,GAC9Cy5B,MAAM4jC,KAAe/1E,KAAK41B,WAAWi+B,SAASlN,KAAKqvB,KAAgBh2E,KAAK41B,WAAWi+B,SAASn7C,MAAM,GAClGgR,KAAK;AAGP,UAAI/gB,KAAQ3I,KAAKo7E,YAAYzyE;AAC7BA,MAAAA,GAAM+tE,kBAAkB,cAAc9kC,KAAK,cAAc1C,KAAK,kBAAkBiD,KAAK,MAAMzoB,KAAK,SAChG/gB,GAAM0pC,YAAY1pC,GAAM+tE;IAAAA,GAG1BlI,mBAAmB1vE,UAAU05B,cAAc4xC,YAAYtrE,UAAU05B,aAEjEg2C,mBAAmB1vE,UAAU07B,OAAO,WAAA;AAClCx6B,WAAKo7E,YAAYzyE,MAAM8b,UAAU;IAAA,GAGnC+pD,mBAAmB1vE,UAAU27B,OAAO,WAAA;AAClCz6B,WAAKo7E,YAAYzyE,MAAM8b,UAAU;IAAA,GAGnC+pD,mBAAmB1vE,UAAUm5B,YAAY,WAAA;AAGvC,UAFAj4B,KAAK+yD,cAAAA,GAED/yD,KAAK0uE;AACP1uE,aAAK0uE,OAAO6K,MAAAA;WACP;AACL,YAEI55E,IAFA27E,KAASt7E,KAAK41B,WAAWi+B,SAASlN,GAClC40B,KAAUv7E,KAAK41B,WAAWi+B,SAASn7C,GAEnCmH,KAAM7f,KAAKyuE,eAAe3uE;AAE9B,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK,GAAG;AAC3B,cAAIgJ,KAAQ3I,KAAKyuE,eAAe9uE,EAAAA,EAAG85E,gBAAgB9wE;AACnDA,UAAAA,GAAMgxE,oBAAoB7oE,KAAKmS,KAAKnS,KAAKiS,IAAIu4D,IAAQ,CAAA,IAAKxqE,KAAKiS,IAAIw4D,IAAS,CAAA,CAAA,IAAM,MAClF5yE,GAAM+wE,cAAc/wE,GAAMgxE;QAAAA;MAAAA;IAAAA,GAKhCnL,mBAAmB1vE,UAAU64B,0BAA0B,SAAU5M,IAAAA;AAC/D,UAAIprB,IACAkgB,KAAMkL,GAAOjrB,QACb07E,KAAoBh8D,UAAU,KAAA;AAElC,WAAK7f,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,YAAIorB,GAAOprB,EAAAA,EAAG0zB,IAAI;AAChB,cAAIpJ,KAAOjqB,KAAKwyD,WAAWznC,GAAOprB,EAAAA,GAAI67E,IAAmBx7E,KAAK41B,WAAW3L,MAAM,IAAA;AAC/EA,UAAAA,GAAKgN,gBAAAA,GACLj3B,KAAK41B,WAAWb,iBAAiB/B,oBAAoB/I,EAAAA;QAAAA;IAAAA,GAiB3DxK,gBAAgB,CAAC+uD,oBAAoBvE,cAAc2D,YAAAA,GAAee,YAAAA,GAClEA,aAAa7vE,UAAU28E,+BAA+B9M,aAAa7vE,UAAU03D,yBAE7EmY,aAAa7vE,UAAU03D,0BAA0B,WAAA;AAC/Cx2D,WAAKy7E,6BAAAA,GAGDz7E,KAAK8V,KAAKuT,WACZrpB,KAAKyU,WAAWzL,aAAa,SAAShJ,KAAK8V,KAAK6wC,CAAAA,GAChD3mD,KAAKyU,WAAWzL,aAAa,UAAUhJ,KAAK8V,KAAK4C,CAAAA,GACjD1Y,KAAK02D,qBAAqB12D,KAAKqxD,eAE/BrxD,KAAK02D,qBAAqB12D,KAAKsxD;IAAAA,GAInCqd,aAAa7vE,UAAU27E,mBAAmB,SAAUj/C,IAAMwQ,IAAAA;AAIxD,eAFIykC,IADA/rE,KAAI,GAGDA,KAAIsnC;AACLhsC,aAAKqc,SAAS3X,EAAAA,KAAM1E,KAAKqc,SAAS3X,EAAAA,EAAGktD,mBACvC6e,KAAczwE,KAAKqc,SAAS3X,EAAAA,EAAGktD,eAAAA,IAGjCltD,MAAK;AAGH+rE,MAAAA,KACFzwE,KAAKsxD,aAAax+C,aAAa0oB,IAAMi1C,EAAAA,IAErCzwE,KAAKsxD,aAAapoD,YAAYsyB,EAAAA;IAAAA,GAIlCmzC,aAAa7vE,UAAU0zD,aAAa,SAAU18C,IAAAA;AAC5C,aAAK9V,KAAKmqE,aAAAA,IAICwE,aAAa74D,IAAM9V,KAAK41B,YAAY51B,IAAAA,IAAAA,IAHlCkqE,eAAep0D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA,GAoCrDyf,gBAAgB,CAAC+uD,kBAAAA,GAAqBI,cAAAA,GAEtCA,eAAe9vE,UAAU0zD,aAAa,SAAU18C,IAAAA;AAC9C,aAAK9V,KAAKmqE,aAAAA,IAICwE,aAAa74D,IAAM9V,KAAK41B,YAAY51B,IAAAA,IAAAA,IAHlCkqE,eAAep0D,IAAM9V,KAAK41B,YAAY51B,IAAAA;IAAAA;AAMrD,QAAIuwD,0BAAAA,SACetmC,IAAAA;AACf,eAASyxD,GAAmBjwE,IAAAA;AAI1B,iBAHI9L,KAAI,GACJkgB,KAAMoK,GAAKlB,OAAOjpB,QAEfH,KAAIkgB,MAAK;AACd,cAAIoK,GAAKlB,OAAOppB,EAAAA,EAAGwzB,OAAO1nB,MAAQwe,GAAKlB,OAAOppB,EAAAA,EAAGqnC,QAAQv7B;AACvD,mBAAOwe,GAAK5N,SAAS1c,EAAAA,EAAG6wD;AAG1B7wD,UAAAA,MAAK;QAAA;AAGP,eAAA;MAAA;AAcF,aAXAlB,OAAOuC,eAAe06E,IAAoB,SAAS,EACjDz5E,OAAOgoB,GAAKnU,KAAKqd,GAAAA,CAAAA,GAEnBuoD,GAAmBppB,QAAQopB,IAC3BA,GAAmBC,cAAc,GACjCD,GAAmBhtD,SAASzE,GAAKnU,KAAK4C,KAAKuR,GAAK2L,WAAWi+B,SAASn7C,GACpEgjE,GAAmBjtD,QAAQxE,GAAKnU,KAAK6wC,KAAK18B,GAAK2L,WAAWi+B,SAASlN,GACnE+0B,GAAmBC,cAAc,GACjCD,GAAmBE,gBAAgB,IAAI3xD,GAAK2L,WAAW7B,WACvD2nD,GAAmBG,mBAAmB,GACtCH,GAAmBI,YAAY7xD,GAAKlB,OAAOjpB,QACpC47E;IAAAA,GAIPK,cAAc,WAAA;AAChB,UAAI1rD,KAAK,EACTA,iBAEA,SAAyB5C,IAAAA;AACvB,YAAIuuD,KAAa,GACbC,KAAY,CAAA;AA+BhBxuD,QAAAA,GAAU8G,SAAShB,gBAAgBg9B,wBAAwB9iC,GAAU8G,QAAAA,GACrE9G,GAAU8G,SAASqB,WAAWb,iBAAiB/B,oBAAoBvF,GAAU8G,QAAAA,GAC7E9G,GAAU8G,SAASqB,WAAWsmD,iBA/B9B,WAAA;AACEF,UAAAA,MAAc;QAAA,GA+BhBvuD,GAAU8G,SAASqB,WAAWumD,gBA5B9B,WAAA;AAGqB,gBAFnBH,MAAc,MAahB,WAAA;AACE,gBAAIr8E,IACAkgB,KAAMo8D,GAAUn8E;AAEpB,iBAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBs8E,cAAAA,GAAUt8E,EAAAA,EAAGmgC,QAAAA;AAGfm8C,YAAAA,GAAUn8E,SAAS;UAAA,EAlBjBs8E;QAAAA,GAyBJ3uD,GAAU8G,SAASqB,WAAWymD,6BArB9B,SAAoCC,IAAAA;AAAAA,iBAC9BL,GAAU97E,QAAQm8E,EAAAA,KACpBL,GAAUz4E,KAAK84E,EAAAA;QAAAA;MAAAA,EAAAA;AAsBrB,aAAOjsD;IAAAA,EA5CS,GA+CdksD,uBAAuB,WAAA;AACzB,eAASC,GAAc5sB,IAAM95C,IAAAA;AAC3B9V,aAAKy8E,QAAQ7sB,IACb5vD,KAAK08E,QAAQ5mE;MAAAA;AAiDf,aA9CArX,OAAOuC,eAAew7E,GAAc19E,WAAW,YAAY,EACzDiF,KAAK,WAAA;AAKH,eAJI/D,KAAKy8E,MAAMz8D,KAAKpc,KAClB5D,KAAKy8E,MAAMz8D,KAAK+qB,SAAAA,GAAAA,KAGN0xC,MAAMz8D;MAAAA,EAAAA,CAAAA,GAGtBvhB,OAAOuC,eAAew7E,GAAc19E,WAAW,eAAe,EAC5DiF,KAAK,WAAA;AAKH,eAJI/D,KAAKy8E,MAAMn5E,GAAGM,KAChB5D,KAAKy8E,MAAMn5E,GAAGynC,SAAAA,GAGS,MAAA,KAAb0xC,MAAMn5E,GAAGD;MAAAA,EAAAA,CAAAA,GAIP,SAAqBotD,IAAAA;AACrC,YAEI9wD,IAFAg9E,KAAmBv6D,iBAAiBquC,GAAY7B,SAAS9uD,MAAAA,GAGzD+f,KAAM4wC,GAAY7B,SAAS9uD;AAE/B,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBg9E,UAAAA,GAAiBh9E,EAAAA,IAAK,IAAI68E,GAAc/rB,GAAY7B,SAASjvD,EAAAA,GAAI8wD,GAAYlnC,gBAAgB5pB,EAAAA,CAAAA;AAiB/F,eAdmB,SAAsB8L,IAAAA;AAGvC,eAFA9L,KAAI,GAEGA,KAAIkgB,MAAK;AACd,gBAAI4wC,GAAYlnC,gBAAgB5pB,EAAAA,EAAGwzB,OAAO1nB;AACxC,qBAAOkxE,GAAiBh9E,EAAAA;AAG1BA,YAAAA,MAAK;UAAA;AAGP,iBAAA;QAAA;MAAA;IAAA,EA9CqB,GAuDvBi9E,8BAA8B,WAAA;AAChC,UAAIC,KAA6B,EAC/Bl3C,IAAI,GACJtiC,GAAG,GACH4mC,MAAM,EAAA,GAEJ6yC,KAA+B,EACjCn3C,IAAI,CAAC,GAAG,GAAG,CAAA,GACXtiC,GAAG,CAAC,GAAG,GAAG,CAAA,GACV4mC,MAAM,EAAA;AAGR,eAAS8yC,GAAiBC,IAAiBtgE,IAAU5S,IAAAA;AACnDrL,eAAOuC,eAAeg8E,IAAiB,YAAY,EACjDj5E,KAAK,WAAA;AACH,iBAAO2Y,GAASugE,kBAAkBvgE,GAASuN,KAAKqJ,YAAAA;QAAAA,EAAAA,CAAAA,GAGpD0pD,GAAgBE,UAAUxgE,GAASupB,YAAYvpB,GAASupB,UAAUnmC,SAAS,GAE3Ek9E,GAAgBv8E,MAAM,SAAUurC,IAAAA;AAC9B,cAAA,CAAKgxC,GAAgBE;AACnB,mBAAA;AAGF,cAAIj7E,KAAQ;AAGVA,UAAAA,KADE,OAAOya,GAASupB,UAAU+F,KAAM,CAAA,IAC1BtvB,GAASupB,UAAU+F,KAAM,CAAA,EAAGtsC,IAC3B,OAAOgd,GAASupB,UAAU+F,KAAM,CAAA,IACjCtvB,GAASupB,UAAU+F,KAAM,CAAA,EAAG9rC,IAE5Bwc,GAASupB,UAAU+F,KAAM,CAAA,EAAGtsC;AAGtC,cAAIy9E,KAAqB,qBAATrzE,KAA4B,IAAIM,OAAOnI,EAAAA,IAASxD,OAAOe,OAAO,CAAA,GAAIyC,EAAAA;AAIlF,iBAFAk7E,GAAUzqD,OAAOhW,GAASupB,UAAU+F,KAAM,CAAA,EAAGvsC,IAAIid,GAAS8e,KAAKvR,KAAK2L,WAAW7B,WAC/EopD,GAAUl7E,QAAiB,qBAAT6H,KAA4B7H,GAAM,CAAA,IAAKA,IAClDk7E;QAAAA,GAGTH,GAAgBI,cAAc1gE,GAAS8+B,gBACvCwhC,GAAgBK,cAAc3gE,GAAS4gE,gBACvCN,GAAgBO,iBAAiB7gE,GAASugE,mBAC1CD,GAAgBQ,gBAAgB9gE,GAAS8gE;MAAAA;AA0D3C,eAASC,KAAAA;AACP,eAAOZ;MAAAA;AAGT,aAAA,SAAiBngE,IAAAA;AACf,eAAKA,KAIqB,qBAAtBA,GAASgpB,WAhEf,SAAyChpB,IAAAA;AAClCA,UAAAA,MAAc,QAAQA,OACzBA,KAAWmgE;AAGb,cAAI5yC,KAAO,IAAIvtB,GAASutB,MACpBrmB,KAAMlH,GAASipB,KAAKsE,IACpB+yC,KAAkB,IAAI5yE,OAAOwZ,EAAAA;AAIjC,iBAFAo5D,GAAgB/6E,QAAQ2hB,IACxBm5D,GAAiBC,IAAiBtgE,IAAU,gBAAA,GAAA,WAAA;AAe1C,mBAbIA,GAAS9Y,KACX8Y,GAASquB,SAAAA,GAGXnnB,KAAMlH,GAASrZ,IAAI4mC,IAEf+yC,GAAgB/6E,UAAU2hB,QAC5Bo5D,KAAkB,IAAI5yE,OAAOwZ,EAAAA,GAEb3hB,QAAQ2hB,IACxBm5D,GAAiBC,IAAiBtgE,IAAU,gBAAA,IAGvCsgE;UAAAA;QAAAA,EAwCgCtgE,EAAAA,IApC3C,SAA2CA,IAAAA;AACpCA,UAAAA,MAAc,QAAQA,OACzBA,KAAWogE;AAGb,cAAI7yC,KAAO,IAAIvtB,GAASutB,MACpBpqB,KAAMnD,GAAS5G,QAAQ4G,GAAS5G,KAAK9Q,KAAK0X,GAASipB,GAAG7lC,QACtDk9E,KAAkBl7D,iBAAiB,WAAWjC,EAAAA,GAC9C69D,KAAW57D,iBAAiB,WAAWjC,EAAAA;AAG3C,iBAFAm9D,GAAgB/6E,QAAQy7E,IACxBX,GAAiBC,IAAiBtgE,IAAU,kBAAA,GAAA,WAAA;AAEtCA,YAAAA,GAAS9Y,KACX8Y,GAASquB,SAAAA;AAGX,qBAASprC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAC5B+9E,cAAAA,GAAS/9E,EAAAA,IAAK+c,GAASrZ,EAAE1D,EAAAA,IAAKsqC,IAC9B+yC,GAAgBr9E,EAAAA,IAAK+9E,GAAS/9E,EAAAA;AAGhC,mBAAOq9E;UAAAA;QAAAA,EAkBgCtgE,EAAAA,IAPhC+gE;MAAAA;IAAAA,EA7GqB,GAwH9BE,+BAAAA,SACetrC,IAAAA;AACf,eAASurC,GAAcnyE,IAAAA;AACrB,gBAAQA,IAAAA;UACN,KAAK;UACL,KAAK;UACL,KAAK;UACL,KAAA;AACE,mBAAOmyE,GAAc7rC;UAEvB,KAAK;UACL,KAAK;UACL,KAAK;UACL,KAAK;UACL,KAAA;AACE,mBAAO6rC,GAAcC;UAEvB,KAAK;AACH,mBAAOD,GAAcE;UAEvB,KAAK;AACH,mBAAOF,GAAcG;UAEvB,KAAK;UACL,KAAK;UACL,KAAK;UACL,KAAA;AACE,mBAAOH,GAAct5D;UAEvB,KAAK;AACH,mBAAOs5D,GAAcI;UAEvB,KAAK;AACH,mBAAOJ,GAAcK;UAEvB,KAAK;AACH,mBAAOL,GAAcM;UAEvB,KAAK;UACL,KAAK;UACL,KAAK;UACL,KAAK;UACL,KAAA;AACE,mBAAON,GAAcO;UAEvB,KAAK;UACL,KAAK;UACL,KAAA;AACE,mBAAOP,GAAcvL;UAEvB;AACE,mBAAA;QAAA;MAAA;AAoBN,UAAI+L,IAEAC,IAEAC,IAEAC;AA8CJ,aApEA9/E,OAAOuC,eAAe48E,IAAe,YAAY,EAC/C75E,KAAK64E,4BAA4BvqC,GAAUzxC,KAAKyxC,GAAU2I,EAAAA,EAAAA,CAAAA,GAE5Dv8C,OAAOuC,eAAe48E,IAAe,aAAa,EAChD75E,KAAK64E,4BAA4BvqC,GAAU2I,MAAM3I,GAAUzxC,CAAAA,EAAAA,CAAAA,GAE7DnC,OAAOuC,eAAe48E,IAAe,aAAa,EAChD75E,KAAK64E,4BAA4BvqC,GAAUyI,EAAAA,EAAAA,CAAAA,GAE7Cr8C,OAAOuC,eAAe48E,IAAe,aAAa,EAChD75E,KAAK64E,4BAA4BvqC,GAAU0I,EAAAA,EAAAA,CAAAA,GAE7Ct8C,OAAOuC,eAAe48E,IAAe,SAAS,EAC5C75E,KAAK64E,4BAA4BvqC,GAAU3yC,CAAAA,EAAAA,CAAAA,GAWzC2yC,GAAUxzC,IACZ0/E,KAAoB3B,4BAA4BvqC,GAAUxzC,CAAAA,KAE1Du/E,KAAMxB,4BAA4BvqC,GAAUsI,EAAAA,GAC5C0jC,KAAMzB,4BAA4BvqC,GAAUuI,EAAAA,GAExCvI,GAAUwI,OACZyjC,KAAM1B,4BAA4BvqC,GAAUwI,EAAAA,KAIhDp8C,OAAOuC,eAAe48E,IAAe,YAAY,EAC/C75E,KAAK,WAAA;AACH,eAAIsuC,GAAUxzC,IACL0/E,GAAAA,IAGF,CAACH,GAAAA,GAAOC,GAAAA,GAAOC,KAAMA,GAAAA,IAAQ,CAAA;MAAA,EAAA,CAAA,GAGxC7/E,OAAOuC,eAAe48E,IAAe,aAAa,EAChD75E,KAAK64E,4BAA4BvqC,GAAUsI,EAAAA,EAAAA,CAAAA,GAE7Cl8C,OAAOuC,eAAe48E,IAAe,aAAa,EAChD75E,KAAK64E,4BAA4BvqC,GAAUuI,EAAAA,EAAAA,CAAAA,GAE7Cn8C,OAAOuC,eAAe48E,IAAe,aAAa,EAChD75E,KAAK64E,4BAA4BvqC,GAAUwI,EAAAA,EAAAA,CAAAA,GAE7Cp8C,OAAOuC,eAAe48E,IAAe,eAAe,EAClD75E,KAAK64E,4BAA4BvqC,GAAU5tC,CAAAA,EAAAA,CAAAA,GAE7ChG,OAAOuC,eAAe48E,IAAe,WAAW,EAC9C75E,KAAK64E,4BAA4BvqC,GAAU3uC,CAAAA,EAAAA,CAAAA,GAE7CjF,OAAOuC,eAAe48E,IAAe,QAAQ,EAC3C75E,KAAK64E,4BAA4BvqC,GAAU/mB,EAAAA,EAAAA,CAAAA,GAE7C7sB,OAAOuC,eAAe48E,IAAe,YAAY,EAC/C75E,KAAK64E,4BAA4BvqC,GAAU9mB,EAAAA,EAAAA,CAAAA,GAE7C9sB,OAAOuC,eAAe48E,IAAe,eAAe,EAClD75E,KAAK64E,4BAA4BvqC,GAAU7C,EAAAA,EAAAA,CAAAA,GAEtCouC;IAAAA,GAIPztB,2BAA2B,WAAA;AAC7B,eAASquB,GAAU9rD,IAAAA;AACjB,YAAI+rD,KAAa,IAAI3tC;AAWrB,eAAA,WATIpe,KACe1yB,KAAKqmE,MAAMna,eAAeC,MAAM3Q,eAAe9oB,EAAAA,EAErDqa,MAAM0xC,EAAAA,IAEEz+E,KAAKqmE,MAAMna,eAAeC,MAChCjR,cAAcujC,EAAAA,GAGtBA;MAAAA;AAGT,eAASC,GAAW18D,IAAK0Q,IAAAA;AACvB,YAAI+rD,KAAaz+E,KAAKw+E,UAAU9rD,EAAAA;AAIhC,eAHA+rD,GAAWryE,MAAM,EAAA,IAAM,GACvBqyE,GAAWryE,MAAM,EAAA,IAAM,GACvBqyE,GAAWryE,MAAM,EAAA,IAAM,GAAA,KACXuyE,WAAWF,IAAYz8D,EAAAA;MAAAA;AAGrC,eAAS48D,GAAQ58D,IAAK0Q,IAAAA;AACpB,YAAI+rD,KAAaz+E,KAAKw+E,UAAU9rD,EAAAA;AAChC,eAAA,KAAYisD,WAAWF,IAAYz8D,EAAAA;MAAAA;AAGrC,eAAS68D,GAAa78D,IAAK0Q,IAAAA;AACzB,YAAI+rD,KAAaz+E,KAAKw+E,UAAU9rD,EAAAA;AAIhC,eAHA+rD,GAAWryE,MAAM,EAAA,IAAM,GACvBqyE,GAAWryE,MAAM,EAAA,IAAM,GACvBqyE,GAAWryE,MAAM,EAAA,IAAM,GAAA,KACX0yE,YAAYL,IAAYz8D,EAAAA;MAAAA;AAGtC,eAAS+8D,GAAU/8D,IAAK0Q,IAAAA;AACtB,YAAI+rD,KAAaz+E,KAAKw+E,UAAU9rD,EAAAA;AAChC,eAAA,KAAYosD,YAAYL,IAAYz8D,EAAAA;MAAAA;AAGtC,eAAS28D,GAAWh8B,IAAQ3gC,IAAAA;AAC1B,YAAIhiB,KAAKqmE,MAAMjT,aAAapzD,KAAKqmE,MAAMjT,UAAUtzD,QAAQ;AACvD,cAAIH,IACAkgB,KAAM7f,KAAKqmE,MAAMjT,UAAUtzD;AAE/B,eAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,iBAAKqmE,MAAMjT,UAAUzzD,EAAAA,EAAGusD,eAAeC,MAAMjR,cAAcyH,EAAAA;QAAAA;AAI/D,eAAOA,GAAO1N,kBAAkBjzB,GAAI,CAAA,GAAIA,GAAI,CAAA,GAAIA,GAAI,CAAA,KAAM,CAAA;MAAA;AAG5D,eAAS88D,GAAYn8B,IAAQ3gC,IAAAA;AAC3B,YAAIhiB,KAAKqmE,MAAMjT,aAAapzD,KAAKqmE,MAAMjT,UAAUtzD,QAAQ;AACvD,cAAIH,IACAkgB,KAAM7f,KAAKqmE,MAAMjT,UAAUtzD;AAE/B,eAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,iBAAKqmE,MAAMjT,UAAUzzD,EAAAA,EAAGusD,eAAeC,MAAMjR,cAAcyH,EAAAA;QAAAA;AAI/D,eAAOA,GAAO3N,aAAahzB,EAAAA;MAAAA;AAG7B,eAASg9D,GAASh9D,IAAAA;AAChB,YAAIy8D,KAAa,IAAI3tC;AAKrB,YAJA2tC,GAAWnwC,MAAAA,GAEXtuC,KAAKqmE,MAAMna,eAAeC,MAAMjR,cAAcujC,EAAAA,GAE1Cz+E,KAAKqmE,MAAMjT,aAAapzD,KAAKqmE,MAAMjT,UAAUtzD,QAAQ;AACvD,cAAIH,IACAkgB,KAAM7f,KAAKqmE,MAAMjT,UAAUtzD;AAE/B,eAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBK,iBAAKqmE,MAAMjT,UAAUzzD,EAAAA,EAAGusD,eAAeC,MAAMjR,cAAcujC,EAAAA;AAG7D,iBAAOA,GAAWzpC,aAAahzB,EAAAA;QAAAA;AAGjC,eAAOy8D,GAAWzpC,aAAahzB,EAAAA;MAAAA;AAGjC,eAASi9D,KAAAA;AACP,eAAO,CAAC,GAAG,GAAG,GAAG,CAAA;MAAA;AAGnB,aAAA,SAAiBzjD,IAAAA;AACf,YAAI0jD;AAUJ,iBAASxD,GAAmBjwE,IAAAA;AAC1B,kBAAQA,IAAAA;YACN,KAAK;YACL,KAAK;YACL,KAAA;AACE,qBAAOiwE,GAAmB5qB;YAE5B,KAAA;YACA,KAAA;YACA,KAAK;YACL,KAAK;YACL,KAAK;AACH,qBAAOouB;YAET,KAAA;YACA,KAAK;YACL,KAAK;YACL,KAAK;AACH,qBAAOxD,GAAmB9lB;YAE5B,KAAK;AACH,qBAAO8lB,GAAmBzqB;YAE5B;AACE,qBAAA;UAAA;QAAA;AAINyqB,QAAAA,GAAmB8C,YAAYA,IAC/B9C,GAAmBoD,cAAcA,IACjCpD,GAAmBiD,aAAaA,IAChCjD,GAAmBkD,UAAUA,IAC7BlD,GAAmBgD,aAAaA,IAChChD,GAAmBqD,YAAYA,IAC/BrD,GAAmBmD,eAAeA,IAClCnD,GAAmByD,SAASP,IAC5BlD,GAAmBsD,WAAWA,IAC9BtD,GAAmBuD,cAAcA,IACjCvD,GAAmBnvB,mBAAmB/wB,GAAK+wB,iBAAiBp8B,KAAKqL,EAAAA,GACjEkgD,GAAmBrV,QAAQ7qC;AAE3B,YAAI4jD,KAAwBt/D,cAD5Bo/D,KAAqBvB,6BAA6BniD,GAAK0wB,eAAeC,KAAAA,GACR,aAAA;AAuC9D,eAtCA1tD,OAAO4gF,iBAAiB3D,IAAoB,EAC1C4D,WAAW,EACTv7E,KAAK,WAAA;AACH,iBAAOy3B,GAAK43B,UAAUtzD;QAAAA,EAAAA,GAG1BqW,QAAQ,EACNpS,KAAK,WAAA;AACH,iBAAOy3B,GAAK43B,UAAU,CAAA,EAAG5C;QAAAA,EAAAA,GAG7BqtB,UAAU/9D,cAAco/D,IAAoB,UAAA,GAC5CntC,OAAOjyB,cAAco/D,IAAoB,OAAA,GACzC56D,UAAUxE,cAAco/D,IAAoB,UAAA,GAC5C7M,SAASvyD,cAAco/D,IAAoB,SAAA,GAC3Cf,aAAaiB,IACbG,cAAcH,IACd/sC,WAAW,EACTtuC,KAAK,WAAA;AACH,iBAAOm7E;QAAAA,EAAAA,GAGXM,QAAQ,EACNz7E,KAAK,WAAA;AACH,iBAAOy3B,GAAK+vB;QAAAA,EAAAA,EAAAA,CAAAA,GAIlBmwB,GAAmB+D,YAAYjkD,GAAK1lB,KAAKsV,IACzCswD,GAAmBlmE,QAAQgmB,GAAK1lB,KAAKkxB,KACrC00C,GAAmBlmB,SAASh6B,GAAK1lB,KAAK8T,OACtC8xD,GAAmBhtD,SAA0B,MAAjB8M,GAAK1lB,KAAK4T,KAAW8R,GAAK1lB,KAAK4C,IAAI,KAC/DgjE,GAAmBjtD,QAAyB,MAAjB+M,GAAK1lB,KAAK4T,KAAW8R,GAAK1lB,KAAK6wC,IAAI,KAC9D+0B,GAAmBgE,UAAUlkD,GAAK1lB,KAAKqV,KAAKqQ,GAAKvR,KAAK2L,WAAW7B,WACjE2nD,GAAmBiE,WAAWnkD,GAAK1lB,KAAKxS,KAAKk4B,GAAKvR,KAAK2L,WAAW7B,WAClE2nD,GAAmBj+D,QAAQ+d,GAAK1lB,KAAKqd,IACrCuoD,GAAmBhrB,wBAtFnB,SAAgCD,IAAAA;AAC9BirB,UAAAA,GAAmB9rB,OAAO,IAAI2sB,qBAAqB9rB,IAAaj1B,EAAAA;QAAAA,GAsFlEkgD,GAAmB7qB,2BAnFnB,SAAmCxD,IAAAA;AACjCquB,UAAAA,GAAmB9lB,SAASvI;QAAAA,GAmFvBquB;MAAAA;IAAAA,EAvLoB,GA2L3BkE,uBAAAA,SACeC,IAAmBC,IAAAA;AAClC,aAAA,SAAiBl8D,IAAAA;AAGf,gBAFAA,KAAAA,WAAMA,KAAoB,IAAIA,OAEnB,IACFi8D,KAGFC,GAAoBl8D,KAAM,CAAA;MAAA;IAAA,GAKnCm8D,oBAAAA,SACeC,IAAcxC,IAAAA;AAC7B,UAAIqC,KAAoB,EACtBpiE,OAAOuiE,GAAAA;AAaT,aAVA,SAAwBp8D,IAAAA;AAGtB,gBAFAA,KAAAA,WAAMA,KAAoB,IAAIA,OAEnB,IACFi8D,KAGFrC,GAAc55D,KAAM,CAAA;MAAA;IAAA,GAO7BwsC,6BAA6B,WAAA;AAC/B,UAAI//B,KAAK,EACPugC,wBAGF,SAAgCp1B,IAAMgiD,IAAAA;AACpC,YAAIhiD,GAAK+1B,gBAAgB;AACvB,cAEI5xD,IAFA4tD,KAAiB,CAAA,GACjB0yB,KAAczkD,GAAK1lB,KAAKw3C,IAExBztC,KAAM2b,GAAK+1B,eAAehE,eAAeztD;AAE7C,eAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB4tD,YAAAA,GAAe/pD,KAAK08E,GAAqBD,GAAYtgF,EAAAA,GAAI67B,GAAK+1B,eAAehE,eAAe5tD,EAAAA,GAAI69E,IAAehiD,EAAAA,CAAAA;AAGjH,cAAI6xB,KAAU7xB,GAAK1lB,KAAKw3C,MAAM,CAAA,GAE1B6yB,KAAiB,SAAwB10E,IAAAA;AAI3C,iBAHA9L,KAAI,GACJkgB,KAAMwtC,GAAQvtD,QAEPH,KAAIkgB,MAAK;AACd,kBAAIpU,OAAS4hD,GAAQ1tD,EAAAA,EAAGwzB,MAAM1nB,OAAS4hD,GAAQ1tD,EAAAA,EAAGygF,MAAM30E,OAAS4hD,GAAQ1tD,EAAAA,EAAGukD;AAC1E,uBAAOqJ,GAAe5tD,EAAAA;AAGxBA,cAAAA,MAAK;YAAA;AAGP,mBAAA;UAAA;AAQF,iBALAlB,OAAOuC,eAAem/E,IAAgB,iBAAiB,EACrDp8E,KAAK,WAAA;AACH,mBAAOspD,GAAQvtD;UAAAA,EAAAA,CAAAA,GAGZqgF;QAAAA;AAGT,eAAA;MAAA,EAAA;AAGF,eAASD,GAAqBpqE,IAAMuG,IAAUmhE,IAAehiD,IAAAA;AAC3D,iBAAS2kD,GAAe10E,IAAAA;AAKtB,mBAJI4hD,KAAUv3C,GAAKw3C,IACf3tD,KAAI,GACJkgB,KAAMwtC,GAAQvtD,QAEXH,KAAIkgB,MAAK;AACd,gBAAIpU,OAAS4hD,GAAQ1tD,EAAAA,EAAGwzB,MAAM1nB,OAAS4hD,GAAQ1tD,EAAAA,EAAGygF,MAAM30E,OAAS4hD,GAAQ1tD,EAAAA,EAAGukD;AAC1E,qBAAsB,MAAlBmJ,GAAQ1tD,EAAAA,EAAG+pB,KACN6jC,GAAe5tD,EAAAA,IAGjB4tD,GAAe5tD,EAAAA,EAAAA;AAGxBA,YAAAA,MAAK;UAAA;AAGP,gBAAA,IAAU+H;QAAAA;AAGZ,YAGI/H,IAHA0gF,KAAiBT,qBAAqBO,IAAgB3C,EAAAA,GAEtDjwB,KAAiB,CAAA,GAEjB1tC,KAAM/J,GAAKw3C,GAAGxtD;AAElB,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACF,gBAAlBmW,GAAKw3C,GAAG3tD,EAAAA,EAAG+pB,KACb6jC,GAAe/pD,KAAK08E,GAAqBpqE,GAAKw3C,GAAG3tD,EAAAA,GAAI0c,GAASkxC,eAAe5tD,EAAAA,GAAI0c,GAASkxC,eAAe5tD,EAAAA,EAAG69E,eAAehiD,EAAAA,CAAAA,IAE3H+xB,GAAe/pD,KAAK88E,GAAqBjkE,GAASkxC,eAAe5tD,EAAAA,GAAImW,GAAKw3C,GAAG3tD,EAAAA,EAAG+pB,IAAI8R,IAAM6kD,EAAAA,CAAAA;AA2B9F,eAvBgB,yBAAZvqE,GAAKsqE,MACP3hF,OAAOuC,eAAem/E,IAAgB,SAAS,EAC7Cp8E,KAAK,WAAA;AACH,iBAAOwpD,GAAe,CAAA,EAAA;QAAA,EAAA,CAAA,GAK5B9uD,OAAO4gF,iBAAiBc,IAAgB,EACtCI,eAAe,EACbx8E,KAAK,WAAA;AACH,iBAAO+R,GAAK0qE;QAAAA,EAAAA,GAGhB/iE,OAAO,EACLxb,OAAO6T,GAAKqd,GAAAA,GAEdqqD,eAAe,EACbv7E,OAAOo+E,GAAAA,EAAAA,CAAAA,GAGXF,GAAeM,UAAsB,MAAZ3qE,GAAK4qE,IAC9BP,GAAeX,SAASW,GAAeM,SAChCN;MAAAA;AAGT,eAASG,GAAqBpnE,IAASpP,IAAM0xB,IAAMgiD,IAAAA;AACjD,YAAImD,KAAqB/D,4BAA4B1jE,GAAQra,CAAAA;AAc7D,eAJIqa,GAAQra,EAAE+hF,oBACZ1nE,GAAQra,EAAE+hF,iBAAiBb,kBAAkB,IAAIvC,EAAAA,CAAAA,GATnD,WAAA;AACE,iBAAa,OAAT1zE,KACK0xB,GAAKvR,KAAKsJ,cAAcra,GAAQra,EAAEwE,CAAAA,IAGpCs9E,GAAAA;QAAAA;MAAAA;AAUX,aAAOtwD;IAAAA,EA3HwB,GA8H7BwwD,qBAAAA,SACmC7zC,IAAO8zC,IAAMtD,IAAAA;AAChD,UAAIx9D,KAAO8gE,GAAKh5C;AAEhB,eAAS+3C,GAAkBj8D,IAAAA;AACzB,eAAY,YAARA,MAA2B,YAARA,MAA2B,WAARA,MAA0B,WAARA,MAA0B,wBAARA,MAAuC,MAARA,KACpGi8D,GAAkBz3D,OAAAA;MAAAA;AAM7B,UAAIi4D,KAAiBT,qBAAqBC,IAAmBrC,EAAAA;AAsC7D,aApCAx9D,GAAK4gE,iBAAiBb,kBAAkB,QAAQM,EAAAA,CAAAA,GAChD5hF,OAAO4gF,iBAAiBQ,IAAmB,EACzCz3D,MAAM,EACJrkB,KAAK,WAAA;AAKH,eAJIic,GAAKpc,KACPoc,GAAK+qB,SAAAA,GAGA/qB;MAAAA,EAAAA,GAGXgtB,OAAO,EACLjpC,KAAK,WAAA;AAKH,eAJIic,GAAKpc,KACPoc,GAAK+qB,SAAAA,GAGA/qB;MAAAA,EAAAA,GAGXvC,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,GAEf+wB,IAAI,EACFjiD,OAAO+qC,GAAMkX,GAAAA,GAEf68B,eAAe,EACb9+E,OAAO+qC,GAAMkX,GAAAA,GAEfk8B,IAAI,EACFn+E,OAAO+qC,GAAMozC,GAAAA,GAEf5C,eAAe,EACbv7E,OAAOu7E,GAAAA,EAAAA,CAAAA,GAGJqC;IAAAA,GAIPxvB,2BAA2B,WAAA;AAC7B,eAAS2wB,GAAgBl3D,IAAQg3D,IAAMtD,IAAAA;AACrC,YACI79E,IADAqiB,KAAM,CAAA,GAENnC,KAAMiK,KAASA,GAAOhqB,SAAS;AAEnC,aAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACH,mBAAjBmqB,GAAOnqB,EAAAA,EAAG+pB,KACZ1H,GAAIxe,KAAKy9E,GAAsBn3D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IACzB,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAK09E,GAAqBp3D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IACxB,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAK29E,GAAuBr3D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IAC1B,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAK49E,GAAqBt3D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IACxB,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,OACO,SAAjBI,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAK69E,GAAwBv3D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IAC3B,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAK89E,GAAqBx3D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IACxB,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAKq9E,mBAAmB/2D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IACtB,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAK+9E,GAAqBz3D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IACxB,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAKg+E,GAAwB13D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IAC3B,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAKi+E,GAAyB33D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IAC5B,SAAjB1zD,GAAOnqB,EAAAA,EAAG+pB,KACnB1H,GAAIxe,KAAKk+E,GAA6B53D,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAAI69E,EAAAA,CAAAA,IAE1Dx7D,GAAIxe,MAA6BsmB,GAAOnqB,EAAAA,GAAImhF,GAAKnhF,EAAAA,GAuJrD,WAAA;AACE,mBAAA;UAAA,EAAA;AApJF,eAAOqiB;MAAAA;AAmCT,eAASi/D,GAAsBj0C,IAAO8zC,IAAMtD,IAAAA;AAC1C,YAAIqC,KAAoB,SAA4B59E,IAAAA;AAClD,kBAAQA,IAAAA;YACN,KAAK;YACL,KAAK;YACL,KAAA;AACE,qBAAO49E,GAAkBrrE;YAK3B;AACE,qBAAOqrE,GAAkBxtC;UAAAA;QAAAA;AAI/BwtC,QAAAA,GAAkBrC,gBAAgBoC,qBAAqBC,IAAmBrC,EAAAA;AAC1E,YAAIhpE,KAjDN,SAAkCw4B,IAAO8zC,IAAMtD,IAAAA;AAC7C,cAAImE,IAEA9B,KAAoB,SAA4B59E,IAAAA;AAIlD,qBAHItC,KAAI,GACJkgB,KAAM8hE,GAAW7hF,QAEdH,KAAIkgB,MAAK;AACd,kBAAI8hE,GAAWhiF,EAAAA,EAAG8d,UAAUxb,MAAS0/E,GAAWhiF,EAAAA,EAAGygF,OAAOn+E,MAAS0/E,GAAWhiF,EAAAA,EAAGohF,kBAAkB9+E,MAAS0/E,GAAWhiF,EAAAA,EAAGukD,OAAOjiD,MAAS0/E,GAAWhiF,EAAAA,EAAGqnC,QAAQ/kC;AAC9J,uBAAO0/E,GAAWhiF,EAAAA;AAGpBA,cAAAA,MAAK;YAAA;AAGP,mBAAqB,YAAA,OAAVsC,KACF0/E,GAAW1/E,KAAQ,CAAA,IAAA;UAAA;AAM9B49E,UAAAA,GAAkBrC,gBAAgBoC,qBAAqBC,IAAmBrC,EAAAA,GAC1EmE,KAAaX,GAAgBh0C,GAAM5iB,IAAI02D,GAAK12D,IAAIy1D,GAAkBrC,aAAAA,GAClEqC,GAAkBU,gBAAgBoB,GAAW7hF;AAC7C,cAAIo/E,KAAqB0C,GAA0B50C,GAAM5iB,GAAG4iB,GAAM5iB,GAAGtqB,SAAS,CAAA,GAAIghF,GAAK12D,GAAG02D,GAAK12D,GAAGtqB,SAAS,CAAA,GAAI+/E,GAAkBrC,aAAAA;AAIjI,iBAHAqC,GAAkBxtC,YAAY6sC,IAC9BW,GAAkBkB,gBAAgB/zC,GAAM60C,KACxChC,GAAkBpiE,QAAQuvB,GAAM7Z,IACzB0sD;QAAAA,EAoBgC7yC,IAAO8zC,IAAMjB,GAAkBrC,aAAAA,GAClE0B,KAAqB0C,GAA0B50C,GAAM5iB,GAAG4iB,GAAM5iB,GAAGtqB,SAAS,CAAA,GAAIghF,GAAK12D,GAAG02D,GAAK12D,GAAGtqB,SAAS,CAAA,GAAI+/E,GAAkBrC,aAAAA;AAajI,eAZAqC,GAAkBrrE,UAAUA,IAC5BqrE,GAAkBxtC,YAAY6sC,IAC9BzgF,OAAOuC,eAAe6+E,IAAmB,SAAS,EAChD97E,KAAK,WAAA;AACH,iBAAOipC,GAAM7Z;QAAAA,EAAAA,CAAAA,GAIjB0sD,GAAkBU,gBAAgBvzC,GAAMwzC,IACxCX,GAAkBkB,gBAAgB/zC,GAAMkX,IACxC27B,GAAkB1sD,KAAK6Z,GAAM7Z,IAC7B0sD,GAAkBO,KAAKpzC,GAAMozC,IACtBP;MAAAA;AAGT,eAASqB,GAAqBl0C,IAAO8zC,IAAMtD,IAAAA;AACzC,iBAASqC,GAAkBj8D,IAAAA;AACzB,iBAAY,YAARA,MAA2B,YAARA,KACdi8D,GAAkBt5D,QAGf,cAAR3C,MAA6B,cAARA,KAChBi8D,GAAkBxN,UAAAA;QAAAA;AAsB7B,eAhBA5zE,OAAO4gF,iBAAiBQ,IAAmB,EACzCt5D,OAAO,EACLxiB,KAAK64E,4BAA4BkE,GAAKngF,CAAAA,EAAAA,GAExC0xE,SAAS,EACPtuE,KAAK64E,4BAA4BkE,GAAKp9E,CAAAA,EAAAA,GAExC+Z,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,GAEfitD,IAAI,EACFn+E,OAAO+qC,GAAMozC,GAAAA,EAAAA,CAAAA,GAGjBU,GAAKngF,EAAEigF,iBAAiBb,kBAAkB,SAASvC,EAAAA,CAAAA,GACnDsD,GAAKp9E,EAAEk9E,iBAAiBb,kBAAkB,WAAWvC,EAAAA,CAAAA,GAC9CqC;MAAAA;AAGT,eAAS6B,GAA6B10C,IAAO8zC,IAAMtD,IAAAA;AACjD,iBAASqC,GAAkBj8D,IAAAA;AACzB,iBAAY,kBAARA,MAAiC,kBAARA,KACpBi8D,GAAkBiC,aAGf,gBAARl+D,MAA+B,gBAARA,KAClBi8D,GAAkBkC,WAGf,cAARn+D,MAA6B,cAARA,KAChBi8D,GAAkBxN,UAAAA;QAAAA;AA+B7B,eAzBA5zE,OAAO4gF,iBAAiBQ,IAAmB,EACzCiC,YAAY,EACV/9E,KAAK64E,4BAA4BkE,GAAKphF,CAAAA,EAAAA,GAExCqiF,UAAU,EACRh+E,KAAK64E,4BAA4BkE,GAAK5gF,CAAAA,EAAAA,GAExCmyE,SAAS,EACPtuE,KAAK64E,4BAA4BkE,GAAKp9E,CAAAA,EAAAA,GAExCoG,MAAM,EACJ/F,KAAK,WAAA;AACH,iBAAO;QAAA,EAAA,GAGX0Z,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,GAEfitD,IAAI,EACFn+E,OAAO+qC,GAAMozC,GAAAA,EAAAA,CAAAA,GAGjBU,GAAKphF,EAAEkhF,iBAAiBb,kBAAkB,eAAevC,EAAAA,CAAAA,GACzDsD,GAAK5gF,EAAE0gF,iBAAiBb,kBAAkB,aAAavC,EAAAA,CAAAA,GACvDsD,GAAKp9E,EAAEk9E,iBAAiBb,kBAAkB,WAAWvC,EAAAA,CAAAA,GAC9CqC;MAAAA;AAWT,eAASsB,GAAuBn0C,IAAO8zC,IAAMtD,IAAAA;AAC3C,YAUI79E,IAVA0gF,KAAiBT,qBAAqBC,IAAmBrC,EAAAA,GAEzDwE,KAAqBpC,qBAAqBqC,IAAQ5B,EAAAA;AAEtD,iBAAS6B,GAAoBviF,IAAAA;AAC3BlB,iBAAOuC,eAAeihF,IAAQj1C,GAAMzuC,EAAEoB,EAAAA,EAAGwzB,IAAI,EAC3CpvB,KAAK64E,4BAA4BkE,GAAKviF,EAAE07D,UAAUt6D,EAAAA,EAAGd,CAAAA,EAAAA,CAAAA;QAAAA;AAKzD,YAAIghB,KAAMmtB,GAAMzuC,IAAIyuC,GAAMzuC,EAAEuB,SAAS,GACjCmiF,KAAS,CAAA;AAEb,aAAKtiF,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBuiF,UAAAA,GAAoBviF,EAAAA,GACpBmhF,GAAKviF,EAAE07D,UAAUt6D,EAAAA,EAAGd,EAAE+hF,iBAAiBoB,EAAAA;AAGzC,iBAASnC,GAAkBj8D,IAAAA;AACzB,iBAAY,YAARA,MAA2B,YAARA,KACdi8D,GAAkBt5D,QAGf,cAAR3C,MAA6B,cAARA,KAChBi8D,GAAkBxN,UAGf,mBAARzuD,MAAkC,mBAARA,KACrBi8D,GAAkBpH,cAAAA;QAAAA;AA+B7B,eAzBAh6E,OAAO4gF,iBAAiBQ,IAAmB,EACzCt5D,OAAO,EACLxiB,KAAK64E,4BAA4BkE,GAAKngF,CAAAA,EAAAA,GAExC0xE,SAAS,EACPtuE,KAAK64E,4BAA4BkE,GAAKp9E,CAAAA,EAAAA,GAExC+0E,aAAa,EACX10E,KAAK64E,4BAA4BkE,GAAKn6B,CAAAA,EAAAA,GAExCw7B,MAAM,EACJp+E,KAAK,WAAA;AACH,iBAAOk+E;QAAAA,EAAAA,GAGXxkE,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,GAEfitD,IAAI,EACFn+E,OAAO+qC,GAAMozC,GAAAA,EAAAA,CAAAA,GAGjBU,GAAKngF,EAAEigF,iBAAiBb,kBAAkB,SAASM,EAAAA,CAAAA,GACnDS,GAAKp9E,EAAEk9E,iBAAiBb,kBAAkB,WAAWM,EAAAA,CAAAA,GACrDS,GAAKn6B,EAAEi6B,iBAAiBb,kBAAkB,gBAAgBM,EAAAA,CAAAA,GACnDR;MAAAA;AAGT,eAASuB,GAAqBp0C,IAAO8zC,IAAMtD,IAAAA;AACzC,iBAASqC,GAAkBj8D,IAAAA;AACzB,iBAAIA,OAAQopB,GAAM9sC,EAAEgkD,MAAc,UAARtgC,MAAyB,UAARA,KAClCi8D,GAAkBhsE,MAGvB+P,OAAQopB,GAAMttC,EAAEwkD,KACX27B,GAAkB9mE,QAGvB6K,OAAQopB,GAAMtpC,EAAEwgD,KACX27B,GAAkBr5D,SAAAA;QAAAA;AAM7B,YAAI65D,KAAiBT,qBAAqBC,IAAmBrC,EAAAA;AAuB7D,eArBAqC,GAAkBkB,gBAAgB/zC,GAAMkX,IACxC48B,GAAKphF,EAAEkhF,iBAAiBb,kBAAkB,SAASM,EAAAA,CAAAA,GACnDS,GAAK5gF,EAAE0gF,iBAAiBb,kBAAkB,OAAOM,EAAAA,CAAAA,GACjDS,GAAKp9E,EAAEk9E,iBAAiBb,kBAAkB,UAAUM,EAAAA,CAAAA,GACpDR,GAAkBkB,gBAAgB/zC,GAAMkX,IACxC27B,GAAkBrC,gBAAgBA,IAClC/+E,OAAO4gF,iBAAiBQ,IAAmB,EACzC9mE,OAAO,EACLhV,KAAK64E,4BAA4BkE,GAAKphF,CAAAA,EAAAA,GAExCmU,KAAK,EACH9P,KAAK64E,4BAA4BkE,GAAK5gF,CAAAA,EAAAA,GAExCsmB,QAAQ,EACNziB,KAAK64E,4BAA4BkE,GAAKp9E,CAAAA,EAAAA,GAExC+Z,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,EAAAA,CAAAA,GAGjB0sD,GAAkBO,KAAKpzC,GAAMozC,IACtBP;MAAAA;AAGT,eAAS+B,GAA0B50C,IAAO8zC,IAAMtD,IAAAA;AAC9C,iBAASqC,GAAkB59E,IAAAA;AACzB,iBAAI+qC,GAAMvoC,EAAEy/C,OAAOjiD,MAAmB,mBAAVA,KACnB49E,GAAkB1B,cAGvBnxC,GAAMtpC,EAAEwgD,OAAOjiD,MAAmB,cAAVA,KACnB49E,GAAkBxN,UAGvBrlC,GAAMnuC,EAAEqlD,OAAOjiD,MAAmB,eAAVA,KACnB49E,GAAkBv7D,WAGvB0oB,GAAMpsC,EAAEsjD,OAAOjiD,MAAmB,eAAVA,MAAkC,2BAAVA,KAC3C49E,GAAkBhC,WAGvB7wC,GAAMttC,EAAEwkD,OAAOjiD,MAAmB,YAAVA,KACnB49E,GAAkB9tC,QAGvB/E,GAAM1hB,MAAM0hB,GAAM1hB,GAAG44B,OAAOjiD,MAAmB,WAAVA,KAChC49E,GAAkBhuC,OAGvB7E,GAAMzhB,MAAMyhB,GAAMzhB,GAAG24B,OAAOjiD,MAAmB,gBAAVA,KAChC49E,GAAkBuC,WAAAA;QAAAA;AAM7B,YAAI/B,KAAiBT,qBAAqBC,IAAmBrC,EAAAA;AA2C7D,eAzCAsD,GAAKzuC,UAAUuS,OAAOlhD,EAAEk9E,iBAAiBb,kBAAkB,WAAWM,EAAAA,CAAAA,GACtES,GAAKzuC,UAAUuS,OAAO/lD,EAAE+hF,iBAAiBb,kBAAkB,YAAYM,EAAAA,CAAAA,GACvES,GAAKzuC,UAAUuS,OAAOngD,EAAEm8E,iBAAiBb,kBAAkB,gBAAgBM,EAAAA,CAAAA,GAC3ES,GAAKzuC,UAAUuS,OAAOllD,EAAEkhF,iBAAiBb,kBAAkB,SAASM,EAAAA,CAAAA,GACpES,GAAKzuC,UAAUuS,OAAOhkD,EAAEggF,iBAAiBb,kBAAkB,YAAYM,EAAAA,CAAAA,GAEnES,GAAKzuC,UAAUuS,OAAOt5B,OACxBw1D,GAAKzuC,UAAUuS,OAAOt5B,GAAGs1D,iBAAiBb,kBAAkB,QAAQM,EAAAA,CAAAA,GACpES,GAAKzuC,UAAUuS,OAAOr5B,GAAGq1D,iBAAiBb,kBAAkB,cAAcM,EAAAA,CAAAA,IAG5ES,GAAKzuC,UAAU/uC,GAAGs9E,iBAAiBb,kBAAkB,WAAWM,EAAAA,CAAAA,GAChE5hF,OAAO4gF,iBAAiBQ,IAAmB,EACzCxN,SAAS,EACPtuE,KAAK64E,4BAA4BkE,GAAKzuC,UAAUuS,OAAOlhD,CAAAA,EAAAA,GAEzD4gB,UAAU,EACRvgB,KAAK64E,4BAA4BkE,GAAKzuC,UAAUuS,OAAO/lD,CAAAA,EAAAA,GAEzDs/E,aAAa,EACXp6E,KAAK64E,4BAA4BkE,GAAKzuC,UAAUuS,OAAOngD,CAAAA,EAAAA,GAEzDstC,OAAO,EACLhuC,KAAK64E,4BAA4BkE,GAAKzuC,UAAUuS,OAAOllD,CAAAA,EAAAA,GAEzDm+E,UAAU,EACR95E,KAAK64E,4BAA4BkE,GAAKzuC,UAAUuS,OAAOhkD,CAAAA,EAAAA,GAEzDixC,MAAM,EACJ9tC,KAAK64E,4BAA4BkE,GAAKzuC,UAAUuS,OAAOt5B,EAAAA,EAAAA,GAEzD82D,UAAU,EACRr+E,KAAK64E,4BAA4BkE,GAAKzuC,UAAUuS,OAAOr5B,EAAAA,EAAAA,GAEzD9N,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,EAAAA,CAAAA,GAGjB0sD,GAAkBn2D,KAAK,MACvBm2D,GAAkBO,KAAKpzC,GAAMozC,IAC7BP,GAAkBrC,gBAAgBA,IAC3BqC;MAAAA;AAGT,eAASwB,GAAwBr0C,IAAO8zC,IAAMtD,IAAAA;AAC5C,iBAASqC,GAAkB59E,IAAAA;AACzB,iBAAI+qC,GAAMnuC,EAAEqlD,OAAOjiD,KACV49E,GAAkBv7D,WAGvB0oB,GAAMttC,EAAEwkD,OAAOjiD,KACV49E,GAAkBj5B,OAAAA;QAAAA;AAM7B,YAAIy5B,KAAiBT,qBAAqBC,IAAmBrC,EAAAA;AAE7DqC,QAAAA,GAAkBkB,gBAAgB/zC,GAAMkX;AACxC,YAAIlkC,KAAsB,SAAf8gE,GAAKh5C,GAAGpe,KAAco3D,GAAKh5C,GAAG9nB,OAAO8gE,GAAKh5C;AAerD,eAdA9nB,GAAKtgB,EAAEkhF,iBAAiBb,kBAAkB,QAAQM,EAAAA,CAAAA,GAClDrgE,GAAKnhB,EAAE+hF,iBAAiBb,kBAAkB,YAAYM,EAAAA,CAAAA,GACtD5hF,OAAO4gF,iBAAiBQ,IAAmB,EACzCj5B,MAAM,EACJ7iD,KAAK64E,4BAA4B58D,GAAKtgB,CAAAA,EAAAA,GAExC4kB,UAAU,EACRvgB,KAAK64E,4BAA4B58D,GAAKnhB,CAAAA,EAAAA,GAExC4e,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,EAAAA,CAAAA,GAGjB0sD,GAAkBO,KAAKpzC,GAAMozC,IACtBP;MAAAA;AAGT,eAASyB,GAAqBt0C,IAAO8zC,IAAMtD,IAAAA;AACzC,iBAASqC,GAAkB59E,IAAAA;AACzB,iBAAI+qC,GAAMnuC,EAAEqlD,OAAOjiD,KACV49E,GAAkBv7D,WAGvB0oB,GAAMpsC,EAAEsjD,OAAOjiD,KACV49E,GAAkBhC,WAGvB7wC,GAAMxjB,GAAG06B,OAAOjiD,KACX49E,GAAkBliD,SAGvBqP,GAAMwC,GAAG0U,OAAOjiD,MAAmB,oCAAVA,KACpB49E,GAAkBwC,cAGvBr1C,GAAMyC,GAAGyU,OAAOjiD,KACX49E,GAAkByC,iBAAAA,CAGvBt1C,GAAMmC,MAAOnC,GAAMmC,GAAG+U,OAAOjiD,MAAmB,oCAAVA,KAItC+qC,GAAMoC,MAAMpC,GAAMoC,GAAG8U,OAAOjiD,KACvB49E,GAAkB0C,iBAAAA,OAJlB1C,GAAkB2C;QAAAA;AAU7B,YAAInC,KAAiBT,qBAAqBC,IAAmBrC,EAAAA,GAEzDx9D,KAAsB,SAAf8gE,GAAKh5C,GAAGpe,KAAco3D,GAAKh5C,GAAG9nB,OAAO8gE,GAAKh5C;AAwCrD,eAvCA+3C,GAAkBkB,gBAAgB/zC,GAAMkX,IACxClkC,GAAKwvB,GAAGoxC,iBAAiBb,kBAAkB,gBAAgBM,EAAAA,CAAAA,GAC3DrgE,GAAKyvB,GAAGmxC,iBAAiBb,kBAAkB,mBAAmBM,EAAAA,CAAAA,GAC9DrgE,GAAKwJ,GAAGo3D,iBAAiBb,kBAAkB,UAAUM,EAAAA,CAAAA,GACrDrgE,GAAKnhB,EAAE+hF,iBAAiBb,kBAAkB,YAAYM,EAAAA,CAAAA,GACtDrgE,GAAKpf,EAAEggF,iBAAiBb,kBAAkB,YAAYM,EAAAA,CAAAA,GAElDrzC,GAAMmC,OACRnvB,GAAKmvB,GAAGyxC,iBAAiBb,kBAAkB,gBAAgBM,EAAAA,CAAAA,GAC3DrgE,GAAKovB,GAAGwxC,iBAAiBb,kBAAkB,mBAAmBM,EAAAA,CAAAA,IAGhE5hF,OAAO4gF,iBAAiBQ,IAAmB,EACzCv7D,UAAU,EACRvgB,KAAK64E,4BAA4B58D,GAAKnhB,CAAAA,EAAAA,GAExCg/E,UAAU,EACR95E,KAAK64E,4BAA4B58D,GAAKpf,CAAAA,EAAAA,GAExC+8B,QAAQ,EACN55B,KAAK64E,4BAA4B58D,GAAKwJ,EAAAA,EAAAA,GAExC64D,aAAa,EACXt+E,KAAK64E,4BAA4B58D,GAAKwvB,EAAAA,EAAAA,GAExC8yC,gBAAgB,EACdv+E,KAAK64E,4BAA4B58D,GAAKyvB,EAAAA,EAAAA,GAExC+yC,aAAa,EACXz+E,KAAK64E,4BAA4B58D,GAAKmvB,EAAAA,EAAAA,GAExCozC,gBAAgB,EACdx+E,KAAK64E,4BAA4B58D,GAAKovB,EAAAA,EAAAA,GAExC3xB,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,EAAAA,CAAAA,GAGjB0sD,GAAkBO,KAAKpzC,GAAMozC,IACtBP;MAAAA;AAGT,eAAS0B,GAAqBv0C,IAAO8zC,IAAMtD,IAAAA;AACzC,iBAASqC,GAAkB59E,IAAAA;AACzB,iBAAI+qC,GAAMnuC,EAAEqlD,OAAOjiD,KACV49E,GAAkBv7D,WAGvB0oB,GAAMpsC,EAAEsjD,OAAOjiD,KACV49E,GAAkBlwC,YAGvB3C,GAAMttC,EAAEwkD,OAAOjiD,MAAmB,WAAVA,MAA8B,4BAAVA,KACvC49E,GAAkBj5B,OAAAA;QAAAA;AAM7B,YAAIy5B,KAAiBT,qBAAqBC,IAAmBrC,EAAAA,GAEzDx9D,KAAsB,SAAf8gE,GAAKh5C,GAAGpe,KAAco3D,GAAKh5C,GAAG9nB,OAAO8gE,GAAKh5C;AAoBrD,eAnBA+3C,GAAkBkB,gBAAgB/zC,GAAMkX,IACxClkC,GAAKnhB,EAAE+hF,iBAAiBb,kBAAkB,YAAYM,EAAAA,CAAAA,GACtDrgE,GAAKtgB,EAAEkhF,iBAAiBb,kBAAkB,QAAQM,EAAAA,CAAAA,GAClDrgE,GAAKpf,EAAEggF,iBAAiBb,kBAAkB,YAAYM,EAAAA,CAAAA,GACtD5hF,OAAO4gF,iBAAiBQ,IAAmB,EACzCv7D,UAAU,EACRvgB,KAAK64E,4BAA4B58D,GAAKnhB,CAAAA,EAAAA,GAExC8wC,WAAW,EACT5rC,KAAK64E,4BAA4B58D,GAAKpf,CAAAA,EAAAA,GAExCgmD,MAAM,EACJ7iD,KAAK64E,4BAA4B58D,GAAKtgB,CAAAA,EAAAA,GAExC+d,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,EAAAA,CAAAA,GAGjB0sD,GAAkBO,KAAKpzC,GAAMozC,IACtBP;MAAAA;AAGT,eAAS2B,GAAwBx0C,IAAO8zC,IAAMtD,IAAAA;AAC5C,iBAASqC,GAAkB59E,IAAAA;AACzB,iBAAI+qC,GAAMpsC,EAAEsjD,OAAOjiD,MAAmB,sBAAVA,KACnB49E,GAAkB5+B,SAAAA;QAAAA;AAM7B,YAAIo/B,KAAiBT,qBAAqBC,IAAmBrC,EAAAA,GAEzDx9D,KAAO8gE;AAYX,eAXAjB,GAAkBkB,gBAAgB/zC,GAAMkX,IACxClkC,GAAK6kC,GAAG+7B,iBAAiBb,kBAAkB,UAAUM,EAAAA,CAAAA,GACrD5hF,OAAO4gF,iBAAiBQ,IAAmB,EACzC5+B,QAAQ,EACNl9C,KAAK64E,4BAA4B58D,GAAK6kC,EAAAA,EAAAA,GAExCpnC,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,EAAAA,CAAAA,GAGjB0sD,GAAkBO,KAAKpzC,GAAMozC,IACtBP;MAAAA;AAGT,eAAS4B,GAAyBz0C,IAAO8zC,IAAMtD,IAAAA;AAC7C,iBAASqC,GAAkB59E,IAAAA;AACzB,iBAAI+qC,GAAMrsC,EAAEujD,OAAOjiD,MAAmB,aAAVA,KACnB49E,GAAkB97B,SAGvB/W,GAAMtpC,EAAEwgD,OAAOjiD,MAAmB,aAAVA,KACnB49E,GAAkBr5D,SAAAA;QAAAA;AAM7B,YAAI65D,KAAiBT,qBAAqBC,IAAmBrC,EAAAA,GAEzDx9D,KAAO8gE;AAgBX,eAfAjB,GAAkBkB,gBAAgB/zC,GAAMkX,IACxClkC,GAAKrf,EAAEigF,iBAAiBb,kBAAkB,UAAUM,EAAAA,CAAAA,GACpDrgE,GAAKtc,EAAEk9E,iBAAiBb,kBAAkB,UAAUM,EAAAA,CAAAA,GACpD5hF,OAAO4gF,iBAAiBQ,IAAmB,EACzC97B,QAAQ,EACNhgD,KAAK64E,4BAA4B58D,GAAKrf,CAAAA,EAAAA,GAExC6lB,QAAQ,EACNziB,KAAK64E,4BAA4B58D,GAAKtc,CAAAA,EAAAA,GAExC+Z,OAAO,EACLxb,OAAO+qC,GAAM7Z,GAAAA,EAAAA,CAAAA,GAGjB0sD,GAAkBO,KAAKpzC,GAAMozC,IACtBP;MAAAA;AAGT,aAAA,SAAiB/1D,IAAQg3D,IAAMtD,IAAAA;AAC7B,YAAImE;AAEJ,iBAASc,GAAmBxgF,IAAAA;AAC1B,cAAqB,YAAA,OAAVA;AAGT,mBAAc,OAFdA,KAAAA,WAAQA,KAAsB,IAAIA,MAGzBu7E,KAGFmE,GAAW1/E,KAAQ,CAAA;AAM5B,mBAHItC,KAAI,GACJkgB,KAAM8hE,GAAW7hF,QAEdH,KAAIkgB,MAAK;AACd,gBAAI8hE,GAAWhiF,EAAAA,EAAG8d,UAAUxb;AAC1B,qBAAO0/E,GAAWhiF,EAAAA;AAGpBA,YAAAA,MAAK;UAAA;AAGP,iBAAA;QAAA;AAWF,eAJA8iF,GAAmBjF,gBAAgBoC,qBAAqB6C,IAJxD,WAAA;AACE,iBAAOjF;QAAAA,CAAAA,GAITmE,KAAaX,GAAgBl3D,IAAQg3D,IAAM2B,GAAmBjF,aAAAA,GAC9DiF,GAAmBlC,gBAAgBoB,GAAW7hF,QAC9C2iF,GAAmBhlE,QAAQ,YACpBglE;MAAAA;IAAAA,EAjnBoB,GAqnB3BnyB,0BAAAA,SACe90B,IAAAA;AACf,UAAIknD,IAEAC;AAEJ,eAASjH,GAAmBjwE,IAAAA;AAC1B,eACO,yBADCA,KAEGiwE,GAAmBkH,aAAAA;MAAAA;AAuBhC,aAhBAnkF,OAAOuC,eAAe06E,IAAoB,cAAc,EACtD33E,KAAK,WAAA;AACHy3B,QAAAA,GAAK4pC,aAAar6B,SAAAA;AAClB,YAAI83C,KAAcrnD,GAAK4pC,aAAatG,YAAYr/D;AAUhD,eARIojF,OAAgBH,OAClBlnD,GAAK4pC,aAAatG,YAAYr/D,IAAIijF,KAClCC,KAAc,IAAIxjF,OAAO0jF,EAAAA,GAGb5gF,QAAQ4gF,MAAe,IAAI1jF,OAAO0jF,EAAAA,IAGzCF;MAAAA,EAAAA,CAAAA,GAGJjH;IAAAA;AAIX,aAASoH,UAAUxgE,IAAAA;AAAuV,aAA1OwgE,YAArD,cAAA,OAAX3/E,UAAoD,YAAA,OAApBA,OAAOC,WAAqC,SAAiBkf,IAAAA;AAAO,eAAA,OAAcA;MAAAA,IAA6B,SAAiBA,IAAAA;AAAO,eAAOA,MAAyB,cAAA,OAAXnf,UAAyBmf,GAAIjjB,gBAAgB8D,UAAUmf,OAAQnf,OAAOrE,YAAY,WAAA,OAAkBwjB;MAAAA,GAAiBwgE,UAAUxgE,EAAAA;IAAAA;AAE3X,QAAIuvC,oBA0CEkxB,uBAAuB,SAA8BvnD,IAAAA;AACvD,eAASqkD,GAAkB59E,IAAAA;AACzB,eAAc,cAAVA,KACK49E,GAAkBmD,iBAAAA,IAAAA;MAAAA;AAQ7B,aAFAnD,GAAkBpiE,QAAQ,WAC1BoiE,GAAkBmD,mBAnDU,SAAiCxnD,IAAAA;AAC7D,YAAIynD,KAAsB,IACtBC,KAAkB1nD,GAAKs2B,eAAAA;AAQ3B,iBAASiO,GAAe99D,IAAAA;AACtB,cAAIihF,GAAgBjhF,EAAAA;AAIlB,mBAHAghF,KAAsBhhF,IAGa,aAA/B6gF,UAFJI,KAAkBA,GAAgBjhF,EAAAA,CAAAA,IAGzB89D,KAGFmjB;AAGT,cAAIC,KAAoBlhF,GAAM9B,QAAQ8iF,EAAAA;AAEtC,cAAA,OAAIE,IAA0B;AAC5B,gBAAI3tE,KAAQugB,SAAS9zB,GAAMm0B,OAAO+sD,KAAoBF,GAAoBnjF,MAAAA,GAAS,EAAA;AAGnF,mBAAmC,aAA/BgjF,UAFJI,KAAkBA,GAAgB1tE,EAAAA,CAAAA,IAGzBuqD,KAGFmjB;UAAAA;AAGT,iBAAO;QAAA;AAGT,eAlCA,WAAA;AAGE,iBAFAD,KAAsB,IACtBC,KAAkB1nD,GAAKs2B,eAAAA,GAChBiO;QAAAA;MAAAA,EA4CoDvkC,EAAAA,GACtDqkD;IAAAA,GAAAA,SAGQrkD,IAAAA;AACf,eAASinD,GAAmBxgF,IAAAA;AAC1B,eAAc,WAAVA,KACKwgF,GAAmBW,gBAAAA;MAAAA;AAQ9B,aAFAX,GAAmBhlE,QAAQ,QAC3BglE,GAAmBW,gBAAgBL,qBAAqBvnD,EAAAA,GACjDinD;IAAAA,IAzBLM,sBA6BFpB,aAAa,EACfrvB,OAAOnC,0BACP9C,SAAS+C,4BACTnmC,MAAMsmC,yBACNvjB,OAAOqjB,0BACP9H,MAAM+H,yBACN+yB,SAASxxB,iBAAAA;AAGX,aAASyxB,aAAax5E,IAAAA;AACpB,aAAO63E,WAAW73E,EAAAA,KAAS;IAAA;AAG7B,aAASy5E,UAAUjhE,IAAAA;AAAuV,aAA1OihE,YAArD,cAAA,OAAXpgF,UAAoD,YAAA,OAApBA,OAAOC,WAAqC,SAAiBkf,IAAAA;AAAO,eAAA,OAAcA;MAAAA,IAA6B,SAAiBA,IAAAA;AAAO,eAAOA,MAAyB,cAAA,OAAXnf,UAAyBmf,GAAIjjB,gBAAgB8D,UAAUmf,OAAQnf,OAAOrE,YAAY,WAAA,OAAkBwjB;MAAAA,GAAiBihE,UAAUjhE,EAAAA;IAAAA;AA2B3X,aAASkhE,WAAW5jD,IAAMU,IAAAA;AAIxB,UAAImjD,KAASzjF,MACTyuB,KAAQ,KAQZi1D,KAAapjD,GAAKvd,IAAI0L,IANb,CAAA,GAOLk1D,KAAerjD,GAAKvd,IAAI,GALnB,EAAA,GAMLs4D,KAA0B,IAAfsI,IACX/zB,KAAOnhC;AA6FX,eAASm1D,GAAKnjF,IAAAA;AACZ,YAAIhB,IACAokF,KAASpjF,GAAIX,QACbgkF,KAAK9jF,MACLL,KAAI,GACJ+E,KAAIo/E,GAAGnkF,IAAImkF,GAAGp/E,IAAI,GAClBhF,KAAIokF,GAAGC,IAAI,CAAA;AAOf,aALKF,OACHpjF,KAAM,CAACojF,IAAAA,IAIFlkF,KAAI8uB;AACT/uB,UAAAA,GAAEC,EAAAA,IAAKA;AAGT,aAAKA,KAAI,GAAGA,KAAI8uB,IAAO9uB;AACrBD,UAAAA,GAAEC,EAAAA,IAAKD,GAAEgF,KAAIkrD,KAAOlrD,KAAIjE,GAAId,KAAIkkF,EAAAA,KAAWpkF,KAAIC,GAAEC,EAAAA,EAAAA,GACjDD,GAAEgF,EAAAA,IAAKjF;AAITqkF,QAAAA,GAAGlhF,IAAI,SAAUsjD,IAAAA;AAQf,mBANIzmD,IACAmB,KAAI,GACJjB,KAAImkF,GAAGnkF,GACP+E,KAAIo/E,GAAGp/E,GACPhF,KAAIokF,GAAGC,GAEJ79B;AACLzmD,YAAAA,KAAIC,GAAEC,KAAIiwD,KAAOjwD,KAAI,CAAA,GACrBiB,KAAIA,KAAI6tB,KAAQ/uB,GAAEkwD,MAAQlwD,GAAEC,EAAAA,IAAKD,GAAEgF,KAAIkrD,KAAOlrD,KAAIjF,EAAAA,MAAOC,GAAEgF,EAAAA,IAAKjF,GAAAA;AAKlE,iBAFAqkF,GAAGnkF,IAAIA,IACPmkF,GAAGp/E,IAAIA,IACA9D;QAAAA;MAAAA;AAUX,eAASojF,GAAKthF,IAAGjD,IAAAA;AAIf,eAHAA,GAAEE,IAAI+C,GAAE/C,GACRF,GAAEiF,IAAIhC,GAAEgC,GACRjF,GAAEskF,IAAIrhF,GAAEqhF,EAAE9+E,MAAAA,GACHxF;MAAAA;AAOT,eAASkf,GAAQ2D,IAAKi7B,IAAAA;AACpB,YAEIv9B,IAFA3d,KAAS,CAAA,GACT4hF,KAAMV,UAAUjhE,EAAAA;AAGpB,YAAIi7B,MAAgB,YAAP0mC;AACX,eAAKjkE,MAAQsC;AACX,gBAAA;AACEjgB,cAAAA,GAAOmB,KAAKmb,GAAQ2D,GAAItC,EAAAA,GAAOu9B,KAAQ,CAAA,CAAA;YAAA,SAChCr9C,IAAAA;YAAAA;AAIb,eAAOmC,GAAOvC,SAASuC,KAAgB,YAAP4hF,KAAkB3hE,KAAMA,KAAM;MAAA;AAQhE,eAAS4hE,GAAOC,IAAM1jF,IAAAA;AAKpB,iBAHI2jF,IADAC,KAAaF,KAAO,IAEpBz/E,KAAI,GAEDA,KAAI2/E,GAAWvkF;AACpBW,UAAAA,GAAImvD,KAAOlrD,EAAAA,IAAKkrD,MAAQw0B,MAAyB,KAAhB3jF,GAAImvD,KAAOlrD,EAAAA,KAAW2/E,GAAW35B,WAAWhmD,IAAAA;AAG/E,eAAO4/E,GAAS7jF,EAAAA;MAAAA;AA4BlB,eAAS6jF,GAAS7/E,IAAAA;AAChB,eAAOtF,OAAOgwE,aAAapvE,MAAM,GAAG0E,EAAAA;MAAAA;AAjItC67B,MAAAA,GAAI,aA3EJ,SAAoB6jD,IAAMz4E,IAASmhB,IAAAA;AACjC,YAAIpsB,KAAM,CAAA,GAKN8jF,KAAYL,GAAOvlE,IAJvBjT,KAAAA,SAAUA,KAAmB,EAC3B84E,SAAAA,KAAS,IACP94E,MAAW,CAAA,GAEwB84E,UAAU,CAACL,IAAMG,GAAS1kD,EAAAA,CAAAA,IAAkB,SAATukD,KAiL5E,WAAA;AACE,cAAA;AAKE,gBAAI/9C,KAAM,IAAIq+C,WAAWh2D,EAAAA;AAEzB,oBADCg1D,GAAOiB,UAAUjB,GAAOkB,UAAUC,gBAAgBx+C,EAAAA,GAC5Ck+C,GAASl+C,EAAAA;UAAAA,SACTlmC,IAAAA;AACP,gBAAI2kF,KAAUpB,GAAO3kE,WACjBgmE,KAAUD,MAAWA,GAAQC;AACjC,mBAAO,CAAA,CAAE,oBAAIl8B,QAAQ66B,IAAQqB,IAASrB,GAAOsB,QAAQT,GAAS1kD,EAAAA,CAAAA;UAAAA;QAAAA,EA7L0BolD,IAAab,IAAM,CAAA,GAAI1jF,EAAAA,GAE7GwkF,KAAO,IAAIrB,GAAKnjF,EAAAA,GAGhBykF,KAAO,WAAA;AAOT,mBANItlF,KAAIqlF,GAAKriF,EA5BR,CAAA,GA8BLrE,KAAImlF,IAEJ3lD,KAAI,GAEGn+B,KAAI+jF;AAET/jF,YAAAA,MAAKA,KAAIm+B,MAAKtP,IAEdlwB,MAAKkwB,IAELsP,KAAIknD,GAAKriF,EAAE,CAAA;AAGb,iBAAOhD,MAAKy7E;AAEVz7E,YAAAA,MAAK,GAELrB,MAAK,GAELw/B,QAAO;AAGT,kBAAQn+B,KAAIm+B,MAAKx/B;QAAAA;AAenB,eAZA2mF,GAAKC,QAAQ,WAAA;AACX,iBAAmB,IAAZF,GAAKriF,EAAE,CAAA;QAAA,GAGhBsiF,GAAKE,QAAQ,WAAA;AACX,iBAAOH,GAAKriF,EAAE,CAAA,IAAK;QAAA,GAGrBsiF,GAAI,SAAaA,IAEjBhB,GAAOI,GAASW,GAAKlB,CAAAA,GAAInkD,EAAAA,IAEjBl0B,GAAQ25E,QAAQx4D,MAAY,SAAUq4D,IAAMf,IAAMmB,IAAc/+E,IAAAA;AAetE,iBAdIA,OAEEA,GAAMw9E,KACRC,GAAKz9E,IAAO0+E,EAAAA,GAIdC,GAAK3+E,QAAQ,WAAA;AACX,mBAAOy9E,GAAKiB,IAAM,CAAA,CAAA;UAAA,IAMlBK,MACFhlD,GAAI,SAAY4kD,IACTf,MAGGe;QAAAA,GACXA,IAAMX,IAAW,YAAY74E,KAAUA,GAAQ+3E,SAASzjF,QAAQsgC,IAAM50B,GAAQnF,KAAAA;MAAAA,GA8InF29E,GAAO5jD,GAAKvvB,OAAAA,GAAU6uB,EAAAA;IAAAA;AASxB,aAAS2lD,aAAa/hE,IAAAA;AACpBggE,iBAAW,CAAA,GAAIhgE,EAAAA;IAAAA;AAGjB,QAAIgiE,YAAY,EACdC,OAAO,QAAA;AAGT,aAASC,QAAQpjE,IAAAA;AAAmV,aAAtOojE,UAArD,cAAA,OAAXviF,UAAoD,YAAA,OAApBA,OAAOC,WAAmC,SAAiBkf,IAAAA;AAAO,eAAA,OAAcA;MAAAA,IAA2B,SAAiBA,IAAAA;AAAO,eAAOA,MAAyB,cAAA,OAAXnf,UAAyBmf,GAAIjjB,gBAAgB8D,UAAUmf,OAAQnf,OAAOrE,YAAY,WAAA,OAAkBwjB;MAAAA,GAAiBojE,QAAQpjE,EAAAA;IAAAA;AAEnX,QAAIqjE,oBAAoB,WAAA;AAGtB,UAAIt1D,KAAK,CAAA,GACLvf,OAAO0S,QACP3c,SAAS,MACT+B,WAAW,MACXmkB,iBAAiB,MACjB64D,QAAQ,MACRC,SAAS;AAGb,eAASC,sBAAsB9jE,IAAAA;AAC7B,eAAOA,GAAI3iB,gBAAgBT,SAASojB,GAAI3iB,gBAAgB6iB;MAAAA;AAG1D,eAAS6jE,YAAYC,IAAM3iF,IAAAA;AACzB,eAAgB,aAAT2iF,MAA8B,cAATA,MAA+B,aAATA,MAAqB3iF,cAAa+G;MAAAA;AAGtF,eAAS67E,QAAQxhF,IAAAA;AACf,YAAIyhF,KAAOR,QAAQjhF,EAAAA;AAEnB,YAAa,aAATyhF,MAA8B,cAATA,MAAsBzhF,cAAa2F;AAC1D,iBAAA,CAAQ3F;AAGV,YAAIqhF,sBAAsBrhF,EAAAA,GAAI;AAC5B,cAAI9E,IACAwmF,KAAO1hF,GAAE3E,QACTsmF,KAAS,CAAA;AAEb,eAAKzmF,KAAI,GAAGA,KAAIwmF,IAAMxmF,MAAK;AACzBymF,YAAAA,GAAOzmF,EAAAA,IAAAA,CAAM8E,GAAE9E,EAAAA;AAGjB,iBAAOymF;QAAAA;AAGT,eAAI3hF,GAAEihC,WACGjhC,GAAEpB,IAAAA,CAGHoB;MAAAA;AAjCV8gF,mBAAa/hE,MAAAA;AAoCb,UAAI6iE,YAAY1pD,cAAcuK,gBAAgB,OAAO,GAAG,OAAO,OAAO,QAAA,EAAUnjC,KAC5EuiF,aAAa3pD,cAAcuK,gBAAgB,OAAO,OAAO,OAAO,GAAG,SAAA,EAAWnjC,KAC9EwiF,eAAe5pD,cAAcuK,gBAAgB,MAAM,GAAG,OAAO,GAAG,WAAA,EAAanjC;AAEjF,eAASslD,IAAI5kD,IAAGjG,IAAAA;AACd,YAAI0nF,KAAOR,QAAQjhF,EAAAA,GAEf+hF,KAAOd,QAAQlnF,EAAAA;AAEnB,YAAa,aAAT0nF,MAA8B,aAATM;AACvB,iBAAO/hF,KAAIjG;AAGb,YAAIunF,YAAYG,IAAMzhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA;AAC5C,iBAAOiG,KAAIjG;AAGb,YAAIsnF,sBAAsBrhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA;AAGhD,kBAFAiG,KAAIA,GAAEQ,MAAM,CAAA,GACV,CAAA,KAAMzG,IACDiG;AAGT,YAAIshF,YAAYG,IAAMzhF,EAAAA,KAAMqhF,sBAAsBtnF,EAAAA;AAGhD,kBAFAA,KAAIA,GAAEyG,MAAM,CAAA,GACV,CAAA,IAAKR,KAAIjG,GAAE,CAAA,GACNA;AAGT,YAAIsnF,sBAAsBrhF,EAAAA,KAAMqhF,sBAAsBtnF,EAAAA,GAAI;AAMxD,mBALImB,KAAI,GACJwmF,KAAO1hF,GAAE3E,QACT2mF,KAAOjoF,GAAEsB,QACTsmF,KAAS,CAAA,GAENzmF,KAAIwmF,MAAQxmF,KAAI8mF;AAAAA,aACA,YAAA,OAAThiF,GAAE9E,EAAAA,KAAmB8E,GAAE9E,EAAAA,aAAcyK,YAA4B,YAAA,OAAT5L,GAAEmB,EAAAA,KAAmBnB,GAAEmB,EAAAA,aAAcyK,UACvGg8E,GAAOzmF,EAAAA,IAAK8E,GAAE9E,EAAAA,IAAKnB,GAAEmB,EAAAA,IAErBymF,GAAOzmF,EAAAA,IAAAA,WAAKnB,GAAEmB,EAAAA,IAAmB8E,GAAE9E,EAAAA,IAAK8E,GAAE9E,EAAAA,KAAMnB,GAAEmB,EAAAA,GAGpDA,MAAK;AAGP,iBAAOymF;QAAAA;AAGT,eAAA;MAAA;AAGF,UAAIhjB,MAAM/Z;AAEV,eAASq9B,IAAIjiF,IAAGjG,IAAAA;AACd,YAAI0nF,KAAOR,QAAQjhF,EAAAA,GAEf+hF,KAAOd,QAAQlnF,EAAAA;AAEnB,YAAIunF,YAAYG,IAAMzhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA;AAS5C,iBARa,aAAT0nF,OACFzhF,KAAIsxB,SAAStxB,IAAG,EAAA,IAGL,aAAT+hF,OACFhoF,KAAIu3B,SAASv3B,IAAG,EAAA,IAGXiG,KAAIjG;AAGb,YAAIsnF,sBAAsBrhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA;AAGhD,kBAFAiG,KAAIA,GAAEQ,MAAM,CAAA,GACV,CAAA,KAAMzG,IACDiG;AAGT,YAAIshF,YAAYG,IAAMzhF,EAAAA,KAAMqhF,sBAAsBtnF,EAAAA;AAGhD,kBAFAA,KAAIA,GAAEyG,MAAM,CAAA,GACV,CAAA,IAAKR,KAAIjG,GAAE,CAAA,GACNA;AAGT,YAAIsnF,sBAAsBrhF,EAAAA,KAAMqhF,sBAAsBtnF,EAAAA,GAAI;AAMxD,mBALImB,KAAI,GACJwmF,KAAO1hF,GAAE3E,QACT2mF,KAAOjoF,GAAEsB,QACTsmF,KAAS,CAAA,GAENzmF,KAAIwmF,MAAQxmF,KAAI8mF;AAAAA,aACA,YAAA,OAAThiF,GAAE9E,EAAAA,KAAmB8E,GAAE9E,EAAAA,aAAcyK,YAA4B,YAAA,OAAT5L,GAAEmB,EAAAA,KAAmBnB,GAAEmB,EAAAA,aAAcyK,UACvGg8E,GAAOzmF,EAAAA,IAAK8E,GAAE9E,EAAAA,IAAKnB,GAAEmB,EAAAA,IAErBymF,GAAOzmF,EAAAA,IAAAA,WAAKnB,GAAEmB,EAAAA,IAAmB8E,GAAE9E,EAAAA,IAAK8E,GAAE9E,EAAAA,KAAMnB,GAAEmB,EAAAA,GAGpDA,MAAK;AAGP,iBAAOymF;QAAAA;AAGT,eAAA;MAAA;AAGF,eAASO,IAAIliF,IAAGjG,IAAAA;AACd,YAIIwjB,IAMAriB,IACAkgB,IAXAqmE,KAAOR,QAAQjhF,EAAAA,GAEf+hF,KAAOd,QAAQlnF,EAAAA;AAInB,YAAIunF,YAAYG,IAAMzhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA;AAC5C,iBAAOiG,KAAIjG;AAMb,YAAIsnF,sBAAsBrhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA,GAAI;AAIpD,eAHAqhB,KAAMpb,GAAE3E,QACRkiB,KAAMF,iBAAiB,WAAWjC,EAAAA,GAE7BlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqiB,YAAAA,GAAIriB,EAAAA,IAAK8E,GAAE9E,EAAAA,IAAKnB;AAGlB,iBAAOwjB;QAAAA;AAGT,YAAI+jE,YAAYG,IAAMzhF,EAAAA,KAAMqhF,sBAAsBtnF,EAAAA,GAAI;AAIpD,eAHAqhB,KAAMrhB,GAAEsB,QACRkiB,KAAMF,iBAAiB,WAAWjC,EAAAA,GAE7BlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqiB,YAAAA,GAAIriB,EAAAA,IAAK8E,KAAIjG,GAAEmB,EAAAA;AAGjB,iBAAOqiB;QAAAA;AAGT,eAAA;MAAA;AAGF,eAASsa,IAAI73B,IAAGjG,IAAAA;AACd,YAIIwjB,IAMAriB,IACAkgB,IAXAqmE,KAAOR,QAAQjhF,EAAAA,GAEf+hF,KAAOd,QAAQlnF,EAAAA;AAInB,YAAIunF,YAAYG,IAAMzhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA;AAC5C,iBAAOiG,KAAIjG;AAMb,YAAIsnF,sBAAsBrhF,EAAAA,KAAMshF,YAAYS,IAAMhoF,EAAAA,GAAI;AAIpD,eAHAqhB,KAAMpb,GAAE3E,QACRkiB,KAAMF,iBAAiB,WAAWjC,EAAAA,GAE7BlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqiB,YAAAA,GAAIriB,EAAAA,IAAK8E,GAAE9E,EAAAA,IAAKnB;AAGlB,iBAAOwjB;QAAAA;AAGT,YAAI+jE,YAAYG,IAAMzhF,EAAAA,KAAMqhF,sBAAsBtnF,EAAAA,GAAI;AAIpD,eAHAqhB,KAAMrhB,GAAEsB,QACRkiB,KAAMF,iBAAiB,WAAWjC,EAAAA,GAE7BlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqiB,YAAAA,GAAIriB,EAAAA,IAAK8E,KAAIjG,GAAEmB,EAAAA;AAGjB,iBAAOqiB;QAAAA;AAGT,eAAA;MAAA;AAGF,eAAS/b,IAAIxB,IAAGjG,IAAAA;AASd,eARiB,YAAA,OAANiG,OACTA,KAAIsxB,SAAStxB,IAAG,EAAA,IAGD,YAAA,OAANjG,OACTA,KAAIu3B,SAASv3B,IAAG,EAAA,IAGXiG,KAAIjG;MAAAA;AAGb,UAAIooF,UAAUv9B,KACVw9B,UAAUH,KACVI,UAAUH,KACVI,UAAUzqD,KACV0qD,UAAU/gF;AAEd,eAASghF,MAAMl7B,IAAKxoC,IAAKF,IAAAA;AACvB,YAAIE,KAAMF,IAAK;AACb,cAAI6jE,KAAK7jE;AACTA,UAAAA,KAAME,IACNA,KAAM2jE;QAAAA;AAGR,eAAOp2E,KAAKyS,IAAIzS,KAAKuS,IAAI0oC,IAAKxoC,EAAAA,GAAMF,EAAAA;MAAAA;AAGtC,eAAS8jE,iBAAiBvjE,IAAAA;AACxB,eAAOA,KAAMG;MAAAA;AAGf,UAAIqjE,qBAAqBD;AAEzB,eAASE,iBAAiBzjE,IAAAA;AACxB,eAAOA,KAAMG;MAAAA;AAGf,UAAIujE,qBAAqBH,kBACrBI,oBAAoB,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAA;AAExC,eAASznF,OAAO0nF,IAAMC,IAAAA;AACpB,YAAoB,YAAA,OAATD,MAAqBA,cAAgBp9E;AAE9C,iBADAq9E,KAAOA,MAAQ,GACR32E,KAAK6S,IAAI6jE,KAAOC,EAAAA;AAOzB,YAAI9nF;AAJC8nF,QAAAA,OACHA,KAAOF;AAIT,YAAI1nE,KAAM/O,KAAKyS,IAAIikE,GAAK1nF,QAAQ2nF,GAAK3nF,MAAAA,GACjCkgC,KAAc;AAElB,aAAKrgC,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqgC,UAAAA,MAAelvB,KAAKiS,IAAI0kE,GAAK9nF,EAAAA,IAAK6nF,GAAK7nF,EAAAA,GAAI,CAAA;AAG7C,eAAOmR,KAAKmS,KAAK+c,EAAAA;MAAAA;AAGnB,eAAS0nD,UAAUC,IAAAA;AACjB,eAAOrrD,IAAIqrD,IAAK7nF,OAAO6nF,EAAAA,CAAAA;MAAAA;AAGzB,eAASC,SAAShkE,IAAAA;AAChB,YAKIlL,IACAhZ,IANAkB,KAAIgjB,GAAI,CAAA,GACRhhB,KAAIghB,GAAI,CAAA,GACRplB,KAAIolB,GAAI,CAAA,GACRP,KAAMvS,KAAKuS,IAAIziB,IAAGgC,IAAGpE,EAAAA,GACrB+kB,KAAMzS,KAAKyS,IAAI3iB,IAAGgC,IAAGpE,EAAAA,GAGrBwG,MAAKqe,KAAME,MAAO;AAEtB,YAAIF,OAAQE;AACV7K,UAAAA,KAAI,GAEJhZ,KAAI;aACC;AACL,cAAInB,KAAI8kB,KAAME;AAGd,kBAFA7jB,KAAIsF,KAAI,MAAMzG,MAAK,IAAI8kB,KAAME,MAAOhlB,MAAK8kB,KAAME,KAEvCF,IAAAA;YACN,KAAKziB;AACH8X,cAAAA,MAAK9V,KAAIpE,MAAKD,MAAKqE,KAAIpE,KAAI,IAAI;AAC/B;YAEF,KAAKoE;AACH8V,cAAAA,MAAKla,KAAIoC,MAAKrC,KAAI;AAClB;YAEF,KAAKC;AACHka,cAAAA,MAAK9X,KAAIgC,MAAKrE,KAAI;UAAA;AAOtBma,UAAAA,MAAK;QAAA;AAGP,eAAO,CAACA,IAAGhZ,IAAGsF,IAAG4e,GAAI,CAAA,CAAA;MAAA;AAGvB,eAASikE,QAAQhpF,IAAGwG,IAAG5F,IAAAA;AAGrB,eAFIA,KAAI,MAAGA,MAAK,IACZA,KAAI,MAAGA,MAAK,IACZA,KAAI,IAAI,IAAUZ,KAAc,KAATwG,KAAIxG,MAASY,KACpCA,KAAI,MAAc4F,KAClB5F,KAAI,IAAI,IAAUZ,MAAKwG,KAAIxG,OAAM,IAAI,IAAIY,MAAK,IAC3CZ;MAAAA;AAGT,eAASipF,SAASlkE,IAAAA;AAChB,YAGIhjB,IACAgC,IACApE,IALAka,KAAIkL,GAAI,CAAA,GACRlkB,KAAIkkB,GAAI,CAAA,GACR5e,KAAI4e,GAAI,CAAA;AAKZ,YAAU,MAANlkB;AACFkB,UAAAA,KAAIoE,IAEJxG,KAAIwG,IAEJpC,KAAIoC;aACC;AACL,cAAIK,KAAIL,KAAI,MAAMA,MAAK,IAAItF,MAAKsF,KAAItF,KAAIsF,KAAItF,IACxCb,KAAI,IAAImG,KAAIK;AAChBzE,UAAAA,KAAIinF,QAAQhpF,IAAGwG,IAAGqT,KAAI,IAAI,CAAA,GAC1B9V,KAAIilF,QAAQhpF,IAAGwG,IAAGqT,EAAAA,GAClBla,KAAIqpF,QAAQhpF,IAAGwG,IAAGqT,KAAI,IAAI,CAAA;QAAA;AAG5B,eAAO,CAAC9X,IAAGgC,IAAGpE,IAAGolB,GAAI,CAAA,CAAA;MAAA;AAGvB,eAASmkE,OAAOtoF,IAAGuoF,IAAMC,IAAMC,IAAQC,IAAAA;AAQrC,YAAA,WAPID,MAAAA,WAAwBC,OAC1BD,KAASF,IACTG,KAASF,IACTD,KAAO,GACPC,KAAO,IAGLA,KAAOD,IAAM;AACf,cAAII,KAAQH;AACZA,UAAAA,KAAOD,IACPA,KAAOI;QAAAA;AAGT,YAAI3oF,MAAKuoF;AACP,iBAAOE;AAGT,YAAIzoF,MAAKwoF;AACP,iBAAOE;AAGT,YAMIxoF,IANA0hC,KAAO4mD,OAASD,KAAO,KAAKvoF,KAAIuoF,OAASC,KAAOD;AAEpD,YAAA,CAAKE,GAAOpoF;AACV,iBAAOooF,MAAUC,KAASD,MAAU7mD;AAItC,YAAIxhB,KAAMqoE,GAAOpoF,QACbkiB,KAAMF,iBAAiB,WAAWjC,EAAAA;AAEtC,aAAKlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqiB,UAAAA,GAAIriB,EAAAA,IAAKuoF,GAAOvoF,EAAAA,KAAMwoF,GAAOxoF,EAAAA,IAAKuoF,GAAOvoF,EAAAA,KAAM0hC;AAGjD,eAAOrf;MAAAA;AAGT,eAASjR,OAAOwS,IAAKF,IAAAA;AAWnB,YAAA,WAVIA,OAAAA,WACEE,MACFA,KAAM,GACNF,KAAM,MAENA,KAAME,IACNA,KAAAA,UAIAF,GAAIvjB,QAAQ;AACd,cAAIH,IACAkgB,KAAMwD,GAAIvjB;AAETyjB,UAAAA,OACHA,KAAMzB,iBAAiB,WAAWjC,EAAAA;AAGpC,cAAImC,KAAMF,iBAAiB,WAAWjC,EAAAA,GAClCwoE,KAAM7kE,OAAOzS,OAAAA;AAEjB,eAAKpR,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBqiB,YAAAA,GAAIriB,EAAAA,IAAK4jB,GAAI5jB,EAAAA,IAAK0oF,MAAOhlE,GAAI1jB,EAAAA,IAAK4jB,GAAI5jB,EAAAA;AAGxC,iBAAOqiB;QAAAA;AAQT,eAAA,WALIuB,OACFA,KAAM,IAIDA,KADIC,OAAOzS,OAAAA,KACGsS,KAAME;MAAAA;AAG7B,eAAS+kE,WAAW3qD,IAAQ4qD,IAAYC,IAAa18D,IAAAA;AACnD,YAAInsB,IACAkgB,KAAM8d,GAAO79B,QACbsoB,KAAOykB,UAAUhN,WAAAA;AACrBzX,QAAAA,GAAKwjB,YAAAA,CAAAA,CAAc9f,IAAQjM,EAAAA;AAC3B,YACI4oE,IACAC,IAFAC,KAAiB,CAAC,GAAG,CAAA;AAIzB,aAAKhpF,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB8oF,UAAAA,KAAgBF,MAAcA,GAAW5oF,EAAAA,IAAK4oF,GAAW5oF,EAAAA,IAAKgpF,IAC9DD,KAAiBF,MAAeA,GAAY7oF,EAAAA,IAAK6oF,GAAY7oF,EAAAA,IAAKgpF,IAClEvgE,GAAK6jB,YAAYtO,GAAOh+B,EAAAA,EAAG,CAAA,GAAIg+B,GAAOh+B,EAAAA,EAAG,CAAA,GAAI+oF,GAAe,CAAA,IAAK/qD,GAAOh+B,EAAAA,EAAG,CAAA,GAAI+oF,GAAe,CAAA,IAAK/qD,GAAOh+B,EAAAA,EAAG,CAAA,GAAI8oF,GAAc,CAAA,IAAK9qD,GAAOh+B,EAAAA,EAAG,CAAA,GAAI8oF,GAAc,CAAA,IAAK9qD,GAAOh+B,EAAAA,EAAG,CAAA,GAAIA,IAAAA,IAAG;AAGxL,eAAOyoB;MAAAA;AAGT,eAASwgE,mBAAmBptD,MAAM1lB,MAAM4G,UAAAA;AAEtC,iBAASmsE,KAAKC,IAAAA;AACZ,iBAAOA;QAAAA;AAGT,YAAA,CAAKttD,KAAK5F,WAAWw2B,aAAagf;AAChC,iBAAOyd;AAGT,YAAIjlE,MAAM9N,KAAKioB,GACXgrD,gBAAgB,qBAAqBp1E,KAAKiQ,GAAAA,GAE1ColE,eAAAA,OAAeplE,IAAIzjB,QAAQ,QAAA,GAE3B8oF,WAAWztD,KAAK1lB,KAAK4T,IACrB2oB,WACA62C,eACA10E,SACAohD,QACAuzB,eAAezsE;AACnBysE,qBAAa/L,cAAc+L,aAAa3tC,gBACxC/8C,OAAOuC,eAAemoF,cAAc,SAAS,EAC3CplF,KAAK,WAAA;AACH,iBAAOolF,aAAa9lF;QAAAA,EAAAA,CAAAA,GAGxBm4B,KAAKvR,KAAK2xD,gBAAgB,IAAIpgD,KAAKvR,KAAK2L,WAAW7B,WACnDyH,KAAKvR,KAAK4xD,mBAAmB;AAC7B,YAAI6D,UAAUlkD,KAAK1lB,KAAKqV,KAAKqQ,KAAKvR,KAAK2L,WAAW7B,WAC9C4rD,WAAWnkD,KAAK1lB,KAAKxS,KAAKk4B,KAAKvR,KAAK2L,WAAW7B,WAC/CtF,QAAQ+M,KAAK1lB,KAAKyoD,KAAK/iC,KAAK1lB,KAAKyoD,KAAK,GACtC7vC,SAAS8M,KAAK1lB,KAAKgyB,KAAKtM,KAAK1lB,KAAKgyB,KAAK,GACvCr8B,OAAO+vB,KAAK1lB,KAAKqd,IACjBi2D,QACAC,SACAC,SACAC,UACAC,QACA5K,SACAG,WACAC,UACAG,QACAsK,mBACAnlE,UACAu5D,UACAM,aACApsC,OACA23C,WACAC,UACA/5B,MACAwtB,aACAG,gBACAqM,cAEAC,sBAAsBC,KAAK,sCAAsClmE,MAAM,wBAAA,EAA0B,CAAA,GAEjGs5D,UAAUxgE,SAAS+tB,KAAK30B,KAAKlS,EAAE9D,SAAS,GACxC0/E,SAAAA,CAAUx/E,KAAK8V,QAAAA,SAAQ9V,KAAK8V,KAAKqhD,IAEjC4yB,UAAS,SAAgBC,IAAMC,IAAAA;AACjC,cAAIC,IACAxlF,IACAylF,KAAYnqF,KAAK2lC,GAAG7lC,SAASE,KAAK2lC,GAAG7lC,SAAS,GAC9CsqF,KAAYtoE,iBAAiB,WAAWqoE,EAAAA,GAExC9sB,KAAavsD,KAAKqS,MADf,IACqBuP,IAAAA;AAI5B,eAHAw3D,KAAU,GACVxlF,KAAI,GAEGwlF,KAAU7sB,MAAY;AAE3B,iBAAK34D,KAAI,GAAGA,KAAIylF,IAAWzlF,MAAK;AAC9B0lF,cAAAA,GAAU1lF,EAAAA,KAAAA,CAAOulF,KAAY,IAANA,KAAUzmE,OAAOzS,OAAAA;AAG1Cm5E,YAAAA,MAAW;UAAA;AAIb,cAAIG,KAfG,IAeO33D,MACV2O,KAAOgpD,KAAUv5E,KAAKqS,MAAMknE,EAAAA,GAC5BroE,KAAMF,iBAAiB,WAAWqoE,EAAAA;AAEtC,cAAIA,KAAY,GAAG;AACjB,iBAAKzlF,KAAI,GAAGA,KAAIylF,IAAWzlF,MAAK;AAC9Bsd,cAAAA,GAAItd,EAAAA,IAAK1E,KAAK2lC,GAAGjhC,EAAAA,IAAK0lF,GAAU1lF,EAAAA,KAAAA,CAAOulF,KAAY,IAANA,KAAUzmE,OAAOzS,OAAAA,KAAYswB;AAI5E,mBAAOrf;UAAAA;AAGT,iBAAA,KAAY2jB,KAAKykD,GAAU,CAAA,KAAA,CAAOH,KAAY,IAANA,KAAUzmE,OAAOzS,OAAAA,KAAYswB;QAAAA,GACrElR,KAAKnwB,IAAAA;AAgBP,iBAASsqF,eAAexgF,IAAM8oB,IAAAA;AAC5B,iBAAOw2D,OAAOt/E,IAAM8oB,IAAAA,IAAU;QAAA;AAGhC,iBAAS23D,gBAAgBzgF,IAAM8oB,IAAAA;AAC7B,iBAAO02D,QAAQx/E,IAAM8oB,IAAAA,IAAU;QAAA;AAnB7Bu2D,qBAAaC,WACfA,SAASD,aAAaC,OAAOj5D,KAAKg5D,YAAAA,GAClCE,UAAUD,SAGRD,aAAaG,YACfA,UAAUH,aAAaG,QAAQn5D,KAAKg5D,YAAAA,GACpCI,WAAWD,UAGTH,aAAaK,WACfA,SAASL,aAAaK,OAAOr5D,KAAKg5D,YAAAA,IAWhCnpF,KAAKw7C,mBACP4hC,cAAcp9E,KAAKw7C,eAAerrB,KAAKnwB,IAAAA,IAGrCA,KAAKi9E,sBACPM,iBAAiBv9E,KAAKi9E,kBAAkB9sD,KAAKnwB,IAAAA;AAG/C,YAAIiqB,OAAOuR,KAAKvR,KAAK2L,WAAWb,iBAAiB5E,KAAKqL,KAAKvR,KAAK2L,WAAWb,gBAAAA,GAsLvErC,MACA83D,UACAvoF,OACAsmD,MACAkiC,WACAC,WACAC;AA1LJ,iBAASC,OAAOC,IAAOC,IAAAA;AACrB,cAAIC,KAAO,CAACD,GAAM,CAAA,IAAKD,GAAM,CAAA,GAAIC,GAAM,CAAA,IAAKD,GAAM,CAAA,GAAIC,GAAM,CAAA,IAAKD,GAAM,CAAA,CAAA,GACnEG,KAAQl6E,KAAKm4B,MAAM8hD,GAAK,CAAA,GAAIj6E,KAAKmS,KAAK8nE,GAAK,CAAA,IAAKA,GAAK,CAAA,IAAKA,GAAK,CAAA,IAAKA,GAAK,CAAA,CAAA,CAAA,IAAOhnE;AAEpF,iBAAO,CAAA,CADIjT,KAAKm4B,MAAM8hD,GAAK,CAAA,GAAIA,GAAK,CAAA,CAAA,IAAMhnE,WAC7BinE,IAAO,CAAA;QAAA;AAGtB,iBAASC,QAAQxrF,IAAGuoF,IAAMC,IAAMiD,IAAMC,IAAAA;AACpC,iBAAOC,UAAU9E,YAAY7mF,IAAGuoF,IAAMC,IAAMiD,IAAMC,EAAAA;QAAAA;AAGpD,iBAASE,OAAO5rF,IAAGuoF,IAAMC,IAAMiD,IAAMC,IAAAA;AACnC,iBAAOC,UAAU/E,WAAW5mF,IAAGuoF,IAAMC,IAAMiD,IAAMC,EAAAA;QAAAA;AAGnD,iBAASG,KAAK7rF,IAAGuoF,IAAMC,IAAMiD,IAAMC,IAAAA;AACjC,iBAAOC,UAAU7E,cAAc9mF,IAAGuoF,IAAMC,IAAMiD,IAAMC,EAAAA;QAAAA;AAGtD,iBAASC,UAAU7iE,IAAI9oB,IAAGuoF,IAAMC,IAAMiD,IAAMC,IAAAA;AAAAA,qBACtCD,MACFA,KAAOlD,IACPmD,KAAOlD,MAEPxoF,MAAKA,KAAIuoF,OAASC,KAAOD,KAGvBvoF,KAAI,IACNA,KAAI,IACKA,KAAI,MACbA,KAAI;AAGN,cAAIwqC,KAAO1hB,GAAG9oB,EAAAA;AAEd,cAAIqmF,sBAAsBoF,EAAAA,GAAO;AAC/B,gBAAIK,IACAC,KAASN,GAAKprF,QACdkiB,KAAMF,iBAAiB,WAAW0pE,EAAAA;AAEtC,iBAAKD,KAAO,GAAGA,KAAOC,IAAQD,MAAQ;AACpCvpE,cAAAA,GAAIupE,EAAAA,KAASJ,GAAKI,EAAAA,IAAQL,GAAKK,EAAAA,KAASthD,KAAOihD,GAAKK,EAAAA;AAGtD,mBAAOvpE;UAAAA;AAGT,kBAAQmpE,KAAOD,MAAQjhD,KAAOihD;QAAAA;AAGhC,iBAASO,WAAW/4D,IAAAA;AAClB,cAAI64D,IAEA/1E,IACAsxB,IAFA0kD,KAAS11E,KAAKlS,EAAE9D;AAIpB,cAAKgW,KAAKlS,EAAE9D,UAA+B,YAAA,OAAdgW,KAAKlS,EAAE,CAAA;AAOlC,gBAHA4R,KAAAA,KACAkd,MAAQ8I,KAAKvR,KAAK2L,WAAW7B,aAElBje,KAAKlS,EAAE,CAAA,EAAGnE;AACnB+V,cAAAA,KAAQ,GACRsxB,KAAUhxB,KAAKlS,EAAE,CAAA,EAAGnE;iBACf;AACL,mBAAK8rF,KAAO,GAAGA,KAAOC,KAAS,GAAGD,MAAQ,GAAG;AAC3C,oBAAI74D,OAAS5c,KAAKlS,EAAE2nF,EAAAA,EAAM9rF,GAAG;AAC3B+V,kBAAAA,KAAQ+1E,KAAO,GACfzkD,KAAUhxB,KAAKlS,EAAE2nF,EAAAA,EAAM9rF;AACvB;gBAAA;AAAA,oBACSizB,KAAO5c,KAAKlS,EAAE2nF,EAAAA,EAAM9rF,KAAKizB,KAAO5c,KAAKlS,EAAE2nF,KAAO,CAAA,EAAG9rF,GAAG;AACzDizB,kBAAAA,KAAO5c,KAAKlS,EAAE2nF,EAAAA,EAAM9rF,IAAIqW,KAAKlS,EAAE2nF,KAAO,CAAA,EAAG9rF,IAAIizB,MAC/Cld,KAAQ+1E,KAAO,GACfzkD,KAAUhxB,KAAKlS,EAAE2nF,KAAO,CAAA,EAAG9rF,MAE3B+V,KAAQ+1E,KAAO,GACfzkD,KAAUhxB,KAAKlS,EAAE2nF,EAAAA,EAAM9rF;AAGzB;gBAAA;cAAA;AAAA,qBAIA+V,OACFA,KAAQ+1E,KAAO,GACfzkD,KAAUhxB,KAAKlS,EAAE2nF,EAAAA,EAAM9rF;YAAAA;;AA9B3B+V,YAAAA,KAAQ,GACRsxB,KAAU;AAkCZ,cAAI4kD,KAAQ,CAAA;AAGZ,iBAFAA,GAAMl2E,QAAQA,IACdk2E,GAAMh5D,OAAOoU,KAAUtL,KAAKvR,KAAK2L,WAAW7B,WACrC23D;QAAAA;AAGT,iBAASjrF,IAAIumC,IAAAA;AACX,cAAI0kD,IACAH,IACAC;AAEJ,cAAA,CAAK11E,KAAKlS,EAAE9D,UAA+B,YAAA,OAAdgW,KAAKlS,EAAE,CAAA;AAClC,kBAAA,IAAU8D,MAAM,2CAA2Cs/B,EAAAA;AAG7DA,UAAAA,MAAO,GACP0kD,KAAQ,EACNh5D,MAAM5c,KAAKlS,EAAEojC,EAAAA,EAAKvnC,IAAI+7B,KAAKvR,KAAK2L,WAAW7B,WAC3C9xB,OAAO,CAAA,EAAA;AAET,cAAI+f,KAAMvjB,OAAOK,UAAUC,eAAeC,KAAK8W,KAAKlS,EAAEojC,EAAAA,GAAM,GAAA,IAAOlxB,KAAKlS,EAAEojC,EAAAA,EAAKtnC,IAAIoW,KAAKlS,EAAEojC,KAAM,CAAA,EAAG9mC;AAGnG,eAFAsrF,KAASxpE,GAAIliB,QAERyrF,KAAO,GAAGA,KAAOC,IAAQD,MAAQ;AACpCG,YAAAA,GAAMH,EAAAA,IAAQvpE,GAAIupE,EAAAA,GAClBG,GAAMzpF,MAAMspF,EAAAA,IAAQvpE,GAAIupE,EAAAA;AAG1B,iBAAOG;QAAAA;AAGT,iBAASC,aAAaj0D,IAAIk0D,IAAAA;AAKxB,iBAJKA,OACHA,KAAMpwD,KAAKvR,KAAK2L,WAAW7B,YAGtB2D,KAAKk0D;QAAAA;AAGd,iBAASC,aAAapsF,IAAGmsF,IAAAA;AASvB,iBARKnsF,MAAW,MAANA,OACRA,KAAIizB,OAGDk5D,OACHA,KAAMpwD,KAAKvR,KAAK2L,WAAW7B,YAGtBt0B,KAAImsF;QAAAA;AAGb,iBAASpI,WAAWW,IAAAA;AAClB3gE,iBAAOsoE,WAAWC,WAAW5H,EAAAA;QAAAA;AAG/B,iBAAS53B,mBAAAA;AACP,iBAAO/wB,KAAK+wB,iBAAAA;QAAAA;AAGd,iBAASy/B,UAAUlyD,IAAMjmB,IAAAA;AACvB,iBAAqB,YAAA,OAAV5R,QAAAA,WACL4R,KACK5R,MAAM+pF,UAAUlyD,EAAAA,IAGlB73B,MAAM+pF,UAAUlyD,IAAMjmB,EAAAA,IAGxB;QAAA;AAGT,iBAASuiB,OAAO0D,IAAMjmB,IAAAA;AACpB,iBAAqB,YAAA,OAAV5R,QAAAA,WACL4R,KACK5R,MAAMm0B,OAAO0D,EAAAA,IAGf73B,MAAMm0B,OAAO0D,IAAMjmB,EAAAA,IAGrB;QAAA;AAGT,iBAASo4E,cAAcC,IAAAA;AACrBx5D,iBAA2B,MAApBw5D,KAAwB,IAAIp7E,KAAKqS,MAAMuP,OAAOw5D,EAAAA,IAAmBA,IACxEjqF,QAAQm7E,YAAY1qD,IAAAA;QAAAA;AAUtB,YAAIld,QAAQgmB,KAAK1lB,KAAKkxB,KAClBs4C,YAAAA,EAAAA,CAAe9jD,KAAK43B,aAAAA,CAAa53B,KAAK43B,UAAUtzD,SAChDqW,QACA41E,WAAWj7E,KAAKqS,MAAsB,MAAhBrS,KAAKC,OAAAA,CAAAA,GAC3B6kB,aAAa4F,KAAK5F;AAEtB,iBAASu2D,kBAAkBrD,IAAAA;AAIzB,iBAFA7mF,QAAQ6mF,IAEJ9oF,KAAKosF,sBAAsB5wD,KAAK5F,WAAWwU,WAA6B,mBAAlBpqC,KAAK0lC,WACtDzjC,SAGa,mBAAlBjC,KAAK0lC,aACP+kD,YAAYzqF,KAAKyqF,WACjBC,YAAY1qF,KAAK0qF,WACjBC,gBAAgB3qF,KAAK2qF,gBAGlBjB,cACHnhC,OAAO/sB,KAAKg1B,eAAejI,MAC3BmhC,YAAYluD,KAAKg1B,gBACjBm5B,WAAWnuD,KAAKvR,KAAKsJ,eACrBqrD,UAAU8K,UAAU9K,QAAQzuD,KAAKu5D,SAAAA,GACjC3K,YAAY2K,UAAU3K,UAAU5uD,KAAKu5D,SAAAA,GACrC1K,WAAW0K,UAAU1K,SAAS7uD,KAAKu5D,SAAAA,GACnCvK,SAASuK,UAAUvK,OAAOhvD,KAAKu5D,SAAAA,GAC/B95B,OAAO85B,UAAU95B,OAAO85B,UAAU95B,KAAKz/B,KAAKu5D,SAAAA,IAAa,MACzDD,oBAAoBzK,WAGjB3sC,cACHA,YAAY7W,KAAKg1B,eAAe,sBAAA,GAChC04B,gBAAgB72C,WAEZA,cACF8rC,cAAc9rC,UAAU8rC,eAOX,MAAb8K,YAAmBz0E,YACrBA,UAAUk1E,UAAU,yBAAA,IAGjB9zB,WACHA,SAAS8zB,UAAU,CAAA,KAGrBpK,YAAAA,EAAAA,CAAe9jD,KAAK43B,aAAAA,CAAa53B,KAAK43B,UAAUtzD,YAAAA,CAE9BqW,WAChBA,SAASqlB,KAAK43B,UAAU,CAAA,EAAG5C,iBAG7B99B,OAAO1yB,KAAKiqB,KAAK0f,gBAAgB3pC,KAAKiqB,KAAK2L,WAAW7B,WAElDi1D,gBACFxF,WAAWuI,WAAWr5D,IAAAA,GAGpBq2D,kBACFyB,WAAWjN,eAAe7qD,IAAAA,IAG5Bm3D,oBAAAA,GACA7pF,KAAKosF,oBAAoB5wD,KAAK5F,WAAWwU,SAGzCw/C,eAAeA,aAAalkD,aAAa8/C,UAAUC,QAAQmE,aAAavmF,IAAIumF;QAAAA;AAM9E,eADAuC,kBAAkBE,2BAA2B,CAACnD,eAAe/K,aAAazrD,MAAM83D,UAAU9K,SAASC,UAAUlxD,OAAOC,QAAQjjB,MAAM49E,SAASE,UAAUC,QAAQrK,QAAQsK,mBAAmB7K,SAASG,WAAWnvB,MAAMtrC,UAAUu5D,UAAU9rC,OAAO43C,UAAUzM,SAASsC,QAAQuK,QAAQO,gBAAgBC,iBAAiBtgE,MAAM2gE,QAAQK,SAASI,QAAQC,MAAMG,YAAYhrF,KAAK8nD,MAAMkiC,WAAWC,WAAWC,eAAegB,cAAcE,cAAct/B,kBAAkBy/B,WAAW51D,QAAQ61D,eAAez2E,OAAOogB,UAAAA,GACleu2D;MAAAA;AAKT,aAFA97D,GAAGu4D,qBAAqBA,oBACxBv4D,GAAGg8D,2BAA2B,CAACxlF,QAAQ+B,UAAUmkB,gBAAgB64D,OAAOC,QAAQI,SAAS7iB,KAAKwjB,SAASC,SAASC,SAASC,SAASC,SAASC,OAAOG,oBAAoBC,kBAAkBC,oBAAoBI,WAAWE,UAAUE,UAAUC,QAAQh3E,QAAQu3E,UAAAA,GACpPj4D;IAAAA,EA71Be,GAg2BpBi8D,oBAgFK,EACLC,mBAhFF,SAA2B/wD,IAAM1lB,IAAMkK,IAAAA;AACjClK,MAAAA,GAAKioB,MACP/d,GAAKpc,IAAAA,MACLoc,GAAK+d,IAAAA,MACL/d,GAAK4oE,qBAAqBjD,kBAAkBiD,oBAC5C5oE,GAAKqqB,gBAAgB7mC,KAAKwc,GAAK4oE,mBAAmBptD,IAAM1lB,IAAMkK,EAAAA,EAAMmQ,KAAKnQ,EAAAA,CAAAA;IAAAA,GA4E3Es9D,gBA3DF,SAAwBh4C,IAAAA;AACtB,UACIuL,KAAK7wC,KAAKw7C,eAAelW,EAAAA,GACzBiW,KAAKv7C,KAAKw7C,eAAelW,KAAAA,KAFhB,GAGTknD,KAAQ;AAEZ,UAAI37C,GAAG/wC,QAAQ;AACb,YAAIH;AAEJ,aAAKA,KAAI,GAAGA,KAAIkxC,GAAG/wC,QAAQH,MAAK;AAC9B6sF,UAAAA,MAAS17E,KAAKiS,IAAIw4B,GAAG57C,EAAAA,IAAKkxC,GAAGlxC,EAAAA,GAAI,CAAA;AAGnC6sF,QAAAA,KAA2B,MAAnB17E,KAAKmS,KAAKupE,EAAAA;MAAAA;AAElBA,QAAAA,KAAQ;AAGV,aAAOA;IAAAA,GA0CPvP,mBAvCF,SAA2B33C,IAAAA;AACzB,UAAA,WAAItlC,KAAK8qC;AACP,eAAA,KAAYA;AAGd,UAII0/C,IAIE7qF,IARFy8C,KAAAA,OAEAvL,KAAK7wC,KAAKw7C,eAAelW,EAAAA,GACzBiW,KAAKv7C,KAAKw7C,eAAelW,KAAW8W,EAAAA;AAGxC,UAAIvL,GAAG/wC;AAIL,aAHA0qF,KAAW1oE,iBAAiB,WAAW+uB,GAAG/wC,MAAAA,GAGrCH,KAAI,GAAGA,KAAIkxC,GAAG/wC,QAAQH,MAAK;AAI9B6qF,UAAAA,GAAS7qF,EAAAA,KAAM47C,GAAG57C,EAAAA,IAAKkxC,GAAGlxC,EAAAA,KAAMy8C;;AAGlCouC,QAAAA,MAAYjvC,KAAK1K,MAAMuL;AAGzB,aAAOouC;IAAAA,GAePhvC,gBA1EF,SAAwBlW,IAAAA;AAUtB,aATAA,MAAYtlC,KAAKw7B,KAAK5F,WAAW7B,YACjCuR,MAAYtlC,KAAKylC,gBAEAzlC,KAAKysF,eAAeplD,cACnCrnC,KAAKysF,eAAeh5E,YAAYzT,KAAKysF,eAAeplD,YAAY/B,KAAWtlC,KAAKysF,eAAeh5E,YAAY,GAC3GzT,KAAKysF,eAAexqF,QAAQjC,KAAKqlC,iBAAiBC,IAAUtlC,KAAKysF,cAAAA,GACjEzsF,KAAKysF,eAAeplD,YAAY/B,KAAAA,KAGtBmnD,eAAexqF;IAAAA,GAiE3ByqF,sBAbF,WAAA;AACE,aAAA,KAAY/mD;IAAAA,GAaZi7C,kBAVF,SAA0BpD,IAAAA;AACxBx9E,WAAKw9E,gBAAgBA;IAAAA,EAAAA;AAazB,aAASmP,uBAAAA;AACP,eAASrD,GAAQx/E,IAAM8oB,IAAUg6D,IAAAA;AAC/B,YAAA,CAAK5sF,KAAK4D,KAAAA,CAAM5D,KAAKimC;AACnB,iBAAA,KAAYN;AAGd77B,QAAAA,KAAOA,KAAOA,GAAKmD,YAAAA,IAAgB;AACnC,YAQI4/E,IACAC,IAmBAntF,IACAkgB,IACAktE,IA9BAz5D,KAAetzB,KAAKiqB,KAAK0f,eACzB1D,KAAYjmC,KAAKimC,WACjB+mD,KAAe/mD,GAAUA,GAAUnmC,SAAS,CAAA,EAAGL;AAEnD,YAAI6zB,MAAgB05D;AAClB,iBAAA,KAAYrnD;AA2Bd,YArBKinD,KAcHE,KAAgBE,MAHdH,KAHGj6D,KAGa9hB,KAAK6S,IAAIqpE,KAAehtF,KAAKw7B,KAAKvR,KAAK2L,WAAW7B,YAAYnB,EAAAA,IAF9D9hB,KAAKuS,IAAI,GAAG2pE,KAAehtF,KAAKw7B,KAAK1lB,KAAKqV,EAAAA,OAAAA,CARvDyH,MAAYA,KAAWqT,GAAUnmC,SAAS,OAC7C8yB,KAAWqT,GAAUnmC,SAAS,IAIhC+sF,KAAgBG,MADhBF,KAAgB7mD,GAAUA,GAAUnmC,SAAS,IAAI8yB,EAAAA,EAAUnzB,KAgBhD,eAATqK,IAAAA;AAGF,cAFiBgH,KAAKqS,OAAOmQ,KAAew5D,MAAiBD,EAAAA,IAE5C,KAAM;AACrB,mBAAA,KAAYrxC,gBAAgBqxC,MAAiBv5D,KAAew5D,MAAiBD,KAAgBC,MAAiB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA;QAAA,OAAA;AAAA,cAE9H,aAATjqB,IAAmB;AAC5B,gBAAImjF,KAAQjtF,KAAKw7C,eAAesxC,KAAgB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GAC5Em5D,KAAOltF,KAAKw7C,eAAewxC,KAAehtF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GAC1Eo5D,KAAUntF,KAAKw7C,iBAAiBloB,KAAew5D,MAAiBD,KAAgBC,MAAiB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GAEjIq5D,KAAUt8E,KAAKqS,OAAOmQ,KAAew5D,MAAiBD,EAAAA;AAE1D,gBAAI7sF,KAAK2lC,GAAG7lC,QAAQ;AAIlB,mBAFA+f,MADAktE,KAAM,IAAInuF,MAAMquF,GAAMntF,MAAAA,GACZA,QAELH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBotF,gBAAAA,GAAIptF,EAAAA,KAAMutF,GAAKvtF,EAAAA,IAAKstF,GAAMttF,EAAAA,KAAMytF,KAAUD,GAAQxtF,EAAAA;AAGpD,qBAAOotF;YAAAA;AAGT,oBAAQG,KAAOD,MAASG,KAAUD;UAAAA;AAAAA,cAChB,eAATrjF,IAAqB;AAC9B,gBAAIujF,KAAYrtF,KAAKw7C,eAAewxC,KAAehtF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GAC/Eu5D,KAAgBttF,KAAKw7C,gBAAgBwxC,KAAe,QAAShtF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA;AAEjG,gBAAI/zB,KAAK2lC,GAAG7lC,QAAQ;AAIlB,mBAFA+f,MADAktE,KAAM,IAAInuF,MAAMyuF,GAAUvtF,MAAAA,GAChBA,QAELH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBotF,gBAAAA,GAAIptF,EAAAA,IAAK0tF,GAAU1tF,EAAAA,KAAM0tF,GAAU1tF,EAAAA,IAAK2tF,GAAc3tF,EAAAA,OAAQ2zB,KAAe05D,MAAgBhtF,KAAKiqB,KAAK2L,WAAW7B,aAAa;AAGjI,qBAAOg5D;YAAAA;AAGT,mBAAOM,MAA4C/5D,KAAe05D,MAAgB,QAA9DK,KAAYC;UAAAA;QAAAA;AAGlC,eAAA,KAAY9xC,iBAAiBloB,KAAew5D,MAAiBD,KAAgBC,MAAiB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA;MAAA;AAGhI,eAASq1D,GAAOt/E,IAAM8oB,IAAUg6D,IAAAA;AAC9B,YAAA,CAAK5sF,KAAK4D;AACR,iBAAA,KAAY+hC;AAGd77B,QAAAA,KAAOA,KAAOA,GAAKmD,YAAAA,IAAgB;AACnC,YAQI4/E,IACAG,IAmBArtF,IACAkgB,IACAktE,IA9BAz5D,KAAetzB,KAAKiqB,KAAK0f,eACzB1D,KAAYjmC,KAAKimC,WACjB6mD,KAAgB7mD,GAAU,CAAA,EAAGxmC;AAEjC,YAAI6zB,MAAgBw5D;AAClB,iBAAA,KAAYnnD;AA2Bd,YArBKinD,KAcHI,KAAeF,MAHbD,KAHGj6D,KAGa9hB,KAAK6S,IAAI3jB,KAAKw7B,KAAKvR,KAAK2L,WAAW7B,YAAYnB,EAAAA,IAF/C9hB,KAAKuS,IAAI,GAAGrjB,KAAKw7B,KAAK1lB,KAAKxS,KAAKwpF,EAAAA,OAAAA,CAR7Cl6D,MAAYA,KAAWqT,GAAUnmC,SAAS,OAC7C8yB,KAAWqT,GAAUnmC,SAAS,IAIhC+sF,MADAG,KAAe/mD,GAAUrT,EAAAA,EAAUnzB,KACJqtF,KAepB,eAAThjF,IAAAA;AAGF,cAFiBgH,KAAKqS,OAAO2pE,KAAgBx5D,MAAgBu5D,EAAAA,IAE5C,KAAM;AACrB,mBAAA,KAAYrxC,iBAAiBsxC,KAAgBx5D,MAAgBu5D,KAAgBC,MAAiB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA;QAAA,OAAA;AAAA,cAE9G,aAATjqB,IAAmB;AAC5B,gBAAImjF,KAAQjtF,KAAKw7C,eAAesxC,KAAgB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GAC5Em5D,KAAOltF,KAAKw7C,eAAewxC,KAAehtF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GAC1Eo5D,KAAUntF,KAAKw7C,gBAAgBqxC,MAAiBC,KAAgBx5D,MAAgBu5D,KAAgBC,MAAiB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GACjJq5D,KAAUt8E,KAAKqS,OAAO2pE,KAAgBx5D,MAAgBu5D,EAAAA,IAAiB;AAE3E,gBAAI7sF,KAAK2lC,GAAG7lC,QAAQ;AAIlB,mBAFA+f,MADAktE,KAAM,IAAInuF,MAAMquF,GAAMntF,MAAAA,GACZA,QAELH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBotF,gBAAAA,GAAIptF,EAAAA,IAAKwtF,GAAQxtF,EAAAA,KAAMutF,GAAKvtF,EAAAA,IAAKstF,GAAMttF,EAAAA,KAAMytF;AAG/C,qBAAOL;YAAAA;AAGT,mBAAOI,MAAWD,KAAOD,MAASG;UAAAA;AAAAA,cAChB,eAATtjF,IAAqB;AAC9B,gBAAIyjF,KAAavtF,KAAKw7C,eAAesxC,KAAgB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA,GACjFy5D,KAAiBxtF,KAAKw7C,gBAAgBsxC,KAAgB,QAAS9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA;AAEnG,gBAAI/zB,KAAK2lC,GAAG7lC,QAAQ;AAIlB,mBAFA+f,MADAktE,KAAM,IAAInuF,MAAM2uF,GAAWztF,MAAAA,GACjBA,QAELH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxBotF,gBAAAA,GAAIptF,EAAAA,IAAK4tF,GAAW5tF,EAAAA,KAAM4tF,GAAW5tF,EAAAA,IAAK6tF,GAAe7tF,EAAAA,MAAOmtF,KAAgBx5D,MAAgB;AAGlG,qBAAOy5D;YAAAA;AAGT,mBAAOQ,MAAcA,KAAaC,OAAmBV,KAAgBx5D,MAAgB;UAAA;QAAA;AAGvF,eAAA,KAAYkoB,gBAAgBqxC,OAAkBC,KAAgBx5D,MAAgBu5D,KAAgBC,OAAkB9sF,KAAKiqB,KAAK2L,WAAW7B,WAAW,CAAA;MAAA;AAGlJ,eAASy1D,GAAO/6D,IAAOg/D,IAAAA;AACrB,YAAA,CAAKztF,KAAK4D;AACR,iBAAA,KAAY+hC;AAMd,YAHAlX,KAAyB,OAAhBA,MAAS,OAClBg/D,KAAU38E,KAAKqS,MAAMsqE,MAAW,CAAA,MAEjB;AACb,iBAAA,KAAY9nD;AAGd,YAMI1jC,IAQAyrF,IAdAxoE,KAAcllB,KAAKiqB,KAAK0f,gBAAgB3pC,KAAKiqB,KAAK2L,WAAW7B,WAC7DoR,KAAYjgB,KAAcuJ,IAE1Bk/D,KAAkBF,KAAU,KADjBvoE,KAAcuJ,KACmB0W,OAAcsoD,KAAU,KAAK,GACzE9tF,KAAI,GACJ+E,KAAI;AAWR,aAPEzC,KADEjC,KAAK2lC,GAAG7lC,SACFgiB,iBAAiB,WAAW9hB,KAAK2lC,GAAG7lC,MAAAA,IAEpC,GAKHH,KAAI8tF,MAAS;AAGlB,cAFAC,KAAc1tF,KAAKw7C,eAAerW,KAAYxlC,KAAIguF,EAAAA,GAE9C3tF,KAAK2lC,GAAG7lC;AACV,iBAAK4E,KAAI,GAAGA,KAAI1E,KAAK2lC,GAAG7lC,QAAQ4E,MAAK;AACnCzC,cAAAA,GAAMyC,EAAAA,KAAMgpF,GAAYhpF,EAAAA;;AAG1BzC,YAAAA,MAASyrF;AAGX/tF,UAAAA,MAAK;QAAA;AAGP,YAAIK,KAAK2lC,GAAG7lC;AACV,eAAK4E,KAAI,GAAGA,KAAI1E,KAAK2lC,GAAG7lC,QAAQ4E,MAAK;AACnCzC,YAAAA,GAAMyC,EAAAA,KAAM+oF;;AAGdxrF,UAAAA,MAASwrF;AAGX,eAAOxrF;MAAAA;AAGT,eAAS2rF,GAAwBl7D,IAAAA;AAC1B1yB,aAAK6tF,4BACR7tF,KAAK6tF,0BAA0B,EAC7BxqF,GAAG,IAAIytC,SAAAA;AAKX,YAAI6R,KAAS3iD,KAAK6tF,wBAAwBxqF;AAG1C,YAFAs/C,GAAOpO,eAAev0C,KAAKy6C,IAAIruC,KAAAA,GAE3BpM,KAAK06C,yBAAyB,GAAG;AACnC,cAAIozC,KAAS9tF,KAAKyE,EAAE+2C,eAAe9oB,EAAAA;AACnCiwB,UAAAA,GAAOzQ,UAAAA,CAAW47C,GAAO,CAAA,IAAK9tF,KAAKyE,EAAEwlC,MAAAA,CAAO6jD,GAAO,CAAA,IAAK9tF,KAAKyE,EAAEwlC,MAAM6jD,GAAO,CAAA,IAAK9tF,KAAKyE,EAAEwlC,IAAAA;QAAAA;AAG1F,YAAIjqC,KAAK06C,yBAAyB,GAAG;AACnC,cAAI3I,KAAQ/xC,KAAKN,EAAE87C,eAAe9oB,EAAAA;AAClCiwB,UAAAA,GAAO5Q,MAAMA,GAAM,CAAA,IAAK/xC,KAAKN,EAAEuqC,MAAM8H,GAAM,CAAA,IAAK/xC,KAAKN,EAAEuqC,MAAM8H,GAAM,CAAA,IAAK/xC,KAAKN,EAAEuqC,IAAAA;QAAAA;AAGjF,YAAIjqC,KAAKsrB,MAAMtrB,KAAK06C,yBAAyB,GAAG;AAC9C,cAAI7I,KAAO7xC,KAAKsrB,GAAGkwB,eAAe9oB,EAAAA,GAC9B0vD,KAAWpiF,KAAKurB,GAAGiwB,eAAe9oB,EAAAA;AACtCiwB,UAAAA,GAAO7Q,aAAAA,CAAcD,KAAO7xC,KAAKsrB,GAAG2e,MAAMm4C,KAAWpiF,KAAKurB,GAAG0e,IAAAA;QAAAA;AAG/D,YAAIjqC,KAAKY,KAAKZ,KAAK06C,yBAAyB,GAAG;AAC7C,cAAImjC,KAAW79E,KAAKY,EAAE46C,eAAe9oB,EAAAA;AACrCiwB,UAAAA,GAAOvR,OAAAA,CAAQysC,KAAW79E,KAAKY,EAAEqpC,IAAAA;QAAAA,WAAAA,CACvBjqC,KAAKY,KAAKZ,KAAK06C,yBAAyB,GAAG;AACrD,cAAIqzC,KAAY/tF,KAAKg7C,GAAGQ,eAAe9oB,EAAAA,GACnCs7D,KAAYhuF,KAAK+6C,GAAGS,eAAe9oB,EAAAA,GACnCu7D,KAAYjuF,KAAK86C,GAAGU,eAAe9oB,EAAAA,GACnCw7D,KAAcluF,KAAKwvC,GAAGgM,eAAe9oB,EAAAA;AACzCiwB,UAAAA,GAAOjR,QAAAA,CAASq8C,KAAY/tF,KAAKg7C,GAAG/Q,IAAAA,EAAMwH,QAAQu8C,KAAYhuF,KAAK+6C,GAAG9Q,IAAAA,EAAMuH,QAAQy8C,KAAYjuF,KAAK86C,GAAG7Q,IAAAA,EAAMyH,QAAAA,CAASw8C,GAAY,CAAA,IAAKluF,KAAKwvC,GAAGvF,IAAAA,EAAMwH,QAAQy8C,GAAY,CAAA,IAAKluF,KAAKwvC,GAAGvF,IAAAA,EAAMuH,QAAQ08C,GAAY,CAAA,IAAKluF,KAAKwvC,GAAGvF,IAAAA;QAAAA;AAGhO,YAAIjqC,KAAK8V,KAAKjX,KAAKmB,KAAK8V,KAAKjX,EAAEa,GAAG;AAChC,cAAIyuF,KAAYnuF,KAAK26C,GAAGa,eAAe9oB,EAAAA,GACnC07D,KAAYpuF,KAAK46C,GAAGY,eAAe9oB,EAAAA;AAEvC,cAAI1yB,KAAK8V,KAAKjX,EAAE41C,GAAG;AACjB,gBAAI45C,KAAYruF,KAAK66C,GAAGW,eAAe9oB,EAAAA;AACvCiwB,YAAAA,GAAOzQ,UAAUi8C,KAAYnuF,KAAK26C,GAAG1Q,MAAMmkD,KAAYpuF,KAAK46C,GAAG3Q,MAAAA,CAAOokD,KAAYruF,KAAK66C,GAAG5Q,IAAAA;UAAAA;AAE1F0Y,YAAAA,GAAOzQ,UAAUi8C,KAAYnuF,KAAK26C,GAAG1Q,MAAMmkD,KAAYpuF,KAAK46C,GAAG3Q,MAAM,CAAA;QAAA,OAElE;AACL,cAAI3lB,KAAWtkB,KAAKnB,EAAE28C,eAAe9oB,EAAAA;AACrCiwB,UAAAA,GAAOzQ,UAAU5tB,GAAS,CAAA,IAAKtkB,KAAKnB,EAAEorC,MAAM3lB,GAAS,CAAA,IAAKtkB,KAAKnB,EAAEorC,MAAAA,CAAO3lB,GAAS,CAAA,IAAKtkB,KAAKnB,EAAEorC,IAAAA;QAAAA;AAG/F,eAAO0Y;MAAAA;AAGT,eAAS2rC,KAAAA;AACP,eAAA,KAAYjrF,EAAE0pC,MAAM,IAAI+D,QAAAA;MAAAA;AAG1B,UAAI6K,KAAuBrB,yBAAyBqB;AAEpDrB,+BAAyBqB,uBAAuB,SAAUngB,IAAM1lB,IAAMvD,IAAAA;AACpE,YAAIyN,KAAO27B,GAAqBngB,IAAM1lB,IAAMvD,EAAAA;AAS5C,eAPIyN,GAAKsrB,kBAAkBxrC,SACzBkgB,GAAKw7B,iBAAiBoyC,GAAwBz9D,KAAKnQ,EAAAA,IAEnDA,GAAKw7B,iBAAiB8yC,GAA8Bn+D,KAAKnQ,EAAAA,GAG3DA,GAAK4gE,mBAAmB0L,kBAAkB1L,kBACnC5gE;MAAAA;AAGT,UAAIuuE,KAAkBrpD,gBAAgBkG;AAEtClG,sBAAgBkG,UAAU,SAAU5P,IAAM1lB,IAAMhM,IAAMmgC,IAAM13B,IAAAA;AAC1D,YAAIyN,KAAOuuE,GAAgB/yD,IAAM1lB,IAAMhM,IAAMmgC,IAAM13B,EAAAA;AAI/CyN,QAAAA,GAAKyqB,KACPzqB,GAAKw7B,iBAAiB8wC,kBAAkB9wC,eAAerrB,KAAKnQ,EAAAA,IAE5DA,GAAKw7B,iBAAiB8wC,kBAAkBI,qBAAqBv8D,KAAKnQ,EAAAA,GAGpEA,GAAK4gE,mBAAmB0L,kBAAkB1L,kBAC1C5gE,GAAKspE,UAAUA,IACftpE,GAAKopE,SAASA,IACdppE,GAAKwpE,SAASA,IACdxpE,GAAKi9D,oBAAoBqP,kBAAkBrP,kBAAkB9sD,KAAKnQ,EAAAA,GAClEA,GAAKs9D,iBAAiBgP,kBAAkBhP,eAAentD,KAAKnQ,EAAAA,GAC5DA,GAAKk9D,UAAqB,MAAXpnE,GAAKrR,IAAUqR,GAAKlS,EAAE9D,SAAS,GAC9CkgB,GAAK+gE,gBAAgBjrE,GAAKouC;AAC1B,YAAIjiD,KAAQ;AAiBZ,eAfa,MAAT6H,OACF7H,KAAQ6f,iBAAiB,WAAsB,MAAXhM,GAAKrR,IAAUqR,GAAKlS,EAAE,CAAA,EAAGlE,EAAEI,SAASgW,GAAKlS,EAAE9D,MAAAA,IAGjFkgB,GAAKysE,iBAAiB,EACpBplD,WAAWnoB,qBACXzL,WAAW,GACXxR,OAAOA,GAAAA,GAETqqF,kBAAkBC,kBAAkB/wD,IAAM1lB,IAAMkK,EAAAA,GAE5CA,GAAKpc,KACP2O,GAAUq4B,mBAAmB5qB,EAAAA,GAGxBA;MAAAA;AAyBT,UAAIwuE,KAAmChhD,qBAAqBihD,uBAAAA,GACxDC,KAA4ClhD,qBAAqBmhD,gCAAAA;AAErE,eAASC,KAAAA;MAAAA;AAETA,MAAAA,GAAiB9vF,YAAY,EAC3B2tC,UAAU,SAAkBzsB,IAAM0S,IAAAA;AAC5B1yB,aAAK4D,KACP5D,KAAK+qC,SAAAA;AAGP,YAMIprC,IANAmtC,KAAY9sC,KAAKqD;AAAAA,mBAEjBqvB,OACFoa,KAAY9sC,KAAKw7C,eAAe9oB,IAAM,CAAA;AAIxC,YAAI7S,KAAMitB,GAAUpN,SAChB+M,KAAWK,GAAU9sB,EAAAA,GACrB2d,KAASmP,GAAUzpC,GACnB2e,KAAMI,iBAAiBvC,EAAAA;AAE3B,aAAKlgB,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AAEtBqiB,UAAAA,GAAIriB,EAAAA,IADO,QAATqgB,MAAyB,QAATA,KACT,CAACysB,GAAS9sC,EAAAA,EAAG,CAAA,IAAKg+B,GAAOh+B,EAAAA,EAAG,CAAA,GAAI8sC,GAAS9sC,EAAAA,EAAG,CAAA,IAAKg+B,GAAOh+B,EAAAA,EAAG,CAAA,CAAA,IAE3D,CAAC8sC,GAAS9sC,EAAAA,EAAG,CAAA,GAAI8sC,GAAS9sC,EAAAA,EAAG,CAAA,CAAA;AAI1C,eAAOqiB;MAAAA,GAET2b,QAAQ,SAAgBjL,IAAAA;AACtB,eAAA,KAAY+Z,SAAS,KAAK/Z,EAAAA;MAAAA,GAE5B61D,YAAY,SAAoB71D,IAAAA;AAC9B,eAAA,KAAY+Z,SAAS,KAAK/Z,EAAAA;MAAAA,GAE5B81D,aAAa,SAAqB91D,IAAAA;AAChC,eAAA,KAAY+Z,SAAS,KAAK/Z,EAAAA;MAAAA,GAE5Bm8D,UAAU,WAAA;AACR,eAAA,KAAYxrF,EAAE1C;MAAAA,GAEhBmuF,aAAa,SAAqBztD,IAAM3O,IAAAA;AACtC,YAAIoa,KAAY9sC,KAAKqD;AAAAA,mBAEjBqvB,OACFoa,KAAY9sC,KAAKw7C,eAAe9oB,IAAM,CAAA,IAGnC1yB,KAAK+uF,oBACR/uF,KAAK+uF,kBAAkB9pD,IAAIvC,kBAAkBoK,EAAAA;AAW/C,iBAFItjB,IANAoZ,KAAiB5iC,KAAK+uF,iBACtB7uD,KAAU0C,GAAe1C,SACzBoC,KAAYM,GAAexC,cAAciB,IACzC1hC,KAAI,GACJkgB,KAAMqgB,GAAQpgC,QACdkvF,KAAoB,GAGjBrvF,KAAIkgB,MAAK;AACd,cAAImvE,KAAoB9uD,GAAQvgC,EAAAA,EAAGqgC,cAAcsC,IAAW;AAC1D,gBAAI2sD,KAAYtvF,IACZuvF,KAAWpiD,GAAUnsC,KAAKhB,OAAMkgB,KAAM,IAAI,IAAIlgB,KAAI,GAClDwnC,MAAe7E,KAAY0sD,MAAqB9uD,GAAQvgC,EAAAA,EAAGqgC;AAC/DxW,YAAAA,KAAKyb,IAAIV,kBAAkBuI,GAAUzpC,EAAE4rF,EAAAA,GAAYniD,GAAUzpC,EAAE6rF,EAAAA,GAAWpiD,GAAUppC,EAAEurF,EAAAA,GAAYniD,GAAUntC,EAAEuvF,EAAAA,GAAW/nD,IAAajH,GAAQvgC,EAAAA,CAAAA;AAC9I;UAAA;AAEAqvF,UAAAA,MAAqB9uD,GAAQvgC,EAAAA,EAAGqgC,aAGlCrgC,MAAK;QAAA;AAOP,eAJK6pB,OACHA,KAAKsjB,GAAUnsC,IAAI,CAACmsC,GAAUzpC,EAAE,CAAA,EAAG,CAAA,GAAIypC,GAAUzpC,EAAE,CAAA,EAAG,CAAA,CAAA,IAAM,CAACypC,GAAUzpC,EAAEypC,GAAUpN,UAAU,CAAA,EAAG,CAAA,GAAIoN,GAAUzpC,EAAEypC,GAAUpN,UAAU,CAAA,EAAG,CAAA,CAAA,IAGlIlW;MAAAA,GAET2lE,cAAc,SAAsB9tD,IAAM3O,IAAM08D,IAAAA;AAElC,aAAR/tD,KAEFA,KAAOrhC,KAAKqD,EAAE1C,IACG,KAAR0gC,OAETA,KAAO;AAGT,YAAIL,KAAMhhC,KAAK8uF,YAAYztD,IAAM3O,EAAAA,GAC7BuO,KAAMjhC,KAAK8uF,YAAYztD,KAAO,MAAO3O,EAAAA,GACrC28D,KAAUpuD,GAAI,CAAA,IAAKD,GAAI,CAAA,GACvBsuD,KAAUruD,GAAI,CAAA,IAAKD,GAAI,CAAA,GACvBuuD,KAAYz+E,KAAKmS,KAAKnS,KAAKiS,IAAIssE,IAAS,CAAA,IAAKv+E,KAAKiS,IAAIusE,IAAS,CAAA,CAAA;AAEnE,eAAkB,MAAdC,KACK,CAAC,GAAG,CAAA,IAGmB,cAAfH,KAA2B,CAACC,KAAUE,IAAWD,KAAUC,EAAAA,IAAa,CAAA,CAAED,KAAUC,IAAWF,KAAUE,EAAAA;MAAAA,GAG5HC,eAAe,SAAuBnuD,IAAM3O,IAAAA;AAC1C,eAAA,KAAYy8D,aAAa9tD,IAAM3O,IAAM,SAAA;MAAA,GAEvC+8D,cAAc,SAAsBpuD,IAAM3O,IAAAA;AACxC,eAAA,KAAYy8D,aAAa9tD,IAAM3O,IAAM,QAAA;MAAA,GAEvCkuD,kBAAkB0L,kBAAkB1L,kBACpCplC,gBAAgB8wC,kBAAkBI,qBAAAA,GAEpCjtE,gBAAgB,CAACmvE,EAAAA,GAAmBJ,EAAAA,GACpC/uE,gBAAgB,CAACmvE,EAAAA,GAAmBF,EAAAA,GACpCA,GAA0C5vF,UAAU08C,iBA5IpD,SAA6BlW,IAAAA;AAmB3B,eAjBKtlC,KAAKysF,mBACRzsF,KAAKysF,iBAAiB,EACpBiD,YAAY7iD,UAAUE,MAAM/sC,KAAK2lC,EAAAA,GACjClyB,WAAW,GACXk8E,UAAUzwE,oBAAAA,IAIdomB,MAAYtlC,KAAKw7B,KAAK5F,WAAW7B,YACjCuR,MAAYtlC,KAAKylC,gBAEAzlC,KAAKysF,eAAekD,aACnC3vF,KAAKysF,eAAeh5E,YAAYzT,KAAKysF,eAAekD,WAAWrqD,KAAWtlC,KAAK6pC,SAASp2B,YAAY,GACpGzT,KAAKysF,eAAekD,WAAWrqD,IAC/BtlC,KAAKytC,iBAAiBnI,IAAUtlC,KAAKysF,eAAeiD,YAAY1vF,KAAKysF,cAAAA,IAAAA,KAG3DA,eAAeiD;MAAAA,GA0H7BhB,GAA0C5vF,UAAU8pF,qBAAqBjD,kBAAkBiD;AAC3F,UAAIgH,KAAuBpiD,qBAAqB6hB;AAEhD7hB,2BAAqB6hB,eAAe,SAAU7zB,IAAM1lB,IAAMhM,IAAMkY,IAAK6tE,IAAAA;AACnE,YAAI7vE,KAAO4vE,GAAqBp0D,IAAM1lB,IAAMhM,IAAMkY,IAAK6tE,EAAAA;AAcvD,eAbA7vE,GAAK+gE,gBAAgBjrE,GAAKouC,IAC1BlkC,GAAKsqB,OAAAA,OAEQ,MAATxgC,KACFwiF,kBAAkBC,kBAAkB/wD,IAAM1lB,GAAK0T,IAAIxJ,EAAAA,IACjC,MAATlW,MACTwiF,kBAAkBC,kBAAkB/wD,IAAM1lB,GAAKqU,IAAInK,EAAAA,GAGjDA,GAAKpc,KACP43B,GAAKoP,mBAAmB5qB,EAAAA,GAGnBA;MAAAA;IAAAA;AAIX,aAAS8vE,eAAAA;AACPnD,2BAAAA;IAAAA;AAGF,aAASoD,eAAAA;AAWPtxB,mBAAa3/D,UAAUkxF,qBAAqB,SAAUnuB,IAActZ,IAAAA;AAClE,YAAI/iB,KAAWxlC,KAAKiwF,oBAAoB1nC,EAAAA;AAExC,YAAIsZ,GAAapiE,MAAM+lC,IAAU;AAC/B,cAAI4+B,KAAU,CAAA;AAId,iBAHApkE,KAAK8/D,SAASsE,IAASvC,EAAAA,GACvBuC,GAAQ3kE,IAAI+lC,GAAS39B,SAAAA,GACrBu8D,GAAQn4C,aAAAA,OACDm4C;QAAAA;AAGT,eAAOvC;MAAAA,GAGTpD,aAAa3/D,UAAUihE,iBAAiB,WAAA;AACtC,YAAImwB,KAAclwF,KAAK0hE,gBAAAA,GACnByuB,KAAiBnwF,KAAKusF,kBAAAA;AAE1B,eADAvsF,KAAKyqC,KAAKylD,MAAeC,IAAAA,KACb1lD;MAAAA,GAGdg0B,aAAa3/D,UAAUytF,oBA/BvB,WAAA;AACE,eAAIvsF,KAAK8V,KAAKvX,EAAEw/B,KACd/9B,KAAKiwF,sBAAsBtK,kBAAkBiD,mBAAmBz4D,KAAKnwB,IAAAA,EAAMA,KAAKw7B,MAAMx7B,KAAK8V,KAAKvX,GAAGyB,IAAAA,GACnGA,KAAK0qC,UAAU1qC,KAAKgwF,mBAAmB7/D,KAAKnwB,IAAAA,CAAAA,GAAAA,QAAAA;MAAAA;IAAAA;AA+BlD,aAASowF,aAAAA;AACPL,mBAAAA;IAAAA;AAGF,aAASM,sBAAAA;IAAAA;AAoBT,aAASC,cAAcpyE,IAAQq3C,IAAe/5B,IAAMxR,IAAIwrC,IAAAA;AACtDx1D,WAAKu1D,gBAAgBA;AACrB,UAAIL,KAAgBztC,SAAS,eAAA;AAC7BytC,MAAAA,GAAclsD,aAAa,QAAQ,QAAA,GACnCksD,GAAclsD,aAAa,+BAA+B,WAAA,GAC1DksD,GAAclsD,aAAa,UAAU,sFAAA,GACrCksD,GAAclsD,aAAa,UAAUghB,KAAK,SAAA,GAC1C9L,GAAOhV,YAAYgsD,EAAAA,IACnBA,KAAgBztC,SAAS,eAAA,GACXze,aAAa,QAAQ,QAAA,GACnCksD,GAAclsD,aAAa,+BAA+B,MAAA,GAC1DksD,GAAclsD,aAAa,UAAU,yCAAA,GACrCksD,GAAclsD,aAAa,UAAUghB,KAAK,SAAA,GAC1C9L,GAAOhV,YAAYgsD,EAAAA,GACnBl1D,KAAKuwF,eAAer7B;AACpB,UAAIs7B,KAAUxwF,KAAKywF,gBAAgBzmE,IAAI,CAACwrC,IAAQxrC,KAAK,WAAWA,KAAK,SAAA,CAAA;AACrE9L,MAAAA,GAAOhV,YAAYsnF,EAAAA;IAAAA;AAcrB,aAASE,cAAcxyE,IAAQq3C,IAAe/5B,IAAMxR,IAAAA;AAClDhqB,WAAKu1D,gBAAgBA;AACrB,UAAIL,KAAgBztC,SAAS,eAAA;AAC7BytC,MAAAA,GAAclsD,aAAa,QAAQ,QAAA,GACnCksD,GAAclsD,aAAa,+BAA+B,MAAA,GAC1DksD,GAAclsD,aAAa,UAAU,yCAAA,GACrCksD,GAAclsD,aAAa,UAAUghB,EAAAA,GACrC9L,GAAOhV,YAAYgsD,EAAAA,GACnBl1D,KAAKuwF,eAAer7B;IAAAA;AAWtB,aAASy7B,gBAAgB17B,IAAKM,IAAe/5B,IAAAA;AAC3Cx7B,WAAK4wF,cAAAA,OACL5wF,KAAKu1D,gBAAgBA,IACrBv1D,KAAKw7B,OAAOA,IACZx7B,KAAKiuC,QAAQ,CAAA;IAAA;AAiIf,aAAS4iD,iBAAiB3yE,IAAQq3C,IAAe/5B,IAAMxR,IAAAA;AACrDhqB,WAAKu1D,gBAAgBA;AACrB,UAAIL,KAAgBztC,SAAS,eAAA;AAC7BytC,MAAAA,GAAclsD,aAAa,QAAQ,QAAA,GACnCksD,GAAclsD,aAAa,+BAA+B,WAAA,GAC1DksD,GAAclsD,aAAa,UAAU,sFAAA,GACrCkV,GAAOhV,YAAYgsD,EAAAA;AACnB,UAAI47B,KAAsBrpE,SAAS,qBAAA;AACnCqpE,MAAAA,GAAoB9nF,aAAa,+BAA+B,MAAA,GAChE8nF,GAAoB9nF,aAAa,UAAUghB,EAAAA,GAC3ChqB,KAAKuwF,eAAeO;AACpB,UAAIC,KAAUtpE,SAAS,SAAA;AACvBspE,MAAAA,GAAQ/nF,aAAa,QAAQ,OAAA,GAC7B8nF,GAAoB5nF,YAAY6nF,EAAAA,GAChC/wF,KAAK+wF,UAAUA;AACf,UAAIC,KAAUvpE,SAAS,SAAA;AACvBupE,MAAAA,GAAQhoF,aAAa,QAAQ,OAAA,GAC7B8nF,GAAoB5nF,YAAY8nF,EAAAA,GAChChxF,KAAKgxF,UAAUA;AACf,UAAIC,KAAUxpE,SAAS,SAAA;AACvBwpE,MAAAA,GAAQjoF,aAAa,QAAQ,OAAA,GAC7B8nF,GAAoB5nF,YAAY+nF,EAAAA,GAChCjxF,KAAKixF,UAAUA,IACf/yE,GAAOhV,YAAY4nF,EAAAA;IAAAA;AAiBrB,aAASI,mBAAmBhzE,IAAQq3C,IAAe/5B,IAAMxR,IAAAA;AACvDhqB,WAAKu1D,gBAAgBA;AACrB,UAAIhI,KAAiBvtD,KAAKu1D,cAAchI,gBACpCujC,KAAsBrpE,SAAS,qBAAA;AAAA,OAE/B8lC,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,OACzRrD,KAAK+wF,UAAU/wF,KAAKmxF,aAAa,WAAWL,EAAAA,KAI1CvjC,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,OACzRrD,KAAKgxF,UAAUhxF,KAAKmxF,aAAa,WAAWL,EAAAA,KAI1CvjC,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,OACzRrD,KAAKixF,UAAUjxF,KAAKmxF,aAAa,WAAWL,EAAAA,KAI1CvjC,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,KAAWkqD,GAAe,EAAA,EAAI1uD,EAAE+E,KAAgC,MAA3B2pD,GAAe,EAAA,EAAI1uD,EAAEwE,OACzRrD,KAAKoxF,UAAUpxF,KAAKmxF,aAAa,WAAWL,EAAAA,KAI1C9wF,KAAK+wF,WAAW/wF,KAAKgxF,WAAWhxF,KAAKixF,WAAWjxF,KAAKoxF,aACvDN,GAAoB9nF,aAAa,+BAA+B,MAAA,GAChEkV,GAAOhV,YAAY4nF,EAAAA,KAGjBvjC,GAAe,CAAA,EAAG1uD,EAAE+E,KAA+B,MAA1B2pD,GAAe,CAAA,EAAG1uD,EAAEwE,KAAWkqD,GAAe,CAAA,EAAG1uD,EAAE+E,KAA+B,MAA1B2pD,GAAe,CAAA,EAAG1uD,EAAEwE,KAAWkqD,GAAe,CAAA,EAAG1uD,EAAE+E,KAA+B,MAA1B2pD,GAAe,CAAA,EAAG1uD,EAAEwE,KAAWkqD,GAAe,CAAA,EAAG1uD,EAAE+E,KAA+B,MAA1B2pD,GAAe,CAAA,EAAG1uD,EAAEwE,KAAWkqD,GAAe,CAAA,EAAG1uD,EAAE+E,KAA+B,MAA1B2pD,GAAe,CAAA,EAAG1uD,EAAEwE,QAC/QytF,KAAsBrpE,SAAS,qBAAA,GACXze,aAAa,+BAA+B,MAAA,GAChE8nF,GAAoB9nF,aAAa,UAAUghB,EAAAA,GAC3C9L,GAAOhV,YAAY4nF,EAAAA,GACnB9wF,KAAKqxF,kBAAkBrxF,KAAKmxF,aAAa,WAAWL,EAAAA,GACpD9wF,KAAKsxF,kBAAkBtxF,KAAKmxF,aAAa,WAAWL,EAAAA,GACpD9wF,KAAKuxF,kBAAkBvxF,KAAKmxF,aAAa,WAAWL,EAAAA;IAAAA;AA8ExD,aAASU,oBAAoBtzE,IAAQq3C,IAAe/5B,IAAMxR,IAAIwrC,IAAAA;AAC5D,UAAIi8B,KAAmBl8B,GAAchjD,UAAUqjB,WAAWw2B,aAAa+e,YACnEA,KAAa5V,GAAcz/C,KAAKguD,MAAM2tB;AAC1CvzE,MAAAA,GAAOlV,aAAa,KAAKmiE,GAAWptC,KAAK0zD,GAAiB1zD,CAAAA,GAC1D7f,GAAOlV,aAAa,KAAKmiE,GAAWxoE,KAAK8uF,GAAiB9uF,CAAAA,GAC1Dub,GAAOlV,aAAa,SAASmiE,GAAW18C,SAASgjE,GAAiBhjE,KAAAA,GAClEvQ,GAAOlV,aAAa,UAAUmiE,GAAWz8C,UAAU+iE,GAAiB/iE,MAAAA,GACpE1uB,KAAKu1D,gBAAgBA;AACrB,UAAIm8B,KAAiBjqE,SAAS,gBAAA;AAC9BiqE,MAAAA,GAAe1oF,aAAa,MAAM,aAAA,GAClC0oF,GAAe1oF,aAAa,UAAUghB,KAAK,gBAAA,GAC3C0nE,GAAe1oF,aAAa,gBAAgB,GAAA,GAC5ChJ,KAAK0xF,iBAAiBA,IACtBxzE,GAAOhV,YAAYwoF,EAAAA;AACnB,UAAIC,KAAWlqE,SAAS,UAAA;AACxBkqE,MAAAA,GAAS3oF,aAAa,MAAM,IAAA,GAC5B2oF,GAAS3oF,aAAa,MAAM,GAAA,GAC5B2oF,GAAS3oF,aAAa,MAAMghB,KAAK,gBAAA,GACjC2nE,GAAS3oF,aAAa,UAAUghB,KAAK,gBAAA,GACrChqB,KAAK2xF,WAAWA,IAChBzzE,GAAOhV,YAAYyoF,EAAAA;AACnB,UAAIC,KAAUnqE,SAAS,SAAA;AACvBmqE,MAAAA,GAAQ5oF,aAAa,eAAe,SAAA,GACpC4oF,GAAQ5oF,aAAa,iBAAiB,GAAA,GACtC4oF,GAAQ5oF,aAAa,UAAUghB,KAAK,gBAAA,GACpChqB,KAAK4xF,UAAUA,IACf1zE,GAAOhV,YAAY0oF,EAAAA;AACnB,UAAIC,KAAcpqE,SAAS,aAAA;AAC3BoqE,MAAAA,GAAY7oF,aAAa,MAAMghB,KAAK,gBAAA,GACpC6nE,GAAY7oF,aAAa,OAAOghB,KAAK,gBAAA,GACrC6nE,GAAY7oF,aAAa,YAAY,IAAA,GACrC6oF,GAAY7oF,aAAa,UAAUghB,KAAK,gBAAA,GACxC9L,GAAOhV,YAAY2oF,EAAAA;AACnB,UAAIrB,KAAUxwF,KAAKywF,gBAAgBzmE,IAAI,CAACA,KAAK,kBAAkBwrC,EAAAA,CAAAA;AAC/Dt3C,MAAAA,GAAOhV,YAAYsnF,EAAAA;IAAAA;AArYrBH,wBAAoBvxF,YAAY,EAC9B2xF,iBAAiB,SAAyBqB,IAAUC,IAAAA;AAClD,UAEIC,IACAryF,IAHA6wF,KAAU/oE,SAAS,SAAA;AAKvB,WAJA+oE,GAAQxnF,aAAa,UAAU8oF,EAAAA,GAI1BnyF,KAAI,GAAGA,KAAIoyF,GAAIjyF,QAAQH,MAAK;AAAA,SAC/BqyF,KAAcvqE,SAAS,aAAA,GACXze,aAAa,MAAM+oF,GAAIpyF,EAAAA,CAAAA,GACnC6wF,GAAQtnF,YAAY8oF,EAAAA,GACpBxB,GAAQtnF,YAAY8oF,EAAAA;AAGtB,aAAOxB;IAAAA,EAAAA,GAuBX/wE,gBAAgB,CAAC4wE,mBAAAA,GAAsBC,aAAAA,GAEvCA,cAAcxxF,UAAU05B,cAAc,SAAU4iB,IAAAA;AAC9C,UAAIA,MAAep7C,KAAKu1D,cAAcrrB,MAAM;AAC1C,YAAI+nD,KAAajyF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GACpD6uF,KAAalyF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GACpDgvE,KAAUryE,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI;AACzDrD,aAAKuwF,aAAavnF,aAAa,UAAUkpF,GAAW,CAAA,IAAKD,GAAW,CAAA,IAAK,YAAYA,GAAW,CAAA,IAAK,OAAOC,GAAW,CAAA,IAAKD,GAAW,CAAA,KAAM,YAAYA,GAAW,CAAA,IAAK,OAAOC,GAAW,CAAA,IAAKD,GAAW,CAAA,KAAM,YAAYA,GAAW,CAAA,IAAK,YAAY5f,KAAU,IAAA;MAAA;IAAA,GAevQqe,cAAc5xF,UAAU05B,cAAc,SAAU4iB,IAAAA;AAC9C,UAAIA,MAAep7C,KAAKu1D,cAAcrrB,MAAM;AAC1C,YAAI3jB,KAAQvmB,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAC/CgvE,KAAUryE,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE;AACrDrD,aAAKuwF,aAAavnF,aAAa,UAAU,aAAaud,GAAM,CAAA,IAAK,cAAcA,GAAM,CAAA,IAAK,cAAcA,GAAM,CAAA,IAAK,YAAY8rD,KAAU,IAAA;MAAA;IAAA,GAW7Ise,gBAAgB7xF,UAAUsxF,aAAa,WAAA;AACrC,UACIhoE,IACA+pE,IACAxyF,IACAkgB,IAJAuyE,KAAepyF,KAAKw7B,KAAK81B,aAAaunB,YAAY74E,KAAKw7B,KAAK81B,aAAaz8C;AAmB7E,WAbiD,MAA7C7U,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,KACzCwc,KAAM7f,KAAKw7B,KAAKi1B,YAAYlnC,gBAAgBzpB,QAC5CH,KAAI,KAGJkgB,KAAU,KADVlgB,KAAIK,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI,KAIjD8uF,KAAY1qE,SAAS,GAAA,GACXze,aAAa,QAAQ,MAAA,GAC/BmpF,GAAUnpF,aAAa,kBAAkB,OAAA,GACzCmpF,GAAUnpF,aAAa,qBAAqB,CAAA,GAEpCrJ,KAAIkgB,IAAKlgB,MAAK;AACpByoB,QAAAA,KAAOX,SAAS,MAAA,GAChB0qE,GAAUjpF,YAAYkf,EAAAA,GACtBpoB,KAAKiuC,MAAMzqC,KAAK,EACd3E,GAAGupB,IACHzkB,GAAGhE,GAAAA,CAAAA;AAIP,UAAkD,MAA9CK,KAAKu1D,cAAchI,eAAe,EAAA,EAAI1uD,EAAEwE,GAAS;AACnD,YAAIusD,KAAOnoC,SAAS,MAAA,GAChBuC,KAAK9D,gBAAAA;AACT0pC,QAAAA,GAAK5mD,aAAa,MAAMghB,EAAAA,GACxB4lC,GAAK5mD,aAAa,aAAa,OAAA,GAC/B4mD,GAAK1mD,YAAYipF,EAAAA,GACjBnyF,KAAKw7B,KAAK5F,WAAWC,KAAK3sB,YAAY0mD,EAAAA;AACtC,YAAIhtD,KAAI6kB,SAAS,GAAA;AAGjB,aAFA7kB,GAAEoG,aAAa,QAAQ,SAASuW,gBAAAA,IAAoB,MAAMyK,KAAK,GAAA,GAExDooE,GAAa,CAAA;AAClBxvF,UAAAA,GAAEsG,YAAYkpF,GAAa,CAAA,CAAA;AAG7BpyF,aAAKw7B,KAAK81B,aAAapoD,YAAYtG,EAAAA,GACnC5C,KAAK83D,SAASlI,IACduiC,GAAUnpF,aAAa,UAAU,MAAA;MAAA,WACsB,MAA9ChJ,KAAKu1D,cAAchI,eAAe,EAAA,EAAI1uD,EAAEwE,KAAyD,MAA9CrD,KAAKu1D,cAAchI,eAAe,EAAA,EAAI1uD,EAAEwE,GAAS;AAC7G,YAAkD,MAA9CrD,KAAKu1D,cAAchI,eAAe,EAAA,EAAI1uD,EAAEwE;AAG1C,eAFA+uF,KAAepyF,KAAKw7B,KAAK81B,aAAaunB,YAAY74E,KAAKw7B,KAAK81B,aAAaz8C,YAElEu9E,GAAatyF;AAClBE,iBAAKw7B,KAAK81B,aAAalG,YAAYgnC,GAAa,CAAA,CAAA;AAIpDpyF,aAAKw7B,KAAK81B,aAAapoD,YAAYipF,EAAAA,GACnCnyF,KAAKw7B,KAAK81B,aAAaxiD,gBAAgB,MAAA,GACvCqjF,GAAUnpF,aAAa,UAAU,MAAA;MAAA;AAGnChJ,WAAK4wF,cAAAA,MACL5wF,KAAKqyF,aAAaF;IAAAA,GAGpBxB,gBAAgB7xF,UAAU05B,cAAc,SAAU4iB,IAAAA;AAKhD,UAAIz7C;AAJCK,WAAK4wF,eACR5wF,KAAKowF,WAAAA;AAIP,UACIxgC,IACAxnC,IAFAvI,KAAM7f,KAAKiuC,MAAMnuC;AAIrB,WAAKH,KAAI,GAAGA,KAAIkgB,IAAKlgB,MAAK;AACxB,YAAA,OAAIK,KAAKiuC,MAAMtuC,EAAAA,EAAGgE,MAChBisD,KAAO5vD,KAAKw7B,KAAKi1B,YAAY7B,SAAS5uD,KAAKiuC,MAAMtuC,EAAAA,EAAGgE,CAAAA,GACpDykB,KAAOpoB,KAAKiuC,MAAMtuC,EAAAA,EAAGd,IAEjBu8C,MAAep7C,KAAKu1D,cAAcrrB,QAAQ0lB,GAAK5vC,KAAKkqB,SACtD9hB,GAAKpf,aAAa,KAAK4mD,GAAKN,QAAAA,GAG1BlU,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,QAAQlqC,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,QAAQlqC,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,QAAQlqC,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,QAAQ0lB,GAAK5vC,KAAKkqB,OAAM;AAC7N,cAAIooD;AAEJ,cAAiD,MAA7CtyF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,KAAwD,QAA7CrD,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAAW;AACtG,gBAAI3D,KAAmG,OAA/FoR,KAAKyS,IAAIvjB,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAAGrD,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,CAAAA,GAC9FnD,KAAmG,OAA/F4Q,KAAKuS,IAAIrjB,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAAGrD,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,CAAAA,GAC9F2B,KAAIojB,GAAKmqE,eAAAA;AACbD,YAAAA,KAAiB,WAAWttF,KAAItF,KAAI;AACpC,gBAGIgF,IAHA8tF,KAAaxtF,MAAK9E,KAAIR,KACtBy3B,KAAU,IAA+C,IAA3Cn3B,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAQrD,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI,MACxGovF,KAAQ3hF,KAAKqS,MAAMqvE,KAAar7D,EAAAA;AAGpC,iBAAKzyB,KAAI,GAAGA,KAAI+tF,IAAO/tF,MAAK;AAC1B4tF,cAAAA,MAAkB,OAAkD,IAA3CtyF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAQrD,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI,OAAO;AAG5HivF,YAAAA,MAAkB,OAAW,KAAJttF,KAAS;UAAA;AAElCstF,YAAAA,KAAiB,OAAkD,IAA3CtyF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAQrD,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI;AAGpH+kB,UAAAA,GAAKpf,aAAa,oBAAoBspF,EAAAA;QAAAA;AAa5C,WARIl3C,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,SACxDlqC,KAAKqyF,WAAWrpF,aAAa,gBAA2D,IAA3ChJ,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,CAAAA,IAGlF+3C,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,SACxDlqC,KAAKqyF,WAAWrpF,aAAa,WAAWhJ,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,CAAAA,IAG/B,MAA9CrD,KAAKu1D,cAAchI,eAAe,EAAA,EAAI1uD,EAAEwE,KAAyD,MAA9CrD,KAAKu1D,cAAchI,eAAe,EAAA,EAAI1uD,EAAEwE,OACzF+3C,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,OAAM;AAC9D,YAAI3jB,KAAQvmB,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE;AACnDrD,aAAKqyF,WAAWrpF,aAAa,UAAU,SAASka,QAAmB,MAAXqD,GAAM,CAAA,CAAA,IAAY,MAAMrD,QAAmB,MAAXqD,GAAM,CAAA,CAAA,IAAY,MAAMrD,QAAmB,MAAXqD,GAAM,CAAA,CAAA,IAAY,GAAA;MAAA;IAAA,GA+BhJsqE,iBAAiB/xF,UAAU05B,cAAc,SAAU4iB,IAAAA;AACjD,UAAIA,MAAep7C,KAAKu1D,cAAcrrB,MAAM;AAC1C,YAAIwoD,KAAS1yF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAChDsvF,KAAS3yF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAChDuvF,KAAS5yF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAChDwvF,KAASD,GAAO,CAAA,IAAK,MAAMD,GAAO,CAAA,IAAK,MAAMD,GAAO,CAAA,GACpDI,KAASF,GAAO,CAAA,IAAK,MAAMD,GAAO,CAAA,IAAK,MAAMD,GAAO,CAAA,GACpDK,KAASH,GAAO,CAAA,IAAK,MAAMD,GAAO,CAAA,IAAK,MAAMD,GAAO,CAAA;AACxD1yF,aAAK+wF,QAAQ/nF,aAAa,eAAe6pF,EAAAA,GACzC7yF,KAAKgxF,QAAQhoF,aAAa,eAAe8pF,EAAAA,GACzC9yF,KAAKixF,QAAQjoF,aAAa,eAAe+pF,EAAAA;MAAAA;IAAAA,GA6C7C7B,mBAAmBpyF,UAAUqyF,eAAe,SAAUrnF,IAAMgnF,IAAAA;AAC1D,UAAI34B,KAAS1wC,SAAS3d,EAAAA;AAGtB,aAFAquD,GAAOnvD,aAAa,QAAQ,OAAA,GAC5B8nF,GAAoB5nF,YAAYivD,EAAAA,GACzBA;IAAAA,GAGT+4B,mBAAmBpyF,UAAUk0F,gBAAgB,SAAUC,IAAYC,IAAYC,IAAOC,IAAaC,IAAAA;AAcjG,eAXIhyD,IAMAiyD,IARA1mD,KAAM,GAGNrpB,KAAMzS,KAAKyS,IAAI0vE,IAAYC,EAAAA,GAC3B7vE,KAAMvS,KAAKuS,IAAI4vE,IAAYC,EAAAA,GAC3BK,KAAQ30F,MAAMI,KAAK,MAAM,EAC3Bc,QALa,IAAA,CAAA,GAQXksC,KAAM,GACNwnD,KAAcH,KAAcD,IAC5BK,KAAaP,KAAaD,IAEvBrmD,MAAO;AAIV0mD,QAAAA,MAHFjyD,KAAOuL,KAAM,QAEDrpB,KACGkwE,KAAa,IAAIJ,KAAcD,KACnC/xD,MAAQhe,KACJowE,KAAa,IAAIL,KAAcC,KAE/BD,KAAcI,KAAc1iF,KAAKiS,KAAKse,KAAO4xD,MAAcQ,IAAY,IAAIN,EAAAA,GAG1FI,GAAMvnD,EAAAA,IAAOsnD,IACbtnD,MAAO,GACPY,MAAO,MAAA;AAGT,aAAO2mD,GAAMlmE,KAAK,GAAA;IAAA,GAGpB6jE,mBAAmBpyF,UAAU05B,cAAc,SAAU4iB,IAAAA;AACnD,UAAIA,MAAep7C,KAAKu1D,cAAcrrB,MAAM;AAC1C,YAAItmB,IACA2pC,KAAiBvtD,KAAKu1D,cAAchI;AAEpCvtD,aAAKqxF,oBAAoBj2C,MAAemS,GAAe,CAAA,EAAG1uD,EAAEqrC,QAAQqjB,GAAe,CAAA,EAAG1uD,EAAEqrC,QAAQqjB,GAAe,CAAA,EAAG1uD,EAAEqrC,QAAQqjB,GAAe,CAAA,EAAG1uD,EAAEqrC,QAAQqjB,GAAe,CAAA,EAAG1uD,EAAEqrC,UAC9KtmB,KAAM5jB,KAAKgzF,cAAczlC,GAAe,CAAA,EAAG1uD,EAAEwE,GAAGkqD,GAAe,CAAA,EAAG1uD,EAAEwE,GAAGkqD,GAAe,CAAA,EAAG1uD,EAAEwE,GAAGkqD,GAAe,CAAA,EAAG1uD,EAAEwE,GAAGkqD,GAAe,CAAA,EAAG1uD,EAAEwE,CAAAA,GACzIrD,KAAKqxF,gBAAgBroF,aAAa,eAAe4a,EAAAA,GACjD5jB,KAAKsxF,gBAAgBtoF,aAAa,eAAe4a,EAAAA,GACjD5jB,KAAKuxF,gBAAgBvoF,aAAa,eAAe4a,EAAAA,IAG/C5jB,KAAK+wF,YAAY31C,MAAemS,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,UAC3KtmB,KAAM5jB,KAAKgzF,cAAczlC,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,CAAAA,GAC9IrD,KAAK+wF,QAAQ/nF,aAAa,eAAe4a,EAAAA,IAGvC5jB,KAAKgxF,YAAY51C,MAAemS,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,UAC3KtmB,KAAM5jB,KAAKgzF,cAAczlC,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,CAAAA,GAC9IrD,KAAKgxF,QAAQhoF,aAAa,eAAe4a,EAAAA,IAGvC5jB,KAAKixF,YAAY71C,MAAemS,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,UAC3KtmB,KAAM5jB,KAAKgzF,cAAczlC,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,CAAAA,GAC9IrD,KAAKixF,QAAQjoF,aAAa,eAAe4a,EAAAA,IAGvC5jB,KAAKoxF,YAAYh2C,MAAemS,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,QAAQqjB,GAAe,EAAA,EAAI1uD,EAAEqrC,UAC3KtmB,KAAM5jB,KAAKgzF,cAAczlC,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,GAAGkqD,GAAe,EAAA,EAAI1uD,EAAEwE,CAAAA,GAC9IrD,KAAKoxF,QAAQpoF,aAAa,eAAe4a,EAAAA;MAAAA;IAAAA,GA0C/CnE,gBAAgB,CAAC4wE,mBAAAA,GAAsBmB,mBAAAA,GAEvCA,oBAAoB1yF,UAAU05B,cAAc,SAAU4iB,IAAAA;AACpD,UAAIA,MAAep7C,KAAKu1D,cAAcrrB,MAAM;AAK1C,aAJIkR,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,SACxDlqC,KAAK0xF,eAAe1oF,aAAa,gBAAgBhJ,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI,CAAA,GAG1F+3C,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,MAAM;AAC9D,cAAIwpD,KAAM1zF,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE;AACjDrD,eAAK4xF,QAAQ5oF,aAAa,eAAe4d,SAAS9V,KAAKsT,MAAe,MAATsvE,GAAI,CAAA,CAAA,GAAW5iF,KAAKsT,MAAe,MAATsvE,GAAI,CAAA,CAAA,GAAW5iF,KAAKsT,MAAe,MAATsvE,GAAI,CAAA,CAAA,CAAA,CAAA;QAAA;AAOvH,aAJIt4C,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,SACxDlqC,KAAK4xF,QAAQ5oF,aAAa,iBAAiBhJ,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI,GAAA,GAGpF+3C,MAAep7C,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,QAAQlqC,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEqrC,MAAM;AAC7G,cAAIgb,KAAWllD,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAClDysC,MAAS9vC,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAI,MAAM0gB,WAC1Dga,KAAImnB,KAAWp0C,KAAKs4B,IAAI0G,EAAAA,GACxBntC,KAAIuiD,KAAWp0C,KAAKk4B,IAAI8G,EAAAA;AAC5B9vC,eAAK2xF,SAAS3oF,aAAa,MAAM+0B,EAAAA,GACjC/9B,KAAK2xF,SAAS3oF,aAAa,MAAMrG,EAAAA;QAAAA;MAAAA;IAAAA;AAKvC,QAAIgxF,mBAAmB,CAAA;AAEvB,aAASC,gBAAgBC,IAAYt+B,IAAe/5B,IAAAA;AAClDx7B,WAAK4wF,cAAAA,OACL5wF,KAAKu1D,gBAAgBA,IACrBv1D,KAAK6zF,aAAaA,IAClB7zF,KAAKw7B,OAAOA,IACZA,GAAKi7B,eAAehvC,SAAS,GAAA,GAC7B+T,GAAKi7B,aAAavtD,YAAYsyB,GAAK81B,YAAAA,GACnC91B,GAAKi7B,aAAavtD,YAAYsyB,GAAKk7B,kBAAAA,GACnCl7B,GAAK61B,cAAc71B,GAAKi7B;IAAAA;AAsG1B,aAASq9B,sBAAsB51E,IAAQq3C,IAAe/5B,IAAMxR,IAAAA;AAE1D9L,MAAAA,GAAOlV,aAAa,KAAK,OAAA,GACzBkV,GAAOlV,aAAa,KAAK,OAAA,GACzBkV,GAAOlV,aAAa,SAAS,MAAA,GAC7BkV,GAAOlV,aAAa,UAAU,MAAA,GAC9BhJ,KAAKu1D,gBAAgBA;AACrB,UAAIm8B,KAAiBjqE,SAAS,gBAAA;AAC9BiqE,MAAAA,GAAe1oF,aAAa,UAAUghB,EAAAA,GACtC9L,GAAOhV,YAAYwoF,EAAAA,GACnB1xF,KAAK0xF,iBAAiBA;IAAAA;AAuDxB,WApKAkC,gBAAgB90F,UAAUi1F,aAAa,SAAUnkC,IAAAA;AAI/C,eAHIjwD,KAAI,GACJkgB,KAAM8zE,iBAAiB7zF,QAEpBH,KAAIkgB,MAAK;AACd,YAAI8zE,iBAAiBh0F,EAAAA,MAAOiwD;AAC1B,iBAAO+jC,iBAAiBh0F,EAAAA;AAG1BA,QAAAA,MAAK;MAAA;AAGP,aAAA;IAAA,GAGFi0F,gBAAgB90F,UAAUk1F,kBAAkB,SAAUpkC,IAAMqkC,IAAAA;AAC1D,UAAIj9E,KAAa44C,GAAK0B,aAAat6C;AAEnC,UAAKA,IAAL;AAQA,iBAQIk9E,IAZArb,KAAW7hE,GAAW6hE,UACtBl5E,KAAI,GACJkgB,KAAMg5D,GAAS/4E,QAEZH,KAAIkgB,MACLg5D,GAASl5E,EAAAA,MAAOiwD,GAAK0B;AAIzB3xD,UAAAA,MAAK;AAKHA,QAAAA,MAAKkgB,KAAM,MACbq0E,KAAYrb,GAASl5E,KAAI,CAAA;AAG3B,YAAIw0F,KAAU1sE,SAAS,KAAA;AACvB0sE,QAAAA,GAAQnrF,aAAa,QAAQ,MAAMirF,EAAAA,GAE/BC,KACFl9E,GAAWlE,aAAaqhF,IAASD,EAAAA,IAEjCl9E,GAAW9N,YAAYirF,EAAAA;MAAAA;IAAAA,GAI3BP,gBAAgB90F,UAAUs1F,mBAAmB,SAAU54D,IAAMo0B,IAAAA;AAC3D,UAAA,CAAK5vD,KAAK+zF,WAAWnkC,EAAAA,GAAO;AAC1B,YAAIqkC,KAAW/tE,gBAAAA,GACX4xC,KAASrwC,SAAS,MAAA;AACtBqwC,QAAAA,GAAO9uD,aAAa,MAAM4mD,GAAKV,OAAAA,GAC/B4I,GAAO9uD,aAAa,aAAa,OAAA,GAEjC2qF,iBAAiBnwF,KAAKosD,EAAAA;AAEtB,YAAI/5B,KAAO2F,GAAK5F,WAAWC;AAC3BA,QAAAA,GAAK3sB,YAAY4uD,EAAAA;AACjB,YAAIu8B,KAAS5sE,SAAS,QAAA;AACtB4sE,QAAAA,GAAOrrF,aAAa,MAAMirF,EAAAA,GAC1Bj0F,KAAKg0F,gBAAgBpkC,IAAMqkC,EAAAA,GAC3BI,GAAOnrF,YAAY0mD,GAAK0B,YAAAA,GACxBz7B,GAAK3sB,YAAYmrF,EAAAA;AACjB,YAAIF,KAAU1sE,SAAS,KAAA;AACvB0sE,QAAAA,GAAQnrF,aAAa,QAAQ,MAAMirF,EAAAA,GACnCn8B,GAAO5uD,YAAYirF,EAAAA,GACnBvkC,GAAK95C,KAAKqhD,KAAAA,OACVvH,GAAKn1B,KAAAA;MAAAA;AAGPe,MAAAA,GAAK68B,SAASzI,GAAKV,OAAAA;IAAAA,GAGrB0kC,gBAAgB90F,UAAUsxF,aAAa,WAAA;AAMrC,eALIppD,KAAMhnC,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAC7CgZ,KAAWrc,KAAKw7B,KAAKvR,KAAK5N,UAC1B1c,KAAI,GACJkgB,KAAMxD,GAASvc,QAEZH,KAAIkgB;AACLxD,QAAAA,GAAS1c,EAAAA,KAAM0c,GAAS1c,EAAAA,EAAGmW,KAAKkxB,QAAQA,MAC1ChnC,KAAKo0F,iBAAiBp0F,KAAKw7B,MAAMnf,GAAS1c,EAAAA,CAAAA,GAG5CA,MAAK;AAGPK,WAAK4wF,cAAAA;IAAc,GAGrBgD,gBAAgB90F,UAAU05B,cAAc,WAAA;AACjCx4B,WAAK4wF,eACR5wF,KAAKowF,WAAAA;IAAAA,GAiBT0D,sBAAsBh1F,UAAU05B,cAAc,SAAU4iB,IAAAA;AACtD,UAAIA,MAAep7C,KAAKu1D,cAAcrrB,MAAM;AAE1C,YACIoqD,KADqB,MACbt0F,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GAO/CkxF,KAAav0F,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,GACpDmxF,KAAuB,KAAdD,KAAkB,IAAID,IAE/BG,KAAuB,KAAdF,KAAkB,IAAID;AAEnCt0F,aAAK0xF,eAAe1oF,aAAa,gBAAgBwrF,KAAS,MAAMC,EAAAA;AAKhE,YAAIC,KAAuD,KAA5C10F,KAAKu1D,cAAchI,eAAe,CAAA,EAAG1uD,EAAEwE,IAAS,SAAS;AAExErD,aAAK0xF,eAAe1oF,aAAa,YAAY0rF,EAAAA;MAAAA;IAAAA,GAIjDjhE,iBAAiB,UAAUk6C,cAAAA,GAC3Bl6C,iBAAiB,QAAQm7C,cAAAA,GACzBn7C,iBAAiB,OAAO22C,WAAAA,GAExBzyB,eAAeE,iBAAiB,MAAMG,YAAAA,GACtCL,eAAeE,iBAAiB,MAAMI,sBAAAA,GACtCN,eAAeE,iBAAiB,MAAM+D,gBAAAA,GACtCjE,eAAeE,iBAAiB,MAAMgE,oBAAAA,GACtClE,eAAeE,iBAAiB,MAAM2G,cAAAA,GACtC7G,eAAeE,iBAAiB,MAAMiK,kBAAAA,GAEtC76B,qBAAqB80D,WAAAA,GACrB50D,wBAAwBm8D,YAAAA,GACxBwM,aAAAA,GACAM,WAAAA,GAEAt6B,eAAe,IAAIw6B,eAAAA,IAAe,GAClCx6B,eAAe,IAAI46B,eAAAA,IAAe,GAClC56B,eAAe,IAAI66B,iBAAAA,KAAiB,GACpC76B,eAAe,IAAI+6B,kBAAAA,IAAkB,GACrC/6B,eAAe,IAAIo7B,oBAAAA,IAAoB,GACvCp7B,eAAe,IAAI07B,qBAAAA,IAAqB,GACxC17B,eAAe,IAAI89B,iBAAAA,KAAiB,GACpC99B,eAAe,IAAIg+B,uBAAAA,IAAuB,GAEnC99C;EAAAA,GAn7lBwD2+C,OAAAA,UAAiB91E,QAAAA;AAAAA,GAAAA,UAAAA,SAAAA,OAAAA;AAAAA,IAAAA,UAAAA,SAAAA;AAAAA,IAAAA;AAAAA,IAAAA,SCKnE9W,IAAAA,sBAAAA,oBAAAA,uBAAAA,CAAAA,+kHAAAA,CAAAA,EAAAA;ADLmE8W,IEDrE+1E,wBAAwB;AFC6C/1E,IEArEg2E,qBAAqB;AFAgDh2E,IEAhD;AFAgDA,IEAhD;AFAgDA,IEAhD;AFAgDA,IEAhD;AFAgDA,IEAhD;AFAgDA,IGWtEi2E;AHXsEj2E,IGsBtEk2E;AHtBsEl2E,IG4BtEm2E;AAAAA,SAuBIC,SAASh0E,IAAAA;AAAAA,MACJ,YAAA,OAARA;AAAAA,WACFA;AAAAA,MAAAA;AAAAA,WAIAjX,KAAKK,MAAM4W,EAAAA;EAAAA,SACX/gB,IAAAA;AAAAA,WAEa,IAAI0oB,IAAI3H,IAAKpa,OAAOmnB,SAASkoB,IAAAA,EAEnCruC,SAAAA;EAAAA;AAAAA;AAIlB,SAASqtF,SAASC,IAAAA;AAAAA,SACY,CAAC,KAAK,MAAM,MAAM,UAAU,MAAM,KAAK,GAAA,EAElDC,MAAOC,CAAAA,OACtB52F,OAAOK,UAAUC,eAAeC,KAAKm2F,IAAME,EAAAA,CAAAA;AAAAA;AAAAA,SAIhCC,QAAAA,IAAAA;AAAAA,SAAAA,SAAAA,MAAAA,MAAAA,SAAAA;AAAAA;AAAAA,SAAAA,WAAAA;AAAAA,UAAAA,WAAAA,kBAAf,WAAuB3sE,IAAAA;AAAAA,QACF,YAAA,OAARA;AAAAA,YACH,IAAIjhB,MAAAA,gCAAAA;AAAAA,QAGRytF;AAAAA,QAAAA;AAAAA,UAIII,KAAc,IAAI3sE,IAAID,EAAAA,GAGtBtmB,KAAAA,MAAoBujF,MAAM2P,GAAO1tF,SAAAA,CAAAA;AAEvCstF,MAAAA,KAAAA,MAAa9yF,GAAO8yF,KAAAA;IAAAA,SACbnoE,IAAAA;AAAAA,YACD,IAAItlB,MAAAA,iEAAAA;IAAAA;AAAAA,WAKLytF;EAAAA,CAAAA,GAAAA,MAAAA,MAAAA,SAAAA;AAAAA;AAAAA,CApFT,SAAYL,IAAAA;AACVA,EAAAA,GAAAA,YAAAA,aACAA,GAAAA,QAAAA,SACAA,GAAAA,SAAAA,UACAA,GAAAA,UAAAA,WACAA,GAAAA,SAAAA,UACAA,GAAAA,UAAAA,WACAA,GAAAA,UAAAA;AAAAA,EAPUA,gBAAAA,cAAAA,CAAAA,EAAAA,GAWZ,SAAYC,IAAAA;AACVA,EAAAA,GAAAA,SAAAA,UACAA,GAAAA,SAAAA;AAAAA,EAFUA,aAAAA,WAAAA,CAAAA,EAAAA,GAMZ,SAAYC,IAAAA;AACVA,EAAAA,GAAAA,WAAAA,YACAA,GAAAA,YAAAA,aACAA,GAAAA,QAAAA,SACAA,GAAAA,QAAAA,SACAA,GAAAA,SAAAA,UACAA,GAAAA,OAAAA,QACAA,GAAAA,OAAAA,QACAA,GAAAA,QAAAA,SACAA,GAAAA,OAAAA,QACAA,GAAAA,QAAAA,SACAA,GAAAA,WAAAA,YACAA,GAAAA,OAAAA;AAAAA,EAZUA,iBAAAA,eAAAA,CAAAA,EAAAA;AAAAA,IA6ECQ,eAAb,cAAkCj6E,EAAAA;EAAlClc,cAAAA;AAAAA,UAAAA,GAAAA,SAAAA,GAAAA,KAAAA,WAAAA,OAK6B,KAAA,aAME,eAAA,KAAA,WAAA,OAMF,KAAA,eAYQy1F,YAAYW,SAAAA,KAAAA,cAMlB,oBAAA,KAAA,YAMF,GAAA,KAAA,eAAA,OAMK,KAAA,mBAAA,OAMG,KAAA,QAAA,OAMX,KAAA,eAMM,GAAA,KAAA,OAAA,OAMP,KAAA,OAMCV,SAASW,QAAAA,KAAAA,sBAMI,iBAAA,KAAA,WAMZ,OAAA,KAAA,QAmBF,GAAA,KAAA,MAAA,QAoByBx4E,KAAAA,WAOrB;EAAA;EAKdyP,KAAK1L,IAAAA;AAAAA,QAAAA,KAAAA;AAAAA,WAAAA,kBAAAA,aAAAA;AAAAA,UACVvV,KAAe,EACnB6G,WAAWojF,GAAKpjF,WAChB+hB,MAAAA,OACAD,UAAAA,OACAE,UAAUohE,GAAKphE,UACfoB,kBAAAA,OAAAA,OAAAA,EACEk1C,qBAAqB8qB,GAAK9qB,qBAC1BsC,aAAAA,OACAla,iBAAAA,MACA5G,mBAAAA,KAAmB,GACfspC,GAAK3qB,eAAe,EAAEA,aAAa2qB,GAAK3qB,YAAAA,CAAAA,EAAAA;AAAAA,UAAAA;AAAAA,YAMxC4qB,KAAYX,SAASh0E,EAAAA,GACvB40E,KAAW,CAAA,GACXC,KAAiC,YAAA,OAAdF,KAAyB,SAAS;AAGrDD,QAAAA,GAAKI,WACPJ,GAAKI,QAAQ9kE,QAAAA,GAGX0kE,GAAKK,cACPhgD,SAAAA,QAAAA,aAAAA,IAAoB,GAItB2/C,GAAKI,UAAU//C,SAAAA,QAAAA,cAAAA,OAAAA,OAAAA,OAAAA,OAAAA,CAAAA,GACVtqC,EAAAA,GAAAA,EAAAA,CAEFoqF,EAAAA,GAAYF,GAAAA,CAAAA,CAAAA,GAIfD,GAAKM,sBAAAA,GAEAN,GAAKO,iBAEU,WAAdJ,MACFD,KAAAA,MAAiBP,QAAQM,EAAAA,GACzBE,KAAY,mBAEZD,KAAWD,IAGRV,SAASW,EAAAA,MACZF,GAAKQ,eAAerB,YAAYptF,OAChCiuF,GAAKS,cAAc,IAAIC,YAAYrB,aAAattF,KAAAA,CAAAA;MAAAA,SAG7CslB,IAAAA;AACP2oE,QAAAA,GAAKQ,eAAerB,YAAYptF,OAChCiuF,GAAKS,cAAc,IAAIC,YAAYrB,aAAattF,KAAAA,CAAAA;MAAAA;IAAAA,CAAAA,EAAAA;EAAAA;EAO7C4uF,YAAAA;AAAAA,WACEt2F,KAAK+1F;EAAAA;EAMPQ,cAAAA;AAAAA,WACE,EACLC,kBAAkB3B,oBAClB4B,qBAAqB7B,sBAAAA;EAAAA;EAOlBzzE,OAAAA;AACAnhB,SAAK+1F,YAAAA,KAILA,QAAQ50E,KAAAA,GAAAA,KACRg1E,eAAerB,YAAY4B,SAAAA,KAE3BN,cAAc,IAAIC,YAAYrB,aAAa2B,IAAAA,CAAAA;EAAAA;EAM3Ch2E,QAAAA;AACA3gB,SAAK+1F,YAAAA,KAILA,QAAQp1E,MAAAA,GAAAA,KACRw1E,eAAerB,YAAY8B,QAAAA,KAE3BR,cAAc,IAAIC,YAAYrB,aAAa6B,KAAAA,CAAAA;EAAAA;EAM3Cl+D,OAAAA;AACA34B,SAAK+1F,YAAAA,KAILe,WAAW,GAAA,KACXf,QAAQp9D,KAAAA,GAAAA,KACRw9D,eAAerB,YAAYiC,SAAAA,KAE3BX,cAAc,IAAIC,YAAYrB,aAAagC,IAAAA,CAAAA;EAAAA;EAM3C/lE,UAAAA;AACAjxB,SAAK+1F,YAAAA,KAILA,QAAQ9kE,QAAAA,GAAAA,KACR8kE,UAAU,MAAA,KACVI,eAAerB,YAAYmC,WAAAA,KAC3Bb,cAAc,IAAIC,YAAYrB,aAAaiC,SAAAA,CAAAA,GAAAA,KAC3CtiF,OAAAA;EAAAA;EAMAyM,KAAKnf,IAAAA;AAAAA,QACLjC,KAAK+1F,SAAAA;AAAAA,UAKJv3E,KAAU,cAAc9K,KAAKzR,GAAM4F,SAAAA,CAAAA;AAAAA,UAEpC2W,IAAAA;AAAAA,YAKC04E,KACW,QAAf14E,GAAQ,CAAA,IACHxe,KAAK+1F,QAAQnwE,cAAcxb,OAAOoU,GAAQ,CAAA,CAAA,IAAO,MAClDpU,OAAOoU,GAAQ,CAAA,CAAA;AAAA,aAGhB24E,SAASD,IAGVl3F,KAAKm2F,iBAAiBrB,YAAY4B,UAAAA,KAC/BX,QAAQ38D,YAAY89D,IAAAA,IAAO,KAAA,KAE3BnB,QAAQh9D,YAAYm+D,IAAAA,IAAO,GAAA,KAC3BnB,QAAQp1E,MAAAA;MAAAA;IAAAA;EAAAA;EASVy2E,WAAAA;AAAAA,QAASC,KAAAA,EAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,MAAAA,UAAAA,CAAAA;AAAAA,QACTr3F,KAAKiO,YAAAA;AAAAA,UAGJwG,KAAazU,KAAKiO,WAAWsP,cAAc,gBAAA,GAC3CzH,KAAO,IAAIwhF,gBAAgBC,kBAAkB9iF,EAAAA;AAAAA,UAG/C4iF,IAAU;AAAA,YACNn+E,KAAUtQ,SAASC,cAAc,GAAA;AAEvCqQ,QAAAA,GAAQg9B,OAAAA,oCAAAA,OAA2CshD,mBACjD1hF,EAAAA,CAAAA,GAEFoD,GAAQm+E,WAAAA,YAAAA,OAAuBr3F,KAAKm3F,QAAAA,MAAAA,GACpCvuF,SAASnG,KAAKyG,YAAYgQ,EAAAA,GAE1BA,GAAQu+E,MAAAA,GAER7uF,SAASnG,KAAK2oD,YAAYlyC,EAAAA;MAAAA;AAAAA,aAGrBpD;IAAAA;EAAAA;EAQF6jB,WAAAA;AAAAA,QAAS13B,KAAAA,UAAAA,SAAAA,KAAAA,WAAAA,UAAAA,CAAAA,IAAAA,UAAAA,CAAAA,IAAQ;AACjBjC,SAAK+1F,WAAAA,KAILA,QAAQp8D,SAAS13B,EAAAA;EAAAA;EAQjB23B,aAAa33B,IAAAA;AACbjC,SAAK+1F,WAAAA,KAILA,QAAQn8D,aAAa33B,EAAAA;EAAAA;EAQrBy1F,WAAWz1F,IAAAA;AACZjC,SAAK+1F,YAAAA,KACFzhE,OAAOryB,IAAAA,KACP8zF,QAAQzhE,OAAOryB;EAAAA;EAOjB01F,aAAAA;AAAAA,WACE33F,KAAKm2F,iBAAiBrB,YAAY4B,UACrC12F,KAAK2gB,MAAAA,IACL3gB,KAAKmhB,KAAAA;EAAAA;EAMJy2E,gBAAAA;AAAAA,SACAF,WAAAA,CAAY13F,KAAKs0B,IAAAA;EAAAA;EAMjB6D,SAAAA;AACAn4B,SAAK+1F,WAAAA,KAILA,QAAQ59D,OAAAA;EAAAA;EAMJ5vB,WAAAA,SAAAA;AAAAA,WACFA;EAAAA;EAMF+F,uBAAAA;AAEDtO,SAAK0N,gBAGL1N,KAAK63F,QAAAA,KACFA,IAAIC,WAAAA,GAAAA,KACJD,MAAAA,SAUPjvF,SAASoR,oBAAoB,oBAAoB,MAC/Cha,KAAK+3F,oBAAAA,CAAAA,GAAAA,KAIF9mE,QAAAA;EAAAA;EAGA3e,SAAAA;AAAAA,QACC24D,KAAoBjrE,KAAKg4F,WAAW,kBAAkB,QACtDC,KAAyBj4F,KAAKg4F,WAChC,uBACA;AAAA,WAEGjmF,EAAAA,oBAAAA,kBAAAA,uBAAAA,CAAAA,uDAAAA,wCAAAA,iFAAAA,gCAAAA,yBAAAA,0BAAAA,cAAAA,CAAAA,IAEGk5D,IAEKjrE,KAAK0qE,aAKRutB,IACYj4F,KAAKk4F,YAEvBl4F,KAAKm2F,iBAAiBrB,YAAYptF,QAChCqK,EAAAA,qBAAAA,mBAAAA,uBAAAA,CAAAA,6BAAAA,CAAAA,EAAAA,IAAAA,QAGJ/R,KAAKg4F,YAAAA,CAAah4F,KAAKm4F,mBACrBn4F,KAAKo4F,eAAAA,IAAAA,MACLl7E;EAAAA;EAIElP,mBAAAA;AAAAA,WACJhO,KAAKm4F,qBAAkBn4F,KAAK2I,MAAM8b,UAAU,UAEzCzkB,KAAKm4F,mBAAmBn4F,OAAOwb,MAAMxN,iBAAAA;EAAAA;EAMpCmC,eAAAA;AAEJ,8BAA0BtJ,WAAAA,KACvBgxF,MAAM,IAAIQ,qBACZC,CAAAA,OAAAA;AACKA,MAAAA,GAAQ,CAAA,EAAGC,iBACTv4F,KAAKm2F,iBAAiBrB,YAAY0D,UAAAA,KAC/Br3E,KAAAA,IAEEnhB,KAAKm2F,iBAAiBrB,YAAY4B,WAAAA,KACtCn6D,OAAAA;IAAAA,CAAAA,GAAAA,KAKNs7D,IAAIY,QAAQz4F,KAAKuS,SAAAA,IAAAA,WAIb3J,SAAS4iD,UAClB5iD,SAASqR,iBAAiB,oBAAoB,MAC5Cja,KAAK+3F,oBAAAA,CAAAA,GAKL/3F,KAAKihB,OAAAA,KACF0L,KAAK3sB,KAAKihB,GAAAA,GAAAA,KAEZm1E,cAAc,IAAIC,YAAYrB,aAAa0D,QAAAA,CAAAA;EAAAA;EAGxCN,iBAAAA;AAAAA,QACFl3E,KAAqBlhB,KAAKm2F,iBAAiBrB,YAAY4B,SACvDtiE,KAAoBp0B,KAAKm2F,iBAAiBrB,YAAY8B,QACtD+B,KAAqB34F,KAAKm2F,iBAAiBrB,YAAYiC;AAAAA,WAEtDhlF,EAAAA,qBAAAA,mBAAAA,uBAAAA,CAAAA,uMAAAA,sBAAAA,6HAAAA,8FAAAA,sBAAAA,4bAAAA,uBAAAA,2BAAAA,yBAAAA,mHAAAA,yJAAAA,sBAAAA,sbAAAA,CAAAA,IAQQ/R,KAAK23F,YACNz2E,MAAakT,KAAW,WAAW,IAMvCriB,EADFmP,KAAAA,qBAAAA,mBAAAA,uBAAAA,CAAAA,oTAAAA,CAAAA,KAAAA,qBAAAA,mBAAAA,uBAAAA,CAAAA,sPAAAA,CAAAA,EAAAA,GAsBOlhB,KAAK24B,MACNggE,KAAY,WAAW,IAgBtB34F,KAAKm3F,QACLn3F,KAAK44F,mBACD,MAAA;AAAA,WACNC,aAAa74F,KAAKm2F,cAAAA,KAClB55D,OAAAA;IAAAA,GAEI,MAAA;AAAA,WACJs8D,eAAe/D,YAAY4B,WAAW12F,KAAKmhB,KAAAA;IAAAA,GAKlCnhB,KAAKm3F,QAMZn3F,KAAK43F,eACN53F,KAAKs0B,OAAO,WAAW,EAAA;EAAA;EAkB/ByjE,sBAAAA;AAAAA,aACFnvF,SAAS4iD,UAAmBxrD,KAAKm2F,iBAAiBrB,YAAY4B,UAAAA,KAC3Dn6D,OAAAA,IACIv8B,KAAKm2F,iBAAiBrB,YAAY0D,UAAAA,KACtCr3E,KAAAA;EAAAA;EAODy3E,kBAAkB14F,IAAAA;AAAAA,QACnBF,KAAK+1F,WAAAA,CAAW78D,MAAMh5B,GAAEM,OAAOyB,KAAAA,GAAAA;AAAAA,UAI9Bi1F,KAAiBh3F,GAAEM,OAAOyB,QAAQ,MAAOjC,KAAK+1F,QAAQnwE;AAAAA,WAEvDxE,KAAK81E,EAAAA;IAAAA;EAAAA;EAGJjB,wBAAAA;AAAAA,SACDF,QAAQ97E,iBAAiB,cAAc,MAAA;AAAA,WACrCk9E,SACFn3F,KAAK+1F,QAAQziE,eAAetzB,KAAK+1F,QAAQnwE,cAAe,KAAA,KAEtDwwE,cACH,IAAIC,YAAYrB,aAAa8D,OAAO,EAClCC,QAAQ,EACN7B,OAAOl3F,KAAK+1F,QAAQziE,cACpB6jE,QAAQn3F,KAAKm3F,OAAAA,EAAAA,CAAAA,CAAAA;IAAAA,CAAAA,GAAAA,KAOhBpB,QAAQ97E,iBAAiB,YAAY,MAAA;AAAA,UACpCja,KAAKm2F,iBAAiBrB,YAAY4B,SAAAA;AAAAA,YAAAA,CAMjC12F,KAAKs0B,QAASt0B,KAAKkmD,SAASlmD,KAAK82F,YAAY92F,KAAKkmD,OAAQ;AAAA,cAAA,KACxDkwC,cAAc,IAAIC,YAAYrB,aAAagE,QAAAA,CAAAA,GAE5Ch5F,KAAKuQ,SAASwkF,SAASkE;AAAAA;AAAAA,cACS,MAA9Bj5F,KAAK+1F,QAAQziE;AAAAA;QAAAA;AAQjBtzB,aAAKuQ,SAASwkF,SAASkE,UACrBj5F,KAAKkmD,UAAAA,KACF4wC,YAAY,MAGnB/+D,WAAW,MAAA;AAAA,eACJq+D,cAAc,IAAIC,YAAYrB,aAAakE,IAAAA,CAAAA,GAE5Cl5F,KAAKm2F,iBAAiBrB,YAAY4B,YAAAA,KAC/BX,QAAQn8D,aAAAA,KAAa55B,KAAK+1F,QAAQ7hE,aAAAA,GAAAA,KAClC6hE,QAAQ50E,KAAAA;QAAAA,GAEdnhB,KAAKm5F,YAAAA,MAEJn5F,KAAKkmD,UAAAA,KACF4wC,YAAY,IAGnBjwF,OAAOkxB,WAAW,MAAA;AAAA,eACXq+D,cAAc,IAAIC,YAAYrB,aAAakE,IAAAA,CAAAA,GAE5Cl5F,KAAKm2F,iBAAiBrB,YAAY4B,YAAAA,OAChC12F,KAAKqlB,aAAAA,KAEFjE,KAAK,KAAA,GAAA,KACLD,KAAAA,MAAAA,KAEA40E,QAAQp9D,KAAAA,GAAAA,KACRo9D,QAAQ50E,KAAAA;QAAAA,GAGhBnhB,KAAKm5F,YAAAA;MAAAA;AAAAA,aAhDH/C,cAAc,IAAIC,YAAYrB,aAAagE,QAAAA,CAAAA;IAAAA,CAAAA,GAAAA,KAqD/CjD,QAAQ97E,iBAAiB,aAAa,MAAA;AAAA,WAEpC0f,SAAS35B,KAAKwsF,KAAAA,GAAAA,KACd5yD,aAAa55B,KAAKqlB,SAAAA,GAGnBrlB,KAAKq0B,aAAAA,OACHr0B,KAAKqlB,aAAkBrlB,KAAKohB,KAAK,MAAA,GAAA,KAChCD,KAAAA,IAAAA,KAGFi1E,cAAc,IAAIC,YAAYrB,aAAaoE,KAAAA,CAAAA;IAAAA,CAAAA,GAAAA,KAI7CrD,QAAQ97E,iBAAiB,cAAc,MAAA;AAAA,WACrCm8E,cAAc,IAAIC,YAAYrB,aAAaqE,IAAAA,CAAAA;IAAAA,CAAAA,GAAAA,KAI7CtD,QAAQ97E,iBAAiB,eAAe,MAAA;AAAA,WACtCk8E,eAAerB,YAAYptF,OAAAA,KAE3B0uF,cAAc,IAAIC,YAAYrB,aAAattF,KAAAA,CAAAA;IAAAA,CAAAA,GAAAA,KAI7C6K,UAAU0H,iBAAiB,cAAc,MAAA;AACxCja,WAAKs5F,SAASt5F,KAAKm2F,iBAAiBrB,YAAY4B,WAAAA,KAC7Cv1E,KAAAA;IAAAA,CAAAA,GAAAA,KAGJ5O,UAAU0H,iBAAiB,cAAc,MAAA;AACxCja,WAAKs5F,SAASt5F,KAAKm2F,iBAAiBrB,YAAY4B,WAAAA,KAC7C/9D,KAAAA;IAAAA,CAAAA;EAAAA;EAUH4D,SAAAA;AACDv8B,SAAK+1F,YAAAA,KAILA,QAAQp1E,MAAAA,GAAAA,KACRw1E,eAAerB,YAAY0D,QAAAA,KAE3BpC,cAAc,IAAIC,YAAYrB,aAAauE,MAAAA,CAAAA;EAAAA;AAAAA;AAruBlDj5F,WAAAA,CADCoc,IAAS,EAAE5S,MAAMC,QAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,YAAAA,MAAAA,GAOlBzJ,WAAAA,CADCoc,IAAS,EAAE5S,MAAM3K,QAAQwL,SAAAA,KAAS,CAAA,CAAA,GAAA,aAAA,WAAA,cAAA,MAAA,GAOnCrK,WAAAA,CADCoc,IAAS,EAAE5S,MAAMC,QAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,YAAAA,MAAAA,GAOlBzJ,WAAAA,CADCoc,IAAS,EAAE5S,MAAMM,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,SAAAA,MAAAA,GAOlB9J,WAAAA,CADCoc,IAAS,EAAE5S,MAAM3K,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,gBAAAA,MAAAA,GAOlBmB,WAAAA,CADCoc,IAAS,EAAE5S,MAAM3K,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,eAAAA,MAAAA,GAOlBmB,WAAAA,CADCoc,IAAS,EAAE5S,MAAMM,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,aAAAA,MAAAA,GAOlB9J,WAAAA,CADCoc,IAAS,EAAE5S,MAAMC,QAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,gBAAAA,MAAAA,GAOlBzJ,WAAAA,CADCoc,IAAS,EAAE5S,MAAMC,QAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,oBAAAA,MAAAA,GAOlBzJ,WAAAA,CADCoc,IAAS,EAAE5S,MAAMC,QAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,SAAAA,MAAAA,GAOlBzJ,WAAAA,CADCoc,IAAAA,CAAAA,GAAAA,aAAAA,WAAAA,gBAAAA,MAAAA,GAODpc,WAAAA,CADCoc,IAAS,EAAE5S,MAAMC,SAASY,SAAAA,KAAS,CAAA,CAAA,GAAA,aAAA,WAAA,QAAA,MAAA,GAOpCrK,WAAAA,CADCoc,IAAAA,CAAAA,GAAAA,aAAAA,WAAAA,QAAAA,MAAAA,GAODpc,WAAAA,CADCoc,IAAS,EAAE5S,MAAM3K,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,uBAAAA,MAAAA,GAOlBmB,WAAAA,CADCoc,IAAS,EAAE5S,MAAM3K,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,YAAAA,MAAAA,GAOlBmB,WAAAA,CADCoc,IAAS,EAAE5S,MAAM3K,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,eAAAA,MAAAA,GAQlBmB,WAAAA,CADCoc,IAAAA,CAAAA,GAAAA,aAAAA,WAAAA,UAAAA,MAAAA,GAODpc,WAAAA,CADCoc,IAAS,EAAE5S,MAAMM,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,SAAAA,MAAAA,GAOlB9J,WAAAA,CADCoc,IAAS,EAAE5S,MAAM3K,OAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,OAAAA,MAAAA,GAOlBmB,WAAAA,CADCoc,IAAS,EAAE5S,MAAMC,QAAAA,CAAAA,CAAAA,GAAAA,aAAAA,WAAAA,cAAAA,MAAAA,GAOlBzJ,WAAAA,CADC8c,EAAM,YAAA,CAAA,GAAA,aAAA,WAAA,aAAA,MAAA,GA7HIo4E,eAAAA,WAAAA,CADZx5E,IAAc,eAAA,CAAA,GACFw5E,YAAAA;",
  "names": ["extendStatics", "d", "b", "Object", "setPrototypeOf", "__proto__", "Array", "p", "prototype", "hasOwnProperty", "call", "__extends", "TypeError", "String", "__", "constructor", "create", "__assign", "assign", "t", "s", "i", "n", "arguments", "length", "apply", "this", "__rest", "e", "indexOf", "getOwnPropertySymbols", "propertyIsEnumerable", "__decorate", "decorators", "target", "key", "desc", "c", "r", "getOwnPropertyDescriptor", "Reflect", "decorate", "defineProperty", "__param", "paramIndex", "decorator", "__metadata", "metadataKey", "metadataValue", "metadata", "__awaiter", "thisArg", "_arguments", "P", "generator", "Promise", "resolve", "reject", "fulfilled", "value", "step", "next", "rejected", "result", "done", "then", "__generator", "body", "f", "y", "g", "_", "label", "sent", "trys", "ops", "verb", "Symbol", "iterator", "v", "op", "pop", "push", "__createBinding", "o", "m", "k", "k2", "enumerable", "get", "__exportStar", "__values", "__read", "ar", "error", "__spread", "concat", "__spreadArrays", "il", "a", "j", "jl", "__spreadArray", "to", "from", "pack", "l", "slice", "__await", "__asyncGenerator", "asyncIterator", "q", "resume", "fulfill", "settle", "shift", "__asyncDelegator", "__asyncValues", "__makeTemplateObject", "cooked", "raw", "__setModuleDefault", "__importStar", "mod", "__esModule", "__importDefault", "default", "__classPrivateFieldGet", "receiver", "state", "kind", "has", "__classPrivateFieldSet", "set", "supportsAdoptingStyleSheets", "window", "ShadowRoot", "ShadyCSS", "nativeShadow", "Document", "CSSStyleSheet", "constructionToken", "styleSheetCache", "Map", "CSSResult", "cssText", "safeToken", "_$cssResult$", "Error", "styleSheet", "replaceSync", "toString", "unsafeCSS", "css", "strings", "values", "reduce", "acc", "idx", "adoptStyles", "renderRoot", "styles", "adoptedStyleSheets", "map", "forEach", "style", "document", "createElement", "nonce", "litNonce", "setAttribute", "textContent", "appendChild", "getCompatibleStyle", "sheet", "rule", "cssRules", "trustedTypes", "emptyStringForBooleanAttribute", "emptyScript", "polyfillSupport", "reactiveElementPolyfillSupport", "defaultConverter", "toAttribute", "type", "Boolean", "JSON", "stringify", "fromAttribute", "fromValue", "Number", "parse", "notEqual", "old", "defaultPropertyDeclaration", "attribute", "converter", "reflect", "hasChanged", "ReactiveElement", "HTMLElement", "_initialize", "initializer", "_initializers", "observedAttributes", "finalize", "attributes", "elementProperties", "attr", "__attributeNameForProperty", "__attributeToPropertyMap", "name", "options", "noAccessor", "descriptor", "getPropertyDescriptor", "oldValue", "requestUpdate", "configurable", "finalized", "superCtor", "getPrototypeOf", "props", "properties", "propKeys", "getOwnPropertyNames", "createProperty", "elementStyles", "finalizeStyles", "isArray", "Set", "flat", "Infinity", "reverse", "unshift", "toLowerCase", "__updatePromise", "res", "enableUpdating", "_$changedProperties", "__saveInstanceProperties", "addController", "controller", "__controllers", "isConnected", "hostConnected", "removeController", "splice", "_v", "__instanceProperties", "createRenderRoot", "shadowRoot", "attachShadow", "shadowRootOptions", "connectedCallback", "_requestedUpdate", "disconnectedCallback", "hostDisconnected", "attributeChangedCallback", "_old", "_$attributeToProperty", "__propertyToAttribute", "attrValue", "__reflectingProperty", "removeAttribute", "ctor", "propName", "getPropertyOptions", "shouldRequestUpdate", "__reflectingProperties", "isUpdatePending", "__enqueueUpdate", "async", "scheduleUpdate", "performUpdate", "hasUpdated", "shouldUpdate", "changedProperties", "willUpdate", "hostUpdate", "update", "__markUpdated", "_$didUpdate", "_changedProperties", "hostUpdated", "firstUpdated", "updated", "updateComplete", "getUpdateComplete", "mode", "globalThis", "reactiveElementVersions", "policy", "createPolicy", "createHTML", "marker", "Math", "random", "markerMatch", "nodeMarker", "createMarker", "createComment", "isPrimitive", "isIterable", "textEndRegex", "commentEndRegex", "comment2EndRegex", "tagEndRegex", "singleQuoteAttrEndRegex", "doubleQuoteAttrEndRegex", "rawTextElement", "tag", "_$litType$", "html", "svg", "noChange", "for", "nothing", "templateCache", "WeakMap", "render", "container", "partOwnerNode", "renderBefore", "part", "_$litPart$", "endNode", "ChildPart", "insertBefore", "_$setValue", "walker", "createTreeWalker", "getTemplateHtml", "rawTextEndRegex", "attrNames", "regex", "attrName", "match", "attrNameEndIndex", "lastIndex", "exec", "test", "RegExp", "end", "startsWith", "htmlResult", "Template", "node", "nodeIndex", "attrNameIndex", "partCount", "parts", "el", "currentNode", "content", "svgElement", "firstChild", "remove", "append", "childNodes", "nextNode", "nodeType", "hasAttributes", "attrsToRemove", "getAttributeNames", "endsWith", "realName", "statics", "getAttribute", "split", "index", "PropertyPart", "BooleanAttributePart", "EventPart", "AttributePart", "tagName", "data", "_options", "innerHTML", "resolveDirective", "attributeIndex", "parent", "currentDirective", "__directives", "__directive", "nextDirectiveConstructor", "_$litDirective$", "_$AO", "_$initialize", "_$resolve", "TemplateInstance", "template", "_$template", "_$parent", "parentNode", "_$isConnected", "_clone", "fragment", "creationScope", "importNode", "partIndex", "templatePart", "nextSibling", "ElementPart", "_parts", "_update", "startNode", "_$startNode", "_$endNode", "__isConnected", "_$committedValue", "_$clear", "_commitText", "_commitTemplateResult", "_commitNode", "_commitIterable", "_insert", "ref", "createTextNode", "_$getTemplate", "h", "instance", "itemPart", "itemParts", "item", "start", "_$notifyConnectionChanged", "setConnected", "element", "fill", "directiveParent", "valueIndex", "noCommit", "change", "_commitValue", "newListener", "oldListener", "shouldRemoveListener", "capture", "once", "passive", "shouldAddListener", "removeEventListener", "addEventListener", "handleEvent", "event", "host", "_$LH", "_boundAttributeSuffix", "_marker", "_markerMatch", "_HTML_RESULT", "_getTemplateHtml", "_TemplateInstance", "_isIterable", "_resolveDirective", "_ChildPart", "_AttributePart", "_BooleanAttributePart", "_EventPart", "_PropertyPart", "_ElementPart", "litHtmlPolyfillSupport", "litHtmlVersions", "UpdatingElement", "LitElement", "super", "renderOptions", "__childPart", "_$litElement$", "litElementHydrateSupport", "litElementPolyfillSupport", "_$LE", "litElementVersions", "customElement", "classOrDescriptor", "clazz", "customElements", "define", "elements", "finisher", "standardProperty", "placement", "originalKey", "property", "protoOrDescriptor", "proto", "legacyPrototypeMethod", "standardPrototypeMethod", "decorateProperty", "_ref", "info", "undefined", "eventOptions", "query", "selector", "cache", "querySelector", "queryAll", "_name", "querySelectorAll", "queryAsync", "slotAssignedElements", "HTMLSlotElement", "assignedElements", "slot", "opts", "assignedNodes", "filter", "Node", "ELEMENT_NODE", "queryAssignedElements", "slotSelector", "slotEl", "matches", "queryAssignedNodes", "slotOrOptions", "flatten", "assignedNodesOptions", "factory", "navigator", "svgNS", "locationHref", "_useWebWorker", "initialDefaultFrame", "setWebWorker", "flag", "getWebWorker", "setLocationHref", "getLocationHref", "createTag", "extendPrototype", "sources", "destination", "sourcePrototype", "len", "getDescriptor", "object", "prop", "createProxyFunction", "ProxyFunction", "audioControllerFactory", "AudioController", "audioFactory", "audios", "_volume", "_isMuted", "addAudio", "audio", "pause", "setRate", "rateValue", "createAudio", "assetPath", "Howl", "src", "isPlaying", "play", "seek", "playing", "rate", "setVolume", "setAudioFactory", "_updateVolume", "mute", "unmute", "getVolume", "volume", "createTypedArray", "createRegularArray", "arr", "Uint8ClampedArray", "Float32Array", "Int16Array", "createSizedArray", "_typeof$6", "obj", "subframeEnabled", "expressionsPlugin", "expressionsInterfaces", "idPrefix$1", "isSafari", "userAgent", "_shouldRoundValues", "bmPow", "pow", "bmSqrt", "sqrt", "bmFloor", "floor", "bmMax", "max", "bmMin", "min", "BMMath", "ProjectInterface$1", "propertyNames", "abs", "val", "absArr", "defaultCurveSegments", "degToRads", "PI", "roundCorner", "roundValues", "bmRnd", "round", "styleDiv", "position", "top", "left", "display", "transformOrigin", "webkitTransformOrigin", "backfaceVisibility", "webkitBackfaceVisibility", "transformStyle", "webkitTransformStyle", "mozTransformStyle", "BMEnterFrameEvent", "currentTime", "totalTime", "frameMultiplier", "direction", "BMCompleteEvent", "BMCompleteLoopEvent", "totalLoops", "currentLoop", "BMSegmentStartEvent", "firstFrame", "totalFrames", "BMDestroyEvent", "BMRenderFrameErrorEvent", "nativeError", "BMConfigErrorEvent", "BMAnimationConfigErrorEvent", "createElementID", "_count", "HSVtoRGB", "RGBtoHSV", "addSaturationToRGB", "color", "offset", "hsv", "addBrightnessToRGB", "addHueToRGB", "rgbToHex", "hex", "colorMap", "setSubframeEnabled", "getSubframeEnabled", "setExpressionsPlugin", "getExpressionsPlugin", "setExpressionInterfaces", "getExpressionInterfaces", "setDefaultCurveSegments", "getDefaultCurveSegments", "setIdPrefix", "getIdPrefix", "createNS", "createElementNS", "_typeof$5", "dataManager", "workerFn", "workerInstance", "_counterId", "processes", "workerProxy", "onmessage", "postMessage", "path", "_workerSelf", "setupWorker", "fn", "Worker", "Blob", "blob", "url", "URL", "createObjectURL", "completeLayers", "layers", "comps", "layerData", "jLen", "kLen", "completed", "hasMask", "maskProps", "masksProperties", "pt", "convertPathsToAbsoluteValues", "ty", "findCompLayers", "refId", "completeShapes", "shapes", "completeText", "id", "comp", "__used", "ks", "it", "checkVersion", "minimum", "animVersionString", "animVersion", "minimumVersion", "checkText", "iterateLayers", "textLayer", "documentData", "animationData", "assets", "checkChars", "chars", "charData", "ip", "st", "sr", "sk", "sa", "checkPathProperties", "pathData", "checkColors", "iterateShapes", "checkShapes", "completeClosingShapes", "closed", "cl", "moduleOb", "__complete", "dataFunctionManager", "assetLoader", "formatResponse", "xhr", "contentTypeHeader", "getResponseHeader", "responseType", "response", "responseText", "load", "fullPath", "callback", "errorCallback", "XMLHttpRequest", "err", "onreadystatechange", "readyState", "status", "open", "join", "send", "completeData", "payload", "animation", "process", "onComplete", "onError", "createProcess", "loadAnimation", "processId", "location", "origin", "pathname", "loadData", "completeAnimation", "anim", "ImagePreloader", "proxyImage", "canvas", "width", "height", "ctx", "getContext", "fillStyle", "fillRect", "imageLoaded", "loadedAssets", "totalImages", "loadedFootagesCount", "totalFootages", "imagesLoadedCb", "footageLoaded", "getAssetsPath", "assetData", "assetsPath", "originalPath", "imagePath", "u", "testImageLoaded", "img", "intervalId", "setInterval", "getBBox", "_imageLoaded", "clearInterval", "bind", "createFootageData", "ob", "footageData", "_footageLoaded", "ImagePreloaderFactory", "images", "loadAssets", "cb", "_createImageData", "setAssetsPath", "setPath", "loadedImages", "loadedFootages", "destroy", "getAsset", "createImgData", "crossOrigin", "createImageData", "setAttributeNS", "_elementHelper", "setCacheType", "elementHelper", "BaseEvent", "triggerEvent", "eventName", "args", "_cbs", "callbacks", "markerParser", "parsePayloadLines", "line", "lines", "keys", "keysCount", "trim", "_markers", "markers", "markerData", "time", "tm", "duration", "dr", "cm", "ProjectInterface", "registerComposition", "compositions", "_thisProjectFunction", "nm", "prepareFrame", "xt", "currentFrame", "compInterface", "renderers", "registerRenderer", "getRenderer", "_typeof$4", "AnimationItem", "isLoaded", "currentRawFrame", "frameRate", "frameMult", "playSpeed", "playDirection", "playCount", "isPaused", "autoplay", "loop", "renderer", "animationID", "timeCompleted", "segmentPos", "isSubframeEnabled", "segments", "_idle", "_completedLoop", "projectInterface", "imagePreloader", "audioController", "configAnimation", "onSetupError", "onSegmentComplete", "drawnFrameEvent", "setParams", "params", "wrapper", "animType", "RendererClass", "rendererSettings", "globalData", "defs", "setProjectInterface", "parseInt", "autoloadSegments", "initialSegment", "setupAnimation", "lastIndexOf", "substr", "fileName", "trigger", "setData", "wrapperAttributes", "getNamedItem", "prerender", "includeLayers", "newLayers", "fonts", "fontManager", "addChars", "addFonts", "initExpressions", "loadNextSegment", "segment", "segmentPath", "loadSegments", "imagesLoaded", "checkLoaded", "preloadImages", "animData", "fr", "searchExtraCompositions", "updaFrameModifier", "waitForFontsLoaded", "triggerConfigError", "setTimeout", "rendererType", "initItems", "gotoFrame", "resize", "_width", "_height", "updateContainerSize", "setSubframe", "renderFrame", "triggerRenderFrameError", "togglePause", "stop", "setCurrentRawFrameValue", "getMarkerData", "markerName", "goToAndStop", "isFrame", "numValue", "isNaN", "frameModifier", "goToAndPlay", "playSegments", "advanceTime", "nextValue", "_isComplete", "checkSegments", "adjustSegment", "setSpeed", "setDirection", "setSegment", "init", "pendingFrame", "forceFlag", "resetSegments", "onEnterFrame", "onLoopComplete", "onSegmentStart", "onDestroy", "getPath", "getAssetData", "hide", "show", "getDuration", "updateDocumentData", "getElementByPath", "animationManager", "registeredAnimations", "initTime", "playingAnimationsNum", "_stopped", "_isFrozen", "removeElement", "ev", "animItem", "subtractPlayingCount", "registerAnimation", "elem", "addPlayingCount", "activate", "nowTime", "elapsedTime", "requestAnimationFrame", "first", "searchAnimations", "standalone", "animElements", "getElementsByClassName", "lenAnims", "getElementsByTagName", "innerText", "div", "freeze", "unfreeze", "getRegisteredAnimations", "animations", "BezierFactory", "str", "replace", "beziers", "bezEasing", "BezierEasing", "kSampleStepSize", "float32ArraySupported", "A", "aA1", "aA2", "B", "C", "calcBezier", "aT", "getSlope", "points", "_p", "_mSampleValues", "_precomputed", "x", "mX1", "mY1", "mX2", "mY2", "_precompute", "_getTForX", "_calcSampleValues", "aX", "mSampleValues", "intervalStart", "currentSample", "kSplineTableSize", "guessForT", "initialSlope", "aGuessT", "currentSlope", "aA", "aB", "currentX", "currentT", "pooling", "double", "poolFactory", "initialLength", "_create", "_release", "_length", "_maxLength", "pool", "newElement", "release", "bezierLengthPool", "addedLength", "percents", "lengths", "segmentsLengthPool", "totalLength", "bezFunction", "math", "pointOnLine2D", "x1", "y1", "x2", "y2", "x3", "y3", "det1", "getBezierLength", "pt1", "pt2", "pt3", "pt4", "ptCoord", "perc", "ptDistance", "curveSegments", "point", "lastPoint", "lengthData", "BezierData", "segmentLength", "PointData", "partial", "partialLength", "storedData", "buildBezierData", "bezierName", "bezierData", "getDistancePerc", "initPos", "lengthPos", "lPerc", "dir", "bezierSegmentPoints", "getSegmentsLength", "shapeData", "segmentsLength", "pathV", "pathO", "pathI", "getNewSegment", "startPerc", "endPerc", "t0", "t1", "u0", "u1", "u0u0u0", "t0u0u0_3", "t0t0u0_3", "t0t0t0", "u0u0u1", "t0u0u1_3", "t0t0u1_3", "t0t0t1", "u0u1u1", "t0u1u1_3", "t0t1u1_3", "t0t1t1", "u1u1u1", "t1u1u1_3", "t1t1u1_3", "t1t1t1", "getPointInSegment", "percent", "pointOnLine3D", "z1", "z2", "z3", "diffDist", "dist1", "dist2", "dist3", "bez", "PropertyFactory", "initFrame", "mathAbs", "interpolateValue", "frameNum", "caching", "newValue", "offsetTime", "propType", "pv", "keyData", "nextKeyData", "keyframeMetadata", "fnc", "iterationIndex", "keyframes", "keyframesMetadata", "endValue", "out", "quat", "qx", "qy", "qz", "qw", "heading", "attitude", "bank", "nextKeyTime", "keyTime", "ti", "ind", "__fnct", "getBezierEasing", "segmentPerc", "distanceInLine", "lastFrame", "_lastKeyframeIndex", "_lastAddedLength", "_lastPoint", "outX", "outY", "inX", "inY", "keyValue", "sh", "quatStart", "createQuaternion", "quatEnd", "omega", "cosom", "sinom", "scale0", "scale1", "ax", "ay", "az", "aw", "bx", "by", "bz", "bw", "acos", "sin", "atan2", "asin", "c1", "cos", "c2", "c3", "s1", "s2", "s3", "getValueAtCurrentTime", "renderedFrame", "endTime", "_caching", "renderResult", "setVValue", "multipliedValue", "mult", "_mdf", "processEffectsSequence", "frameId", "effectsSequence", "lock", "_isFirstFrame", "finalValue", "kf", "addEffect", "effectFunction", "addDynamicProperty", "ValueProperty", "vel", "getValue", "MultiDimensionalProperty", "KeyframedValueProperty", "KeyframedMultidimensionalProperty", "arrLen", "getProp", "DynamicPropertyContainer", "dynamicProperties", "_isAnimated", "iterateDynamicProperties", "initDynamicPropertyContainer", "pointPool", "ShapePath", "setPathData", "setLength", "doubleArrayLength", "setXYAt", "pos", "setTripleAt", "vX", "vY", "oX", "oY", "iX", "iY", "newPath", "vertices", "outPoints", "inPoints", "cnt", "shapePool", "shapePath", "clone", "shape", "cloned", "ShapeCollection", "addShape", "releaseShapes", "shapeCollectionPool", "newShapeCollection", "shapeCollection", "ShapePropertyFactory", "interpolateShape", "previousValue", "keyPropS", "keyPropE", "isHold", "vertexValue", "interpolateShapeCurrentTime", "resetShape", "paths", "localShapeCollection", "shape1", "shape2", "ShapeProperty", "reset", "KeyframedShapeProperty", "EllShapeProperty", "cPoint", "EllShapePropertyFactory", "convertEllToPath", "p0", "p1", "s0", "_cw", "StarShapeProperty", "StarShapePropertyFactory", "sy", "ir", "is", "convertToPath", "convertStarToPath", "convertPolygonToPath", "or", "os", "rad", "roundness", "perimSegment", "numPts", "angle", "longFlag", "longRad", "shortRad", "longRound", "shortRound", "longPerimSegment", "shortPerimSegment", "currentAng", "ox", "oy", "RectShapeProperty", "RectShapePropertyFactory", "convertRectToPath", "v0", "v1", "Matrix", "_cos", "_sin", "_tan", "tan", "_rnd", "rotate", "mCos", "mSin", "_t", "rotateX", "rotateY", "rotateZ", "shear", "sx", "skew", "skewFromAxis", "scale", "sz", "setTransform", "translate", "tx", "tz", "transform", "a2", "b2", "d2", "e2", "f2", "g2", "h2", "i2", "j2", "l2", "m2", "n2", "o2", "p2", "_identityCalculated", "a1", "b1", "d1", "e1", "f1", "g1", "h1", "i1", "j1", "k1", "l1", "m1", "n1", "o1", "isIdentity", "_identity", "equals", "matr", "cloneFromProps", "applyToPoint", "z", "applyToX", "applyToY", "applyToZ", "getInverseMatrix", "determinant", "inverseMatrix", "inversePoint", "applyToPointArray", "inversePoints", "pts", "retPts", "applyToTriplePoints", "p4", "p5", "p12", "p13", "applyToPointStringified", "toCSS", "cssValue", "roundMatrixProperty", "to2dCSS", "_typeof$3", "lottie", "setLocation", "href", "setSubframeRendering", "setPrefix", "prefix", "setQuality", "inBrowser", "installPlugin", "plugin", "getFactory", "checkReady", "readyStateCheckInterval", "getQueryVariable", "variable", "vars", "queryString", "pair", "decodeURIComponent", "useWebWorker", "setIDPrefix", "__getFactory", "version", "scripts", "myScript", "exports", "bodymovin", "ShapeModifiers", "modifiers", "registerModifier", "getModifier", "ShapeModifier", "TrimModifier", "PuckerAndBloatModifier", "initModifierProperties", "addShapeToModifier", "setAsAnimated", "processKeys", "sValue", "eValue", "pathsData", "calculateShapeEdges", "shapeLength", "totalModifierLength", "segmentOb", "shapeSegments", "shapeS", "shapeE", "releasePathsData", "processShapes", "shapePaths", "_s", "totalShapeLength", "edges", "newShapesData", "addShapes", "lastShape", "addPaths", "newPaths", "addSegment", "newShape", "addSegmentFromArray", "shapeSegment", "currentLengthData", "segmentCount", "amount", "processPath", "centerPoint", "pathLength", "clonedPath", "TransformPropertyFactory", "defaultVector", "TransformProperty", "pre", "appliedTransformations", "px", "py", "pz", "rx", "ry", "rz", "_isDirty", "applyToMatrix", "mat", "forceRender", "precalculateMatrix", "autoOriented", "v2", "getValueAtTime", "autoOrient", "_addDynamicProperty", "getTransformProperty", "RepeaterModifier", "RoundCornersModifier", "floatEqual", "floatZero", "lerp", "lerpPoint", "quadRoots", "singleRoot", "delta", "polynomialCoefficients", "p3", "singlePoint", "PolynomialBezier", "linearize", "pointEqual", "coeffx", "coeffy", "extrema", "intersectData", "t2", "box", "boundingBox", "cx", "cy", "splitData", "boxIntersect", "intersectsImpl", "depth", "tolerance", "intersections", "maxRecursion", "d1s", "d2s", "crossProduct", "lineIntersection", "start1", "end1", "start2", "end2", "v3", "v4", "polarOffset", "pointDistance", "hypot", "ZigZagModifier", "setPoint", "outputBezier", "amplitude", "outAmplitude", "inAmplitude", "angO", "angI", "getPerpendicularVector", "vector", "rot", "getProjectingAngle", "cur", "prevIndex", "nextIndex", "pVector", "zigZagCorner", "frequency", "pointType", "prevPoint", "nextPoint", "prevDist", "nextDist", "zigZagSegment", "dist", "normalAngle", "linearOffset", "offsetSegment", "p1a", "p1b", "p2b", "p2a", "joinLines", "seg1", "seg2", "lineJoin", "miterLimit", "angleOut", "tangentAngle", "angleIn", "center", "radius", "intersection", "getIntersection", "intersect", "pruneSegmentIntersection", "outa", "outb", "pruneIntersections", "offsetSegmentSplit", "right", "mid", "flex", "inflectionPoints", "OffsetPathModifier", "getFontProperties", "fontData", "fStyle", "fWeight", "weight", "tr", "so", "eo", "pMatrix", "rMatrix", "sMatrix", "tMatrix", "matrix", "applyTransforms", "inv", "scaleX", "scaleY", "elemsData", "_currentCopies", "_elements", "_groups", "resetElements", "_processed", "cloneElements", "newElements", "changeGroupRender", "renderFlag", "_render", "items", "itemsTransform", "cont", "hasReloaded", "copies", "ceil", "group", "ix", "reloadShapes", "elems", "transformData", "offsetModulo", "roundOffset", "pProps", "rProps", "sProps", "iteration", "mProps", "rd", "currentV", "currentI", "currentO", "closerV", "distance", "newPosPerc", "derivative", "denom", "tcusp", "square", "root", "p10", "p11", "p20", "p21", "bounds", "bottom", "other", "shapeSegmentInverted", "pointsType", "count", "ml", "lj", "inputBezier", "multiSegments", "lastSeg", "multiSegment", "FontManager", "emptyChar", "w", "size", "combinedCharacters", "surrogateModifiers", "zeroWidthJoiner", "setUpNode", "font", "family", "fontFamily", "fontSize", "fontVariant", "fontStyle", "fontWeight", "letterSpacing", "offsetWidth", "familyArray", "enabledFamilies", "createHelper", "def", "helper", "engine", "fontProps", "tHelper", "fFamily", "fClass", "tCanvasHelper", "OffscreenCanvas", "measureText", "text", "getComputedTextLength", "Font", "typekitLoaded", "_warned", "Date", "now", "setIsLoadedBinded", "setIsLoaded", "checkLoadedFontsBinded", "checkLoadedFonts", "isModifier", "firstCharCode", "secondCharCode", "sum", "isZeroWidthJoiner", "isCombinedCharacter", "_char3", "fontPrototype", "found", "ch", "list", "fontArr", "_pendingFonts", "loadedSelector", "shouldLoadFont", "loaded", "monoCase", "sansCase", "fPath", "fOrigin", "rel", "sc", "getCharData", "_char", "charCodeAt", "console", "warn", "getFontByName", "fName", "_char2", "fontName", "doubleSize", "singleSize", "loadedCount", "removeChild", "RenderableElement", "initRenderable", "isInRange", "hidden", "isTransparent", "renderableComponents", "addRenderableComponent", "component", "removeRenderableComponent", "prepareRenderableFrame", "num", "checkLayerLimits", "checkTransparency", "finalTransform", "mProp", "renderConfig", "hideOnTransparent", "renderRenderable", "sourceRectAtTime", "getLayerSize", "textData", "getBlendMode", "blendModeEnums", "SliderEffect", "AngleEffect", "ColorEffect", "PointEffect", "LayerIndexEffect", "MaskIndexEffect", "CheckboxEffect", "NoValueEffect", "EffectsManager", "effects", "ef", "effectElements", "effectItem", "GroupEffect", "BaseElement", "FrameElement", "FootageElement", "imageLoader", "initBaseData", "AudioElement", "_isPlaying", "_canPlay", "_currentTime", "_volumeMultiplier", "_previousVolume", "_placeholder", "lv", "au", "BaseRenderer", "TransformElement", "MaskElement", "maskElement", "viewData", "solidPath", "rect", "expansor", "feMorph", "currentMasks", "layerId", "maskType", "maskRef", "getShapeProp", "lastPath", "filterID", "expan", "lastOperator", "filterId", "lastRadius", "mask", "createLayerSolidPath", "invRect", "drawPath", "maskedElement", "eff", "checkMasks", "LayerExpressionInterface", "EffectsExpressionInterface", "ShapeExpressionInterface", "TextExpressionInterface", "CompExpressionInterface", "layerInterface", "maskManager", "registerMaskInterface", "effectsInterface", "createEffectsInterface", "registerEffectsInterface", "shapeInterface", "shapesData", "itemsData", "textInterface", "setBlendMode", "blendModeValue", "bm", "baseElement", "layerElement", "effectsManager", "getType", "prepareProperties", "isVisible", "_isParent", "getBaseElement", "FootageInterface", "getFootageData", "timeRemapped", "totalVolume", "volumeValue", "checkLayers", "buildItem", "checkPendingElements", "createItem", "layer", "createImage", "createComp", "createSolid", "createNull", "createShape", "createText", "createCamera", "createFootage", "buildAllItems", "pInterface", "progressiveLoad", "buildElementParenting", "parentName", "hierarchy", "setAsParent", "setHierarchy", "addPendingElement", "pendingElements", "pathValue", "setupGlobalData", "fontsContainer", "animationItem", "compSize", "initTransform", "_matMdf", "_opMdf", "ao", "renderTransform", "finalMat", "globalToLocal", "transforms", "ptNew", "mHelper", "getMaskProperty", "isFirstFrame", "getMaskelement", "pathNodes", "pathString", "pathShapeValue", "filtersFactory", "filId", "skipCoordinates", "fil", "feColorMatrix", "featureSupport", "registeredEffects", "idPrefix", "SVGEffects", "filterManager", "source", "createFilter", "filters", "Effect", "effect", "countsAsEffect", "registerEffect", "SVGBaseElement", "HierarchyElement", "RenderableDOMElement", "IImageElement", "initElement", "sourceRect", "ProcessedElement", "IShapeElement", "initRendererElement", "createContainerElements", "matteElement", "transformedElement", "_sizeChanged", "layerElementParent", "td", "matteMasks", "symbolElement", "gg", "tt", "ln", "hd", "cp", "clipId", "cpGroup", "renderElement", "destroyBaseElement", "createRenderableComponents", "renderableEffectsManager", "getMatte", "matteType", "useElement", "masker", "createAlphaToLuminanceFilter", "maskGroup", "maskGrouper", "feCTr", "feFunc", "alphaRect", "setMatte", "initHierarchy", "checkParenting", "createContent", "renderInnerContent", "innerElem", "pr", "imagePreserveAspectRatio", "addShapeToModifiers", "shapeModifiers", "isShapeInAnimatedModifiers", "isAnimatedWithShape", "renderModifiers", "searchProcessedElement", "processedElements", "addProcessedElement", "lineCapEnum", "lineJoinEnum", "SVGShapeData", "transformers", "level", "caches", "lStr", "lvl", "SVGStyleData", "pElem", "msElem", "DashProperty", "dataProps", "dashStr", "dashArray", "dashoffset", "SVGStrokeStyleData", "styleOb", "SVGFillStyleData", "SVGNoStyleData", "GradientProperty", "cLength", "_cmdf", "_omdf", "_collapsable", "checkCollapsable", "_hasOpacity", "SVGGradientFillStyleData", "initGradientData", "SVGGradientStrokeStyleData", "ShapeGroupData", "prevViewData", "gr", "SVGTransformData", "comparePoints", "stops", "setGradientData", "setGradientOpacity", "pathElement", "gradientId", "gfill", "gf", "cst", "opacityId", "maskId", "opFill", "lc", "of", "ms", "ost", "buildShapeString", "_o", "_i", "shapeString", "SVGElementsRenderer", "_identityMatrix", "_matrixHelper", "renderContentTransform", "styleData", "itemData", "renderNoop", "renderPath", "pathStringTransformed", "redraw", "iterations", "lLen", "renderFill", "styleElem", "renderGradientStroke", "renderGradient", "renderStroke", "hasOpacity", "attr1", "attr2", "cValues", "oValues", "ang", "createRenderFunction", "SVGShapeElement", "stylesList", "animatedContents", "LetterProps", "sw", "fc", "TextProperty", "_frameId", "keysIndex", "canResize", "minimumFontSize", "currentData", "ascent", "boxWidth", "defaultBoxWidth", "justifyOffset", "lh", "lineWidths", "ls", "ps", "fillColorAnim", "strokeColorAnim", "strokeWidthAnim", "yOffset", "finalSize", "finalText", "finalLineHeight", "copyData", "searchProperty", "completeTextData", "initSecondaryElement", "identityMatrix", "buildExpressionInterface", "searchShapes", "filterUniqueShapes", "tempShapes", "areAnimated", "setShapesAsAnimated", "createStyleElement", "elementData", "addToAnimatedContents", "createGroupElement", "createTransformElement", "transformProperty", "createShapeElement", "ownTransformers", "setElementStyles", "currentTransform", "modifier", "processedPos", "ownStyles", "ownModifiers", "renderShape", "animatedContent", "setCurrentData", "searchKeyframes", "getKeyframeValue", "_finalValue", "currentValue", "currentIndex", "textKeys", "buildFinalText", "charCode", "charactersArray", "shouldCombine", "charAt", "newLineFlag", "letters", "anchorGrouping", "currentSize", "currentPos", "currentLine", "lineWidth", "maxLineWidth", "trackingOffset", "currentHeight", "boxHeight", "lastSpaceIndex", "currentChar", "uncollapsedSpaces", "an", "add", "anIndexes", "animatorJustifyOffset", "extra", "animatorData", "letterData", "based", "animators", "indexes", "fh", "fs", "fb", "rn", "totalChars", "newInd", "currentInd", "newData", "dData", "recalculate", "canResizeFont", "_canResize", "setMinimumFontSize", "_fontValue", "TextSelectorProp", "TextSelectorPropFactory", "_currentTextLength", "finalS", "finalE", "xe", "ne", "sm", "getMult", "textProperty", "easer", "tot", "smoothness", "threshold", "newCharsFlag", "divisor", "getTextSelectorProp", "TextAnimatorDataProperty", "animatorProps", "defaultData", "textAnimatorAnimatables", "TextAnimatorProperty", "renderType", "_hasMaskedPath", "_textData", "_renderType", "_elem", "_animatorsData", "_pathData", "_moreOptions", "alignment", "renderedLetters", "lettersChangedFlag", "ITextElement", "searchProperties", "getMeasures", "xPos", "yPos", "pathInfo", "currentLength", "currentPoint", "pointInd", "segmentInd", "tanAngle", "matrixHelper", "renderedLettersCount", "tLength", "pi", "letterValue", "yOff", "firstLine", "offf", "xPathPos", "yPathPos", "elemOpacity", "letterSw", "letterSc", "letterFc", "letterO", "initPathPos", "initSegmentInd", "initPointInd", "letterM", "letterP", "defaultPropsArray", "animatorFirstCharOffset", "justifyOffsetMult", "isNewLine", "animatorOffset", "atan", "textAnimator", "buildNewText", "createPathShape", "shapeStr", "_fontSize", "applyTextPropertiesToMatrix", "lineNumber", "buildColor", "colorData", "emptyProp", "emptyShapeData", "SVGTextLottieElement", "textSpans", "ISolidElement", "NullElement", "SVGRendererBase", "ICompElement", "SVGCompElement", "supports3d", "SVGRenderer", "config", "ariaLabel", "title", "titleElement", "titleId", "description", "descElement", "descId", "preserveAspectRatio", "contentVisibility", "viewBoxOnly", "viewBoxSize", "className", "focusable", "filterSize", "runExpressions", "destroyed", "CVContextData", "saved", "cArrPos", "cTr", "cO", "savedOp", "ShapeTransformManager", "sequences", "sequenceList", "transform_key_count", "CVEffects", "CVMaskElement", "hasMasks", "CVBaseElement", "CVShapeData", "transformsManager", "styledShapes", "styledShape", "addTransformSequence", "trNodes", "CVShapeElement", "CVTextElement", "stroke", "currentRender", "sWidth", "fValue", "CVImageElement", "CVSolidElement", "CanvasRendererBase", "clearCanvas", "context", "dpr", "devicePixelRatio", "currentGlobalAlpha", "contextData", "transformMat", "CVCompElement", "CanvasRenderer", "HBaseElement", "HSolidElement", "HShapeElement", "shapesContainer", "currentBBox", "HTextElement", "textPaths", "isMasked", "HCameraElement", "pe", "_prevMat", "HImageElement", "HybridRendererBase", "threeDElements", "camera", "HCompElement", "HybridRenderer", "singleShape", "textContainer", "buildTextContents", "textArray", "textContents", "currentTextContent", "fromCharCode", "buildShapeData", "shapeItem", "tSpan", "usesGlyphs", "cachedSpansLength", "span", "childSpan", "glyph", "glyphElement", "_debug", "tElement", "justify", "textBox", "bbox", "renderedLetter", "textSpan", "findIndexByInd", "appendElementInPos", "elementIndex", "tp", "matteMask", "nextElement", "setElements", "getElements", "destroyElements", "duplicate", "newLength", "currentSavedOp", "sequence", "processSequence", "processSequences", "getNewKey", "canvasContext", "beginPath", "moveTo", "lineTo", "bezierCurveTo", "save", "clip", "createElements", "blendMode", "globalCompositeOperation", "hideElement", "showElement", "forceRealStack", "ctxTransform", "ctxOpacity", "restore", "transformHelper", "opacity", "dashResetter", "preTransforms", "co", "wi", "da", "addTransformToStyleList", "removeTransformFromStyleList", "closeStyles", "shouldRender", "ownTransforms", "_shouldRender", "renderShapeTransform", "parentTransform", "groupTransform", "drawLayer", "nodes", "currentStyle", "coOp", "strokeStyle", "grd", "lineCap", "setLineDash", "lineDashOffset", "closePath", "isMain", "renderGradientFill", "renderStyledShape", "shapeNodes", "groupTransformMat", "createLinearGradient", "createRadialGradient", "addColorStop", "hasFill", "hasStroke", "commands", "pathArr", "commandsCounter", "lastFill", "lastStroke", "lastStrokeW", "widthCrop", "heightCrop", "imgW", "imgH", "imgRel", "canvasRel", "par", "drawImage", "cProps", "trProps", "globalAlpha", "actionFlag", "popped", "containerStyle", "mozTransformOrigin", "transformCanvas", "isDashed", "elementWidth", "elementHeight", "elementRel", "animationRel", "offsetHeight", "fillType", "clearRect", "checkBlendMode", "tg", "transformedElementStyle", "matrixValue", "webkitTransform", "addEffects", "backgroundColor", "_renderShapeFrame", "shapeCont", "getTransformedPoint", "calculateShapeBoundingBox", "vPoint", "oPoint", "nextIPoint", "nextVPoint", "checkBounds", "getBoundsOfCurve", "shapeBoundingBox", "xMax", "yMax", "tempBoundingBox", "b2ac", "calculateF", "calculateBoundingBox", "expandStrokeBoundingBox", "widthProperty", "kfw", "currentBoxContains", "changed", "shapeStyle", "shapeTransform", "compW", "compH", "innerElemStyle", "textColor", "strokeWidth", "lineHeight", "tParent", "tCont", "children", "tContStyle", "tContTranslation", "tStyle", "tSpanTranslation", "svgStyle", "translation", "textPath", "margin", "svgTransform", "setup", "perspectiveStyle", "perspectiveElem", "perspective", "webkitPerspective", "mTransf", "diffVector", "mag", "lookDir", "lookLengthOnXZ", "mRotationX", "mRotationY", "hasMatrixChanged", "matValue", "Image", "imageElem", "newDOMElement", "ddd", "addTo3dContainer", "nextDOMElement", "nextLayer", "getThreeDContainerByPos", "startPos", "endPos", "createThreeDContainer", "threeDContainerData", "build3dContainers", "lastThreeDContainerData", "currentContainer", "resizerElem", "overflow", "cWidth", "cHeight", "floatingContainer", "_createBaseContainerElements", "_thisLayerFunction", "pixelAspect", "frameDuration", "displayStartTime", "numLayers", "Expressions", "stackCount", "registers", "pushExpression", "popExpression", "releaseInstances", "registerExpressionProperty", "expression", "MaskManagerInterface", "MaskInterface", "_mask", "_data", "_masksInterfaces", "ExpressionPropertyInterface", "defaultUnidimensionalValue", "defaultMultidimensionalValue", "completeProperty", "expressionValue", "getVelocityAtTime", "numKeys", "valueProp", "valueAtTime", "speedAtTime", "getSpeedAtTime", "velocityAtTime", "propertyGroup", "defaultGetter", "arrValue", "TransformExpressionInterface", "_thisFunction", "rotation", "xRotation", "yRotation", "xPosition", "yPosition", "zPosition", "anchorPoint", "_px", "_py", "_pz", "_transformFactory", "getMatrix", "toWorldMat", "toWorldVec", "applyPoint", "toWorld", "fromWorldVec", "invertPoint", "fromWorld", "fromComp", "sampleImage", "transformInterface", "toComp", "anchorPointDescriptor", "defineProperties", "hasParent", "anchor_point", "active", "startTime", "inPoint", "outPoint", "propertyGroupFactory", "interfaceFunction", "parentPropertyGroup", "PropertyInterface", "propertyName", "effectsData", "createGroupInterface", "groupInterface", "mn", "_propertyGroup", "createValueInterface", "numProperties", "np", "enabled", "en", "expressionProperty", "setGroupProperty", "ShapePathInterface", "view", "propertyIndex", "iterateElements", "groupInterfaceFactory", "fillInterfaceFactory", "strokeInterfaceFactory", "trimInterfaceFactory", "ellipseInterfaceFactory", "starInterfaceFactory", "rectInterfaceFactory", "roundedInterfaceFactory", "repeaterInterfaceFactory", "gradientFillInterfaceFactory", "interfaces", "transformInterfaceFactory", "cix", "startPoint", "endPoint", "_dashPropertyGroup", "dashOb", "addPropertyToDashOb", "dash", "skewAxis", "outerRadius", "outerRoundness", "innerRoundness", "innerRadius", "_interfaceFunction", "_prevValue", "_sourceText", "sourceText", "stringValue", "_typeof$2", "dataInterfaceFactory", "outlineInterface", "currentPropertyName", "currentProperty", "propertyNameIndex", "dataInterface", "footage", "getInterface", "_typeof$1", "seedRandom", "global", "startdenom", "significance", "ARC4", "keylen", "me", "S", "copy", "typ", "mixkey", "seed", "smear", "stringseed", "tostring", "shortseed", "entropy", "Uint8Array", "crypto", "msCrypto", "getRandomValues", "browser", "plugins", "screen", "autoseed", "arc4", "prng", "int32", "quick", "pass", "is_math_call", "initialize$2", "propTypes", "SHAPE", "_typeof", "ExpressionManager", "fetch", "frames", "$bm_isInstanceOfArray", "isNumerable", "tOfV", "$bm_neg", "tOfA", "lenA", "retArr", "easeInBez", "easeOutBez", "easeInOutBez", "tOfB", "lenB", "sub", "mul", "$bm_sum", "$bm_sub", "$bm_mul", "$bm_div", "$bm_mod", "clamp", "mm", "radiansToDegrees", "radians_to_degrees", "degreesToRadians", "degrees_to_radians", "helperLengthArray", "arr1", "arr2", "normalize", "vec", "rgbToHsl", "hue2rgb", "hslToRgb", "linear", "tMin", "tMax", "value1", "value2", "_tMin", "rnd", "createPath", "inTangents", "outTangents", "inVertexPoint", "outVertexPoint", "arrPlaceholder", "initiateExpression", "noOp", "_value", "needsVelocity", "_needsRandom", "elemType", "$bm_transform", "thisProperty", "loopIn", "loop_in", "loopOut", "loop_out", "smooth", "fromCompToSurface", "thisLayer", "thisComp", "scoped_bm_rt", "expression_function", "eval", "wiggle", "freq", "amp", "iWiggle", "lenWiggle", "addedAmps", "periods", "loopInDuration", "loopOutDuration", "velocity", "textIndex", "textTotal", "selectorValue", "lookAt", "elem1", "elem2", "fVec", "pitch", "easeOut", "val1", "val2", "applyEase", "easeIn", "ease", "iKey", "lenKey", "nearestKey", "obKey", "framesToTime", "fps", "timeToFrames", "seedrandom", "randSeed", "substring", "posterizeTime", "framesPerSecond", "executeExpression", "frameExpressionId", "__preventDeadCodeRemoval", "expressionHelpers", "searchExpressions", "speed", "_cachingAtTime", "getStaticValueAtTime", "addPropertyDecorator", "durationFlag", "cycleDuration", "firstKeyFrame", "ret", "lastKeyFrame", "initV", "endV", "current", "repeats", "lastValue", "nextLastValue", "firstValue", "nextFirstValue", "samples", "sampleValue", "sampleFrequency", "getTransformValueAtTime", "_transformCachingAtTime", "anchor", "rotationZ", "rotationY", "rotationX", "orientation", "positionX", "positionY", "positionZ", "getTransformStaticValueAtTime", "propertyGetProp", "ShapePropertyConstructorFunction", "getConstructorFunction", "KeyframedShapePropertyConstructorFunction", "getKeyframedConstructorFunction", "ShapeExpressions", "isClosed", "pointOnPath", "_segmentsLength", "accumulatedLength", "initIndex", "endIndex", "vectorOnPath", "vectorType", "xLength", "yLength", "magnitude", "tangentOnPath", "normalOnPath", "shapeValue", "lastTime", "propertyGetShapeProp", "trims", "initialize$1", "addDecorator", "getExpressionValue", "calculateExpression", "isKeyframed", "hasExpressions", "initialize", "SVGComposableEffect", "SVGTintFilter", "matrixFilter", "feMerge", "createMergeNode", "SVGFillFilter", "SVGStrokeEffect", "initialized", "SVGTritoneFilter", "feComponentTransfer", "feFuncR", "feFuncG", "feFuncB", "SVGProLevelsFilter", "createFeFunc", "feFuncA", "feFuncRComposed", "feFuncGComposed", "feFuncBComposed", "SVGDropShadowEffect", "globalFilterSize", "feGaussianBlur", "feOffset", "feFlood", "feComposite", "resultId", "ins", "feMergeNode", "colorBlack", "colorWhite", "groupPath", "elemChildren", "pathMasker", "dasharrayValue", "getTotalLength", "lineLength", "units", "color1", "color2", "color3", "tableR", "tableG", "tableB", "getTableValue", "inputBlack", "inputWhite", "gamma", "outputBlack", "outputWhite", "colorValue", "table", "outputDelta", "inputDelta", "col", "_svgMatteSymbols", "SVGMatte3Effect", "filterElem", "SVGGaussianBlurEffect", "findSymbol", "replaceInParent", "symbolId", "nextChild", "useElem", "setElementAsMask", "symbol", "sigma", "dimensions", "sigmaX", "sigmaY", "edgeMode", "module", "LOTTIE_PLAYER_VERSION", "LOTTIE_WEB_VERSION", "PlayerState", "PlayMode", "PlayerEvents", "parseSrc", "isLottie", "json", "every", "field", "fromURL", "srcUrl", "LottiePlayer", "Loading", "Normal", "_this", "srcParsed", "jsonData", "srcAttrib", "_lottie", "webworkers", "_attachEventListeners", "disableCheck", "currentState", "dispatchEvent", "CustomEvent", "getLottie", "getVersions", "lottieWebVersion", "lottiePlayerVersion", "Playing", "Play", "Paused", "Pause", "_counter", "Stopped", "Stop", "Destroyed", "frame", "seeker", "snapshot", "download", "XMLSerializer", "serializeToString", "encodeURIComponent", "click", "setLooping", "togglePlay", "toggleLooping", "_io", "disconnect", "_onVisibilityChange", "controls", "animationClass", "background", "disableShadowDOM", "renderControls", "IntersectionObserver", "entries", "isIntersecting", "Frozen", "observe", "Rendered", "isStopped", "_handleSeekChange", "_prevState", "Frame", "detail", "Complete", "Bounce", "Loop", "intermission", "Ready", "Load", "hover", "Freeze"]
}
